(function(){var Ze,St,In,xe,qe,te,le,W,L,k,I,G,X,T,B,Y,ae,se,ne,pe,we,Le,ve,De,he,be,ke,ee,Me,Ne,Be,$e,Ke,gt,it,Vt,dt,xt,Yt,pn,Ct,qt,dn,Pt,yn,Gt,Sn,Un,zn=[].slice,bi={}.hasOwnProperty,Qn=function(zt,Et){function cn(){this.constructor=zt}for(var xn in Et)bi.call(Et,xn)&&(zt[xn]=Et[xn]);return cn.prototype=Et.prototype,zt.prototype=new cn,zt.__super__=Et.prototype,zt},Ti=[].indexOf||function(zt){for(var Et=0,cn=this.length;cn>Et;Et++)if(Et in this&&this[Et]===zt)return Et;return-1};for(we={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},Me=function(){var zt;return null!=(zt=typeof performance<"u"&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?zt:+new Date},Be=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,pe=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==Be&&(Be=function(zt){return setTimeout(zt,50)},pe=function(zt){return clearTimeout(zt)}),Ke=function(zt){var Et,cn;return Et=Me(),(cn=function(){var xn;return(xn=Me()-Et)>=33?(Et=Me(),zt(xn,function(){return Be(cn)})):setTimeout(cn,33-xn)})()},$e=function(){var zt,Et,cn;return cn=arguments[0],Et=arguments[1],zt=3<=arguments.length?zn.call(arguments,2):[],"function"==typeof cn[Et]?cn[Et].apply(cn,zt):cn[Et]},Le=function(){var zt,Et,cn,xn,Jt,_n,Dn;for(Et=arguments[0],_n=0,Dn=(xn=2<=arguments.length?zn.call(arguments,1):[]).length;Dn>_n;_n++)if(cn=xn[_n])for(zt in cn)bi.call(cn,zt)&&(Jt=cn[zt],null!=Et[zt]&&"object"==typeof Et[zt]&&null!=Jt&&"object"==typeof Jt?Le(Et[zt],Jt):Et[zt]=Jt);return Et},ae=function(zt){var Et,cn,Jt,_n;for(cn=Et=0,Jt=0,_n=zt.length;_n>Jt;Jt++)cn+=Math.abs(zt[Jt]),Et++;return cn/Et},De=function(zt,Et){var cn,Jt;if(null==zt&&(zt="options"),null==Et&&(Et=!0),Jt=document.querySelector("[data-pace-"+zt+"]")){if(cn=Jt.getAttribute("data-pace-"+zt),!Et)return cn;try{return JSON.parse(cn)}catch(_n){return typeof console<"u"&&null!==console?console.error("Error parsing inline pace options",_n):void 0}}},le=function(){function zt(){}return zt.prototype.on=function(Et,cn,xn,Jt){var _n;return null==Jt&&(Jt=!1),null==this.bindings&&(this.bindings={}),null==(_n=this.bindings)[Et]&&(_n[Et]=[]),this.bindings[Et].push({handler:cn,ctx:xn,once:Jt})},zt.prototype.once=function(Et,cn,xn){return this.on(Et,cn,xn,!0)},zt.prototype.off=function(Et,cn){var xn,Jt,_n;if(null!=(null!=(Jt=this.bindings)?Jt[Et]:void 0)){if(null==cn)return delete this.bindings[Et];for(xn=0,_n=[];xn<this.bindings[Et].length;)_n.push(this.bindings[Et][xn].handler===cn?this.bindings[Et].splice(xn,1):xn++);return _n}},zt.prototype.trigger=function(){var Et,xn,_n,Dn,Gn,di,jn;if(xn=arguments[0],Et=2<=arguments.length?zn.call(arguments,1):[],null!=(Gn=this.bindings)?Gn[xn]:void 0){for(_n=0,jn=[];_n<this.bindings[xn].length;)Dn=(di=this.bindings[xn][_n]).once,di.handler.apply(di.ctx??this,Et),jn.push(Dn?this.bindings[xn].splice(_n,1):_n++);return jn}},zt}(),k=window.Pace||{},window.Pace=k,Le(k,le.prototype),Ne=k.options=Le({},we,window.paceOptions,De()),dn=0,yn=(Sn=["ajax","document","eventLag","elements"]).length;yn>dn;dn++)!0===Ne[dt=Sn[dn]]&&(Ne[dt]=we[dt]);L=function(zt){function Et(){return Et.__super__.constructor.apply(this,arguments)}return Qn(Et,zt),Et}(Error),St=function(){function zt(){this.progress=0}return zt.prototype.getElement=function(){var Et;if(null==this.el){if(!(Et=document.querySelector(Ne.target)))throw new L;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=Et.firstChild?Et.insertBefore(this.el,Et.firstChild):Et.appendChild(this.el)}return this.el},zt.prototype.finish=function(){var Et;return(Et=this.getElement()).className=Et.className.replace("pace-active",""),Et.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},zt.prototype.update=function(Et){return this.progress=Et,this.render()},zt.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(Et){L=Et}return this.el=void 0},zt.prototype.render=function(){var Et,xn,Jt,_n,Dn,Gn;if(null==document.querySelector(Ne.target))return!1;for(Et=this.getElement(),Jt="translate3d("+this.progress+"%, 0, 0)",_n=0,Dn=(Gn=["webkitTransform","msTransform","transform"]).length;Dn>_n;_n++)Et.children[0].style[Gn[_n]]=Jt;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(Et.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?xn="99":(xn=this.progress<10?"0":"",xn+=0|this.progress),Et.children[0].setAttribute("data-progress",""+xn)),this.lastRenderedProgress=this.progress},zt.prototype.done=function(){return this.progress>=100},zt}(),W=function(){function zt(){this.bindings={}}return zt.prototype.trigger=function(Et,cn){var Jt,_n,Dn,Gn;if(null!=this.bindings[Et]){for(Gn=[],Jt=0,_n=(Dn=this.bindings[Et]).length;_n>Jt;Jt++)Gn.push(Dn[Jt].call(this,cn));return Gn}},zt.prototype.on=function(Et,cn){var xn;return null==(xn=this.bindings)[Et]&&(xn[Et]=[]),this.bindings[Et].push(cn)},zt}(),qt=window.XMLHttpRequest,Ct=window.XDomainRequest,pn=window.WebSocket,ve=function(zt,Et){var xn,Jt;for(xn in Jt=[],Et.prototype)try{Jt.push(null==zt[xn]&&"function"!=typeof Et[xn]?"function"==typeof Object.defineProperty?Object.defineProperty(zt,xn,{get:function(){return Et.prototype[xn]},configurable:!0,enumerable:!0}):zt[xn]=Et.prototype[xn]:void 0)}catch(_n){}return Jt},ke=[],k.ignore=function(){var zt,Et,cn;return Et=arguments[0],zt=2<=arguments.length?zn.call(arguments,1):[],ke.unshift("ignore"),cn=Et.apply(null,zt),ke.shift(),cn},k.track=function(){var zt,Et,cn;return Et=arguments[0],zt=2<=arguments.length?zn.call(arguments,1):[],ke.unshift("track"),cn=Et.apply(null,zt),ke.shift(),cn},Vt=function(zt){var Et;return null==zt&&(zt="GET"),"track"===ke[0]?"force":!(ke.length||!Ne.ajax||!("socket"===zt&&Ne.ajax.trackWebSockets||(Et=zt.toUpperCase(),Ti.call(Ne.ajax.trackMethods,Et)>=0)))},I=function(zt){function Et(){var cn,xn=this;Et.__super__.constructor.apply(this,arguments),cn=function(Jt){var _n;return _n=Jt.open,Jt.open=function(Dn,Gn,di){return Vt(Dn)&&xn.trigger("request",{type:Dn,url:Gn,request:Jt}),_n.apply(Jt,arguments)}},window.XMLHttpRequest=function(Jt){var _n;return _n=new qt(Jt),cn(_n),_n};try{ve(window.XMLHttpRequest,qt)}catch{}if(null!=Ct){window.XDomainRequest=function(){var Jt;return Jt=new Ct,cn(Jt),Jt};try{ve(window.XDomainRequest,Ct)}catch{}}if(null!=pn&&Ne.ajax.trackWebSockets){window.WebSocket=function(Jt,_n){var Dn;return Dn=null!=_n?new pn(Jt,_n):new pn(Jt),Vt("socket")&&xn.trigger("request",{type:"socket",url:Jt,protocols:_n,request:Dn}),Dn};try{ve(window.WebSocket,pn)}catch{}}}return Qn(Et,zt),Et}(W),Pt=null,it=function(zt){var Et,cn,xn,Jt;for(cn=0,xn=(Jt=Ne.ajax.ignoreURLs).length;xn>cn;cn++)if("string"==typeof(Et=Jt[cn])){if(-1!==zt.indexOf(Et))return!0}else if(Et.test(zt))return!0;return!1},(he=function(){return null==Pt&&(Pt=new I),Pt})().on("request",function(zt){var Et,cn,xn,Jt;return Jt=zt.type,xn=zt.request,it(zt.url)||k.running||!1===Ne.restartOnRequestAfter&&"force"!==Vt(Jt)?void 0:(cn=arguments,"boolean"==typeof(Et=Ne.restartOnRequestAfter||0)&&(Et=0),setTimeout(function(){var Gn,di,jn,Ht,en;if("socket"===Jt?xn.readyState<2:0<(jn=xn.readyState)&&4>jn){for(k.restart(),en=[],Gn=0,di=(Ht=k.sources).length;di>Gn;Gn++){if((dt=Ht[Gn])instanceof Ze){dt.watch.apply(dt,cn);break}en.push(void 0)}return en}},Et))}),Ze=function(){function zt(){var Et=this;this.elements=[],he().on("request",function(){return Et.watch.apply(Et,arguments)})}return zt.prototype.watch=function(Et){var cn,xn,Jt;return Jt=Et.type,cn=Et.request,it(Et.url)?void 0:(xn="socket"===Jt?new T(cn):new B(cn),this.elements.push(xn))},zt}(),B=function zt(Et){var Jt,_n,Dn,Gn,di=this;if(this.progress=0,null!=window.ProgressEvent)for(Et.addEventListener("progress",function(jn){return di.progress=jn.lengthComputable?100*jn.loaded/jn.total:di.progress+(100-di.progress)/2},!1),Jt=0,_n=(Gn=["load","abort","timeout","error"]).length;_n>Jt;Jt++)Et.addEventListener(Gn[Jt],function(){return di.progress=100},!1);else Dn=Et.onreadystatechange,Et.onreadystatechange=function(){var jn;return 0===(jn=Et.readyState)||4===jn?di.progress=100:3===Et.readyState&&(di.progress=50),"function"==typeof Dn?Dn.apply(null,arguments):void 0}},T=function zt(Et){var xn,Jt,_n,Dn=this;for(this.progress=0,xn=0,Jt=(_n=["error","open"]).length;Jt>xn;xn++)Et.addEventListener(_n[xn],function(){return Dn.progress=100},!1)},xe=function zt(Et){var xn,Jt,_n;for(null==Et&&(Et={}),this.elements=[],null==Et.selectors&&(Et.selectors=[]),xn=0,Jt=(_n=Et.selectors).length;Jt>xn;xn++)this.elements.push(new qe(_n[xn]))},qe=function(){function zt(Et){this.selector=Et,this.progress=0,this.check()}return zt.prototype.check=function(){var Et=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return Et.check()},Ne.elements.checkInterval)},zt.prototype.done=function(){return this.progress=100},zt}(),In=function(){function zt(){var Et,cn,xn=this;this.progress=null!=(cn=this.states[document.readyState])?cn:100,Et=document.onreadystatechange,document.onreadystatechange=function(){return null!=xn.states[document.readyState]&&(xn.progress=xn.states[document.readyState]),"function"==typeof Et?Et.apply(null,arguments):void 0}}return zt.prototype.states={loading:0,interactive:50,complete:100},zt}(),te=function zt(){var Et,cn,xn,Jt,_n,Dn=this;this.progress=0,Et=0,_n=[],Jt=0,xn=Me(),cn=setInterval(function(){var Gn;return Gn=Me()-xn-50,xn=Me(),_n.push(Gn),_n.length>Ne.eventLag.sampleCount&&_n.shift(),Et=ae(_n),++Jt>=Ne.eventLag.minSamples&&Et<Ne.eventLag.lagThreshold?(Dn.progress=100,clearInterval(cn)):Dn.progress=3/(Et+3)*100},50)},X=function(){function zt(Et){this.source=Et,this.last=this.sinceLastUpdate=0,this.rate=Ne.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=$e(this.source,"progress"))}return zt.prototype.tick=function(Et,cn){var xn;return null==cn&&(cn=$e(this.source,"progress")),cn>=100&&(this.done=!0),cn===this.last?this.sinceLastUpdate+=Et:(this.sinceLastUpdate&&(this.rate=(cn-this.last)/this.sinceLastUpdate),this.catchup=(cn-this.progress)/Ne.catchupTime,this.sinceLastUpdate=0,this.last=cn),cn>this.progress&&(this.progress+=this.catchup*Et),xn=1-Math.pow(this.progress/100,Ne.easeFactor),this.progress+=xn*this.rate*Et,this.progress=Math.min(this.lastProgress+Ne.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},zt}(),xt=null,gt=null,se=null,Yt=null,Y=null,ne=null,k.running=!1,be=function(){return Ne.restartOnPushState?k.restart():void 0},null!=window.history.pushState&&(Gt=window.history.pushState,window.history.pushState=function(){return be(),Gt.apply(window.history,arguments)}),null!=window.history.replaceState&&(Un=window.history.replaceState,window.history.replaceState=function(){return be(),Un.apply(window.history,arguments)}),G={ajax:Ze,elements:xe,document:In,eventLag:te},(ee=function(){var zt,Et,cn,xn,Jt,_n,Dn,Gn;for(k.sources=xt=[],Et=0,xn=(_n=["ajax","elements","document","eventLag"]).length;xn>Et;Et++)!1!==Ne[zt=_n[Et]]&&xt.push(new G[zt](Ne[zt]));for(cn=0,Jt=(Gn=null!=(Dn=Ne.extraSources)?Dn:[]).length;Jt>cn;cn++)xt.push(new(dt=Gn[cn])(Ne));return k.bar=se=new St,gt=[],Yt=new X})(),k.stop=function(){return k.trigger("stop"),k.running=!1,se.destroy(),ne=!0,null!=Y&&("function"==typeof pe&&pe(Y),Y=null),ee()},k.restart=function(){return k.trigger("restart"),k.stop(),k.start()},k.go=function(){var zt;return k.running=!0,se.render(),zt=Me(),ne=!1,Y=Ke(function(Et,cn){var Jt,_n,Gn,di,jn,en,mn,Nn,bn,fn,kn,En,Wn;for(Jt=Nn=0,_n=!0,di=bn=0,kn=xt.length;kn>bn;di=++bn)for(dt=xt[di],mn=null!=gt[di]?gt[di]:gt[di]=[],jn=fn=0,En=(Gn=null!=(Wn=dt.elements)?Wn:[dt]).length;En>fn;jn=++fn)_n&=(en=null!=mn[jn]?mn[jn]:mn[jn]=new X(Gn[jn])).done,en.done||(Jt++,Nn+=en.tick(Et));return se.update(Yt.tick(Et,Nn/Jt)),se.done()||_n||ne?(se.update(100),k.trigger("done"),setTimeout(function(){return se.finish(),k.running=!1,k.trigger("hide")},Math.max(Ne.ghostTime,Math.max(Ne.minTime-(Me()-zt),0)))):cn()})},k.start=function(zt){Le(Ne,zt),k.running=!0;try{se.render()}catch(Et){L=Et}return document.querySelector(".pace")?(k.trigger("start"),k.go()):setTimeout(k.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return k}):"object"==typeof exports?module.exports=k:Ne.startOnPageLoad&&k.start()}).call(this),function(Ze,St){"use strict";function xe(me,ie,U){if("string"!=typeof me)throw"invalid module definition, module id must be defined and be a string";if(ie===St)throw"invalid module definition, dependencies must be specified";if(U===St)throw"invalid module definition, definition function must be specified";!function In(me,ie){for(var U,z=[],C=0;C<me.length;++C){if(!(U=W[me[C]]||te(me[C])))throw"module definition dependecy not found: "+me[C];z.push(U)}ie.apply(null,z)}(ie,function(){W[me]=U.apply(null,arguments)})}function te(me){for(var ie=Ze,U=me.split(/[.\/]/),z=0;z<U.length;++z){if(!ie[U[z]])return;ie=ie[U[z]]}return ie}var W={},L="tinymce/geom/Rect",k="tinymce/util/Promise",I="tinymce/util/Delay",G="tinymce/Env",X="tinymce/dom/EventUtils",T="tinymce/dom/Sizzle",B="tinymce/util/Arr",Y="tinymce/util/Tools",ae="tinymce/dom/DomQuery",se="tinymce/html/Styles",ne="tinymce/dom/TreeWalker",pe="tinymce/dom/Range",we="tinymce/html/Entities",Le="tinymce/dom/StyleSheetLoader",ve="tinymce/dom/DOMUtils",De="tinymce/dom/ScriptLoader",he="tinymce/AddOnManager",be="tinymce/dom/NodeType",ke="tinymce/text/Zwsp",ee="tinymce/caret/CaretContainer",Me="tinymce/dom/RangeUtils",Ne="tinymce/NodeChange",Be="tinymce/html/Node",$e="tinymce/html/Schema",Ke="tinymce/html/SaxParser",gt="tinymce/html/DomParser",it="tinymce/html/Writer",Vt="tinymce/html/Serializer",dt="tinymce/dom/Serializer",xt="tinymce/dom/TridentSelection",Yt="tinymce/util/VK",pn="tinymce/dom/ControlSelection",Ct="tinymce/util/Fun",qt="tinymce/caret/CaretCandidate",dn="tinymce/geom/ClientRect",Pt="tinymce/text/ExtendingChar",yn="tinymce/caret/CaretPosition",Gt="tinymce/caret/CaretBookmark",Sn="tinymce/dom/BookmarkManager",Kn="tinymce/dom/Selection",Un="tinymce/dom/ElementUtils",zn="tinymce/fmt/Preview",bi="tinymce/fmt/Hooks",Qn="tinymce/Formatter",Ti="tinymce/undo/Diff",zt="tinymce/undo/Fragments",Et="tinymce/undo/Levels",cn="tinymce/UndoManager",xn="tinymce/EnterKey",Jt="tinymce/ForceBlocks",_n="tinymce/caret/CaretUtils",Dn="tinymce/caret/CaretWalker",Gn="tinymce/InsertList",di="tinymce/InsertContent",jn="tinymce/EditorCommands",Ht="tinymce/util/URI",en="tinymce/util/Class",mn="tinymce/util/EventDispatcher",Nn="tinymce/data/Binding",bn="tinymce/util/Observable",fn="tinymce/data/ObservableObject",kn="tinymce/ui/Selector",En="tinymce/ui/Collection",Wn="tinymce/ui/DomUtils",Yn="tinymce/ui/BoxUtils",hi="tinymce/ui/ClassList",Fi="tinymce/ui/ReflowQueue",$i="tinymce/ui/Control",li="tinymce/ui/Factory",pr="tinymce/ui/KeyboardNavigation",Ki="tinymce/ui/Container",vr="tinymce/ui/DragHelper",ur="tinymce/ui/Scrollable",Qi="tinymce/ui/Panel",eo="tinymce/ui/Movable",Bi="tinymce/ui/Resizable",Hr="tinymce/ui/FloatPanel",Da="tinymce/ui/Window",Ft="tinymce/ui/MessageBox",tn="tinymce/WindowManager",Mn="tinymce/ui/Tooltip",vn="tinymce/ui/Widget",Rn="tinymce/ui/Progress",Jn="tinymce/ui/Notification",ei="tinymce/NotificationManager",ti="tinymce/dom/NodePath",ii="tinymce/util/Quirks",ui="tinymce/EditorObservable",_i="tinymce/Mode",Ai="tinymce/Shortcuts",Ri="tinymce/file/Uploader",er="tinymce/file/Conversions",Ui="tinymce/file/ImageScanner",Sr="tinymce/file/BlobCache",Er="tinymce/file/UploadStatus",Wr="tinymce/ErrorReporter",Or="tinymce/EditorUpload",oa="tinymce/caret/FakeCaret",To="tinymce/dom/Dimensions",du="tinymce/caret/LineWalker",aa="tinymce/caret/LineUtils",ed="tinymce/dom/MousePosition",td="tinymce/DragDropOverrides",hu="tinymce/SelectionOverrides",fu="tinymce/util/Uuid",yr="tinymce/ui/Sidebar",Bo="tinymce/Editor",sa="tinymce/util/I18n",ho="tinymce/FocusManager",Mr="tinymce/EditorManager",la="tinymce/util/XHR",Na="tinymce/util/JSON",pu="tinymce/util/JSONRequest",nd="tinymce/util/JSONP",sl="tinymce/util/LocalStorage",zo="tinymce/Compat",Tr="tinymce/ui/Layout",xr="tinymce/ui/AbsoluteLayout",fo="tinymce/ui/Button",ua="tinymce/ui/ButtonGroup",ds="tinymce/ui/Checkbox",ca="tinymce/ui/ComboBox",ll="tinymce/ui/ColorBox",ul="tinymce/ui/PanelButton",Pa="tinymce/ui/ColorButton",hs="tinymce/util/Color",gu="tinymce/ui/ColorPicker",fs="tinymce/ui/Path",mu="tinymce/ui/ElementPath",Br="tinymce/ui/FormItem",da="tinymce/ui/Form",cl="tinymce/ui/FieldSet",ha="tinymce/content/LinkTargets",dl="tinymce/ui/FilePicker",Io="tinymce/ui/FitLayout",Gr="tinymce/ui/FlexLayout",ps="tinymce/ui/FlowLayout",vu="tinymce/fmt/FontInfo",gs="tinymce/ui/FormatControls",fa="tinymce/ui/GridLayout",Ar="tinymce/ui/Iframe",hl="tinymce/ui/InfoBox",yu="tinymce/ui/Label",ms="tinymce/ui/Toolbar",pa="tinymce/ui/MenuBar",fl="tinymce/ui/MenuButton",pl="tinymce/ui/MenuItem",xu="tinymce/ui/Throbber",Fo="tinymce/ui/Menu",vs="tinymce/ui/ListBox",po="tinymce/ui/Radio",id="tinymce/ui/ResizeHandle",gl="tinymce/ui/SelectBox",rd="tinymce/ui/Slider",od="tinymce/ui/Spacer",ml="tinymce/ui/SplitButton",bu="tinymce/ui/StackLayout",_u="tinymce/ui/TabPanel",wu="tinymce/ui/TextBox";xe(L,[],function(){function me(P,E,H){var q,O,$,F,re,N;return q=E.x,O=E.y,$=P.w,F=P.h,re=E.w,N=E.h,"b"===(H=(H||"").split(""))[0]&&(O+=N),"r"===H[1]&&(q+=re),"c"===H[0]&&(O+=j(N/2)),"c"===H[1]&&(q+=j(re/2)),"b"===H[3]&&(O-=F),"r"===H[4]&&(q-=$),"c"===H[3]&&(O-=j(F/2)),"c"===H[4]&&(q-=j($/2)),D(q,O,$,F)}function D(P,E,H,q){return{x:P,y:E,w:H,h:q}}var w=Math.min,M=Math.max,j=Math.round;return{inflate:function U(P,E,H){return D(P.x-E,P.y-H,P.w+2*E,P.h+2*H)},relativePosition:me,findBestRelativePosition:function ie(P,E,H,q){var O,$;for($=0;$<q.length;$++)if((O=me(P,E,q[$])).x>=H.x&&O.x+O.w<=H.w+H.x&&O.y>=H.y&&O.y+O.h<=H.h+H.y)return q[$];return null},intersect:function z(P,E){var H,q,O,$;return H=M(P.x,E.x),q=M(P.y,E.y),O=w(P.x+P.w,E.x+E.w),$=w(P.y+P.h,E.y+E.h),O-H<0||$-q<0?null:D(H,q,O-H,$-q)},clamp:function C(P,E,H){var q,O,$,F,re,N,R,A,v,y;return N=P.y,R=P.x+P.w,A=P.y+P.h,v=E.x+E.w,y=E.y+E.h,q=M(0,E.x-(re=P.x)),O=M(0,E.y-N),$=M(0,R-v),F=M(0,A-y),re+=q,N+=O,H&&(R+=q,A+=O,re-=$,N-=F),D(re,N,(R-=$)-re,(A-=F)-N)},create:D,fromClientRect:function _(P){return D(P.left,P.top,P.width,P.height)}}}),xe(k,[],function(){function me(P,E){return function(){P.apply(E,arguments)}}function ie(P){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof P)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],w(P,me(z,this),me(C,this))}function U(P){var E=this;return null===this._state?void this._deferreds.push(P):void M(function(){var H=E._state?P.onFulfilled:P.onRejected;if(null!==H){var q;try{q=H(E._value)}catch(O){return void P.reject(O)}P.resolve(q)}else(E._state?P.resolve:P.reject)(E._value)})}function z(P){try{if(P===this)throw new TypeError("A promise cannot be resolved with itself.");if(P&&("object"==typeof P||"function"==typeof P)){var E=P.then;if("function"==typeof E)return void w(me(E,P),me(z,this),me(C,this))}this._state=!0,this._value=P,D.call(this)}catch(H){C.call(this,H)}}function C(P){this._state=!1,this._value=P,D.call(this)}function D(){for(var P=0,E=this._deferreds.length;P<E;P++)U.call(this,this._deferreds[P]);this._deferreds=null}function _(P,E,H,q){this.onFulfilled="function"==typeof P?P:null,this.onRejected="function"==typeof E?E:null,this.resolve=H,this.reject=q}function w(P,E,H){var q=!1;try{P(function(O){q||(q=!0,E(O))},function(O){q||(q=!0,H(O))})}catch(O){if(q)return;q=!0,H(O)}}if(window.Promise)return window.Promise;var M=ie.immediateFn||"function"==typeof setImmediate&&setImmediate||function(P){setTimeout(P,1)},j=Array.isArray||function(P){return"[object Array]"===Object.prototype.toString.call(P)};return ie.prototype.catch=function(P){return this.then(null,P)},ie.prototype.then=function(P,E){var H=this;return new ie(function(q,O){U.call(H,new _(P,E,q,O))})},ie.all=function(){var P=Array.prototype.slice.call(1===arguments.length&&j(arguments[0])?arguments[0]:arguments);return new ie(function(E,H){function q(F,re){try{if(re&&("object"==typeof re||"function"==typeof re)){var N=re.then;if("function"==typeof N)return void N.call(re,function(R){q(F,R)},H)}P[F]=re,0==--O&&E(P)}catch(R){H(R)}}if(0===P.length)return E([]);for(var O=P.length,$=0;$<P.length;$++)q($,P[$])})},ie.resolve=function(P){return P&&"object"==typeof P&&P.constructor===ie?P:new ie(function(E){E(P)})},ie.reject=function(P){return new ie(function(E,H){H(P)})},ie.race=function(P){return new ie(function(E,H){for(var q=0,O=P.length;q<O;q++)P[q].then(E,H)})},ie}),xe(I,[k],function(me){function U(M,j){return"number"!=typeof j&&(j=0),setTimeout(M,j)}function z(M,j){return"number"!=typeof j&&(j=1),setInterval(M,j)}function _(M,j){var P,E;return E=function(){var H=arguments;clearTimeout(P),P=U(function(){M.apply(this,H)},j)},E.stop=function(){clearTimeout(P)},E}var w;return{requestAnimationFrame:function(M,j){return w?void w.then(M):void(w=new me(function(P){j||(j=document.body),function ie(M,j){var E,H=window.requestAnimationFrame,q=["ms","moz","webkit"];for(E=0;E<q.length&&!H;E++)H=window[q[E]+"RequestAnimationFrame"];H||(H=function P(O){window.setTimeout(O,0)}),H(M,j)}(P,j)}).then(M))},setTimeout:U,setInterval:z,setEditorTimeout:function(M,j,P){return U(function(){M.removed||j()},P)},setEditorInterval:function(M,j,P){var E;return E=z(function(){M.removed?clearInterval(E):j()},P)},debounce:_,throttle:_,clearInterval:function D(M){return clearInterval(M)},clearTimeout:function C(M){return clearTimeout(M)}}}),xe(G,[],function(){function me(re){return"matchMedia"in window&&matchMedia(re).matches}var z,C,D,_,w,M,j,P,E,H,q,O,$,ie=navigator,U=ie.userAgent;return z=window.opera&&window.opera.buildNumber,E=/Android/.test(U),D=(D=!(C=/WebKit/.test(U))&&!z&&/MSIE/gi.test(U)&&/Explorer/gi.test(ie.appName))&&/MSIE (\w+)\./.exec(U)[1],_=-1!=U.indexOf("Trident/")&&(-1!=U.indexOf("rv:")||-1!=ie.appName.indexOf("Netscape"))&&11,w=-1!=U.indexOf("Edge/")&&!D&&!_&&12,D=D||_||w,M=!C&&!_&&/Gecko/.test(U),j=-1!=U.indexOf("Mac"),P=/(iPad|iPhone)/.test(U),H="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,q=me("only screen and (max-device-width: 480px)")&&(E||P),O=me("only screen and (min-width: 800px)")&&(E||P),$=-1!=U.indexOf("Windows Phone"),w&&(C=!1),{opera:z,webkit:C,ie:D,gecko:M,mac:j,iOS:P,android:E,contentEditable:!P||H||U.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=D,range:window.getSelection&&"Range"in window,documentMode:D&&!w?document.documentMode||7:10,fileApi:H,ceFalse:!1===D||D>8,canHaveCSP:!1===D||D>11,desktop:!q&&!O,windowsPhone:$}}),xe(X,[I,G],function(me,ie){function U(E,H,q,O){E.addEventListener?E.addEventListener(H,q,O||!1):E.attachEvent&&E.attachEvent("on"+H,q)}function z(E,H,q,O){E.removeEventListener?E.removeEventListener(H,q,O||!1):E.detachEvent&&E.detachEvent("on"+H,q)}function D(E,H){function q(){return!1}function O(){return!0}var $,F=H||{};for($ in E)P[$]||(F[$]=E[$]);if(F.target||(F.target=F.srcElement||document),ie.experimentalShadowDom&&(F.target=function C(E,H){var q,O=H;return(q=E.path)&&q.length>0&&(O=q[0]),E.deepPath&&(q=E.deepPath())&&q.length>0&&(O=q[0]),O}(E,F.target)),E&&j.test(E.type)&&void 0===E.pageX&&void 0!==E.clientX){var N=F.target.ownerDocument||document,R=N.documentElement,A=N.body;F.pageX=E.clientX+(R&&R.scrollLeft||A&&A.scrollLeft||0)-(R&&R.clientLeft||A&&A.clientLeft||0),F.pageY=E.clientY+(R&&R.scrollTop||A&&A.scrollTop||0)-(R&&R.clientTop||A&&A.clientTop||0)}return F.preventDefault=function(){F.isDefaultPrevented=O,E&&(E.preventDefault?E.preventDefault():E.returnValue=!1)},F.stopPropagation=function(){F.isPropagationStopped=O,E&&(E.stopPropagation?E.stopPropagation():E.cancelBubble=!0)},F.stopImmediatePropagation=function(){F.isImmediatePropagationStopped=O,F.stopPropagation()},F.isDefaultPrevented||(F.isDefaultPrevented=q,F.isPropagationStopped=q,F.isImmediatePropagationStopped=q),typeof F.metaKey>"u"&&(F.metaKey=!1),F}function _(E,H,q){function O(){q.domLoaded||(q.domLoaded=!0,H(N))}var re=E.document,N={type:"ready"};return q.domLoaded?void H(N):(re.addEventListener?"complete"===re.readyState?O():U(E,"DOMContentLoaded",O):(U(re,"readystatechange",function $(){("complete"===re.readyState||"interactive"===re.readyState&&re.body)&&(z(re,"readystatechange",$),O())}),re.documentElement.doScroll&&E.self===E.top&&function F(){try{re.documentElement.doScroll("left")}catch{return void me.setTimeout(F)}O()}()),void U(E,"load",O))}function w(){function E(R,A){var v,y,Z,oe,J=q[A];if(v=J&&J[R.type])for(y=0,Z=v.length;y<Z;y++)if((oe=v[y])&&!1===oe.func.call(oe.scope,R)&&R.preventDefault(),R.isImmediatePropagationStopped())return}var O,$,F,re,N,H=this,q={};$=M+(+new Date).toString(32),re="onmouseenter"in document.documentElement,F="onfocusin"in document.documentElement,N={mouseenter:"mouseover",mouseleave:"mouseout"},O=1,H.domLoaded=!1,H.events=q,H.bind=function(R,A,v,y){function Z(Oe){E(D(Oe||ze.event),oe)}var oe,J,fe,_e,Ve,Ee,Re,ze=window;if(R&&3!==R.nodeType&&8!==R.nodeType){for(R[$]?oe=R[$]:(oe=O++,R[$]=oe,q[oe]={}),y=y||R,fe=(A=A.split(" ")).length;fe--;)Ee=Z,Ve=Re=!1,"DOMContentLoaded"===(_e=A[fe])&&(_e="ready"),H.domLoaded&&"ready"===_e&&"complete"==R.readyState?v.call(y,D({type:_e})):(re||(Ve=N[_e])&&(Ee=function(Oe){var je,Ye;if(je=Oe.currentTarget,(Ye=Oe.relatedTarget)&&je.contains)Ye=je.contains(Ye);else for(;Ye&&Ye!==je;)Ye=Ye.parentNode;Ye||((Oe=D(Oe||ze.event)).type="mouseout"===Oe.type?"mouseleave":"mouseenter",Oe.target=je,E(Oe,oe))}),F||"focusin"!==_e&&"focusout"!==_e||(Re=!0,Ve="focusin"===_e?"focus":"blur",Ee=function(Oe){(Oe=D(Oe||ze.event)).type="focus"===Oe.type?"focusin":"focusout",E(Oe,oe)}),(J=q[oe][_e])?"ready"===_e&&H.domLoaded?v({type:_e}):J.push({func:v,scope:y}):(q[oe][_e]=J=[{func:v,scope:y}],J.fakeName=Ve,J.capture=Re,J.nativeHandler=Ee,"ready"===_e?_(R,Ee,H):U(R,Ve||_e,Ee,Re)));return R=J=0,v}},H.unbind=function(R,A,v){var y,Z,oe,J,fe,_e;if(!R||3===R.nodeType||8===R.nodeType)return H;if(y=R[$]){if(_e=q[y],A){for(oe=(A=A.split(" ")).length;oe--;)if(Z=_e[fe=A[oe]]){if(v)for(J=Z.length;J--;)if(Z[J].func===v){var Ve=Z.nativeHandler,Ee=Z.fakeName,Re=Z.capture;(Z=Z.slice(0,J).concat(Z.slice(J+1))).nativeHandler=Ve,Z.fakeName=Ee,Z.capture=Re,_e[fe]=Z}v&&0!==Z.length||(delete _e[fe],z(R,Z.fakeName||fe,Z.nativeHandler,Z.capture))}}else{for(fe in _e)z(R,(Z=_e[fe]).fakeName||fe,Z.nativeHandler,Z.capture);_e={}}for(fe in _e)return H;delete q[y];try{delete R[$]}catch{R[$]=null}}return H},H.fire=function(R,A,v){var y;if(!R||3===R.nodeType||8===R.nodeType)return H;(v=D(null,v)).type=A,v.target=R;do{(y=R[$])&&E(v,y),R=R.parentNode||R.ownerDocument||R.defaultView||R.parentWindow}while(R&&!v.isPropagationStopped());return H},H.clean=function(R){var A,v,y=H.unbind;if(!R||3===R.nodeType||8===R.nodeType)return H;if(R[$]&&y(R),R.getElementsByTagName||(R=R.document),R&&R.getElementsByTagName)for(y(R),A=(v=R.getElementsByTagName("*")).length;A--;)(R=v[A])[$]&&y(R);return H},H.destroy=function(){q={}},H.cancel=function(R){return R&&(R.preventDefault(),R.stopImmediatePropagation()),!1}}var M="mce-data-",j=/^(?:mouse|contextmenu)|click/,P={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return(w.Event=new w).bind(window,"ready",function(){}),w}),xe(T,[],function(){function me(Te,We,st,yt){var Bt,wt,Je,Tt,kt,an,lt,Rt,bt,Xt;if((We?We.ownerDocument||We:nt)!==ze&&Re(We),st=st||[],!Te||"string"!=typeof Te)return st;if(1!==(Tt=(We=We||ze).nodeType)&&9!==Tt)return[];if(je&&!yt){if(Bt=Ln.exec(Te))if(Je=Bt[1]){if(9===Tt){if(!(wt=We.getElementById(Je))||!wt.parentNode)return st;if(wt.id===Je)return st.push(wt),st}else if(We.ownerDocument&&(wt=We.ownerDocument.getElementById(Je))&&He(We,wt)&&wt.id===Je)return st.push(wt),st}else{if(Bt[2])return ct.apply(st,We.getElementsByTagName(Te)),st;if((Je=Bt[3])&&A.getElementsByClassName)return ct.apply(st,We.getElementsByClassName(Je)),st}if(A.qsa&&(!Ye||!Ye.test(Te))){if(Rt=lt=Xe,bt=We,Xt=9===Tt&&Te,1===Tt&&"object"!==We.nodeName.toLowerCase()){for(an=oe(Te),(lt=We.getAttribute("id"))?Rt=lt.replace(Fn,"\\$&"):We.setAttribute("id",Rt),Rt="[id='"+Rt+"'] ",kt=an.length;kt--;)an[kt]=Rt+E(an[kt]);bt=wn.test(Te)&&j(We.parentNode)||We,Xt=an.join(",")}if(Xt)try{return ct.apply(st,bt.querySelectorAll(Xt)),st}catch{}finally{lt||We.removeAttribute("id")}}}return fe(Te.replace(pi,"$1"),We,st,yt)}function ie(){var We=[];return function Te(st,yt){return We.push(st+" ")>v.cacheLength&&delete Te[We.shift()],Te[st+" "]=yt}}function U(Te){return Te[Xe]=!0,Te}function z(Te){var We=ze.createElement("div");try{return!!Te(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function C(Te,We){for(var st=Te.split("|"),yt=Te.length;yt--;)v.attrHandle[st[yt]]=We}function D(Te,We){var st=We&&Te,yt=st&&1===Te.nodeType&&1===We.nodeType&&(~We.sourceIndex||Se)-(~Te.sourceIndex||Se);if(yt)return yt;if(st)for(;st=st.nextSibling;)if(st===We)return-1;return Te?1:-1}function _(Te){return function(We){return"input"===We.nodeName.toLowerCase()&&We.type===Te}}function w(Te){return function(We){var st=We.nodeName.toLowerCase();return("input"===st||"button"===st)&&We.type===Te}}function M(Te){return U(function(We){return We=+We,U(function(st,yt){for(var Bt,wt=Te([],st.length,We),Je=wt.length;Je--;)st[Bt=wt[Je]]&&(st[Bt]=!(yt[Bt]=st[Bt]))})})}function j(Te){return Te&&typeof Te.getElementsByTagName!==Ae&&Te}function P(){}function E(Te){for(var We=0,st=Te.length,yt="";We<st;We++)yt+=Te[We].value;return yt}function H(Te,We,st){var yt=We.dir,Bt=st&&"parentNode"===yt,wt=Wt++;return We.first?function(Je,Tt,kt){for(;Je=Je[yt];)if(1===Je.nodeType||Bt)return Te(Je,Tt,kt)}:function(Je,Tt,kt){var an,lt,Rt=[Mt,wt];if(kt){for(;Je=Je[yt];)if((1===Je.nodeType||Bt)&&Te(Je,Tt,kt))return!0}else for(;Je=Je[yt];)if(1===Je.nodeType||Bt){if((an=(lt=Je[Xe]||(Je[Xe]={}))[yt])&&an[0]===Mt&&an[1]===wt)return Rt[2]=an[2];if(lt[yt]=Rt,Rt[2]=Te(Je,Tt,kt))return!0}}}function q(Te){return Te.length>1?function(We,st,yt){for(var Bt=Te.length;Bt--;)if(!Te[Bt](We,st,yt))return!1;return!0}:Te[0]}function $(Te,We,st,yt,Bt){for(var wt,Je=[],Tt=0,kt=Te.length,an=null!=We;Tt<kt;Tt++)(wt=Te[Tt])&&(st&&!st(wt,yt,Bt)||(Je.push(wt),an&&We.push(Tt)));return Je}function F(Te,We,st,yt,Bt,wt){return yt&&!yt[Xe]&&(yt=F(yt)),Bt&&!Bt[Xe]&&(Bt=F(Bt,wt)),U(function(Je,Tt,kt,an){var lt,Rt,bt,Xt=[],rn=[],$t=Tt.length,on=Je||function O(Te,We,st){for(var yt=0,Bt=We.length;yt<Bt;yt++)me(Te,We[yt],st);return st}(We||"*",kt.nodeType?[kt]:kt,[]),hn=!Te||!Je&&We?on:$(on,Xt,Te,kt,an),Pn=st?Bt||(Je?Te:$t||yt)?[]:Tt:hn;if(st&&st(hn,Pn,kt,an),yt)for(lt=$(Pn,rn),yt(lt,[],kt,an),Rt=lt.length;Rt--;)(bt=lt[Rt])&&(Pn[rn[Rt]]=!(hn[rn[Rt]]=bt));if(Je){if(Bt||Te){if(Bt){for(lt=[],Rt=Pn.length;Rt--;)(bt=Pn[Rt])&&lt.push(hn[Rt]=bt);Bt(null,Pn=[],lt,an)}for(Rt=Pn.length;Rt--;)(bt=Pn[Rt])&&(lt=Bt?It.call(Je,bt):Xt[Rt])>-1&&(Je[lt]=!(Tt[lt]=bt))}}else Pn=$(Pn===Tt?Pn.splice($t,Pn.length):Pn),Bt?Bt(null,Tt,Pn,an):ct.apply(Tt,Pn)})}function re(Te){for(var We,st,yt,Bt=Te.length,wt=v.relative[Te[0].type],Je=wt||v.relative[" "],Tt=wt?1:0,kt=H(function(Rt){return Rt===We},Je,!0),an=H(function(Rt){return It.call(We,Rt)>-1},Je,!0),lt=[function(Rt,bt,Xt){return!wt&&(Xt||bt!==_e)||((We=bt).nodeType?kt(Rt,bt,Xt):an(Rt,bt,Xt))}];Tt<Bt;Tt++)if(st=v.relative[Te[Tt].type])lt=[H(q(lt),st)];else{if((st=v.filter[Te[Tt].type].apply(null,Te[Tt].matches))[Xe]){for(yt=++Tt;yt<Bt&&!v.relative[Te[yt].type];yt++);return F(Tt>1&&q(lt),Tt>1&&E(Te.slice(0,Tt-1).concat({value:" "===Te[Tt-2].type?"*":""})).replace(pi,"$1"),st,Tt<yt&&re(Te.slice(Tt,yt)),yt<Bt&&re(Te=Te.slice(yt)),yt<Bt&&E(Te))}lt.push(st)}return q(lt)}var R,A,v,y,Z,oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye,ye,Ie,He,Xe="sizzle"+-new Date,nt=window.document,Mt=0,Wt=0,Kt=ie(),un=ie(),Qt=ie(),tt=function(Te,We){return Te===We&&(Ee=!0),0},Ae=typeof St,Se=1<<31,Ue={}.hasOwnProperty,at=[],vt=at.pop,_t=at.push,ct=at.push,Lt=at.slice,It=at.indexOf||function(Te){for(var We=0,st=this.length;We<st;We++)if(this[We]===Te)return We;return-1},Dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ot="[\\x20\\t\\r\\n\\f]",Tn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",qn="\\["+Ot+"*("+Tn+")(?:"+Ot+"*([*^$|!~]?=)"+Ot+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Tn+"))|)"+Ot+"*\\]",ri=":("+Tn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+qn+")*)|.*)\\)|)",pi=new RegExp("^"+Ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ot+"+$","g"),ai=new RegExp("^"+Ot+"*,"+Ot+"*"),oi=new RegExp("^"+Ot+"*([>+~]|"+Ot+")"+Ot+"*"),ki=new RegExp("="+Ot+"*([^\\]'\"]*?)"+Ot+"*\\]","g"),wi=new RegExp(ri),Ci=new RegExp("^"+Tn+"$"),Ut={ID:new RegExp("^#("+Tn+")"),CLASS:new RegExp("^\\.("+Tn+")"),TAG:new RegExp("^("+Tn+"|[*])"),ATTR:new RegExp("^"+qn),PSEUDO:new RegExp("^"+ri),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ot+"*(even|odd|(([+-]|)(\\d*)n|)"+Ot+"*(?:([+-]|)"+Ot+"*(\\d+)|))"+Ot+"*\\)|)","i"),bool:new RegExp("^(?:"+Dt+")$","i"),needsContext:new RegExp("^"+Ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ot+"*((?:-\\d)?\\d*)"+Ot+"*\\)|)(?=[^-]|$)","i")},ln=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,Nt=/^[^{]+\{\s*\[native \w/,Ln=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wn=/[+~]/,Fn=/'|\\/g,rt=new RegExp("\\\\([\\da-f]{1,6}"+Ot+"?|("+Ot+")|.)","ig"),ft=function(Te,We,st){var yt="0x"+We-65536;return yt!=yt||st?We:yt<0?String.fromCharCode(yt+65536):String.fromCharCode(yt>>10|55296,1023&yt|56320)};try{ct.apply(at=Lt.call(nt.childNodes),nt.childNodes)}catch{ct={apply:at.length?function(We,st){_t.apply(We,Lt.call(st))}:function(We,st){for(var yt=We.length,Bt=0;We[yt++]=st[Bt++];);We.length=yt-1}}}for(R in A=me.support={},Z=me.isXML=function(Te){var We=Te&&(Te.ownerDocument||Te).documentElement;return!!We&&"HTML"!==We.nodeName},Re=me.setDocument=function(Te){var st,yt=Te?Te.ownerDocument||Te:nt,Bt=yt.defaultView;return yt!==ze&&9===yt.nodeType&&yt.documentElement?(ze=yt,Oe=yt.documentElement,je=!Z(yt),Bt&&Bt!==function We(wt){try{return wt.top}catch{}return null}(Bt)&&(Bt.addEventListener?Bt.addEventListener("unload",function(){Re()},!1):Bt.attachEvent&&Bt.attachEvent("onunload",function(){Re()})),A.attributes=z(function(wt){return wt.className="i",!wt.getAttribute("className")}),A.getElementsByTagName=z(function(wt){return wt.appendChild(yt.createComment("")),!wt.getElementsByTagName("*").length}),A.getElementsByClassName=Nt.test(yt.getElementsByClassName),A.getById=z(function(wt){return Oe.appendChild(wt).id=Xe,!yt.getElementsByName||!yt.getElementsByName(Xe).length}),A.getById?(v.find.ID=function(wt,Je){if(typeof Je.getElementById!==Ae&&je){var Tt=Je.getElementById(wt);return Tt&&Tt.parentNode?[Tt]:[]}},v.filter.ID=function(wt){var Je=wt.replace(rt,ft);return function(Tt){return Tt.getAttribute("id")===Je}}):(delete v.find.ID,v.filter.ID=function(wt){var Je=wt.replace(rt,ft);return function(Tt){var kt=typeof Tt.getAttributeNode!==Ae&&Tt.getAttributeNode("id");return kt&&kt.value===Je}}),v.find.TAG=A.getElementsByTagName?function(wt,Je){if(typeof Je.getElementsByTagName!==Ae)return Je.getElementsByTagName(wt)}:function(wt,Je){var Tt,kt=[],an=0,lt=Je.getElementsByTagName(wt);if("*"===wt){for(;Tt=lt[an++];)1===Tt.nodeType&&kt.push(Tt);return kt}return lt},v.find.CLASS=A.getElementsByClassName&&function(wt,Je){if(je)return Je.getElementsByClassName(wt)},ye=[],Ye=[],(A.qsa=Nt.test(yt.querySelectorAll))&&(z(function(wt){wt.innerHTML="<select msallowcapture=''><option selected=''></option></select>",wt.querySelectorAll("[msallowcapture^='']").length&&Ye.push("[*^$]="+Ot+"*(?:''|\"\")"),wt.querySelectorAll("[selected]").length||Ye.push("\\["+Ot+"*(?:value|"+Dt+")"),wt.querySelectorAll(":checked").length||Ye.push(":checked")}),z(function(wt){var Je=yt.createElement("input");Je.setAttribute("type","hidden"),wt.appendChild(Je).setAttribute("name","D"),wt.querySelectorAll("[name=d]").length&&Ye.push("name"+Ot+"*[*^$|!~]?="),wt.querySelectorAll(":enabled").length||Ye.push(":enabled",":disabled"),wt.querySelectorAll("*,:x"),Ye.push(",.*:")})),(A.matchesSelector=Nt.test(Ie=Oe.matches||Oe.webkitMatchesSelector||Oe.mozMatchesSelector||Oe.oMatchesSelector||Oe.msMatchesSelector))&&z(function(wt){A.disconnectedMatch=Ie.call(wt,"div"),Ie.call(wt,"[s!='']:x"),ye.push("!=",ri)}),Ye=Ye.length&&new RegExp(Ye.join("|")),ye=ye.length&&new RegExp(ye.join("|")),st=Nt.test(Oe.compareDocumentPosition),He=st||Nt.test(Oe.contains)?function(wt,Je){var Tt=9===wt.nodeType?wt.documentElement:wt,kt=Je&&Je.parentNode;return wt===kt||!(!kt||1!==kt.nodeType||!(Tt.contains?Tt.contains(kt):wt.compareDocumentPosition&&16&wt.compareDocumentPosition(kt)))}:function(wt,Je){if(Je)for(;Je=Je.parentNode;)if(Je===wt)return!0;return!1},tt=st?function(wt,Je){if(wt===Je)return Ee=!0,0;var Tt=!wt.compareDocumentPosition-!Je.compareDocumentPosition;return Tt||(1&(Tt=(wt.ownerDocument||wt)===(Je.ownerDocument||Je)?wt.compareDocumentPosition(Je):1)||!A.sortDetached&&Je.compareDocumentPosition(wt)===Tt?wt===yt||wt.ownerDocument===nt&&He(nt,wt)?-1:Je===yt||Je.ownerDocument===nt&&He(nt,Je)?1:Ve?It.call(Ve,wt)-It.call(Ve,Je):0:4&Tt?-1:1)}:function(wt,Je){if(wt===Je)return Ee=!0,0;var Tt,kt=0,an=wt.parentNode,lt=Je.parentNode,Rt=[wt],bt=[Je];if(!an||!lt)return wt===yt?-1:Je===yt?1:an?-1:lt?1:Ve?It.call(Ve,wt)-It.call(Ve,Je):0;if(an===lt)return D(wt,Je);for(Tt=wt;Tt=Tt.parentNode;)Rt.unshift(Tt);for(Tt=Je;Tt=Tt.parentNode;)bt.unshift(Tt);for(;Rt[kt]===bt[kt];)kt++;return kt?D(Rt[kt],bt[kt]):Rt[kt]===nt?-1:bt[kt]===nt?1:0},yt):ze},me.matches=function(Te,We){return me(Te,null,null,We)},me.matchesSelector=function(Te,We){if((Te.ownerDocument||Te)!==ze&&Re(Te),We=We.replace(ki,"='$1']"),A.matchesSelector&&je&&(!ye||!ye.test(We))&&(!Ye||!Ye.test(We)))try{var st=Ie.call(Te,We);if(st||A.disconnectedMatch||Te.document&&11!==Te.document.nodeType)return st}catch{}return me(We,ze,null,[Te]).length>0},me.contains=function(Te,We){return(Te.ownerDocument||Te)!==ze&&Re(Te),He(Te,We)},me.attr=function(Te,We){(Te.ownerDocument||Te)!==ze&&Re(Te);var st=v.attrHandle[We.toLowerCase()],yt=st&&Ue.call(v.attrHandle,We.toLowerCase())?st(Te,We,!je):St;return yt!==St?yt:A.attributes||!je?Te.getAttribute(We):(yt=Te.getAttributeNode(We))&&yt.specified?yt.value:null},me.error=function(Te){throw new Error("Syntax error, unrecognized expression: "+Te)},me.uniqueSort=function(Te){var We,st=[],yt=0,Bt=0;if(Ee=!A.detectDuplicates,Ve=!A.sortStable&&Te.slice(0),Te.sort(tt),Ee){for(;We=Te[Bt++];)We===Te[Bt]&&(yt=st.push(Bt));for(;yt--;)Te.splice(st[yt],1)}return Ve=null,Te},y=me.getText=function(Te){var We,st="",yt=0,Bt=Te.nodeType;if(Bt){if(1===Bt||9===Bt||11===Bt){if("string"==typeof Te.textContent)return Te.textContent;for(Te=Te.firstChild;Te;Te=Te.nextSibling)st+=y(Te)}else if(3===Bt||4===Bt)return Te.nodeValue}else for(;We=Te[yt++];)st+=y(We);return st},(v=me.selectors={cacheLength:50,createPseudo:U,match:Ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Te){return Te[1]=Te[1].replace(rt,ft),Te[3]=(Te[3]||Te[4]||Te[5]||"").replace(rt,ft),"~="===Te[2]&&(Te[3]=" "+Te[3]+" "),Te.slice(0,4)},CHILD:function(Te){return Te[1]=Te[1].toLowerCase(),"nth"===Te[1].slice(0,3)?(Te[3]||me.error(Te[0]),Te[4]=+(Te[4]?Te[5]+(Te[6]||1):2*("even"===Te[3]||"odd"===Te[3])),Te[5]=+(Te[7]+Te[8]||"odd"===Te[3])):Te[3]&&me.error(Te[0]),Te},PSEUDO:function(Te){var We,st=!Te[6]&&Te[2];return Ut.CHILD.test(Te[0])?null:(Te[3]?Te[2]=Te[4]||Te[5]||"":st&&wi.test(st)&&(We=oe(st,!0))&&(We=st.indexOf(")",st.length-We)-st.length)&&(Te[0]=Te[0].slice(0,We),Te[2]=st.slice(0,We)),Te.slice(0,3))}},filter:{TAG:function(Te){var We=Te.replace(rt,ft).toLowerCase();return"*"===Te?function(){return!0}:function(st){return st.nodeName&&st.nodeName.toLowerCase()===We}},CLASS:function(Te){var We=Kt[Te+" "];return We||(We=new RegExp("(^|"+Ot+")"+Te+"("+Ot+"|$)"))&&Kt(Te,function(st){return We.test("string"==typeof st.className&&st.className||typeof st.getAttribute!==Ae&&st.getAttribute("class")||"")})},ATTR:function(Te,We,st){return function(yt){var Bt=me.attr(yt,Te);return null==Bt?"!="===We:!We||(Bt+="","="===We?Bt===st:"!="===We?Bt!==st:"^="===We?st&&0===Bt.indexOf(st):"*="===We?st&&Bt.indexOf(st)>-1:"$="===We?st&&Bt.slice(-st.length)===st:"~="===We?(" "+Bt+" ").indexOf(st)>-1:"|="===We&&(Bt===st||Bt.slice(0,st.length+1)===st+"-"))}},CHILD:function(Te,We,st,yt,Bt){var wt="nth"!==Te.slice(0,3),Je="last"!==Te.slice(-4),Tt="of-type"===We;return 1===yt&&0===Bt?function(kt){return!!kt.parentNode}:function(kt,an,lt){var Rt,bt,Xt,rn,$t,on,hn=wt!==Je?"nextSibling":"previousSibling",Pn=kt.parentNode,Zn=Tt&&kt.nodeName.toLowerCase(),On=!lt&&!Tt;if(Pn){if(wt){for(;hn;){for(Xt=kt;Xt=Xt[hn];)if(Tt?Xt.nodeName.toLowerCase()===Zn:1===Xt.nodeType)return!1;on=hn="only"===Te&&!on&&"nextSibling"}return!0}if(on=[Je?Pn.firstChild:Pn.lastChild],Je&&On){for(rn=(Rt=(bt=Pn[Xe]||(Pn[Xe]={}))[Te]||[])[0]===Mt&&Rt[2],Xt=($t=Rt[0]===Mt&&Rt[1])&&Pn.childNodes[$t];Xt=++$t&&Xt&&Xt[hn]||(rn=$t=0)||on.pop();)if(1===Xt.nodeType&&++rn&&Xt===kt){bt[Te]=[Mt,$t,rn];break}}else if(On&&(Rt=(kt[Xe]||(kt[Xe]={}))[Te])&&Rt[0]===Mt)rn=Rt[1];else for(;(Xt=++$t&&Xt&&Xt[hn]||(rn=$t=0)||on.pop())&&((Tt?Xt.nodeName.toLowerCase()!==Zn:1!==Xt.nodeType)||!++rn||(On&&((Xt[Xe]||(Xt[Xe]={}))[Te]=[Mt,rn]),Xt!==kt)););return(rn-=Bt)===yt||rn%yt==0&&rn/yt>=0}}},PSEUDO:function(Te,We){var st,yt=v.pseudos[Te]||v.setFilters[Te.toLowerCase()]||me.error("unsupported pseudo: "+Te);return yt[Xe]?yt(We):yt.length>1?(st=[Te,Te,"",We],v.setFilters.hasOwnProperty(Te.toLowerCase())?U(function(Bt,wt){for(var Je,Tt=yt(Bt,We),kt=Tt.length;kt--;)Bt[Je=It.call(Bt,Tt[kt])]=!(wt[Je]=Tt[kt])}):function(Bt){return yt(Bt,0,st)}):yt}},pseudos:{not:U(function(Te){var We=[],st=[],yt=J(Te.replace(pi,"$1"));return yt[Xe]?U(function(Bt,wt,Je,Tt){for(var kt,an=yt(Bt,null,Tt,[]),lt=Bt.length;lt--;)(kt=an[lt])&&(Bt[lt]=!(wt[lt]=kt))}):function(Bt,wt,Je){return We[0]=Bt,yt(We,null,Je,st),!st.pop()}}),has:U(function(Te){return function(We){return me(Te,We).length>0}}),contains:U(function(Te){return Te=Te.replace(rt,ft),function(We){return(We.textContent||We.innerText||y(We)).indexOf(Te)>-1}}),lang:U(function(Te){return Ci.test(Te||"")||me.error("unsupported lang: "+Te),Te=Te.replace(rt,ft).toLowerCase(),function(We){var st;do{if(st=je?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return(st=st.toLowerCase())===Te||0===st.indexOf(Te+"-")}while((We=We.parentNode)&&1===We.nodeType);return!1}}),target:function(Te){var We=window.location&&window.location.hash;return We&&We.slice(1)===Te.id},root:function(Te){return Te===Oe},focus:function(Te){return Te===ze.activeElement&&(!ze.hasFocus||ze.hasFocus())&&!!(Te.type||Te.href||~Te.tabIndex)},enabled:function(Te){return!1===Te.disabled},disabled:function(Te){return!0===Te.disabled},checked:function(Te){var We=Te.nodeName.toLowerCase();return"input"===We&&!!Te.checked||"option"===We&&!!Te.selected},selected:function(Te){return!0===Te.selected},empty:function(Te){for(Te=Te.firstChild;Te;Te=Te.nextSibling)if(Te.nodeType<6)return!1;return!0},parent:function(Te){return!v.pseudos.empty(Te)},header:function(Te){return mt.test(Te.nodeName)},input:function(Te){return ln.test(Te.nodeName)},button:function(Te){var We=Te.nodeName.toLowerCase();return"input"===We&&"button"===Te.type||"button"===We},text:function(Te){var We;return"input"===Te.nodeName.toLowerCase()&&"text"===Te.type&&(null==(We=Te.getAttribute("type"))||"text"===We.toLowerCase())},first:M(function(){return[0]}),last:M(function(Te,We){return[We-1]}),eq:M(function(Te,We,st){return[st<0?st+We:st]}),even:M(function(Te,We){for(var st=0;st<We;st+=2)Te.push(st);return Te}),odd:M(function(Te,We){for(var st=1;st<We;st+=2)Te.push(st);return Te}),lt:M(function(Te,We,st){for(var yt=st<0?st+We:st;--yt>=0;)Te.push(yt);return Te}),gt:M(function(Te,We,st){for(var yt=st<0?st+We:st;++yt<We;)Te.push(yt);return Te})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[R]=_(R);for(R in{submit:!0,reset:!0})v.pseudos[R]=w(R);return P.prototype=v.filters=v.pseudos,v.setFilters=new P,oe=me.tokenize=function(Te,We){var st,yt,Bt,wt,Je,Tt,kt,an=un[Te+" "];if(an)return We?0:an.slice(0);for(Je=Te,Tt=[],kt=v.preFilter;Je;){for(wt in st&&!(yt=ai.exec(Je))||(yt&&(Je=Je.slice(yt[0].length)||Je),Tt.push(Bt=[])),st=!1,(yt=oi.exec(Je))&&(st=yt.shift(),Bt.push({value:st,type:yt[0].replace(pi," ")}),Je=Je.slice(st.length)),v.filter)!(yt=Ut[wt].exec(Je))||kt[wt]&&!(yt=kt[wt](yt))||(st=yt.shift(),Bt.push({value:st,type:wt,matches:yt}),Je=Je.slice(st.length));if(!st)break}return We?Je.length:Je?me.error(Te):un(Te,Tt).slice(0)},J=me.compile=function(Te,We){var st,yt=[],Bt=[],wt=Qt[Te+" "];if(!wt){for(We||(We=oe(Te)),st=We.length;st--;)(wt=re(We[st]))[Xe]?yt.push(wt):Bt.push(wt);wt=Qt(Te,function N(Te,We){var st=We.length>0,yt=Te.length>0,Bt=function(wt,Je,Tt,kt,an){var lt,Rt,bt,Xt=0,rn="0",$t=wt&&[],on=[],hn=_e,Pn=wt||yt&&v.find.TAG("*",an),Zn=Mt+=null==hn?1:Math.random()||.1,On=Pn.length;for(an&&(_e=Je!==ze&&Je);rn!==On&&null!=(lt=Pn[rn]);rn++){if(yt&&lt){for(Rt=0;bt=Te[Rt++];)if(bt(lt,Je,Tt)){kt.push(lt);break}an&&(Mt=Zn)}st&&((lt=!bt&&lt)&&Xt--,wt&&$t.push(lt))}if(Xt+=rn,st&&rn!==Xt){for(Rt=0;bt=We[Rt++];)bt($t,on,Je,Tt);if(wt){if(Xt>0)for(;rn--;)$t[rn]||on[rn]||(on[rn]=vt.call(kt));on=$(on)}ct.apply(kt,on),an&&!wt&&on.length>0&&Xt+We.length>1&&me.uniqueSort(kt)}return an&&(Mt=Zn,_e=hn),$t};return st?U(Bt):Bt}(Bt,yt)),wt.selector=Te}return wt},fe=me.select=function(Te,We,st,yt){var Bt,wt,Je,Tt,kt,an="function"==typeof Te&&Te,lt=!yt&&oe(Te=an.selector||Te);if(st=st||[],1===lt.length){if((wt=lt[0]=lt[0].slice(0)).length>2&&"ID"===(Je=wt[0]).type&&A.getById&&9===We.nodeType&&je&&v.relative[wt[1].type]){if(!(We=(v.find.ID(Je.matches[0].replace(rt,ft),We)||[])[0]))return st;an&&(We=We.parentNode),Te=Te.slice(wt.shift().value.length)}for(Bt=Ut.needsContext.test(Te)?0:wt.length;Bt--&&!v.relative[Tt=(Je=wt[Bt]).type];)if((kt=v.find[Tt])&&(yt=kt(Je.matches[0].replace(rt,ft),wn.test(wt[0].type)&&j(We.parentNode)||We))){if(wt.splice(Bt,1),!(Te=yt.length&&E(wt)))return ct.apply(st,yt),st;break}}return(an||J(Te,lt))(yt,We,!je,st,wn.test(Te)&&j(We.parentNode)||We),st},A.sortStable=Xe.split("").sort(tt).join("")===Xe,A.detectDuplicates=!!Ee,Re(),A.sortDetached=z(function(Te){return 1&Te.compareDocumentPosition(ze.createElement("div"))}),z(function(Te){return Te.innerHTML="<a href='#'></a>","#"===Te.firstChild.getAttribute("href")})||C("type|href|height|width",function(Te,We,st){if(!st)return Te.getAttribute(We,"type"===We.toLowerCase()?1:2)}),A.attributes&&z(function(Te){return Te.innerHTML="<input/>",Te.firstChild.setAttribute("value",""),""===Te.firstChild.getAttribute("value")})||C("value",function(Te,We,st){if(!st&&"input"===Te.nodeName.toLowerCase())return Te.defaultValue}),z(function(Te){return null==Te.getAttribute("disabled")})||C(Dt,function(Te,We,st){var yt;if(!st)return!0===Te[We]?We.toLowerCase():(yt=Te.getAttributeNode(We))&&yt.specified?yt.value:null}),me}),xe(B,[],function(){function ie(P,E,H){var q,O;if(!P)return 0;if(H=H||P,P.length!==St){for(q=0,O=P.length;q<O;q++)if(!1===E.call(H,P[q],q,P))return 0}else for(q in P)if(P.hasOwnProperty(q)&&!1===E.call(H,P[q],q,P))return 0;return 1}function _(P,E,H){var q,O;for(q=0,O=P.length;q<O;q++)if(E.call(H,P[q],q,P))return q;return-1}var j=Array.isArray||function(P){return"[object Array]"===Object.prototype.toString.call(P)};return{isArray:j,toArray:function me(P){var H,q,E=P;if(!j(P))for(E=[],H=0,q=P.length;H<q;H++)E[H]=P[H];return E},each:ie,map:function U(P,E){var H=[];return ie(P,function(q,O){H.push(E(q,O,P))}),H},filter:function z(P,E){var H=[];return ie(P,function(q,O){E&&!E(q,O,P)||H.push(q)}),H},indexOf:function C(P,E){var H,q;if(P)for(H=0,q=P.length;H<q;H++)if(P[H]===E)return H;return-1},reduce:function D(P,E,H,q){var O=0;for(arguments.length<3&&(H=P[0]);O<P.length;O++)H=E.call(q,H,P[O],O);return H},findIndex:_,find:function w(P,E,H){var q=_(P,E,H);return-1!==q?P[q]:St},last:function M(P){return P[P.length-1]}}}),xe(Y,[G,B],function(me,ie){function U(O){return null===O||O===St?"":(""+O).replace(q,"")}function z(O,$){return $?!("array"!=$||!ie.isArray(O))||typeof O==$:O!==St}var q=/^\s*|\s*$/g;return{trim:U,isArray:ie.isArray,is:z,toArray:ie.toArray,makeMap:function C(O,$,F){var re;for($=$||",","string"==typeof(O=O||[])&&(O=O.split($)),F=F||{},re=O.length;re--;)F[O[re]]={};return F},each:ie.each,map:ie.map,grep:ie.filter,inArray:ie.indexOf,hasOwn:function D(O,$){return Object.prototype.hasOwnProperty.call(O,$)},extend:function w(O,$){var F,re,N,A,R=arguments;for(F=1,re=R.length;F<re;F++)for(N in $=R[F])$.hasOwnProperty(N)&&(A=$[N])!==St&&(O[N]=A);return O},create:function _(O,$,F){var N,R,A,v,y,re=this,Z=0;if(O=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(O),A=O[3].match(/(^|\.)(\w+)$/i)[2],!(R=re.createNS(O[3].replace(/\.\w+$/,""),F))[A]){if("static"==O[2])return R[A]=$,void(this.onCreate&&this.onCreate(O[2],O[3],R[A]));$[A]||($[A]=function(){},Z=1),R[A]=$[A],re.extend(R[A].prototype,$),O[5]&&(N=re.resolve(O[5]).prototype,v=O[5].match(/\.(\w+)$/i)[1],y=R[A],R[A]=Z?function(){return N[v].apply(this,arguments)}:function(){return this.parent=N[v],y.apply(this,arguments)},R[A].prototype[A]=R[A],re.each(N,function(oe,J){R[A].prototype[J]=N[J]}),re.each($,function(oe,J){N[J]?R[A].prototype[J]=function(){return this.parent=N[J],oe.apply(this,arguments)}:J!=A&&(R[A].prototype[J]=oe)})),re.each($.static,function(oe,J){R[A][J]=oe})}},walk:function M(O,$,F,re){re=re||this,O&&(F&&(O=O[F]),ie.each(O,function(N,R){return!1!==$.call(re,N,R,F)&&void M(N,$,F,re)}))},createNS:function j(O,$){var F,re;for($=$||window,O=O.split("."),F=0;F<O.length;F++)$[re=O[F]]||($[re]={}),$=$[re];return $},resolve:function P(O,$){var F,re;for($=$||window,F=0,re=(O=O.split(".")).length;F<re&&($=$[O[F]]);F++);return $},explode:function E(O,$){return!O||z(O,"array")?O:ie.map(O.split($||","),U)},_addCacheSuffix:function H(O){var $=me.cacheSuffix;return $&&(O+=(-1===O.indexOf("?")?"?":"&")+$),O}}}),xe(ae,[X,T,Y,G],function(me,ie,U,z){function C(ye){return typeof ye<"u"}function D(ye){return"string"==typeof ye}function w(ye,Ie){var He,Xe,nt;for(nt=(Ie=Ie||v).createElement("div"),He=Ie.createDocumentFragment(),nt.innerHTML=ye;Xe=nt.firstChild;)He.appendChild(Xe);return He}function M(ye,Ie,He,Xe){var nt;if(D(Ie))Ie=w(Ie,F(ye[0]));else if(Ie.length&&!Ie.nodeType){if(Ie=E.makeArray(Ie),Xe)for(nt=Ie.length-1;nt>=0;nt--)M(ye,Ie[nt],He,Xe);else for(nt=0;nt<Ie.length;nt++)M(ye,Ie[nt],He,Xe);return ye}if(Ie.nodeType)for(nt=ye.length;nt--;)He.call(ye[nt],Ie);return ye}function j(ye,Ie){return ye&&Ie&&-1!==(" "+ye.className+" ").indexOf(" "+Ie+" ")}function P(ye,Ie,He){var Xe,nt;return Ie=E(Ie)[0],ye.each(function(){var Mt=this;He&&Xe==Mt.parentNode||(Xe=Mt.parentNode,nt=Ie.cloneNode(!1),Mt.parentNode.insertBefore(nt,Mt)),nt.appendChild(Mt)}),ye}function E(ye,Ie){return new E.fn.init(ye,Ie)}function q(ye){return null===ye||ye===fe?"":(""+ye).replace(Ye,"")}function O(ye,Ie){var He,Xe,nt,Wt;if(ye)if(void 0===(He=ye.length)){for(Xe in ye)if(ye.hasOwnProperty(Xe)&&!1===Ie.call(Wt=ye[Xe],Xe,Wt))break}else for(nt=0;nt<He&&!1!==Ie.call(Wt=ye[nt],nt,Wt);nt++);return ye}function $(ye,Ie){var He=[];return O(ye,function(Xe,nt){Ie(nt,Xe)&&He.push(nt)}),He}function F(ye){return ye?9==ye.nodeType?ye:ye.ownerDocument:v}function re(ye,Ie,He){var Xe=[],nt=ye[Ie];for("string"!=typeof He&&He instanceof E&&(He=He[0]);nt&&9!==nt.nodeType&&(He===St||!(nt===He||"string"==typeof He&&E(nt).is(He)));)1===nt.nodeType&&Xe.push(nt),nt=nt[Ie];return Xe}function N(ye,Ie,He,Xe){var nt=[];for(Xe instanceof E&&(Xe=Xe[0]);ye;ye=ye[Ie])if(!He||ye.nodeType===He){if(Xe!==St&&(ye===Xe||"string"==typeof Xe&&E(ye).is(Xe)))break;nt.push(ye)}return nt}function R(ye,Ie,He){for(ye=ye[Ie];ye;ye=ye[Ie])if(ye.nodeType==He)return ye;return null}function A(ye,Ie,He){O(He,function(Xe,nt){ye[Xe]=ye[Xe]||{},ye[Xe][Ie]=nt})}var fe,v=document,y=Array.prototype.push,Z=Array.prototype.slice,oe=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,J=me.Event,_e=U.makeMap("children,contents,next,prev"),Ve=U.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ee=U.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Re={for:"htmlFor",class:"className",readonly:"readOnly"},ze={float:"cssFloat"},Oe={},je={},Ye=/^\s*|\s*$/g;return E.fn=E.prototype={constructor:E,selector:"",context:null,length:0,init:function(ye,Ie){var Xe,nt,He=this;if(!ye)return He;if(ye.nodeType)return He.context=He[0]=ye,He.length=1,He;if(Ie&&Ie.nodeType)He.context=Ie;else{if(Ie)return E(ye).attr(Ie);He.context=Ie=document}if(D(ye)){if(He.selector=ye,!(Xe="<"===ye.charAt(0)&&">"===ye.charAt(ye.length-1)&&ye.length>=3?[null,ye,null]:oe.exec(ye)))return E(Ie).find(ye);if(Xe[1])for(nt=w(ye,F(Ie)).firstChild;nt;)y.call(He,nt),nt=nt.nextSibling;else{if(!(nt=F(Ie).getElementById(Xe[2])))return He;if(nt.id!==Xe[2])return He.find(ye);He.length=1,He[0]=nt}}else this.add(ye,!1);return He},toArray:function(){return U.toArray(this)},add:function(ye,Ie){var Xe,nt,He=this;if(D(ye))return He.add(E(ye));if(!1!==Ie)for(Xe=E.unique(He.toArray().concat(E.makeArray(ye))),He.length=Xe.length,nt=0;nt<Xe.length;nt++)He[nt]=Xe[nt];else y.apply(He,E.makeArray(ye));return He},attr:function(ye,Ie){var Xe,He=this;if("object"==typeof ye)O(ye,function(nt,Mt){He.attr(nt,Mt)});else{if(!C(Ie)){if(He[0]&&1===He[0].nodeType){if((Xe=Oe[ye])&&Xe.get)return Xe.get(He[0],ye);if(Ee[ye])return He.prop(ye)?ye:fe;null===(Ie=He[0].getAttribute(ye,2))&&(Ie=fe)}return Ie}this.each(function(){var nt;if(1===this.nodeType){if((nt=Oe[ye])&&nt.set)return void nt.set(this,Ie);null===Ie?this.removeAttribute(ye,2):this.setAttribute(ye,Ie,2)}})}return He},removeAttr:function(ye){return this.attr(ye,null)},prop:function(ye,Ie){var He=this;if("object"==typeof(ye=Re[ye]||ye))O(ye,function(Xe,nt){He.prop(Xe,nt)});else{if(!C(Ie))return He[0]&&He[0].nodeType&&ye in He[0]?He[0][ye]:Ie;this.each(function(){1==this.nodeType&&(this[ye]=Ie)})}return He},css:function(ye,Ie){function He(Kt){return Kt.replace(/-(\D)/g,function(un,Qt){return Qt.toUpperCase()})}function Xe(Kt){return Kt.replace(/[A-Z]/g,function(un){return"-"+un})}var Mt,Wt,nt=this;if("object"==typeof ye)O(ye,function(Kt,un){nt.css(Kt,un)});else if(C(Ie))ye=He(ye),"number"!=typeof Ie||Ve[ye]||(Ie+="px"),nt.each(function(){var Kt=this.style;if((Wt=je[ye])&&Wt.set)Wt.set(this,Ie);else{try{this.style[ze[ye]||ye]=Ie}catch{}null!==Ie&&""!==Ie||(Kt.removeProperty?Kt.removeProperty(Xe(ye)):Kt.removeAttribute(ye))}});else{if(Mt=nt[0],(Wt=je[ye])&&Wt.get)return Wt.get(Mt);if(Mt.ownerDocument.defaultView)try{return Mt.ownerDocument.defaultView.getComputedStyle(Mt,null).getPropertyValue(Xe(ye))}catch{return fe}else if(Mt.currentStyle)return Mt.currentStyle[He(ye)]}return nt},remove:function(){for(var Ie,He=this.length;He--;)J.clean(Ie=this[He]),Ie.parentNode&&Ie.parentNode.removeChild(Ie);return this},empty:function(){for(var Ie,He=this.length;He--;)for(Ie=this[He];Ie.firstChild;)Ie.removeChild(Ie.firstChild);return this},html:function(ye){var He,Ie=this;if(C(ye)){He=Ie.length;try{for(;He--;)Ie[He].innerHTML=ye}catch{E(Ie[He]).empty().append(ye)}return Ie}return Ie[0]?Ie[0].innerHTML:""},text:function(ye){var He,Ie=this;if(C(ye)){for(He=Ie.length;He--;)"innerText"in Ie[He]?Ie[He].innerText=ye:Ie[0].textContent=ye;return Ie}return Ie[0]?Ie[0].innerText||Ie[0].textContent:""},append:function(){return M(this,arguments,function(ye){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(ye)})},prepend:function(){return M(this,arguments,function(ye){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(ye,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?M(this,arguments,function(Ie){this.parentNode.insertBefore(Ie,this)}):this},after:function(){return this[0]&&this[0].parentNode?M(this,arguments,function(Ie){this.parentNode.insertBefore(Ie,this.nextSibling)},!0):this},appendTo:function(ye){return E(ye).append(this),this},prependTo:function(ye){return E(ye).prepend(this),this},replaceWith:function(ye){return this.before(ye).remove()},wrap:function(ye){return P(this,ye)},wrapAll:function(ye){return P(this,ye,!0)},wrapInner:function(ye){return this.each(function(){E(this).contents().wrapAll(ye)}),this},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(this.childNodes)})},clone:function(){var ye=[];return this.each(function(){ye.push(this.cloneNode(!0))}),E(ye)},addClass:function(ye){return this.toggleClass(ye,!0)},removeClass:function(ye){return this.toggleClass(ye,!1)},toggleClass:function(ye,Ie){var He=this;return"string"!=typeof ye||(-1!==ye.indexOf(" ")?O(ye.split(" "),function(){He.toggleClass(this,Ie)}):He.each(function(Xe,nt){var Mt,Wt;(Wt=j(nt,ye))!==Ie&&(Mt=nt.className,Wt?nt.className=q((" "+Mt+" ").replace(" "+ye+" "," ")):nt.className+=Mt?" "+ye:ye)})),He},hasClass:function(ye){return j(this[0],ye)},each:function(ye){return O(this,ye)},on:function(ye,Ie){return this.each(function(){J.bind(this,ye,Ie)})},off:function(ye,Ie){return this.each(function(){J.unbind(this,ye,Ie)})},trigger:function(ye){return this.each(function(){"object"==typeof ye?J.fire(this,ye.type,ye):J.fire(this,ye)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new E(Z.apply(this,arguments))},eq:function(ye){return-1===ye?this.slice(ye):this.slice(ye,+ye+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(ye){var Ie,He,Xe=[];for(Ie=0,He=this.length;Ie<He;Ie++)E.find(ye,this[Ie],Xe);return E(Xe)},filter:function(ye){return E("function"==typeof ye?$(this.toArray(),function(Ie,He){return ye(He,Ie)}):E.filter(ye,this.toArray()))},closest:function(ye){var Ie=[];return ye instanceof E&&(ye=ye[0]),this.each(function(He,Xe){for(;Xe;){if("string"==typeof ye&&E(Xe).is(ye)){Ie.push(Xe);break}if(Xe==ye){Ie.push(Xe);break}Xe=Xe.parentNode}}),E(Ie)},offset:function(ye){var Ie,He,Xe,Wt,nt=0,Mt=0;return ye?this.css(ye):((Ie=this[0])&&(Xe=(He=Ie.ownerDocument).documentElement,Ie.getBoundingClientRect&&(nt=(Wt=Ie.getBoundingClientRect()).left+(Xe.scrollLeft||He.body.scrollLeft)-Xe.clientLeft,Mt=Wt.top+(Xe.scrollTop||He.body.scrollTop)-Xe.clientTop)),{left:nt,top:Mt})},push:y,sort:[].sort,splice:[].splice},U.extend(E,{extend:U.extend,makeArray:function(ye){return function _(ye){return ye&&ye==ye.window}(ye)||ye.nodeType?[ye]:U.toArray(ye)},inArray:function H(ye,Ie){var He;if(Ie.indexOf)return Ie.indexOf(ye);for(He=Ie.length;He--;)if(Ie[He]===ye)return He;return-1},isArray:U.isArray,each:O,trim:q,grep:$,find:ie,expr:ie.selectors,unique:ie.uniqueSort,text:ie.getText,contains:ie.contains,filter:function(ye,Ie,He){var Xe=Ie.length;for(He&&(ye=":not("+ye+")");Xe--;)1!=Ie[Xe].nodeType&&Ie.splice(Xe,1);return 1===Ie.length?E.find.matchesSelector(Ie[0],ye)?[Ie[0]]:[]:E.find.matches(ye,Ie)}}),O({parent:function(ye){var Ie=ye.parentNode;return Ie&&11!==Ie.nodeType?Ie:null},parents:function(ye){return re(ye,"parentNode")},next:function(ye){return R(ye,"nextSibling",1)},prev:function(ye){return R(ye,"previousSibling",1)},children:function(ye){return N(ye.firstChild,"nextSibling",1)},contents:function(ye){return U.toArray(("iframe"===ye.nodeName?ye.contentDocument||ye.contentWindow.document:ye).childNodes)}},function(ye,Ie){E.fn[ye]=function(He){var nt=[];return this.each(function(){var Mt=Ie.call(nt,this,He,nt);Mt&&(E.isArray(Mt)?nt.push.apply(nt,Mt):nt.push(Mt))}),this.length>1&&(_e[ye]||(nt=E.unique(nt)),0===ye.indexOf("parents")&&(nt=nt.reverse())),nt=E(nt),He?nt.filter(He):nt}}),O({parentsUntil:function(ye,Ie){return re(ye,"parentNode",Ie)},nextUntil:function(ye,Ie){return N(ye,"nextSibling",1,Ie).slice(1)},prevUntil:function(ye,Ie){return N(ye,"previousSibling",1,Ie).slice(1)}},function(ye,Ie){E.fn[ye]=function(He,Xe){var Mt=[];return this.each(function(){var Wt=Ie.call(Mt,this,He,Mt);Wt&&(E.isArray(Wt)?Mt.push.apply(Mt,Wt):Mt.push(Wt))}),this.length>1&&(Mt=E.unique(Mt),0!==ye.indexOf("parents")&&"prevUntil"!==ye||(Mt=Mt.reverse())),Mt=E(Mt),Xe?Mt.filter(Xe):Mt}}),E.fn.is=function(ye){return!!ye&&this.filter(ye).length>0},E.fn.init.prototype=E.fn,E.overrideDefaults=function(ye){function Ie(Xe,nt){return He=He||ye(),0===arguments.length&&(Xe=He.element),nt||(nt=He.context),new Ie.fn.init(Xe,nt)}var He;return E.extend(Ie,this),Ie},z.ie&&z.ie<8&&(A(Oe,"get",{maxlength:function(ye){var Ie=ye.maxLength;return 2147483647===Ie?fe:Ie},size:function(ye){var Ie=ye.size;return 20===Ie?fe:Ie},class:function(ye){return ye.className},style:function(ye){var Ie=ye.style.cssText;return 0===Ie.length?fe:Ie}}),A(Oe,"set",{class:function(ye,Ie){ye.className=Ie},style:function(ye,Ie){ye.style.cssText=Ie}})),z.ie&&z.ie<9&&(ze.float="styleFloat",A(je,"set",{opacity:function(ye,Ie){var He=ye.style;null===Ie||""===Ie?He.removeAttribute("filter"):(He.zoom=1,He.filter="alpha(opacity="+100*Ie+")")}})),E.attrHooks=Oe,E.cssHooks=je,E}),xe(se,[],function(){return function(me,ie){function U(q,O,$,F){function re(N){return(N=parseInt(N,10).toString(16)).length>1?N:"0"+N}return"#"+re(O)+re($)+re(F)}var w,j,P,E,z=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,D=/\s*([^:]+):\s*([^;]+);?/g,_=/\s+$/,M={};for(me=me||{},ie&&(P=ie.getValidStyles(),E=ie.getInvalidStyles()),j="\\\" \\' \\; \\: ; : \ufeff".split(" "),w=0;w<j.length;w++)M[j[w]]="\ufeff"+w,M["\ufeff"+w]=j[w];return{toHex:function(q){return q.replace(z,U)},parse:function(q){function O(Ee,Re,ze){var Oe,je,Ye,ye;if((Oe=y[Ee+"-top"+Re])&&(je=y[Ee+"-right"+Re])&&(Ye=y[Ee+"-bottom"+Re])&&(ye=y[Ee+"-left"+Re])){var Ie=[Oe,je,Ye,ye];for(w=Ie.length-1;w--&&Ie[w]===Ie[w+1];);w>-1&&ze||(y[Ee+Re]=-1==w?Ie[0]:Ie.join(" "),delete y[Ee+"-top"+Re],delete y[Ee+"-right"+Re],delete y[Ee+"-bottom"+Re],delete y[Ee+"-left"+Re])}}function $(Ee){var ze,Re=y[Ee];if(Re){for(ze=(Re=Re.split(" ")).length;ze--;)if(Re[ze]!==Re[0])return!1;return y[Ee]=Re[0],!0}}function re(Ee){return fe=!0,M[Ee]}function N(Ee,Re){return fe&&(Ee=Ee.replace(/\uFEFF[0-9]/g,function(ze){return M[ze]})),Re||(Ee=Ee.replace(/\\([\'\";:])/g,"$1")),Ee}function R(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))}function A(Ee){return Ee.replace(/\\[0-9a-f]+/gi,R)}function v(Ee,Re,ze,Oe,je,Ye){if(je=je||Ye)return"'"+(je=N(je)).replace(/\'/g,"\\'")+"'";if(Re=N(Re||ze||Oe),!me.allow_script_urls){var ye=Re.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ye)||!me.allow_svg_data_urls&&/^data:image\/svg/i.test(ye))return""}return _e&&(Re=_e.call(Ve,Re,"style")),"url('"+Re.replace(/\'/g,"\\'")+"')"}var Z,oe,J,fe,y={},_e=me.url_converter,Ve=me.url_converter_scope||this;if(q){for(q=(q=q.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,re).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ee){return Ee.replace(/[;:]/g,re)});Z=D.exec(q);)if(D.lastIndex=Z.index+Z[0].length,oe=Z[1].replace(_,"").toLowerCase(),J=Z[2].replace(_,""),oe&&J){if(oe=A(oe),J=A(J),-1!==oe.indexOf("\ufeff")||-1!==oe.indexOf('"')||!me.allow_script_urls&&("behavior"==oe||/expression\s*\(|\/\*|\*\//.test(J)))continue;"font-weight"===oe&&"700"===J?J="bold":"color"!==oe&&"background-color"!==oe||(J=J.toLowerCase()),J=(J=J.replace(z,U)).replace(C,v),y[oe]=fe?N(J,!0):J}O("border","",!0),O("border","-width"),O("border","-color"),O("border","-style"),O("padding",""),O("margin",""),function F(Ee,Re,ze,Oe){$(Re)&&$(ze)&&$(Oe)&&(y[Ee]=y[Re]+" "+y[ze]+" "+y[Oe],delete y[Re],delete y[ze],delete y[Oe])}("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(q,O){function $(A){var v,y,Z,oe;if(v=P[A])for(y=0,Z=v.length;y<Z;y++)(oe=q[A=v[y]])&&(re+=(re.length>0?" ":"")+A+": "+oe+";")}var N,R,A,y,re="";if(O&&P)$("*"),$(O);else for(N in q)!(R=q[N])||E&&(A=N,y=void 0,(y=E["*"])&&y[A]||(y=E[O])&&y[A])||(re+=(re.length>0?" ":"")+N+": "+R+";");return re}}}}),xe(ne,[],function(){return function(me,ie){function U(D,_,w,M){var j,P;if(D){if(!M&&D[_])return D[_];if(D!=ie){if(j=D[w])return j;for(P=D.parentNode;P&&P!=ie;P=P.parentNode)if(j=P[w])return j}}}var C=me;this.current=function(){return C},this.next=function(D){return C=U(C,"firstChild","nextSibling",D)},this.prev=function(D){return C=U(C,"lastChild","previousSibling",D)},this.prev2=function(D){return C=function z(D,_,w,M){var j,P,E;if(D){if(j=D[w],ie&&j===ie)return;if(j){if(!M)for(E=j[_];E;E=E[_])if(!E[_])return E;return j}if((P=D.parentNode)&&P!==ie)return P}}(C,"lastChild","previousSibling",D)}}}),xe(pe,[Y],function(me){function ie(U){function z(){return ye.createDocumentFragment()}function C(Se,Ue){Z(nt,Se,Ue)}function D(Se,Ue){Z(Mt,Se,Ue)}function _(Se){C(Se.parentNode,Ae(Se))}function j(Se){D(Se.parentNode,Ae(Se)+1)}function F(){return oe(He)}function A(Se,Ue){var at;if(3==Se.nodeType||Ue<0)return Se;for(at=Se.firstChild;at&&Ue>0;)--Ue,at=at.nextSibling;return at||Se}function y(Se,Ue,at,vt){var _t,ct,Lt,It,Dt,Ot;if(Se==at)return Ue==vt?0:Ue<vt?-1:1;for(_t=at;_t&&_t.parentNode!=Se;)_t=_t.parentNode;if(_t){for(ct=0,Lt=Se.firstChild;Lt!=_t&&ct<Ue;)ct++,Lt=Lt.nextSibling;return Ue<=ct?-1:1}for(_t=Se;_t&&_t.parentNode!=at;)_t=_t.parentNode;if(_t){for(ct=0,Lt=at.firstChild;Lt!=_t&&ct<vt;)ct++,Lt=Lt.nextSibling;return ct<vt?-1:1}for(It=U.findCommonAncestor(Se,at),Dt=Se;Dt&&Dt.parentNode!=It;)Dt=Dt.parentNode;for(Dt||(Dt=It),Ot=at;Ot&&Ot.parentNode!=It;)Ot=Ot.parentNode;if(Ot||(Ot=It),Dt==Ot)return 0;for(Lt=It.firstChild;Lt;){if(Lt==Dt)return-1;if(Lt==Ot)return 1;Lt=Lt.nextSibling}}function Z(Se,Ue,at){var vt,_t;for(Se?(Ye[Kt]=Ue,Ye[Wt]=at):(Ye[un]=Ue,Ye[Qt]=at),vt=Ye[un];vt.parentNode;)vt=vt.parentNode;for(_t=Ye[Kt];_t.parentNode;)_t=_t.parentNode;_t==vt?y(Ye[Kt],Ye[Wt],Ye[un],Ye[Qt])>0&&Ye.collapse(Se):Ye.collapse(Se),Ye.collapsed=function v(){return Ye[Kt]==Ye[un]&&Ye[Wt]==Ye[Qt]}(),Ye.commonAncestorContainer=U.findCommonAncestor(Ye[Kt],Ye[un])}function oe(Se){var Ue,_t,ct,Lt,It,Dt,Ot,at=0,vt=0;if(Ye[Kt]==Ye[un])return function J(Se){var Ue,vt,_t,ct,Lt,It,Dt,Ot;if(Se!=Xe&&(Ue=z()),Ye[Wt]==Ye[Qt])return Ue;if(3==Ye[Kt].nodeType)return vt=Ye[Kt].nodeValue.substring(Ye[Wt],Ye[Qt]),Se!=He&&(_t=Ye[Kt],Ot=Ye[Qt]-Ye[Wt],0===(Dt=Ye[Wt])&&Ot>=_t.nodeValue.length-1?_t.parentNode.removeChild(_t):_t.deleteData(Dt,Ot),Ye.collapse(nt)),Se==Xe?void 0:(vt.length>0&&Ue.appendChild(ye.createTextNode(vt)),Ue);for(_t=A(Ye[Kt],Ye[Wt]),ct=Ye[Qt]-Ye[Wt];_t&&ct>0;)Lt=_t.nextSibling,It=Oe(_t,Se),Ue&&Ue.appendChild(It),--ct,_t=Lt;return Se!=He&&Ye.collapse(nt),Ue}(Se);for(_t=(Ue=Ye[un]).parentNode;_t;Ue=_t,_t=_t.parentNode){if(_t==Ye[Kt])return fe(Ue,Se);++at}for(_t=(Ue=Ye[Kt]).parentNode;_t;Ue=_t,_t=_t.parentNode){if(_t==Ye[un])return _e(Ue,Se);++vt}for(ct=vt-at,Lt=Ye[Kt];ct>0;)Lt=Lt.parentNode,ct--;for(It=Ye[un];ct<0;)It=It.parentNode,ct++;for(Dt=Lt.parentNode,Ot=It.parentNode;Dt!=Ot;Dt=Dt.parentNode,Ot=Ot.parentNode)Lt=Dt,It=Ot;return function Ve(Se,Ue,at){var vt,_t,ct,It,Dt,Ot;for(at!=Xe&&(_t=z()),vt=Re(Se,at),_t&&_t.appendChild(vt),ct=Ae(Se),It=Ae(Ue)-++ct,Dt=Se.nextSibling;It>0;)Ot=Dt.nextSibling,vt=Oe(Dt,at),_t&&_t.appendChild(vt),Dt=Ot,--It;return vt=Ee(Ue,at),_t&&_t.appendChild(vt),at!=He&&(Ye.setStartAfter(Se),Ye.collapse(nt)),_t}(Lt,It,Se)}function fe(Se,Ue){var at,vt,ct,Lt,It;if(Ue!=Xe&&(at=z()),vt=Ee(Se,Ue),at&&at.appendChild(vt),(ct=Ae(Se)-Ye[Wt])<=0)return Ue!=He&&(Ye.setEndBefore(Se),Ye.collapse(Mt)),at;for(vt=Se.previousSibling;ct>0;)Lt=vt.previousSibling,It=Oe(vt,Ue),at&&at.insertBefore(It,at.firstChild),--ct,vt=Lt;return Ue!=He&&(Ye.setEndBefore(Se),Ye.collapse(Mt)),at}function _e(Se,Ue){var at,vt,_t,ct,Lt,It;for(Ue!=Xe&&(at=z()),_t=Re(Se,Ue),at&&at.appendChild(_t),vt=Ae(Se),++vt,ct=Ye[Qt]-vt,_t=Se.nextSibling;_t&&ct>0;)Lt=_t.nextSibling,It=Oe(_t,Ue),at&&at.appendChild(It),--ct,_t=Lt;return Ue!=He&&(Ye.setStartAfter(Se),Ye.collapse(nt)),at}function Ee(Se,Ue){var vt,_t,ct,Lt,It,at=A(Ye[un],Ye[Qt]-1),Dt=at!=Ye[un];if(at==Se)return ze(at,Dt,Mt,Ue);for(_t=ze(vt=at.parentNode,Mt,Mt,Ue);vt;){for(;at;)ct=at.previousSibling,Lt=ze(at,Dt,Mt,Ue),Ue!=Xe&&_t.insertBefore(Lt,_t.firstChild),Dt=nt,at=ct;if(vt==Se)return _t;at=vt.previousSibling,It=ze(vt=vt.parentNode,Mt,Mt,Ue),Ue!=Xe&&It.appendChild(_t),_t=It}}function Re(Se,Ue){var _t,ct,Lt,It,Dt,at=A(Ye[Kt],Ye[Wt]),vt=at!=Ye[Kt];if(at==Se)return ze(at,vt,nt,Ue);for(ct=ze(_t=at.parentNode,Mt,nt,Ue);_t;){for(;at;)Lt=at.nextSibling,It=ze(at,vt,nt,Ue),Ue!=Xe&&ct.appendChild(It),vt=nt,at=Lt;if(_t==Se)return ct;at=_t.nextSibling,Dt=ze(_t=_t.parentNode,Mt,nt,Ue),Ue!=Xe&&Dt.appendChild(ct),ct=Dt}}function ze(Se,Ue,at,vt){var _t,ct,Lt,It,Dt;return Ue?Oe(Se,vt):3==Se.nodeType?(_t=Se.nodeValue,at?(ct=_t.substring(It=Ye[Wt]),Lt=_t.substring(0,It)):(ct=_t.substring(0,It=Ye[Qt]),Lt=_t.substring(It)),vt!=He&&(Se.nodeValue=Lt),vt==Xe?void 0:((Dt=U.clone(Se,Mt)).nodeValue=ct,Dt)):vt!=Xe?U.clone(Se,Mt):void 0}function Oe(Se,Ue){return Ue!=Xe?Ue==He?U.clone(Se,nt):Se:void Se.parentNode.removeChild(Se)}var Ye=this,ye=U.doc,He=1,Xe=2,nt=!0,Mt=!1,Wt="startOffset",Kt="startContainer",un="endContainer",Qt="endOffset",tt=me.extend,Ae=U.nodeIndex;return tt(Ye,{startContainer:ye,startOffset:0,endContainer:ye,endOffset:0,collapsed:nt,commonAncestorContainer:ye,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:C,setEnd:D,setStartBefore:_,setStartAfter:function w(Se){C(Se.parentNode,Ae(Se)+1)},setEndBefore:function M(Se){D(Se.parentNode,Ae(Se))},setEndAfter:j,collapse:function P(Se){Se?(Ye[un]=Ye[Kt],Ye[Qt]=Ye[Wt]):(Ye[Kt]=Ye[un],Ye[Wt]=Ye[Qt]),Ye.collapsed=nt},selectNode:function E(Se){_(Se),j(Se)},selectNodeContents:function H(Se){C(Se,0),D(Se,1===Se.nodeType?Se.childNodes.length:Se.nodeValue.length)},compareBoundaryPoints:function q(Se,Ue){var at=Ye[Kt],vt=Ye[Wt],_t=Ye[un],ct=Ye[Qt],Lt=Ue.startContainer,It=Ue.startOffset,Dt=Ue.endContainer,Ot=Ue.endOffset;return 0===Se?y(at,vt,Lt,It):1===Se?y(_t,ct,Lt,It):2===Se?y(_t,ct,Dt,Ot):3===Se?y(at,vt,Dt,Ot):void 0},deleteContents:function O(){oe(Xe)},extractContents:function $(){return oe(0)},cloneContents:F,insertNode:function re(Se){var vt,_t,Ue=this[Kt],at=this[Wt];3!==Ue.nodeType&&4!==Ue.nodeType||!Ue.nodeValue?(Ue.childNodes.length>0&&(_t=Ue.childNodes[at]),_t?Ue.insertBefore(Se,_t):3==Ue.nodeType?U.insertAfter(Se,Ue):Ue.appendChild(Se)):at?at>=Ue.nodeValue.length?U.insertAfter(Se,Ue):(vt=Ue.splitText(at),Ue.parentNode.insertBefore(Se,vt)):Ue.parentNode.insertBefore(Se,Ue)},surroundContents:function N(Se){var Ue=Ye.extractContents();Ye.insertNode(Se),Se.appendChild(Ue),Ye.selectNode(Se)},cloneRange:function R(){return tt(new ie(U),{startContainer:Ye[Kt],startOffset:Ye[Wt],endContainer:Ye[un],endOffset:Ye[Qt],collapsed:Ye.collapsed,commonAncestorContainer:Ye.commonAncestorContainer})},toStringIE:function je(){return U.create("body",null,F()).outerText}}),Ye}return ie.prototype.toString=function(){return this.toStringIE()},ie}),xe(we,[Y],function(me){function U(q,O){var $,F,re,N={};if(q){for(q=q.split(","),O=O||10,$=0;$<q.length;$+=2)F=String.fromCharCode(parseInt(q[$],O)),D[F]||(N[F]=re="&"+q[$+1]+";",N[re]=F);return N}}var C,D,_,z=me.makeMap,w=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\"\']/g,P=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,E={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};D={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},_={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},C=U("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var H={encodeRaw:function(q,O){return q.replace(O?w:M,function($){return D[$]||$})},encodeAllRaw:function(q){return(""+q).replace(j,function(O){return D[O]||O})},encodeNumeric:function(q,O){return q.replace(O?w:M,function($){return $.length>1?"&#"+(1024*($.charCodeAt(0)-55296)+($.charCodeAt(1)-56320)+65536)+";":D[$]||"&#"+$.charCodeAt(0)+";"})},encodeNamed:function(q,O,$){return $=$||C,q.replace(O?w:M,function(F){return D[F]||$[F]||F})},getEncodeFunc:function(q,O){return O=U(O)||C,(q=z(q.replace(/\+/g,","))).named&&q.numeric?function $(re,N){return re.replace(N?w:M,function(R){return D[R]||O[R]||"&#"+R.charCodeAt(0)+";"||R})}:q.named?O?function F(re,N){return H.encodeNamed(re,N,O)}:H.encodeNamed:q.numeric?H.encodeNumeric:H.encodeRaw},decode:function(q){return q.replace(P,function(O,$){return $?($="x"===$.charAt(0).toLowerCase()?parseInt($.substr(1),16):parseInt($,10))>65535?($-=65536,String.fromCharCode(55296+($>>10),56320+(1023&$))):E[$]||String.fromCharCode($):_[O]||C[O]||function ie(q){var O;return(O=document.createElement("div")).innerHTML=q,O.textContent||O.innerText||q}(O)})}};return H}),xe(Le,[Y,I],function(me,ie){return function(U,z){function C(j){U.getElementsByTagName("head")[0].appendChild(j)}var M,_=0,w={};M=(z=z||{}).maxLoadTime||5e3,this.load=function D(j,P,E){function H(){for(var y=v.passed,Z=y.length;Z--;)y[Z]();v.status=2,v.passed=[],v.failed=[]}function q(){for(var y=v.failed,Z=y.length;Z--;)y[Z]();v.status=3,v.passed=[],v.failed=[]}function $(y,Z){y()||((new Date).getTime()-A<M?ie.setTimeout(Z):q())}function F(){$(function(){for(var Z,J,y=U.styleSheets,oe=y.length;oe--;)if((J=(Z=y[oe]).ownerNode?Z.ownerNode:Z.owningElement)&&J.id===N.id)return H(),!0},F)}var N,R,A,v;if(j=me._addCacheSuffix(j),w[j]?v=w[j]:w[j]=v={passed:[],failed:[]},P&&v.passed.push(P),E&&v.failed.push(E),1!=v.status){if(2==v.status)return void H();if(3==v.status)return void q();if(v.status=1,(N=U.createElement("link")).rel="stylesheet",N.type="text/css",N.id="u"+_++,N.async=!1,N.defer=!1,A=(new Date).getTime(),"onload"in N&&!function O(){var y=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(y&&y[1]<536)}())N.onload=F,N.onerror=q;else{if(navigator.userAgent.indexOf("Firefox")>0)return(R=U.createElement("style")).textContent='@import "'+j+'"',function re(){$(function(){try{var y=R.sheet.cssRules;return H(),!!y}catch{}},re)}(),void C(R);F()}C(N),N.href=j}}}}),xe(ve,[T,ae,se,X,ne,pe,we,G,Y,Le],function(me,ie,U,z,C,D,_,w,M,j){function E(v,y){var Z=y.attr("style");(Z=v.serializeStyle(v.parseStyle(Z),y[0].nodeName))||(Z=null),y.attr("data-mce-style",Z)}function H(v,y){var oe,J,Z=0;if(v)for(oe=v.nodeType,v=v.previousSibling;v;v=v.previousSibling)J=v.nodeType,(!y||3!=J||J!=oe&&v.nodeValue.length)&&(Z++,oe=J);return Z}function q(v,y){var oe,Z=this;Z.doc=v,Z.win=window,Z.files={},Z.counter=0,Z.stdMode=!N||v.documentMode>=8,Z.boxModel=!N||"CSS1Compat"==v.compatMode||Z.stdMode,Z.styleSheetLoader=new j(v),Z.boundEvents=[],Z.settings=y=y||{},Z.schema=y.schema,Z.styles=new U({url_converter:y.url_converter,url_converter_scope:y.url_converter_scope},y.schema),Z.fixDoc(v),Z.events=y.ownEvents?new z(y.proxy):z.Event,Z.attrHooks=function P(v,y){var Z={},oe=y.keep_values;return Z={style:{set:function(fe,_e){return null!==_e&&"object"==typeof _e?void fe.css(_e):(oe&&fe.attr("data-mce-style",_e),void fe.attr("style",_e))},get:function(fe){var _e=fe.attr("data-mce-style")||fe.attr("style");return v.serializeStyle(v.parseStyle(_e),fe[0].nodeName)}}},oe&&(Z.href=Z.src={set:function(fe,_e,Ve){y.url_converter&&(_e=y.url_converter.call(y.url_converter_scope||v,_e,Ve,fe[0])),fe.attr("data-mce-"+Ve,_e).attr(Ve,_e)},get:function(fe,_e){return fe.attr("data-mce-"+_e)||fe.attr(_e)}}),Z}(Z,y),oe=y.schema?y.schema.getBlockElements():{},Z.$=ie.overrideDefaults(function(){return{context:v,element:Z.getRoot()}}),Z.isBlock=function(J){if(!J)return!1;var fe=J.nodeType;return fe?!(1!==fe||!oe[J.nodeName]):!!oe[J]}}var O=M.each,$=M.is,F=M.grep,re=M.trim,N=w.ie,R=/^([a-z0-9],?)+$/i,A=/^[ \t\r\n]*$/;return q.prototype={$$:function(v){return"string"==typeof v&&(v=this.get(v)),this.$(v)},root:null,fixDoc:function(v){var Z,y=this.settings;if(N&&y.schema)for(Z in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(oe){v.createElement(oe)}),y.schema.getCustomElements())v.createElement(Z)},clone:function(v,y){var oe,Z=this;return!N||1!==v.nodeType||y?v.cloneNode(y):y?oe.firstChild:(oe=Z.doc.createElement(v.nodeName),O(Z.getAttribs(v),function(fe){Z.setAttrib(oe,fe.nodeName,Z.getAttrib(v,fe.nodeName))}),oe)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(v){var y,Z;return y=(v=v||this.win).document,Z=this.boxModel?y.documentElement:y.body,{x:v.pageXOffset||Z.scrollLeft,y:v.pageYOffset||Z.scrollTop,w:v.innerWidth||Z.clientWidth,h:v.innerHeight||Z.clientHeight}},getRect:function(v){var Z,oe,y=this;return v=y.get(v),Z=y.getPos(v),oe=y.getSize(v),{x:Z.x,y:Z.y,w:oe.w,h:oe.h}},getSize:function(v){var Z,oe,y=this;return v=y.get(v),Z=y.getStyle(v,"width"),oe=y.getStyle(v,"height"),-1===Z.indexOf("px")&&(Z=0),-1===oe.indexOf("px")&&(oe=0),{w:parseInt(Z,10)||v.offsetWidth||v.clientWidth,h:parseInt(oe,10)||v.offsetHeight||v.clientHeight}},getParent:function(v,y,Z){return this.getParents(v,y,Z,!1)},getParents:function(v,y,Z,oe){var fe,J=this,_e=[];for(v=J.get(v),oe=oe===St,Z=Z||("BODY"!=J.getRoot().nodeName?J.getRoot().parentNode:null),$(y,"string")&&(fe=y,y="*"===y?function(Ve){return 1==Ve.nodeType}:function(Ve){return J.is(Ve,fe)});v&&v!=Z&&v.nodeType&&9!==v.nodeType;){if(!y||y(v)){if(!oe)return v;_e.push(v)}v=v.parentNode}return oe?_e:null},get:function(v){var y;return v&&this.doc&&"string"==typeof v&&(y=v,(v=this.doc.getElementById(v))&&v.id!==y)?this.doc.getElementsByName(y)[1]:v},getNext:function(v,y){return this._findSib(v,y,"nextSibling")},getPrev:function(v,y){return this._findSib(v,y,"previousSibling")},select:function(v,y){var Z=this;return me(v,Z.get(y)||Z.settings.root_element||Z.doc,[])},is:function(v,y){var Z;if(v.length===St){if("*"===y)return 1==v.nodeType;if(R.test(y)){for(y=y.toLowerCase().split(/,/),v=v.nodeName.toLowerCase(),Z=y.length-1;Z>=0;Z--)if(y[Z]==v)return!0;return!1}}if(v.nodeType&&1!=v.nodeType)return!1;var oe=v.nodeType?[v]:v;return me(y,oe[0].ownerDocument||oe[0],null,oe).length>0},add:function(v,y,Z,oe,J){var fe=this;return this.run(v,function(_e){var Ve;return Ve=$(y,"string")?fe.doc.createElement(y):y,fe.setAttribs(Ve,Z),oe&&(oe.nodeType?Ve.appendChild(oe):fe.setHTML(Ve,oe)),J?Ve:_e.appendChild(Ve)})},create:function(v,y,Z){return this.add(this.doc.createElement(v),v,y,Z,1)},createHTML:function(v,y,Z){var J,oe="";for(J in oe+="<"+v,y)y.hasOwnProperty(J)&&null!==y[J]&&typeof y[J]<"u"&&(oe+=" "+J+'="'+this.encode(y[J])+'"');return typeof Z<"u"?oe+">"+Z+"</"+v+">":oe+" />"},createFragment:function(v){var y,Z,J,oe=this.doc;for(J=oe.createElement("div"),y=oe.createDocumentFragment(),v&&(J.innerHTML=v);Z=J.firstChild;)y.appendChild(Z);return y},remove:function(v,y){return v=this.$$(v),y?v.each(function(){for(var Z;Z=this.firstChild;)3==Z.nodeType&&0===Z.data.length?this.removeChild(Z):this.parentNode.insertBefore(Z,this)}).remove():v.remove(),v.length>1?v.toArray():v[0]},setStyle:function(v,y,Z){v=this.$$(v).css(y,Z),this.settings.update_styles&&E(this,v)},getStyle:function(v,y,Z){return v=this.$$(v),Z?v.css(y):("float"==(y=y.replace(/-(\D)/g,function(oe,J){return J.toUpperCase()}))&&(y=w.ie&&w.ie<12?"styleFloat":"cssFloat"),v[0]&&v[0].style?v[0].style[y]:St)},setStyles:function(v,y){v=this.$$(v).css(y),this.settings.update_styles&&E(this,v)},removeAllAttribs:function(v){return this.run(v,function(y){var Z,oe=y.attributes;for(Z=oe.length-1;Z>=0;Z--)y.removeAttributeNode(oe.item(Z))})},setAttrib:function(v,y,Z){var J,fe,_e=this.settings;""===Z&&(Z=null),J=(v=this.$$(v)).attr(y),v.length&&((fe=this.attrHooks[y])&&fe.set?fe.set(v,Z,y):v.attr(y,Z),J!=Z&&_e.onSetAttrib&&_e.onSetAttrib({attrElm:v,attrName:y,attrValue:Z}))},setAttribs:function(v,y){var Z=this;Z.$$(v).each(function(oe,J){O(y,function(fe,_e){Z.setAttrib(J,_e,fe)})})},getAttrib:function(v,y,Z){var J,fe;return(v=this.$$(v)).length&&(fe=(J=this.attrHooks[y])&&J.get?J.get(v,y):v.attr(y)),typeof fe>"u"&&(fe=Z||""),fe},getPos:function(v,y){var fe,Ee,Z=this,oe=0,J=0,_e=Z.doc,Ve=_e.body;if(y=y||Ve,v=Z.get(v)){if(y===Ve&&v.getBoundingClientRect&&"static"===ie(Ve).css("position"))return{x:oe=(Ee=v.getBoundingClientRect()).left+(_e.documentElement.scrollLeft||Ve.scrollLeft)-(y=Z.boxModel?_e.documentElement:Ve).clientLeft,y:J=Ee.top+(_e.documentElement.scrollTop||Ve.scrollTop)-y.clientTop};for(fe=v;fe&&fe!=y&&fe.nodeType;)oe+=fe.offsetLeft||0,J+=fe.offsetTop||0,fe=fe.offsetParent;for(fe=v.parentNode;fe&&fe!=y&&fe.nodeType;)oe-=fe.scrollLeft||0,J-=fe.scrollTop||0,fe=fe.parentNode}return{x:oe,y:J}},parseStyle:function(v){return this.styles.parse(v)},serializeStyle:function(v,y){return this.styles.serialize(v,y)},addStyle:function(v){var oe,J,Z=this.doc;if(this!==q.DOM&&Z===document){var fe=q.DOM.addedStyles;if((fe=fe||[])[v])return;fe[v]=!0,q.DOM.addedStyles=fe}(J=Z.getElementById("mceDefaultStyles"))||((J=Z.createElement("style")).id="mceDefaultStyles",J.type="text/css",(oe=Z.getElementsByTagName("head")[0]).firstChild?oe.insertBefore(J,oe.firstChild):oe.appendChild(J)),J.styleSheet?J.styleSheet.cssText+=v:J.appendChild(Z.createTextNode(v))},loadCSS:function(v){var oe,y=this,Z=y.doc;return y!==q.DOM&&Z===document?void q.DOM.loadCSS(v):(v||(v=""),oe=Z.getElementsByTagName("head")[0],void O(v.split(","),function(J){var fe;J=M._addCacheSuffix(J),y.files[J]||(y.files[J]=!0,fe=y.create("link",{rel:"stylesheet",href:J}),N&&Z.documentMode&&Z.recalc&&(fe.onload=function(){Z.recalc&&Z.recalc(),fe.onload=null}),oe.appendChild(fe))}))},addClass:function(v,y){this.$$(v).addClass(y)},removeClass:function(v,y){this.toggleClass(v,y,!1)},hasClass:function(v,y){return this.$$(v).hasClass(y)},toggleClass:function(v,y,Z){this.$$(v).toggleClass(y,Z).each(function(){""===this.className&&ie(this).attr("class",null)})},show:function(v){this.$$(v).show()},hide:function(v){this.$$(v).hide()},isHidden:function(v){return"none"==this.$$(v).css("display")},uniqueId:function(v){return(v||"mce_")+this.counter++},setHTML:function(v,y){v=this.$$(v),N?v.each(function(Z,oe){if(!1!==oe.canHaveHTML){for(;oe.firstChild;)oe.removeChild(oe.firstChild);try{oe.innerHTML="<br>"+y,oe.removeChild(oe.firstChild)}catch{ie("<div></div>").html("<br>"+y).contents().slice(1).appendTo(oe)}return y}}):v.html(y)},getOuterHTML:function(v){return 1==(v=this.get(v)).nodeType&&"outerHTML"in v?v.outerHTML:ie("<div></div>").append(ie(v).clone()).html()},setOuterHTML:function(v,y){var Z=this;Z.$$(v).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=y)}catch{}Z.remove(ie(this).html(y),!0)})},decode:_.decode,encode:_.encodeAllRaw,insertAfter:function(v,y){return y=this.get(y),this.run(v,function(Z){var oe,J;return oe=y.parentNode,(J=y.nextSibling)?oe.insertBefore(Z,J):oe.appendChild(Z),Z})},replace:function(v,y,Z){return this.run(y,function(J){return $(J,"array")&&(v=v.cloneNode(!0)),Z&&O(F(J.childNodes),function(fe){v.appendChild(fe)}),J.parentNode.replaceChild(v,J)})},rename:function(v,y){var oe,Z=this;return v.nodeName!=y.toUpperCase()&&(oe=Z.create(y),O(Z.getAttribs(v),function(J){Z.setAttrib(oe,J.nodeName,Z.getAttrib(v,J.nodeName))}),Z.replace(oe,v,1)),oe||v},findCommonAncestor:function(v,y){for(var oe,Z=v;Z;){for(oe=y;oe&&Z!=oe;)oe=oe.parentNode;if(Z==oe)break;Z=Z.parentNode}return!Z&&v.ownerDocument?v.ownerDocument.documentElement:Z},toHex:function(v){return this.styles.toHex(M.trim(v))},run:function(v,y,Z){var J,oe=this;return"string"==typeof v&&(v=oe.get(v)),!!v&&(Z=Z||this,v.nodeType||!v.length&&0!==v.length?y.call(Z,v):(J=[],O(v,function(fe,_e){fe&&("string"==typeof fe&&(fe=oe.get(fe)),J.push(y.call(Z,fe,_e)))}),J))},getAttribs:function(v){var y;return(v=this.get(v))?N?(y=[],"OBJECT"==v.nodeName?v.attributes:("OPTION"===v.nodeName&&this.getAttrib(v,"selected")&&y.push({specified:1,nodeName:"selected"}),v.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(oe){y.push({specified:1,nodeName:oe})}),y)):v.attributes:[]},isEmpty:function(v,y){var oe,J,fe,_e,Ve,Ee,Z=this,Re=0;if(v=v.firstChild){Ve=new C(v,v.parentNode),y=y||(Z.schema?Z.schema.getNonEmptyElements():null),_e=Z.schema?Z.schema.getWhiteSpaceElements():{};do{if(1===(fe=v.nodeType)){var ze=v.getAttribute("data-mce-bogus");if(ze){v=Ve.next("all"===ze);continue}if(Ee=v.nodeName.toLowerCase(),y&&y[Ee]){if("br"===Ee){Re++,v=Ve.next();continue}return!1}for(oe=(J=Z.getAttribs(v)).length;oe--;)if("name"===(Ee=J[oe].nodeName)||"data-mce-bookmark"===Ee)return!1}if(8==fe||3===fe&&!A.test(v.nodeValue)||3===fe&&v.parentNode&&_e[v.parentNode.nodeName]&&A.test(v.nodeValue))return!1;v=Ve.next()}while(v)}return Re<=1},createRng:function(){var v=this.doc;return v.createRange?v.createRange():new D(this)},nodeIndex:H,split:function(v,y,Z){function oe(Re){var Oe,je=Re.childNodes,Ye=Re.nodeType;if(1!=Ye||"bookmark"!=Re.getAttribute("data-mce-type")){for(Oe=je.length-1;Oe>=0;Oe--)oe(je[Oe]);if(9!=Ye){if(3==Ye&&Re.nodeValue.length>0){var ye=re(Re.nodeValue).length;if(!J.isBlock(Re.parentNode)||ye>0||0===ye&&function ze(Ie){return Ie.previousSibling&&"SPAN"==Ie.previousSibling.nodeName&&Ie.nextSibling&&"SPAN"==Ie.nextSibling.nodeName}(Re))return}else if(1==Ye&&(1==(je=Re.childNodes).length&&je[0]&&1==je[0].nodeType&&"bookmark"==je[0].getAttribute("data-mce-type")&&Re.parentNode.insertBefore(je[0],Re),je.length||/^(br|hr|input|img)$/i.test(Re.nodeName)))return;J.remove(Re)}return Re}}var _e,Ve,Ee,J=this,fe=J.createRng();if(v&&y)return fe.setStart(v.parentNode,J.nodeIndex(v)),fe.setEnd(y.parentNode,J.nodeIndex(y)),_e=fe.extractContents(),(fe=J.createRng()).setStart(y.parentNode,J.nodeIndex(y)+1),fe.setEnd(v.parentNode,J.nodeIndex(v)+1),Ve=fe.extractContents(),(Ee=v.parentNode).insertBefore(oe(_e),v),Ee.insertBefore(Z||y,v),Ee.insertBefore(oe(Ve),v),J.remove(v),Z||y},bind:function(v,y,Z,oe){var J=this;if(M.isArray(v)){for(var fe=v.length;fe--;)v[fe]=J.bind(v[fe],y,Z,oe);return v}return!J.settings.collect||v!==J.doc&&v!==J.win||J.boundEvents.push([v,y,Z,oe]),J.events.bind(v,y,Z,oe||J)},unbind:function(v,y,Z){var J,oe=this;if(M.isArray(v)){for(J=v.length;J--;)v[J]=oe.unbind(v[J],y,Z);return v}if(oe.boundEvents&&(v===oe.doc||v===oe.win))for(J=oe.boundEvents.length;J--;){var fe=oe.boundEvents[J];v!=fe[0]||y&&y!=fe[1]||Z&&Z!=fe[2]||this.events.unbind(fe[0],fe[1],fe[2])}return this.events.unbind(v,y,Z)},fire:function(v,y,Z){return this.events.fire(v,y,Z)},getContentEditable:function(v){var y;return v&&1==v.nodeType?(y=v.getAttribute("data-mce-contenteditable"))&&"inherit"!==y?y:"inherit"!==v.contentEditable?v.contentEditable:null:null},getContentEditableParent:function(v){for(var y=this.getRoot(),Z=null;v&&v!==y&&null===(Z=this.getContentEditable(v));v=v.parentNode);return Z},destroy:function(){var v=this;if(v.boundEvents){for(var y=v.boundEvents.length;y--;){var Z=v.boundEvents[y];this.events.unbind(Z[0],Z[1],Z[2])}v.boundEvents=null}me.setDocument&&me.setDocument(),v.win=v.doc=v.root=v.events=v.frag=null},isChildOf:function(v,y){for(;v;){if(y===v)return!0;v=v.parentNode}return!1},dumpRng:function(v){return"startContainer: "+v.startContainer.nodeName+", startOffset: "+v.startOffset+", endContainer: "+v.endContainer.nodeName+", endOffset: "+v.endOffset},_findSib:function(v,y,Z){var oe=this,J=y;if(v)for("string"==typeof J&&(J=function(fe){return oe.is(fe,y)}),v=v[Z];v;v=v[Z])if(J(v))return v;return null}},q.DOM=new q(document),q.nodeIndex=H,q}),xe(De,[ve,Y],function(me,ie){function U(){var re,H={},q=[],O={},$=[],F=0;this.isDone=function(N){return 2==H[N]},this.markDone=function(N){H[N]=2},this.add=this.load=function(N,R,A,v){H[N]==re&&(q.push(N),H[N]=0),R&&(O[N]||(O[N]=[]),O[N].push({success:R,failure:v,scope:A||this}))},this.remove=function(N){delete H[N],delete O[N]},this.loadQueue=function(N,R,A){this.loadScripts(q,N,R,A)},this.loadScripts=function(N,R,A,v){function y(J,fe){C(O[fe],function(_e){_(_e[J])&&_e[J].call(_e.scope)}),O[fe]=re}var Z,oe=[];$.push({success:R,failure:v,scope:A||this}),(Z=function(){var J=D(N);N.length=0,C(J,function(fe){return 2===H[fe]?void y("success",fe):3===H[fe]?void y("failure",fe):void(1!==H[fe]&&(H[fe]=1,F++,function w(N,R,A){function v(){Z.remove(J),oe&&(oe.onreadystatechange=oe.onload=oe=null),R()}var oe,J,Z=z;J=Z.uniqueId(),(oe=document.createElement("script")).id=J,oe.type="text/javascript",oe.src=ie._addCacheSuffix(N),"onreadystatechange"in oe?oe.onreadystatechange=function(){/loaded|complete/.test(oe.readyState)&&v()}:oe.onload=v,oe.onerror=function y(){_(A)?A():typeof console<"u"&&console.log&&console.log("Failed to load script: "+N)},(document.getElementsByTagName("head")[0]||document.body).appendChild(oe)}(fe,function(){H[fe]=2,F--,y("success",fe),Z()},function(){H[fe]=3,F--,oe.push(fe),y("failure",fe),Z()})))}),F||(C($,function(fe){0===oe.length?_(fe.success)&&fe.success.call(fe.scope):_(fe.failure)&&fe.failure.call(fe.scope,oe)}),$.length=0)})()}}var z=me.DOM,C=ie.each,D=ie.grep,_=function(w){return"function"==typeof w};return U.ScriptLoader=new U,U}),xe(he,[De,Y],function(me,ie){function U(){var C=this;C.items=[],C.urls={},C.lookup={}}var z=ie.each;return U.prototype={get:function(C){return this.lookup[C]?this.lookup[C].instance:St},dependencies:function(C){var D;return this.lookup[C]&&(D=this.lookup[C].dependencies),D||[]},requireLangPack:function(C,D){var _=U.language;if(_&&!1!==U.languageLoad){if(D)if(-1!=(D=","+D+",").indexOf(","+_.substr(0,2)+","))_=_.substr(0,2);else if(-1==D.indexOf(","+_+","))return;me.ScriptLoader.add(this.urls[C]+"/langs/"+_+".js")}},add:function(C,D,_){return this.items.push(D),this.lookup[C]={instance:D,dependencies:_},D},remove:function(C){delete this.urls[C],delete this.lookup[C]},createUrl:function(C,D){return"object"==typeof D?D:{prefix:C.prefix,resource:D,suffix:C.suffix}},addComponents:function(C,D){var _=this.urls[C];z(D,function(w){me.ScriptLoader.add(_+"/"+w)})},load:function(C,D,_,w,M){function j(){var H=P.dependencies(C);z(H,function(q){var O=P.createUrl(D,q);P.load(O.resource,O,St,St)}),_&&_.call(w||me)}var P=this,E=D;P.urls[C]||("object"==typeof D&&(E=D.prefix+D.resource+D.suffix),0!==E.indexOf("/")&&-1==E.indexOf("://")&&(E=U.baseURL+"/"+E),P.urls[C]=E.substring(0,E.lastIndexOf("/")),P.lookup[C]?j():me.ScriptLoader.add(E,j,w,M))}},U.PluginManager=new U,U.ThemeManager=new U,U}),xe(be,[],function(){function me(M){return function(j){return!!j&&j.nodeType==M}}function ie(M){return M=M.toLowerCase().split(" "),function(j){var P,E;if(j&&j.nodeType)for(E=j.nodeName.toLowerCase(),P=0;P<M.length;P++)if(E===M[P])return!0;return!1}}function _(M){return function(j){return!(!w(j)||j.contentEditable!==M&&j.getAttribute("data-mce-contenteditable")!==M)}}var w=me(1);return{isText:me(3),isElement:w,isComment:me(8),isBr:ie("br"),isContentEditableTrue:_("true"),isContentEditableFalse:_("false"),matchNodeNames:ie,hasPropValue:function z(M,j){return function(P){return w(P)&&P[M]===j}},hasAttributeValue:function C(M,j){return function(P){return w(P)&&P.getAttribute(M)===j}},matchStyleValues:function U(M,j){return j=j.toLowerCase().split(" "),function(P){var E;if(w(P))for(E=0;E<j.length;E++)if(getComputedStyle(P,null).getPropertyValue(M)===j[E])return!0;return!1}},isBogus:function D(M){return w(M)&&M.hasAttribute("data-mce-bogus")}}}),xe(ke,[],function(){return{isZwsp:function me(z){return"\ufeff"==z},ZWSP:"\ufeff",trim:function ie(z){return z.replace(new RegExp("\ufeff","g"),"")}}}),xe(ee,[be,ke],function(me,ie){function U(R){return N(R)&&(R=R.parentNode),re(R)&&R.hasAttribute("data-mce-caret")}function z(R){return N(R)&&ie.isZwsp(R.data)}function C(R){return U(R)||z(R)}function D(R){var A=R.parentNode;A&&A.removeChild(R)}function E(R){return R.firstChild!==R.lastChild||!me.isBr(R.firstChild)}function q(R){return N(R)&&R.data[0]==ie.ZWSP}function O(R){return N(R)&&R.data[R.data.length-1]==ie.ZWSP}var re=me.isElement,N=me.isText;return{isCaretContainer:C,isCaretContainerBlock:U,isCaretContainerInline:z,showCaretContainerBlock:function F(R){return R&&R.hasAttribute("data-mce-caret")?(function $(R){var A=R.getElementsByTagName("br"),v=A[A.length-1];me.isBogus(v)&&v.parentNode.removeChild(v)}(R),R.removeAttribute("data-mce-caret"),R.removeAttribute("data-mce-bogus"),R.removeAttribute("style"),R.removeAttribute("_moz_abspos"),R):null},insertInline:function M(R,A){var y,Z,oe;if(Z=R.ownerDocument.createTextNode(ie.ZWSP),oe=R.parentNode,A){if(N(y=R.previousSibling)){if(C(y))return y;if(O(y))return y.splitText(y.data.length-1)}oe.insertBefore(Z,R)}else{if(N(y=R.nextSibling)){if(C(y))return y;if(q(y))return y.splitText(1),y}R.nextSibling?oe.insertBefore(Z,R.nextSibling):oe.appendChild(Z)}return Z},insertBlock:function P(R,A,v){var Z,oe;return(Z=A.ownerDocument.createElement(R)).setAttribute("data-mce-caret",v?"before":"after"),Z.setAttribute("data-mce-bogus","all"),Z.appendChild(function j(){var R=document.createElement("br");return R.setAttribute("data-mce-bogus","1"),R}()),oe=A.parentNode,v?oe.insertBefore(Z,A):A.nextSibling?oe.insertBefore(Z,A.nextSibling):oe.appendChild(Z),Z},hasContent:E,remove:function H(R){if(re(R)&&C(R)&&(E(R)?R.removeAttribute("data-mce-caret"):D(R)),N(R)){var A=ie.trim(function _(R){try{return R.nodeValue}catch{return""}}(R));!function w(R,A){0===A.length?D(R):R.nodeValue=A}(R,A)}},startsWithCaretContainer:q,endsWithCaretContainer:O}}),xe(Me,[Y,ne,be,pe,ee],function(me,ie,U,z,C){function D(N){return $(N)||F(N)}function w(N,R,A){for(;N&&N!==R;){if(A(N))return N;N=N.parentNode}return null}function j(N){return"_mce_caret"===N.id}function P(N,R){return re(N)&&!1===function M(N,R,A){return null!==w(N,R,A)}(N,R,j)}function E(N){this.walk=function(R,A){function v(Ie){var He;return 3===(He=Ie[0]).nodeType&&He===J&&fe>=He.nodeValue.length&&Ie.splice(0,1),He=Ie[Ie.length-1],0===Ve&&Ie.length>0&&He===_e&&3===He.nodeType&&Ie.splice(Ie.length-1,1),Ie}function y(Ie,He,Xe){for(var nt=[];Ie&&Ie!=Xe;Ie=Ie[He])nt.push(Ie);return nt}function Z(Ie,He){do{if(Ie.parentNode==He)return Ie;Ie=Ie.parentNode}while(Ie)}function oe(Ie,He,Xe){var nt=Xe?"nextSibling":"previousSibling";for(je=(Oe=Ie).parentNode;Oe&&Oe!=He;Oe=je)je=Oe.parentNode,(Ye=y(Oe==Ie?Oe:Oe[nt],nt)).length&&(Xe||Ye.reverse(),A(v(Ye)))}var Ee,Re,ze,Oe,je,Ye,ye,J=R.startContainer,fe=R.startOffset,_e=R.endContainer,Ve=R.endOffset;if((ye=N.select("td[data-mce-selected],th[data-mce-selected]")).length>0)O(ye,function(Ie){A([Ie])});else{if(1==J.nodeType&&J.hasChildNodes()&&(J=J.childNodes[fe]),1==_e.nodeType&&_e.hasChildNodes()&&(_e=function _(N,R){var A=N.childNodes;return--R>A.length-1?R=A.length-1:R<0&&(R=0),A[R]||N}(_e,Ve)),J==_e)return A(v([J]));for(Ee=N.findCommonAncestor(J,_e),Oe=J;Oe;Oe=Oe.parentNode){if(Oe===_e)return oe(J,Ee,!0);if(Oe===Ee)break}for(Oe=_e;Oe;Oe=Oe.parentNode){if(Oe===J)return oe(_e,Ee);if(Oe===Ee)break}Re=Z(J,Ee)||J,ze=Z(_e,Ee)||_e,oe(J,Re,!0),(Ye=y(Re==J?Re:Re.nextSibling,"nextSibling",ze==_e?ze.nextSibling:ze)).length&&A(v(Ye)),oe(_e,ze)}},this.split=function(R){function A(J,fe){return J.splitText(fe)}var v=R.startContainer,y=R.startOffset,Z=R.endContainer,oe=R.endOffset;return v==Z&&3==v.nodeType?y>0&&y<v.nodeValue.length&&(v=(Z=A(v,y)).previousSibling,oe>y?(v=Z=A(Z,oe-=y).previousSibling,oe=Z.nodeValue.length,y=0):oe=0):(3==v.nodeType&&y>0&&y<v.nodeValue.length&&(v=A(v,y),y=0),3==Z.nodeType&&oe>0&&oe<Z.nodeValue.length&&(oe=(Z=A(Z,oe).previousSibling).nodeValue.length)),{startContainer:v,startOffset:y,endContainer:Z,endOffset:oe}},this.normalize=function(R){function A(Z){function J(He,Xe){for(var nt=new ie(He,N.getParent(He.parentNode,N.isBlock)||Oe);He=nt[Xe?"prev":"next"]();)if("BR"===He.nodeName)return!0}function Ve(He,Xe){var nt,Mt,Wt;if(Wt=N.getParent((Xe=Xe||Ee).parentNode,N.isBlock)||Oe,He&&"BR"==Xe.nodeName&&Ie&&N.isEmpty(Wt))return Ee=Xe.parentNode,Re=N.nodeIndex(Xe),void(v=!0);for(nt=new ie(Xe,Wt);je=nt[He?"prev":"next"]();){if("false"===N.getContentEditableParent(je)||P(je,N.getRoot()))return;if(3===je.nodeType&&je.nodeValue.length>0)return Ee=je,Re=He?je.nodeValue.length:0,void(v=!0);if(N.isBlock(je)||Ye[je.nodeName.toLowerCase()])return;Mt=je}y&&Mt&&(Ee=Mt,v=!0,Re=0)}var Ee,Re,ze,je,Ye,ye,Ie,He,Oe=N.getRoot();if(Re=R[(Z?"start":"end")+"Offset"],Ie=1==(Ee=R[(Z?"start":"end")+"Container"]).nodeType&&Re===Ee.childNodes.length,Ye=N.schema.getNonEmptyElements(),ye=Z,!re(Ee)){if(1==Ee.nodeType&&Re>Ee.childNodes.length-1&&(ye=!1),9===Ee.nodeType&&(Ee=N.getRoot(),Re=0),Ee===Oe){if(ye&&(je=Ee.childNodes[Re>0?Re-1:0])&&(re(je)||Ye[je.nodeName]||"TABLE"==je.nodeName))return;if(Ee.hasChildNodes()){if(Re=Math.min(!ye&&Re>0?Re-1:Re,Ee.childNodes.length-1),Ee=Ee.childNodes[Re],Re=0,!y&&Ee===Oe.lastChild&&"TABLE"===Ee.nodeName||function fe(He){for(;He&&He!=Oe;){if(F(He))return!0;He=He.parentNode}return!1}(Ee)||re(Ee))return;if(Ee.hasChildNodes()&&!/TABLE/.test(Ee.nodeName)){je=Ee,ze=new ie(Ee,Oe);do{if(F(je)||re(je)){v=!1;break}if(3===je.nodeType&&je.nodeValue.length>0){Re=ye?0:je.nodeValue.length,Ee=je,v=!0;break}if(Ye[je.nodeName.toLowerCase()]&&(!(He=je)||!/^(TD|TH|CAPTION)$/.test(He.nodeName))){Re=N.nodeIndex(je),Ee=je.parentNode,"IMG"!=je.nodeName||ye||Re++,v=!0;break}}while(je=ye?ze.next():ze.prev())}}}y&&(3===Ee.nodeType&&0===Re&&Ve(!0),1===Ee.nodeType&&((je=Ee.childNodes[Re])||(je=Ee.childNodes[Re-1]),!je||"BR"!==je.nodeName||function _e(He,Xe){return He.previousSibling&&He.previousSibling.nodeName==Xe}(je,"A")||J(je)||J(je,!0)||Ve(!0,je))),ye&&!y&&3===Ee.nodeType&&Re===Ee.nodeValue.length&&Ve(!1),v&&R["set"+(Z?"Start":"End")](Ee,Re)}}var v,y;return y=R.collapsed,A(!0),y||A(),v&&y&&R.collapse(!0),v}}var O=me.each,$=U.isContentEditableTrue,F=U.isContentEditableFalse,re=C.isCaretContainer;return E.compareRanges=function(N,R){if(N&&R){if(!N.item&&!N.duplicate)return N.startContainer==R.startContainer&&N.startOffset==R.startOffset;if(N.item&&R.item&&N.item(0)===R.item(0)||N.isEqual&&R.isEqual&&R.isEqual(N))return!0}return!1},E.getCaretRangeFromPoint=function(N,R,A){var v,y;if(A.caretPositionFromPoint)y=A.caretPositionFromPoint(N,R),(v=A.createRange()).setStart(y.offsetNode,y.offset),v.collapse(!0);else if(A.caretRangeFromPoint)v=A.caretRangeFromPoint(N,R);else if(A.body.createTextRange){v=A.body.createTextRange();try{v.moveToPoint(N,R),v.collapse(!0)}catch{v=function H(N,R,A){var v,y,Z;if(v=A.elementFromPoint(N,R),y=A.body.createTextRange(),v&&"HTML"!=v.tagName||(v=A.body),y.moveToElementText(v),(Z=(Z=me.toArray(y.getClientRects())).sort(function(oe,J){return(oe=Math.abs(Math.max(oe.top-R,oe.bottom-R)))-Math.abs(Math.max(J.top-R,J.bottom-R))})).length>0){R=(Z[0].bottom+Z[0].top)/2;try{return y.moveToPoint(N,R),y.collapse(!0),y}catch{}}return null}(N,R,A)}return function q(N,R){var A=N&&N.parentElement?N.parentElement():null;return F(w(A,R,D))?null:N}(v,A.body)}return v},E.getSelectedNode=function(N){var R=N.startContainer,A=N.startOffset;return R.hasChildNodes()&&N.endOffset==A+1?R.childNodes[A]:null},E.getNode=function(N,R){return 1==N.nodeType&&N.hasChildNodes()&&(R>=N.childNodes.length&&(R=N.childNodes.length-1),N=N.childNodes[R]),N},E}),xe(Ne,[Me,G,I],function(me,ie,U){return function(z){var D,_=[];"onselectionchange"in z.getDoc()||z.on("NodeChange Click MouseUp KeyUp Focus",function(w){var M,j;j={startContainer:(M=z.selection.getRng()).startContainer,startOffset:M.startOffset,endContainer:M.endContainer,endOffset:M.endOffset},"nodechange"!=w.type&&me.compareRanges(j,D)||z.fire("SelectionChange"),D=j}),z.on("contextmenu",function(){z.fire("SelectionChange")}),z.on("SelectionChange",function(){var w=z.selection.getStart(!0);!ie.range&&z.selection.isCollapsed()||!function C(w){var M,j;if((j=z.$(w).parentsUntil(z.getBody()).add(w)).length===_.length){for(M=j.length;M>=0&&j[M]===_[M];M--);if(-1===M)return _=j,!0}return _=j,!1}(w)&&z.dom.isChildOf(w,z.getBody())&&z.nodeChanged({selectionChange:!0})}),z.on("MouseUp",function(w){w.isDefaultPrevented()||("IMG"==z.selection.getNode().nodeName?U.setEditorTimeout(z,function(){z.nodeChanged()}):z.nodeChanged())}),this.nodeChanged=function(w){var j,P,E,M=z.selection;z.initialized&&M&&!z.settings.disable_nodechange&&!z.readonly&&(E=z.getBody(),(j=M.getStart()||E).ownerDocument==z.getDoc()&&z.dom.isChildOf(j,E)||(j=E),"IMG"==j.nodeName&&M.isCollapsed()&&(j=j.parentNode),P=[],z.dom.getParent(j,function(H){return H===E||void P.push(H)}),(w=w||{}).element=j,w.parents=P,z.fire("NodeChange",w))}}}),xe(Be,[],function(){function me(C,D,_){var w,M,j=_?"lastChild":"firstChild",P=_?"prev":"next";if(C[j])return C[j];if(C!==D){if(w=C[P])return w;for(M=C.parent;M&&M!==D;M=M.parent)if(w=M[P])return w}}function ie(C,D){this.name=C,this.type=D,1===D&&(this.attributes=[],this.attributes.map={})}var U=/^[ \t\r\n]*$/,z={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return ie.prototype={replace:function(C){var D=this;return C.parent&&C.remove(),D.insert(C,D),D.remove(),D},attr:function(C,D){var w,M,_=this;if("string"!=typeof C){for(M in C)_.attr(M,C[M]);return _}if(w=_.attributes){if(void 0!==D){if(null===D){if(C in w.map)for(delete w.map[C],M=w.length;M--;)if(w[M].name===C)return w=w.splice(M,1),_;return _}if(C in w.map){for(M=w.length;M--;)if(w[M].name===C){w[M].value=D;break}}else w.push({name:C,value:D});return w.map[C]=D,_}return w.map[C]}},clone:function(){var _,w,M,j,P,C=this,D=new ie(C.name,C.type);if(M=C.attributes){for((P=[]).map={},_=0,w=M.length;_<w;_++)"id"!==(j=M[_]).name&&(P[P.length]={name:j.name,value:j.value},P.map[j.name]=j.value);D.attributes=P}return D.value=C.value,D.shortEnded=C.shortEnded,D},wrap:function(C){var D=this;return D.parent.insert(C,D),C.append(D),D},unwrap:function(){var D,_,C=this;for(D=C.firstChild;D;)_=D.next,C.insert(D,C,!0),D=_;C.remove()},remove:function(){var C=this,D=C.parent,_=C.next,w=C.prev;return D&&(D.firstChild===C?(D.firstChild=_,_&&(_.prev=null)):w.next=_,D.lastChild===C?(D.lastChild=w,w&&(w.next=null)):_.prev=w,C.parent=C.next=C.prev=null),C},append:function(C){var _,D=this;return C.parent&&C.remove(),(_=D.lastChild)?(_.next=C,C.prev=_,D.lastChild=C):D.lastChild=D.firstChild=C,C.parent=D,C},insert:function(C,D,_){var w;return C.parent&&C.remove(),w=D.parent||this,_?(D===w.firstChild?w.firstChild=C:D.prev.next=C,C.prev=D.prev,C.next=D,D.prev=C):(D===w.lastChild?w.lastChild=C:D.next.prev=C,C.next=D.next,C.prev=D,D.next=C),C.parent=w,C},getAll:function(C){var _,w=[];for(_=this.firstChild;_;_=me(_,this))_.name===C&&w.push(_);return w},empty:function(){var D,_,w,C=this;if(C.firstChild){for(D=[],w=C.firstChild;w;w=me(w,C))D.push(w);for(_=D.length;_--;)(w=D[_]).parent=w.firstChild=w.lastChild=w.next=w.prev=null}return C.firstChild=C.lastChild=null,C},isEmpty:function(C,D){var M,j,w=this.firstChild;if(D=D||{},w)do{if(1===w.type){if(w.attributes.map["data-mce-bogus"])continue;if(C[w.name])return!1;for(M=w.attributes.length;M--;)if("name"===(j=w.attributes[M].name)||0===j.indexOf("data-mce-bookmark"))return!1}if(8===w.type||3===w.type&&!U.test(w.value)||3===w.type&&w.parent&&D[w.parent.name]&&U.test(w.value))return!1}while(w=me(w,this));return!0},walk:function(C){return me(this,null,C)}},ie.create=function(C,D){var _,w;if(_=new ie(C,z[C]||1),D)for(w in D)_.attr(w,D[w]);return _},ie}),xe($e,[Y],function(me){function ie(E,H){return(E=me.trim(E))?E.split(H||" "):[]}function z(E,H){var q;return E&&(q={},"string"==typeof E&&(E={"*":E}),w(E,function(O,$){q[$]=q[$.toUpperCase()]="map"==H?_(O,/[, ]/):j(O,/[, ]/)})),q}var C={},D={},_=me.makeMap,w=me.each,M=me.extend,j=me.explode,P=me.inArray;return function(E){function H(Xe,nt,Mt){var Wt=E[Xe];return Wt?Wt=_(Wt,/[, ]/,_(Wt.toUpperCase(),/[, ]/)):(Wt=C[Xe])||(Wt=_(nt," ",_(nt.toUpperCase()," ")),Wt=M(Wt,Mt),C[Xe]=Wt),Wt}function q(Xe){return new RegExp("^"+Xe.replace(/([?+*])/g,".$1")+"$")}function O(Xe){var nt,Mt,Wt,Kt,un,Qt,tt,Ae,Se,Ue,at,vt,_t,ct,Lt,It,Dt,Ot,Tn,qn=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,ri=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,pi=/[*?+]/;if(Xe)for(Xe=ie(Xe,","),A["@"]&&(It=A["@"].attributes,Dt=A["@"].attributesOrder),nt=0,Mt=Xe.length;nt<Mt;nt++)if(un=qn.exec(Xe[nt])){if(Se=un[2],Lt=un[3],Ae=un[5],Qt={attributes:vt={},attributesOrder:_t=[]},"#"===(ct=un[1])&&(Qt.paddEmpty=!0),"-"===ct&&(Qt.removeEmpty=!0),"!"===un[4]&&(Qt.removeEmptyAttrs=!0),It){for(Ot in It)vt[Ot]=It[Ot];_t.push.apply(_t,Dt)}if(Ae)for(Wt=0,Kt=(Ae=ie(Ae,"|")).length;Wt<Kt;Wt++)if(un=ri.exec(Ae[Wt])){if(tt={},at=un[1],Ue=un[2].replace(/::/g,":"),ct=un[3],Tn=un[4],"!"===at&&(Qt.attributesRequired=Qt.attributesRequired||[],Qt.attributesRequired.push(Ue),tt.required=!0),"-"===at){delete vt[Ue],_t.splice(P(_t,Ue),1);continue}ct&&("="===ct&&(Qt.attributesDefault=Qt.attributesDefault||[],Qt.attributesDefault.push({name:Ue,value:Tn}),tt.defaultValue=Tn),":"===ct&&(Qt.attributesForced=Qt.attributesForced||[],Qt.attributesForced.push({name:Ue,value:Tn}),tt.forcedValue=Tn),"<"===ct&&(tt.validValues=_(Tn,"?"))),pi.test(Ue)?(Qt.attributePatterns=Qt.attributePatterns||[],tt.pattern=q(Ue),Qt.attributePatterns.push(tt)):(vt[Ue]||_t.push(Ue),vt[Ue]=tt)}It||"@"!=Se||(It=vt,Dt=_t),Lt&&(Qt.outputName=Se,A[Lt]=Qt),pi.test(Se)?(Qt.pattern=q(Se),y.push(Qt)):A[Se]=Qt}}function $(Xe){A={},y=[],O(Xe),w(J,function(nt,Mt){v[Mt]=nt.children})}function F(Xe){var nt=/^(~)?(.+)$/;Xe&&(C.text_block_elements=C.block_elements=null,w(ie(Xe,","),function(Mt){var Wt=nt.exec(Mt),Kt="~"===Wt[1],un=Kt?"span":"div",Qt=Wt[2];if(v[Qt]=v[un],Ie[Qt]=un,Kt||(ze[Qt.toUpperCase()]={},ze[Qt]={}),!A[Qt]){var tt=A[un];delete(tt=M({},tt)).removeEmptyAttrs,delete tt.removeEmpty,A[Qt]=tt}w(v,function(Ae,Se){Ae[un]&&(v[Se]=Ae=M({},v[Se]),Ae[Qt]=Ae[un])})}))}function re(Xe){var nt=/^([+\-]?)(\w+)\[([^\]]+)\]$/;C[E.schema]=null,Xe&&w(ie(Xe,","),function(Mt){var Kt,un,Wt=nt.exec(Mt);Wt&&(Kt=(un=Wt[1])?v[Wt[2]]:v[Wt[2]]={"#comment":{}},Kt=v[Wt[2]],w(ie(Wt[3],"|"),function(Qt){"-"===un?delete Kt[Qt]:Kt[Qt]={}}))})}function N(Xe){var Mt,nt=A[Xe];if(nt)return nt;for(Mt=y.length;Mt--;)if((nt=y[Mt]).pattern.test(Xe))return nt}var Z,oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye,ye,R=this,A={},v={},y=[],Ie={},He={};J=function U(E){function H(v,y,Z){function oe(Ve,Ee){var ze,Oe,Re={};for(ze=0,Oe=Ve.length;ze<Oe;ze++)Re[Ve[ze]]=Ee||{};return Re}var J,fe,_e;for(y=y||"","string"==typeof(Z=Z||[])&&(Z=ie(Z)),J=(v=ie(v)).length;J--;)_e={attributes:oe(fe=ie([$,y].join(" "))),attributesOrder:fe,children:oe(Z,D)},O[v[J]]=_e}function q(v,y){var Z,oe,J,fe;for(Z=(v=ie(v)).length,y=ie(y);Z--;)for(oe=O[v[Z]],J=0,fe=y.length;J<fe;J++)oe.attributes[y[J]]={},oe.attributesOrder.push(y[J])}var $,F,re,N,R,A,O={};return C[E]?C[E]:($="id accesskey class dir lang style tabindex title",F="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",re="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=E&&($+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",F+=" article aside details dialog figure header footer hgroup section nav",re+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=E&&($+=" xml:lang",re=[re,A="acronym applet basefont big font strike tt"].join(" "),w(ie(A),function(v){H(v,"",re)}),F=[F,R="center dir isindex noframes"].join(" "),N=[F,re].join(" "),w(ie(R),function(v){H(v,"",N)})),N=N||[F,re].join(" "),H("html","manifest","head body"),H("head","","base command link meta noscript script style title"),H("title hr noscript br"),H("base","href target"),H("link","href rel media hreflang type sizes hreflang"),H("meta","name http-equiv content charset"),H("style","media type scoped"),H("script","src async defer type charset"),H("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",N),H("address dt dd div caption","",N),H("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",re),H("blockquote","cite",N),H("ol","reversed start type","li"),H("ul","","li"),H("li","value",N),H("dl","","dt dd"),H("a","href target rel media hreflang type",re),H("q","cite",re),H("ins del","cite datetime",N),H("img","src sizes srcset alt usemap ismap width height"),H("iframe","src name width height",N),H("embed","src type width height"),H("object","data type typemustmatch name usemap form width height",[N,"param"].join(" ")),H("param","name value"),H("map","name",[N,"area"].join(" ")),H("area","alt coords shape href target rel media hreflang type"),H("table","border","caption colgroup thead tfoot tbody tr"+("html4"==E?" col":"")),H("colgroup","span","col"),H("col","span"),H("tbody thead tfoot","","tr"),H("tr","","td th"),H("td","colspan rowspan headers",N),H("th","colspan rowspan headers scope abbr",N),H("form","accept-charset action autocomplete enctype method name novalidate target",N),H("fieldset","disabled form name",[N,"legend"].join(" ")),H("label","form for",re),H("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),H("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==E?N:re),H("select","disabled form multiple name required size","option optgroup"),H("optgroup","disabled label","option"),H("option","disabled label selected value"),H("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),H("menu","type label",[N,"li"].join(" ")),H("noscript","",N),"html4"!=E&&(H("wbr"),H("ruby","",[re,"rt rp"].join(" ")),H("figcaption","",N),H("mark rt rp summary bdi","",re),H("canvas","width height",N),H("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[N,"track source"].join(" ")),H("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[N,"track source"].join(" ")),H("picture","","img source"),H("source","src srcset type media sizes"),H("track","kind src srclang label default"),H("datalist","",[re,"option"].join(" ")),H("article section nav aside header footer","",N),H("hgroup","","h1 h2 h3 h4 h5 h6"),H("figure","",[N,"figcaption"].join(" ")),H("time","datetime",re),H("dialog","open",N),H("command","type label icon disabled checked radiogroup command"),H("output","for form name",re),H("progress","value max",re),H("meter","value min max low high optimum",re),H("details","open",[N,"summary"].join(" ")),H("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=E&&(q("script","language xml:space"),q("style","xml:space"),q("object","declare classid code codebase codetype archive standby align border hspace vspace"),q("embed","align name hspace vspace"),q("param","valuetype type"),q("a","charset name rev shape coords"),q("br","clear"),q("applet","codebase archive code object alt name width height align hspace vspace"),q("img","name longdesc align border hspace vspace"),q("iframe","longdesc frameborder marginwidth marginheight scrolling align"),q("font basefont","size color face"),q("input","usemap align"),q("select","onchange"),q("textarea"),q("h1 h2 h3 h4 h5 h6 div p legend caption","align"),q("ul","type compact"),q("li","type"),q("ol dl menu dir","compact"),q("pre","width xml:space"),q("hr","align noshade size width"),q("isindex","prompt"),q("table","summary width frame rules cellspacing cellpadding align bgcolor"),q("col","width align char charoff valign"),q("colgroup","width align char charoff valign"),q("thead","align char charoff valign"),q("tr","align char charoff valign bgcolor"),q("th","axis align char charoff valign nowrap bgcolor width height"),q("form","accept"),q("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),q("tfoot","align char charoff valign"),q("tbody","align char charoff valign"),q("area","nohref"),q("body","background bgcolor text link vlink alink")),"html4"!=E&&(q("input button select textarea","autofocus"),q("input textarea","placeholder"),q("a","download"),q("link script img","crossorigin"),q("iframe","sandbox seamless allowfullscreen")),w(ie("a form meter progress dfn"),function(v){O[v]&&delete O[v].children[v]}),delete O.caption.children.table,delete O.script,C[E]=O,O)}((E=E||{}).schema),!1===E.verify_html&&(E.valid_elements="*[*]"),Z=z(E.valid_styles),oe=z(E.invalid_styles,"map"),Re=z(E.valid_classes,"map"),fe=H("whitespace_elements","pre script noscript style textarea video audio iframe object code"),_e=H("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ve=H("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Ee=H("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Oe=H("non_empty_elements","td th iframe video audio object script pre code",Ve),je=H("move_caret_before_on_enter_elements","table",Oe),Ye=H("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),ze=H("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",Ye),ye=H("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),w((E.special||"script noscript style textarea").split(" "),function(Xe){He[Xe]=new RegExp("</"+Xe+"[^>]*>","gi")}),E.valid_elements?$(E.valid_elements):(w(J,function(Xe,nt){A[nt]={attributes:Xe.attributes,attributesOrder:Xe.attributesOrder},v[nt]=Xe.children}),"html5"!=E.schema&&w(ie("strong/b em/i"),function(Xe){Xe=ie(Xe,"/"),A[Xe[1]].outputName=Xe[0]}),w(ie("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(Xe){A[Xe]&&(A[Xe].removeEmpty=!0)}),w(ie("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(Xe){A[Xe].paddEmpty=!0}),w(ie("span"),function(Xe){A[Xe].removeEmptyAttrs=!0})),F(E.custom_elements),re(E.valid_children),O(E.extended_valid_elements),re("+ol[ul|ol],+ul[ul|ol]"),w({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Xe,nt){A[nt]&&(A[nt].parentsRequired=ie(Xe))}),E.invalid_elements&&w(j(E.invalid_elements),function(Xe){A[Xe]&&delete A[Xe]}),N("span")||O("span[!data-mce-type|*]"),R.children=v,R.getValidStyles=function(){return Z},R.getInvalidStyles=function(){return oe},R.getValidClasses=function(){return Re},R.getBoolAttrs=function(){return Ee},R.getBlockElements=function(){return ze},R.getTextBlockElements=function(){return Ye},R.getTextInlineElements=function(){return ye},R.getShortEndedElements=function(){return Ve},R.getSelfClosingElements=function(){return _e},R.getNonEmptyElements=function(){return Oe},R.getMoveCaretBeforeOnEnterElements=function(){return je},R.getWhiteSpaceElements=function(){return fe},R.getSpecialElements=function(){return He},R.isValidChild=function(Xe,nt){var Mt=v[Xe];return!(!Mt||!Mt[nt])},R.isValid=function(Xe,nt){var Mt,Wt,Kt=N(Xe);if(Kt){if(!nt||Kt.attributes[nt])return!0;if(Mt=Kt.attributePatterns)for(Wt=Mt.length;Wt--;)if(Mt[Wt].pattern.test(Xe))return!0}return!1},R.getElementRule=N,R.getCustomElements=function(){return Ie},R.addValidElements=O,R.setValidElements=$,R.addCustomElements=F,R.addValidChildren=re,R.elements=A}}),xe(Ke,[$e,we,Y],function(me,ie,U){function z(_,w,M){var P,E,H,q,j=1;for(q=_.getShortEndedElements(),(H=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=P=M;E=H.exec(w);){if(P=H.lastIndex,"/"===E[1])j--;else if(!E[1]){if(E[2]in q)continue;j++}if(0===j)break}return P}function C(_,w){function M(){}var j=this;_=_||{},j.schema=w=w||new me,!1!==_.fix_self_closing&&(_.fix_self_closing=!0),D("comment cdata text start end pi doctype".split(" "),function(P){P&&(j[P]=_[P]||M)}),j.parse=function(P){function E(vt){var _t,ct;for(_t=N.length;_t--&&N[_t].name!==vt;);if(_t>=0){for(ct=N.length-1;ct>=_t;ct--)(vt=N[ct]).valid&&q.end(vt.name);N.length=_t}}function H(vt,_t,ct,Lt,It){var Dt,Ot;if(ct=(_t=_t.toLowerCase())in fe?_t:tt(ct||Lt||It||""),Ve&&!Z&&0!==_t.indexOf("data-")){if(!(Dt=je[_t])&&Ye){for(Ot=Ye.length;Ot--&&!(Dt=Ye[Ot]).pattern.test(_t););-1===Ot&&(Dt=null)}if(!Dt||Dt.validValues&&!(ct in Dt.validValues))return}if(Se[_t]&&!_.allow_script_urls){var qn=ct.replace(/[\s\u0000-\u001F]+/g,"");try{qn=decodeURIComponent(qn)}catch{qn=unescape(qn)}if(Ue.test(qn)||!_.allow_html_data_urls&&at.test(qn)&&!/^data:image\//i.test(qn))return}R.map[_t]=ct,R.push({name:_t,value:ct})}var O,F,re,R,A,v,y,Z,oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye,ye,Ie,He,nt,Mt,Wt,Kt,un,Ae,q=this,$=0,N=[],Qt=0,tt=ie.decode,Se=U.makeMap("src,href,data,background,formaction,poster"),Ue=/((java|vb)script|mhtml):/i,at=/^data:/i;for(Mt=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Wt=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,J=w.getShortEndedElements(),nt=_.self_closing_elements||w.getSelfClosingElements(),fe=w.getBoolAttrs(),Ve=_.validate,oe=_.remove_internals,Ae=_.fix_self_closing,Kt=w.getSpecialElements();O=Mt.exec(P);){if($<O.index&&q.text(tt(P.substr($,O.index-$))),F=O[6])":"===(F=F.toLowerCase()).charAt(0)&&(F=F.substr(1)),E(F);else if(F=O[7]){if(":"===(F=F.toLowerCase()).charAt(0)&&(F=F.substr(1)),_e=F in J,Ae&&nt[F]&&N.length>0&&N[N.length-1].name===F&&E(F),!Ve||(Ee=w.getElementRule(F))){if(Re=!0,Ve&&(je=Ee.attributes,Ye=Ee.attributePatterns),(Oe=O[8])?((Z=-1!==Oe.indexOf("data-mce-type"))&&oe&&(Re=!1),(R=[]).map={},Oe.replace(Wt,H)):(R=[]).map={},Ve&&!Z){if(ye=Ee.attributesRequired,Ie=Ee.attributesDefault,Ee.removeEmptyAttrs&&!R.length&&(Re=!1),He=Ee.attributesForced)for(A=He.length;A--;)"{$uid}"===(un=(ze=He[A]).value)&&(un="mce_"+Qt++),R.map[y=ze.name]=un,R.push({name:y,value:un});if(Ie)for(A=Ie.length;A--;)(y=(ze=Ie[A]).name)in R.map||("{$uid}"===(un=ze.value)&&(un="mce_"+Qt++),R.map[y]=un,R.push({name:y,value:un}));if(ye){for(A=ye.length;A--&&!(ye[A]in R.map););-1===A&&(Re=!1)}if(ze=R.map["data-mce-bogus"]){if("all"===ze){$=z(w,P,Mt.lastIndex),Mt.lastIndex=$;continue}Re=!1}}Re&&q.start(F,R,_e)}else Re=!1;if(re=Kt[F]){re.lastIndex=$=O.index+O[0].length,(O=re.exec(P))?(Re&&(v=P.substr($,O.index-$)),$=O.index+O[0].length):(v=P.substr($),$=P.length),Re&&(v.length>0&&q.text(v,!0),q.end(F)),Mt.lastIndex=$;continue}_e||(Oe&&Oe.indexOf("/")==Oe.length-1?Re&&q.end(F):N.push({name:F,valid:Re}))}else(F=O[1])?(">"===F.charAt(0)&&(F=" "+F),_.allow_conditional_comments||"[if"!==F.substr(0,3).toLowerCase()||(F=" "+F),q.comment(F)):(F=O[2])?q.cdata(F):(F=O[3])?q.doctype(F):(F=O[4])&&q.pi(F,O[5]);$=O.index+O[0].length}for($<P.length&&q.text(tt(P.substr($))),A=N.length-1;A>=0;A--)(F=N[A]).valid&&q.end(F.name)}}var D=U.each;return C.findEndTag=z,C}),xe(gt,[Be,$e,Ke,Y],function(me,ie,U,z){var C=z.makeMap,D=z.each,_=z.explode,w=z.extend,M=function(P,E){P.padd_empty_with_br?E.empty().append(new me("br","1")).shortEnded=!0:E.empty().append(new me("#text","3")).value="\xa0"},j=function(P,E){return P&&P.firstChild===P.lastChild&&P.firstChild.name===E};return function(P,E){var q=this,O={},$=[],F={},re={};(P=P||{}).validate=!("validate"in P)||P.validate,P.root_name=P.root_name||"body",q.schema=E=E||new ie,q.filterNode=function(N){var R,A,v;for((A in O&&((v=F[A])?v.push(N):F[A]=[N]),R=$.length);R--;)(A=$[R].name)in N.attributes.map&&((v=re[A])?v.push(N):re[A]=[N]);return N},q.addNodeFilter=function(N,R){D(_(N),function(A){var v=O[A];v||(O[A]=v=[]),v.push(R)})},q.addAttributeFilter=function(N,R){D(_(N),function(A){var v;for(v=0;v<$.length;v++)if($[v].name===A)return void $[v].callbacks.push(R);$.push({name:A,callbacks:[R]})})},q.parse=function(N,R){function v(Ae,Se){var at,Ue=new me(Ae,Se);return Ae in O&&((at=F[Ae])?at.push(Ue):F[Ae]=[Ue]),Ue}function y(Ae){var Se,Ue,at,vt,_t=E.getBlockElements();for(Se=Ae.prev;Se&&3===Se.type;){if((at=Se.value.replace(nt,"")).length>0)return void(Se.value=at);if(Ue=Se.next){if(3==Ue.type&&Ue.value.length){Se=Se.prev;continue}if(!_t[Ue.name]&&"script"!=Ue.name&&"style"!=Ue.name){Se=Se.prev;continue}}vt=Se.prev,Se.remove(),Se=vt}}var oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye,ye,Ie,Xe,nt,Mt,Wt,Kt,un,Qt,tt,He=[];if(R=R||{},F={},re={},ye=w(C("script,style,head,html,body,title,meta,param"),E.getBlockElements()),Qt=E.getNonEmptyElements(),un=E.children,Ye=P.validate,tt="forced_root_block"in R?R.forced_root_block:P.forced_root_block,Kt=E.getWhiteSpaceElements(),Ie=/^[ \t\r\n]+/,nt=/[ \t\r\n]+$/,Mt=/[ \t\r\n]+/g,Wt=/^[ \t\r\n]+$/,oe=new U({validate:Ye,allow_script_urls:P.allow_script_urls,allow_conditional_comments:P.allow_conditional_comments,self_closing_elements:function Z(Ae){var Se,Ue={};for(Se in Ae)"li"!==Se&&"p"!=Se&&(Ue[Se]=Ae[Se]);return Ue}(E.getSelfClosingElements()),cdata:function(Ae){fe.append(v("#cdata",4)).value=Ae},text:function(Ae,Se){var Ue;Xe||(Ae=Ae.replace(Mt," "),fe.lastChild&&ye[fe.lastChild.name]&&(Ae=Ae.replace(Ie,""))),0!==Ae.length&&((Ue=v("#text",3)).raw=!!Se,fe.append(Ue).value=Ae)},comment:function(Ae){fe.append(v("#comment",8)).value=Ae},pi:function(Ae,Se){fe.append(v(Ae,7)).value=Se,y(fe)},doctype:function(Ae){fe.append(v("#doctype",10)).value=Ae,y(fe)},start:function(Ae,Se,Ue){var at,vt,_t,ct,Lt;if(_t=Ye?E.getElementRule(Ae):{}){for((at=v(_t.outputName||Ae,1)).attributes=Se,at.shortEnded=Ue,fe.append(at),(Lt=un[fe.name])&&un[at.name]&&!Lt[at.name]&&He.push(at),vt=$.length;vt--;)(ct=$[vt].name)in Se.map&&((Oe=re[ct])?Oe.push(at):re[ct]=[at]);ye[Ae]&&y(at),Ue||(fe=at),!Xe&&Kt[Ae]&&(Xe=!0)}},end:function(Ae){var Se,Ue,at,vt,_t;if(Ue=Ye?E.getElementRule(Ae):{}){if(ye[Ae]&&!Xe){if((Se=fe.firstChild)&&3===Se.type)if((at=Se.value.replace(Ie,"")).length>0)Se.value=at,Se=Se.next;else for(vt=Se.next,Se.remove(),Se=vt;Se&&3===Se.type;)vt=Se.next,(0===(at=Se.value).length||Wt.test(at))&&(Se.remove(),Se=vt),Se=vt;if((Se=fe.lastChild)&&3===Se.type)if((at=Se.value.replace(nt,"")).length>0)Se.value=at,Se=Se.prev;else for(vt=Se.prev,Se.remove(),Se=vt;Se&&3===Se.type;)vt=Se.prev,(0===(at=Se.value).length||Wt.test(at))&&(Se.remove(),Se=vt),Se=vt}if(Xe&&Kt[Ae]&&(Xe=!1),(Ue.removeEmpty||Ue.paddEmpty)&&fe.isEmpty(Qt,Kt))if(Ue.paddEmpty)M(P,fe);else if(!fe.attributes.map.name&&!fe.attributes.map.id)return _t=fe.parent,ye[fe.name]?fe.empty().remove():fe.unwrap(),void(fe=_t);fe=fe.parent}}},E),J=fe=new me(R.context||P.root_name,11),oe.parse(N),Ye&&He.length&&(R.context?R.invalid=!0:function H(N){var R,A,v,y,Z,oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye;for(Re=C("tr,td,th,tbody,thead,tfoot,table"),Ve=E.getNonEmptyElements(),Ee=E.getWhiteSpaceElements(),ze=E.getTextBlockElements(),Oe=E.getSpecialElements(),R=0;R<N.length;R++)if((A=N[R]).parent&&!A.fixed)if(ze[A.name]&&"li"==A.parent.name){for(je=A.next;je&&ze[je.name];)je.name="li",je.fixed=!0,A.parent.insert(je,A.parent),je=je.next;A.unwrap(A)}else{for(y=[A],v=A.parent;v&&!E.isValidChild(v.name,A.name)&&!Re[v.name];v=v.parent)y.push(v);if(v&&y.length>1){for(y.reverse(),Z=oe=q.filterNode(y[0].clone()),_e=0;_e<y.length-1;_e++){for(E.isValidChild(oe.name,y[_e].name)?(J=q.filterNode(y[_e].clone()),oe.append(J)):J=oe,fe=y[_e].firstChild;fe&&fe!=y[_e+1];)Ye=fe.next,J.append(fe),fe=Ye;oe=J}Z.isEmpty(Ve,Ee)?v.insert(A,y[0],!0):(v.insert(Z,y[0],!0),v.insert(A,Z)),((v=y[0]).isEmpty(Ve,Ee)||j(v,"br"))&&v.empty().remove()}else if(A.parent){if("li"===A.name){if((je=A.prev)&&("ul"===je.name||"ul"===je.name)){je.append(A);continue}if((je=A.next)&&("ul"===je.name||"ul"===je.name)){je.insert(A,je.firstChild,!0);continue}A.wrap(q.filterNode(new me("ul",1)));continue}E.isValidChild(A.parent.name,"div")&&E.isValidChild("div",A.name)?A.wrap(q.filterNode(new me("div",1))):Oe[A.name]?A.empty().remove():A.unwrap()}}}(He)),tt&&("body"==J.name||R.isRootContent)&&function A(){function Ae(vt){vt&&((Se=vt.firstChild)&&3==Se.type&&(Se.value=Se.value.replace(Ie,"")),(Se=vt.lastChild)&&3==Se.type&&(Se.value=Se.value.replace(nt,"")))}var Ue,at,Se=J.firstChild;if(E.isValidChild(J.name,tt.toLowerCase())){for(;Se;)Ue=Se.next,3==Se.type||1==Se.type&&"p"!==Se.name&&!ye[Se.name]&&!Se.attr("data-mce-type")?(at||((at=v(tt,1)).attr(P.forced_root_block_attrs),J.insert(at,Se)),at.append(Se)):(Ae(at),at=null),Se=Ue;Ae(at)}}(),!R.invalid){for(je in F){for(Oe=O[je],Re=(_e=F[je]).length;Re--;)_e[Re].parent||_e.splice(Re,1);for(Ve=0,Ee=Oe.length;Ve<Ee;Ve++)Oe[Ve](_e,je,R)}for(Ve=0,Ee=$.length;Ve<Ee;Ve++)if((Oe=$[Ve]).name in re){for(Re=(_e=re[Oe.name]).length;Re--;)_e[Re].parent||_e.splice(Re,1);for(Re=0,ze=Oe.callbacks.length;Re<ze;Re++)Oe.callbacks[Re](_e,Oe.name,R)}}return J},P.remove_trailing_brs&&q.addNodeFilter("br",function(N){var R,v,oe,J,fe,_e,Ee,Re,A=N.length,y=w({},E.getBlockElements()),Z=E.getNonEmptyElements(),Ve=E.getNonEmptyElements();for(y.body=1,R=0;R<A;R++)if(oe=(v=N[R]).parent,y[v.parent.name]&&v===oe.lastChild){for(fe=v.prev;fe;){if("span"!==(_e=fe.name)||"bookmark"!==fe.attr("data-mce-type")){if("br"!==_e)break;if("br"===_e){v=null;break}}fe=fe.prev}v&&(v.remove(),oe.isEmpty(Z,Ve)&&(Ee=E.getElementRule(oe.name))&&(Ee.removeEmpty?oe.remove():Ee.paddEmpty&&M(P,oe)))}else{for(J=v;oe&&oe.firstChild===J&&oe.lastChild===J&&(J=oe,!y[oe.name]);)oe=oe.parent;J===oe&&!0!==P.padd_empty_with_br&&((Re=new me("#text",3)).value="\xa0",v.replace(Re))}}),P.allow_unsafe_link_target||q.addAttributeFilter("href",function(N){function A(fe){var _e=new RegExp("("+J.replace(" ","|")+")","g");return fe&&(fe=z.trim(fe.replace(_e,""))),fe||null}for(var Z,oe,y=N.length,J="noopener noreferrer";y--;)oe=(Z=N[y]).attr("rel"),"a"===Z.name&&Z.attr("rel",(fe=oe,"_blank"==Z.attr("target")?function R(fe){return(fe=A(fe))?[fe,J].join(" "):J}(fe):A(fe)));var fe}),P.allow_html_in_named_anchor||q.addAttributeFilter("id,name",function(N){for(var A,v,y,Z,R=N.length;R--;)if("a"===(Z=N[R]).name&&Z.firstChild&&!Z.attr("href")){y=Z.parent,A=Z.lastChild;do{v=A.prev,y.insert(A,Z),A=v}while(A)}}),P.fix_list_elements&&q.addNodeFilter("ul,ol",function(N){for(var A,v,R=N.length;R--;)if("ul"===(v=(A=N[R]).parent).name||"ol"===v.name)if(A.prev&&"li"===A.prev.name)A.prev.append(A);else{var y=new me("li",1);y.attr("style","list-style-type: none"),A.wrap(y)}}),P.validate&&E.getValidClasses()&&q.addAttributeFilter("class",function(N){for(var A,v,y,Z,oe,fe,_e,R=N.length,J=E.getValidClasses();R--;){for(v=(A=N[R]).attr("class").split(" "),oe="",y=0;y<v.length;y++)Z=v[y],_e=!1,(fe=J["*"])&&fe[Z]&&(_e=!0),fe=J[A.name],!_e&&fe&&fe[Z]&&(_e=!0),_e&&(oe&&(oe+=" "),oe+=Z);oe.length||(oe=null),A.attr("class",oe)}})}}),xe(it,[we,Y],function(me,ie){var U=ie.makeMap;return function(z){var D,_,w,M,j,C=[];return D=(z=z||{}).indent,_=U(z.indent_before||""),w=U(z.indent_after||""),M=me.getEncodeFunc(z.entity_encoding||"raw",z.entities),j="html"==z.element_format,{start:function(P,E,H){var q,O,$,F;if(D&&_[P]&&C.length>0&&(F=C[C.length-1]).length>0&&"\n"!==F&&C.push("\n"),C.push("<",P),E)for(q=0,O=E.length;q<O;q++)C.push(" ",($=E[q]).name,'="',M($.value,!0),'"');C[C.length]=!H||j?">":" />",H&&D&&w[P]&&C.length>0&&(F=C[C.length-1]).length>0&&"\n"!==F&&C.push("\n")},end:function(P){var E;C.push("</",P,">"),D&&w[P]&&C.length>0&&(E=C[C.length-1]).length>0&&"\n"!==E&&C.push("\n")},text:function(P,E){P.length>0&&(C[C.length]=E?P:M(P))},cdata:function(P){C.push("<![CDATA[",P,"]]>")},comment:function(P){C.push("\x3c!--",P,"--\x3e")},pi:function(P,E){E?C.push("<?",P," ",M(E),"?>"):C.push("<?",P,"?>"),D&&C.push("\n")},doctype:function(P){C.push("<!DOCTYPE",P,">",D?"\n":"")},reset:function(){C.length=0},getContent:function(){return C.join("").replace(/\n$/,"")}}}}),xe(Vt,[it,$e],function(me,ie){return function(U,z){var C=this,D=new me(U);(U=U||{}).validate=!("validate"in U)||U.validate,C.schema=z=z||new ie,C.writer=D,C.serialize=function(_){function w(P){var H,q,O,$,F,re,N,R,A,E=M[P.type];if(E)E(P);else{if(H=P.name,q=P.shortEnded,O=P.attributes,j&&O&&O.length>1&&((re=[]).map={},A=z.getElementRule(P.name))){for(N=0,R=A.attributesOrder.length;N<R;N++)($=A.attributesOrder[N])in O.map&&(re.map[$]=F=O.map[$],re.push({name:$,value:F}));for(N=0,R=O.length;N<R;N++)($=O[N].name)in re.map||(re.map[$]=F=O.map[$],re.push({name:$,value:F}));O=re}if(D.start(P.name,O,q),!q){if(P=P.firstChild)do{w(P)}while(P=P.next);D.end(H)}}}var M,j;return j=U.validate,M={3:function(P){D.text(P.value,P.raw)},8:function(P){D.comment(P.value)},7:function(P){D.pi(P.name,P.value)},10:function(P){D.doctype(P.value)},4:function(P){D.cdata(P.value)},11:function(P){if(P=P.firstChild)do{w(P)}while(P=P.next)}},D.reset(),1!=_.type||U.inner?M[11](_):w(_),D.getContent()}}}),xe(dt,[ve,gt,Ke,we,Vt,Be,$e,G,Y,ke],function(me,ie,U,z,C,D,_,w,M,j){var E=M.each,H=M.trim,q=me.DOM;return function(O,$){function F(oe){var J=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+Z.join("|")+')="[^"]+"'].join("|"),"gi");return j.trim(oe.replace(J,""))}function re(oe){var _e,Ve,Ee,Re,ze,J=oe,fe=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,Oe=$.schema;for(J=F(J),ze=Oe.getShortEndedElements();Re=fe.exec(J);)Ve=fe.lastIndex,Ee=Re[0].length,_e=ze[Re[1]]?Ve:U.findEndTag(Oe,J,Ve),J=J.substring(0,Ve-Ee)+J.substring(_e),fe.lastIndex=Ve-Ee;return J}var A,v,y,Z=["data-mce-selected"];return $&&(A=$.dom,v=$.schema),A=A||q,v=v||new _(O),O.entity_encoding=O.entity_encoding||"named",O.remove_trailing_brs=!("remove_trailing_brs"in O)||O.remove_trailing_brs,(y=new ie(O,v)).addAttributeFilter("data-mce-tabindex",function(oe,J){for(var _e,fe=oe.length;fe--;)(_e=oe[fe]).attr("tabindex",_e.attributes.map["data-mce-tabindex"]),_e.attr(J,null)}),y.addAttributeFilter("src,href,style",function(oe,J){for(var _e,Ve,fe=oe.length,Ee="data-mce-"+J,Re=O.url_converter,ze=O.url_converter_scope;fe--;)void 0!==(Ve=(_e=oe[fe]).attributes.map[Ee])?(_e.attr(J,Ve.length>0?Ve:null),_e.attr(Ee,null)):(Ve=_e.attributes.map[J],"style"===J?Ve=A.serializeStyle(A.parseStyle(Ve),_e.name):Re&&(Ve=Re.call(ze,Ve,J,_e.name)),_e.attr(J,Ve.length>0?Ve:null))}),y.addAttributeFilter("class",function(oe){for(var fe,_e,J=oe.length;J--;)(_e=(fe=oe[J]).attr("class"))&&(_e=fe.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),fe.attr("class",_e.length>0?_e:null))}),y.addAttributeFilter("data-mce-type",function(oe,J,fe){for(var Ve,_e=oe.length;_e--;)"bookmark"!==(Ve=oe[_e]).attributes.map["data-mce-type"]||fe.cleanup||Ve.remove()}),y.addNodeFilter("noscript",function(oe){for(var fe,J=oe.length;J--;)(fe=oe[J].firstChild)&&(fe.value=z.decode(fe.value))}),y.addNodeFilter("script,style",function(oe,J){function fe(ze){return ze.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var Ve,Ee,Re,_e=oe.length;_e--;)Ee=(Ve=oe[_e]).firstChild?Ve.firstChild.value:"","script"===J?((Re=Ve.attr("type"))&&Ve.attr("type","mce-no/type"==Re?null:Re.replace(/^mce\-/,"")),Ee.length>0&&(Ve.firstChild.value="// <![CDATA[\n"+fe(Ee)+"\n// ]]>")):Ee.length>0&&(Ve.firstChild.value="\x3c!--\n"+fe(Ee)+"\n--\x3e")}),y.addNodeFilter("#comment",function(oe){for(var fe,J=oe.length;J--;)0===(fe=oe[J]).value.indexOf("[CDATA[")?(fe.name="#cdata",fe.type=4,fe.value=fe.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===fe.value.indexOf("mce:protected ")&&(fe.name="#text",fe.type=3,fe.raw=!0,fe.value=unescape(fe.value).substr(14))}),y.addNodeFilter("xml:namespace,input",function(oe,J){for(var _e,fe=oe.length;fe--;)7===(_e=oe[fe]).type?_e.remove():1===_e.type&&("input"!==J||"type"in _e.attributes.map||_e.attr("type","text"))}),y.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(oe,J){for(var fe=oe.length;fe--;)oe[fe].attr(J,null)}),{schema:v,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:function(oe,J){var _e,Ve,Ee,Re,ze,Oe;return w.ie&&A.select("script,style,select,map").length>0?(ze=oe.innerHTML,oe=oe.cloneNode(!1),A.setHTML(oe,ze)):oe=oe.cloneNode(!0),(_e=document.implementation).createHTMLDocument&&(Ve=_e.createHTMLDocument(""),E("BODY"==oe.nodeName?oe.childNodes:[oe],function(je){Ve.body.appendChild(Ve.importNode(je,!0))}),oe="BODY"!=oe.nodeName?Ve.body.firstChild:Ve.body,Ee=A.doc,A.doc=Ve),(J=J||{}).format=J.format||"html",J.selection&&(J.forced_root_block=""),J.no_events||(J.node=oe,this.onPreProcess(J)),function P(O){function $(N){return N&&"br"===N.name}var F,re;$(F=O.lastChild)&&$(re=F.prev)&&(F.remove(),re.remove())}(Oe=y.parse(H(J.getInner?oe.innerHTML:A.getOuterHTML(oe)),J)),Re=new C(O,v),J.content=Re.serialize(Oe),J.cleanup||(J.content=j.trim(J.content),J.content=J.content.replace(/\uFEFF/g,"")),J.no_events||this.onPostProcess(J),Ee&&(A.doc=Ee),J.node=null,J.content},addRules:function(oe){v.addValidElements(oe)},setRules:function(oe){v.setValidElements(oe)},onPreProcess:function(oe){$&&$.fire("PreProcess",oe)},onPostProcess:function(oe){$&&$.fire("PostProcess",oe)},addTempAttr:function R(oe){-1===M.inArray(Z,oe)&&(y.addAttributeFilter(oe,function(J,fe){for(var _e=J.length;_e--;)J[_e].attr(fe,null)}),Z.push(oe))},trimHtml:F,getTrimmedContent:function N(){return re($.getBody().innerHTML)},trimContent:re}}}),xe(xt,[],function(){return function me(ie){function U(w,M){var j,E,H,q,O,$,F,N,P=0,re=-1;if((j=w.duplicate()).collapse(M),(N=j.parentElement()).ownerDocument===ie.dom.doc){for(;"false"===N.contentEditable;)N=N.parentNode;if(!N.hasChildNodes())return{node:N,inside:1};for(E=(q=N.children).length-1;P<=E;)if(F=Math.floor((P+E)/2),j.moveToElementText(O=q[F]),(re=j.compareEndPoints(M?"StartToStart":"EndToEnd",w))>0)E=F-1;else{if(!(re<0))return{node:O};P=F+1}if(re<0)for(O?j.collapse(!1):(j.moveToElementText(N),j.collapse(!0),O=N,H=!0),$=0;0!==j.compareEndPoints(M?"StartToStart":"StartToEnd",w)&&0!==j.move("character",1)&&N==j.parentElement();)$++;else for(j.collapse(!0),$=0;0!==j.compareEndPoints(M?"StartToStart":"StartToEnd",w)&&0!==j.move("character",-1)&&N==j.parentElement();)$++;return{node:O,position:re,offset:$,inside:H}}}var C=this,D=ie.dom,_=!1;this.getBookmark=function(w){function M(H){var q,O,$,F,re=[];for(q=H.parentNode,O=D.getRoot().parentNode;q!=O&&9!==q.nodeType;){for(F=($=q.children).length;F--;)if(H===$[F]){re.push(F);break}H=q,q=q.parentNode}return re}function j(H){var q;if(q=U(P,H))return{position:q.position,offset:q.offset,indexes:M(q.node),inside:q.inside}}var P=ie.getRng(),E={};return 2===w&&(P.item?E.start={ctrl:!0,indexes:M(P.item(0))}:(E.start=j(!0),ie.isCollapsed()||(E.end=j()))),E},this.moveToBookmark=function(w){function M(H){var q,O,$,F;for(q=D.getRoot(),O=H.length-1;O>=0;O--)($=H[O])<=(F=q.children).length-1&&(q=F[$]);return q}function j(H){var O,$,re,q=w[H?"start":"end"];q&&(O=q.position>0,($=E.createTextRange()).moveToElementText(M(q.indexes)),void 0!==(re=q.offset)?($.collapse(q.inside||O),$.moveStart("character",O?-re:re)):$.collapse(H),P.setEndPoint(H?"StartToStart":"EndToStart",$),H&&P.collapse(!0))}var P,E=D.doc.body;w.start&&(w.start.ctrl?((P=E.createControlRange()).addElement(M(w.start.indexes)),P.select()):(P=E.createTextRange(),j(!0),j(),P.select()))},this.addRange=function(w){function M(A){var v,y,Z,oe,J;Z=D.create("a"),v=A?E:q,y=A?H:O,oe=j.duplicate(),v!=F&&v!=F.documentElement||(v=re,y=0),3==v.nodeType?(v.parentNode.insertBefore(Z,v),oe.moveToElementText(Z),oe.moveStart("character",y),D.remove(Z),j.setEndPoint(A?"StartToStart":"EndToEnd",oe)):((J=v.childNodes).length?(y>=J.length?D.insertAfter(Z,J[J.length-1]):v.insertBefore(Z,J[y]),oe.moveToElementText(Z)):v.canHaveHTML&&(v.innerHTML="<span>&#xFEFF;</span>",oe.moveToElementText(Z=v.firstChild),oe.collapse(_)),j.setEndPoint(A?"StartToStart":"EndToEnd",oe),D.remove(Z))}var j,P,E,H,q,O,$,N,R,F=ie.dom.doc,re=F.body;if(E=w.startContainer,H=w.startOffset,q=w.endContainer,O=w.endOffset,j=re.createTextRange(),E==q&&1==E.nodeType){if(H==O&&!E.hasChildNodes()){if(E.canHaveHTML)return($=E.previousSibling)&&!$.hasChildNodes()&&D.isBlock($)?$.innerHTML="&#xFEFF;":$=null,E.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",j.moveToElementText(E.lastChild),j.select(),D.doc.selection.clear(),E.innerHTML="",void($&&($.innerHTML=""));H=D.nodeIndex(E),E=E.parentNode}if(H==O-1)try{if(R=E.childNodes[H],(P=re.createControlRange()).addElement(R),P.select(),(N=ie.getRng()).item&&R===N.item(0))return}catch{}}M(!0),M(),j.select()},this.getRangeAt=function z(){function w($){var re,N,A,y,F=U(M,$),R=0;if(re=F.node,N=F.offset,!F.inside||re.hasChildNodes())if(void 0!==N){if(F.position<0){if(!(A=F.inside?re.firstChild:re.nextSibling))return void j[$?"setStartAfter":"setEndAfter"](re);if(!N)return void(3==A.nodeType?j[$?"setStart":"setEnd"](A,0):j[$?"setStartBefore":"setEndBefore"](A));for(;A;){if(3==A.nodeType&&(R+=(y=A.nodeValue).length)>=N){re=A,R=y.length-(R-=N);break}A=A.nextSibling}}else{if(!(A=re.previousSibling))return j[$?"setStartBefore":"setEndBefore"](re);if(!N)return void(3==re.nodeType?j[$?"setStart":"setEnd"](A,re.nodeValue.length):j[$?"setStartAfter":"setEndAfter"](A));for(;A;){if(3==A.nodeType&&(R+=A.nodeValue.length)>=N){re=A,R-=N;break}A=A.previousSibling}}j[$?"setStart":"setEnd"](re,R)}else j[$?"setStartBefore":"setEndAfter"](re);else j[$?"setStart":"setEnd"](re,0)}var P,E,H,q,O,M=ie.getRng(),j=D.createRng();if((P=M.item?M.item(0):M.parentElement()).ownerDocument!=D.doc)return j;if(E=ie.isCollapsed(),M.item)return j.setStart(P.parentNode,D.nodeIndex(P)),j.setEnd(j.startContainer,j.startOffset+1),j;try{w(!0),E||w()}catch($){if(-2147024809!=$.number)throw $;O=C.getBookmark(2),(H=M.duplicate()).collapse(!0),P=H.parentElement(),E||((H=M.duplicate()).collapse(!1),(q=H.parentElement()).innerHTML=q.innerHTML),P.innerHTML=P.innerHTML,C.moveToBookmark(O),M=ie.getRng(),w(!0),E||w()}return j}}}),xe(Yt,[G],function(me){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(ie){return ie.shiftKey||ie.ctrlKey||ie.altKey||this.metaKeyPressed(ie)},metaKeyPressed:function(ie){return me.mac?ie.metaKey:ie.ctrlKey&&!ie.altKey}}}),xe(pn,[Yt,Y,I,G,be],function(me,ie,U,z,C){var _=C.isContentEditableFalse,w=C.isContentEditableTrue;return function(M,j){function P(It){var Dt=j.settings.object_resizing;return!1!==Dt&&!z.iOS&&("string"!=typeof Dt&&(Dt="table,img,div"),"false"!==It.getAttribute("data-mce-resize")&&It!=j.getBody()&&j.dom.is(It,Dt))}function E(It){var Dt,Ot,qn,ri;un=(un=(Dt=It.screenX-ye)*je[2]+nt)<5?5:un,Qt=(Qt=(Ot=It.screenY-Ie)*je[3]+Mt)<5?5:Qt,("IMG"==Ee.nodeName&&!1!==j.settings.resize_img_proportional?!me.modifierPressed(It):me.modifierPressed(It)||"IMG"==Ee.nodeName&&je[2]*je[3]!=0)&&(Ue(Dt)>Ue(Ot)?(Qt=at(un*Wt),un=at(Qt/Wt)):(un=at(Qt/Wt),Qt=at(un*Wt))),_e.setStyles(Re,{width:un,height:Qt}),_e.setStyles(ze,{left:qn=(qn=je.startPos.x+Dt)>0?qn:0,top:ri=(ri=je.startPos.y+Ot)>0?ri:0,display:"block"}),ze.innerHTML=un+" &times; "+Qt,je[2]<0&&Re.clientWidth<=un&&_e.setStyle(Re,"left",He+(nt-un)),je[3]<0&&Re.clientHeight<=Qt&&_e.setStyle(Re,"top",Xe+(Mt-Qt)),(Dt=vt.scrollWidth-_t)+(Ot=vt.scrollHeight-ct)!=0&&_e.setStyles(ze,{left:qn-Dt,top:ri-Ot}),Kt||(j.fire("ObjectResizeStart",{target:Ee,width:nt,height:Mt}),Kt=!0)}function H(){function It(Dt,Ot){Ot&&(Ee.style[Dt]||!j.schema.isValid(Ee.nodeName.toLowerCase(),Dt)?_e.setStyle(Ee,Dt,Ot):_e.setAttrib(Ee,Dt,Ot))}Kt=!1,It("width",un),It("height",Qt),_e.unbind(tt,"mousemove",E),_e.unbind(tt,"mouseup",H),Ae!=tt&&(_e.unbind(Ae,"mousemove",E),_e.unbind(Ae,"mouseup",H)),_e.remove(Re),_e.remove(ze),Se&&"TABLE"!=Ee.nodeName||q(Ee),j.fire("ObjectResized",{target:Ee,width:un,height:Qt}),_e.setAttrib(Ee,"style",_e.getAttrib(Ee,"style")),j.nodeChanged()}function q(It,Dt,Ot){var Tn,qn,ri,pi,ai;O(),Z(),Tn=_e.getPos(It,vt),He=Tn.x,Xe=Tn.y,ai=It.getBoundingClientRect(),qn=ai.width||ai.right-ai.left,ri=ai.height||ai.bottom-ai.top,Ee!=It&&(y(),Ee=It,un=Qt=0),pi=j.fire("ObjectSelected",{target:It}),P(It)&&!pi.isDefaultPrevented()?Ve(Oe,function(oi,ki){function wi(Ut){ye=Ut.screenX,Ie=Ut.screenY,Wt=(Mt=Ee.clientHeight)/(nt=Ee.clientWidth),je=oi,oi.startPos={x:qn*oi[0]+He,y:ri*oi[1]+Xe},_t=vt.scrollWidth,ct=vt.scrollHeight,Re=Ee.cloneNode(!0),_e.addClass(Re,"mce-clonedresizable"),_e.setAttrib(Re,"data-mce-bogus","all"),Re.contentEditable=!1,Re.unSelectabe=!0,_e.setStyles(Re,{left:He,top:Xe,margin:0}),Re.removeAttribute("data-mce-selected"),vt.appendChild(Re),_e.bind(tt,"mousemove",E),_e.bind(tt,"mouseup",H),Ae!=tt&&(_e.bind(Ae,"mousemove",E),_e.bind(Ae,"mouseup",H)),ze=_e.add(vt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},nt+" &times; "+Mt)}var Ci;return Dt?void(ki==Dt&&wi(Ot)):((Ci=_e.get("mceResizeHandle"+ki))&&_e.remove(Ci),Ci=_e.add(vt,"div",{id:"mceResizeHandle"+ki,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ki+"-resize; margin:0; padding:0"}),z.ie&&(Ci.contentEditable=!1),_e.bind(Ci,"mousedown",function(Ut){Ut.stopImmediatePropagation(),Ut.preventDefault(),wi(Ut)}),oi.elm=Ci,void _e.setStyles(Ci,{left:qn*oi[0]+He-Ci.offsetWidth/2,top:ri*oi[1]+Xe-Ci.offsetHeight/2}))}):O(),Ee.setAttribute("data-mce-selected","1")}function O(){var It,Dt;for(It in Z(),Ee&&Ee.removeAttribute("data-mce-selected"),Oe)(Dt=_e.get("mceResizeHandle"+It))&&(_e.unbind(Dt),_e.remove(Dt))}function $(It){function Dt(qn,ri){if(qn)do{if(qn===ri)return!0}while(qn=qn.parentNode)}var Ot,Tn;if(!Kt&&!j.removed)return Ve(_e.select("img[data-mce-selected],hr[data-mce-selected]"),function(qn){qn.removeAttribute("data-mce-selected")}),Tn="mousedown"==It.type?It.target:M.getNode(),Dt(Tn=_e.$(Tn).closest(Se?"table":"table,img,hr")[0],vt)&&(oe(),Dt(Ot=M.getStart(!0),Tn)&&Dt(M.getEnd(!0),Tn)&&(!Se||Tn!=Ot&&"IMG"!==Ot.nodeName))?void q(Tn):void O()}function F(It,Dt,Ot){It&&It.attachEvent&&It.attachEvent("on"+Dt,Ot)}function re(It,Dt,Ot){It&&It.detachEvent&&It.detachEvent("on"+Dt,Ot)}function N(It){var Ot,Tn,qn,pi,ai,oi,Dt=It.srcElement;for(Tn in Ot=Dt.getBoundingClientRect(),ai=Ye.clientX-Ot.left,oi=Ye.clientY-Ot.top,Oe)if(pi=Dt.offsetHeight*(qn=Oe[Tn])[1],Ue(Dt.offsetWidth*qn[0]-ai)<8&&Ue(pi-oi)<8){je=qn;break}Kt=!0,j.fire("ObjectResizeStart",{target:Ee,width:Ee.clientWidth,height:Ee.clientHeight}),j.getDoc().selection.empty(),q(Dt,Tn,Ye)}function A(It){return _(function D(M,j){for(;j&&j!=M;){if(w(j)||_(j))return j;j=j.parentNode}return null}(j.getBody(),It))}function v(It){var Dt=It.srcElement;if(A(Dt))!function R(It){It.preventDefault?It.preventDefault():It.returnValue=!1}(It);else if(Dt!=Ee){if(j.fire("ObjectSelected",{target:Dt}),y(),0===Dt.id.indexOf("mceResizeHandle"))return void(It.returnValue=!1);"IMG"!=Dt.nodeName&&"TABLE"!=Dt.nodeName||(O(),Ee=Dt,F(Dt,"resizestart",N))}}function y(){re(Ee,"resizestart",N)}function Z(){for(var It in Oe){var Dt=Oe[It];Dt.elm&&(_e.unbind(Dt.elm),delete Dt.elm)}}function oe(){try{j.getDoc().execCommand("enableObjectResizing",!1,!1)}catch{}}function J(It){var Dt;if(Se){Dt=tt.body.createControlRange();try{return Dt.addElement(It),Dt.select(),!0}catch{}}}var Ee,Re,ze,Oe,je,Ye,ye,Ie,He,Xe,nt,Mt,Wt,Kt,un,Qt,_t,ct,_e=j.dom,Ve=ie.each,tt=j.getDoc(),Ae=document,Se=z.ie&&z.ie<11,Ue=Math.abs,at=Math.round,vt=j.getBody();Oe={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var Lt=".mce-content-body";return j.contentStyles.push(Lt+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+Lt+" .mce-resizehandle:hover {background: #000}"+Lt+" img[data-mce-selected],"+Lt+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+Lt+" .mce-clonedresizable {position: absolute;"+(z.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+Lt+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),j.on("init",function(){Se?(j.on("ObjectResized",function(Dt){"TABLE"!=Dt.target.nodeName&&(O(),J(Dt.target))}),F(vt,"controlselect",v),j.on("mousedown",function(Dt){Ye=Dt})):(oe(),z.ie>=11&&(j.on("mousedown click",function(Dt){var Ot=Dt.target,Tn=Ot.nodeName;Kt||!/^(TABLE|IMG|HR)$/.test(Tn)||A(Ot)||(j.selection.select(Ot,"TABLE"==Tn),"mousedown"==Dt.type&&j.nodeChanged())}),j.dom.bind(vt,"mscontrolselect",function(Dt){function Ot(Tn){U.setEditorTimeout(j,function(){j.selection.select(Tn)})}return A(Dt.target)?(Dt.preventDefault(),void Ot(Dt.target)):void(/^(TABLE|IMG|HR)$/.test(Dt.target.nodeName)&&(Dt.preventDefault(),"IMG"==Dt.target.tagName&&Ot(Dt.target)))})));var It=U.throttle(function(Dt){j.composing||$(Dt)});j.on("nodechange ResizeEditor ResizeWindow drop",It),j.on("keyup compositionend",function(Dt){Ee&&"TABLE"==Ee.nodeName&&It(Dt)}),j.on("hide blur",O)}),j.on("remove",Z),{isResizable:P,showResizeRect:q,hideResizeRect:O,updateResizeRect:$,controlSelect:J,destroy:function fe(){Ee=Re=null,Se&&(y(),re(vt,"controlselect",v))}}}}),xe(Ct,[],function(){var w=[].slice;return{constant:function me(M){return function(){return M}},negate:function ie(M){return function(j){return!M(j)}},and:function C(){var M=w.call(arguments);return function(j){for(var P=0;P<M.length;P++)if(!M[P](j))return!1;return!0}},or:function z(){var M=w.call(arguments);return function(j){for(var P=0;P<M.length;P++)if(M[P](j))return!0;return!1}},curry:function D(M){var j=w.call(arguments);return j.length-1>=M.length?M.apply(this,j.slice(1)):function(){var P=j.concat([].slice.call(arguments));return D.apply(this,P)}},compose:function U(M,j){return function(P){return M(j(P))}},noop:function _(){}}}),xe(qt,[be,B,ee],function(me,ie,U){function z(F){return!$(F)&&(E(F)?!H(F.parentNode):q(F)||P(F)||O(F)||j(F))}function C(F,re){for(F=F.parentNode;F&&F!=re;F=F.parentNode){if(j(F))return!1;if(M(F))return!0}return!0}var M=me.isContentEditableTrue,j=me.isContentEditableFalse,P=me.isBr,E=me.isText,H=me.matchNodeNames("script style textarea"),q=me.matchNodeNames("img input textarea hr iframe video audio object"),O=me.matchNodeNames("table"),$=U.isCaretContainer;return{isCaretCandidate:z,isInEditable:C,isAtomic:function _(F){return q(F)||function D(F){return!!j(F)&&!0!==ie.reduce(F.getElementsByTagName("*"),function(re,N){return re||M(N)},!1)}(F)},isEditableCaretCandidate:function w(F,re){return z(F)&&C(F,re)}}}),xe(dn,[],function(){function me(E){return E?{left:P(E.left),top:P(E.top),bottom:P(E.bottom),right:P(E.right),width:P(E.width),height:P(E.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function z(E,H,q){return E>=0&&E<=Math.min(H.height,q.height)/2}function C(E,H){return E.bottom<H.top||!(E.top>H.bottom)&&z(H.top-E.bottom,E,H)}function D(E,H){return E.top>H.bottom||!(E.bottom<H.top)&&z(H.bottom-E.top,E,H)}function _(E,H){return E.left<H.left}function w(E,H){return E.right>H.right}var P=Math.round;return{clone:me,collapse:function ie(E,H){return E=me(E),H||(E.left=E.left+E.width),E.right=E.left,E.width=0,E},isEqual:function U(E,H){return E.left===H.left&&E.top===H.top&&E.bottom===H.bottom&&E.right===H.right},isAbove:C,isBelow:D,isLeft:_,isRight:w,compare:function M(E,H){return C(E,H)?-1:D(E,H)?1:_(E,H)?-1:w(E,H)?1:0},containsXY:function j(E,H,q){return H>=E.left&&H<=E.right&&q>=E.top&&q<=E.bottom}}}),xe(Pt,[],function(){var ie=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function me(U){return"string"==typeof U&&U.charCodeAt(0)>=768&&ie.test(U)}}}),xe(yn,[Ct,be,ve,Me,qt,dn,Pt],function(me,ie,U,z,C,D,_){function w(y){return"createRange"in y?y.createRange():U.DOM.createRng()}function M(y){return y&&/[\r\n\t ]/.test(y)}function j(y){var J,Z=y.startContainer,oe=y.startOffset;return!!(M(y.toString())&&re(Z.parentNode)&&(J=Z.data,M(J[oe-1])||M(J[oe+1])))}function E(y,Z,oe){function Ve(){return oe||(oe=function P(y){function oe(ze){var Oe,je;return je=ze.getClientRects(),Oe=D.clone(je.length>0?je[0]:ze.getBoundingClientRect()),R(ze)&&0===Oe.left?function Z(ze){var Ie,Oe=ze.ownerDocument,je=w(Oe),Ye=Oe.createTextNode("\xa0"),ye=ze.parentNode;return ye.insertBefore(Ye,ze),je.setStart(Ye,0),je.setEnd(Ye,1),Ie=D.clone(je.getBoundingClientRect()),ye.removeChild(Ye),Ie}(ze):Oe}function J(ze,Oe){return(ze=D.collapse(ze,Oe)).width=1,ze.right=ze.left+1,ze}function fe(ze){0!==ze.height&&(Ve.length>0&&D.isEqual(ze,Ve[Ve.length-1])||Ve.push(ze))}function _e(ze,Oe){var je=w(ze.ownerDocument);if(Oe<ze.data.length){if(_.isExtendingChar(ze.data[Oe]))return Ve;if(_.isExtendingChar(ze.data[Oe-1])&&(je.setStart(ze,Oe),je.setEnd(ze,Oe+1),!j(je)))return fe(J(oe(je),!1)),Ve}Oe>0&&(je.setStart(ze,Oe-1),je.setEnd(ze,Oe),j(je)||fe(J(oe(je),!1))),Oe<ze.data.length&&(je.setStart(ze,Oe),je.setEnd(ze,Oe+1),j(je)||fe(J(oe(je),!0)))}var Ee,Re,Ve=[];if(N(y.container()))return _e(y.container(),y.offset()),Ve;if(H(y.container()))if(y.isAtEnd())Re=v(y.container(),y.offset()),N(Re)&&_e(Re,Re.data.length),F(Re)&&!R(Re)&&fe(J(oe(Re),!1));else{if(Re=v(y.container(),y.offset()),N(Re)&&_e(Re,0),F(Re)&&y.isAtEnd())return fe(J(oe(Re),!1)),Ve;Ee=v(y.container(),y.offset()-1),F(Ee)&&!R(Ee)&&(O(Ee)||O(Re)||!F(Re))&&fe(J(oe(Ee),!1)),F(Re)&&fe(J(oe(Re),!0))}return Ve}(new E(y,Z))),oe}return{container:me.constant(y),offset:me.constant(Z),toRange:function _e(){var Oe;return(Oe=w(y.ownerDocument)).setStart(y,Z),Oe.setEnd(y,Z),Oe},getClientRects:Ve,isVisible:function Ee(){return Ve().length>0},isAtStart:function J(){return N(y),0===Z},isAtEnd:function fe(){return N(y)?Z>=y.data.length:Z>=y.childNodes.length},isEqual:function Re(Oe){return Oe&&y===Oe.container()&&Z===Oe.offset()},getNode:function ze(Oe){return v(y,Oe?Z-1:Z)}}}var H=ie.isElement,q=C.isCaretCandidate,O=ie.matchStyleValues("display","block table"),$=ie.matchStyleValues("float","left right"),F=me.and(H,q,me.negate($)),re=me.negate(ie.matchStyleValues("white-space","pre pre-line pre-wrap")),N=ie.isText,R=ie.isBr,A=U.nodeIndex,v=z.getNode;return E.fromRangeStart=function(y){return new E(y.startContainer,y.startOffset)},E.fromRangeEnd=function(y){return new E(y.endContainer,y.endOffset)},E.after=function(y){return new E(y.parentNode,A(y)+1)},E.before=function(y){return new E(y.parentNode,A(y))},E}),xe(Gt,[be,ve,Ct,B,yn],function(me,ie,U,z,C){function D(R){var A=R.parentNode;return re(A)?D(A):A}function _(R){return R?z.reduce(R.childNodes,function(A,v){return re(v)&&"BR"!=v.nodeName?A=A.concat(_(v)):A.push(v),A},[]):[]}function M(R){return function(A){return R===A}}function j(R){var A,v,y;return A=_(D(R)),v=z.findIndex(A,M(R),R),A=A.slice(0,v+1),y=z.reduce(A,function(Z,oe,J){return F(oe)&&F(A[J-1])&&Z++,Z},0),A=z.filter(A,me.matchNodeNames(R.nodeName)),(v=z.findIndex(A,M(R),R))-y}function P(R){return(F(R)?"text()":R.nodeName.toLowerCase())+"["+j(R)+"]"}var F=me.isText,re=me.isBogus,N=ie.nodeIndex;return{create:function H(R,A){var v,y,oe,J,fe,Z=[];return v=A.container(),y=A.offset(),F(v)?oe=function w(R,A){for(;(R=R.previousSibling)&&F(R);)A+=R.data.length;return A}(v,y):(y>=(J=v.childNodes).length?(oe="after",y=J.length-1):oe="before",v=J[y]),Z.push(P(v)),fe=function E(R,A,v){var y=[];for(A=A.parentNode;!(A==R||v&&v(A));A=A.parentNode)y.push(A);return y}(R,v),fe=z.filter(fe,U.negate(me.isBogus)),(Z=Z.concat(z.map(fe,function(_e){return P(_e)}))).reverse().join("/")+","+oe},resolve:function $(R,A){var v,y,Z;return A?(v=A.split(","),A=v[0].split("/"),Z=v.length>1?v[1]:"before",(y=z.reduce(A,function(oe,J){return(J=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(J))?("text()"===J[1]&&(J[1]="#text"),function q(R,A,v){var y=_(R);return y=z.filter(y,function(Z,oe){return!F(Z)||!F(y[oe-1])}),(y=z.filter(y,me.matchNodeNames(A)))[v]}(oe,J[1],parseInt(J[2],10))):null},R))?F(y)?function O(R,A){for(var Z,v=R,y=0;F(v);){if(Z=v.data.length,A>=y&&A<=y+Z){R=v,A-=y;break}if(!F(v.nextSibling)){R=v,A=Z;break}y+=Z,v=v.nextSibling}return A>R.data.length&&(A=R.data.length),new C(R,A)}(y,parseInt(Z,10)):(Z="after"===Z?N(y)+1:N(y),new C(y.parentNode,Z)):null):null}}}),xe(Sn,[G,Y,ee,Gt,yn,be,Me],function(me,ie,U,z,C,D,_){function w(j){var P=j.dom;this.getBookmark=function(E,H){function q(J,fe){var _e=0;return ie.each(P.select(J),function(Ve){if("all"!==Ve.getAttribute("data-mce-bogus"))return Ve!=fe&&void _e++}),_e}function O(J){function fe(_e){var Ve,Ee,Re,ze=_e?"start":"end";Ee=J[ze+"Offset"],1==(Ve=J[ze+"Container"]).nodeType&&"TR"==Ve.nodeName&&(Ve=(Re=Ve.childNodes)[Math.min(_e?Ee:Ee-1,Re.length-1)])&&J["set"+(_e?"Start":"End")](Ve,Ee=_e?0:Ve.childNodes.length)}return fe(!0),fe(),J}var re,N,R,A,v,y,oe,Z="&#xFEFF;";if(2==E)return v=(y=j.getNode())?y.nodeName:null,re=j.getRng(),M(y)||"IMG"==v?{name:v,index:q(v,y)}:j.tridentSel?j.tridentSel.getBookmark(E):(y=function F(J){function fe(_e,Ve){var Ee;return D.isElement(_e)&&(_e=_.getNode(_e,Ve),M(_e))?_e:U.isCaretContainer(_e)&&(D.isText(_e)&&U.isCaretContainerBlock(_e)&&(_e=_e.parentNode),M(Ee=_e.previousSibling)||M(Ee=_e.nextSibling))?Ee:void 0}return fe(J.startContainer,J.startOffset)||fe(J.endContainer,J.endOffset)}(re))?{name:v=y.tagName,index:q(v,y)}:function $(J){function fe(Ee,Re){var Ye,ye,ze=Ee[Re?"startContainer":"endContainer"],Oe=Ee[Re?"startOffset":"endOffset"],je=[],Ie=0;if(3==ze.nodeType){if(H)for(Ye=ze.previousSibling;Ye&&3==Ye.nodeType;Ye=Ye.previousSibling)Oe+=Ye.nodeValue.length;je.push(Oe)}else Oe>=(ye=ze.childNodes).length&&ye.length&&(Ie=1,Oe=Math.max(0,ye.length-1)),je.push(P.nodeIndex(ye[Oe],H)+Ie);for(;ze&&ze!=_e;ze=ze.parentNode)je.push(P.nodeIndex(ze,H));return je}var _e=P.getRoot(),Ve={};return Ve.start=fe(J,!0),j.isCollapsed()||(Ve.end=fe(J)),Ve}(re);if(3==E)return re=j.getRng(),{start:z.create(P.getRoot(),C.fromRangeStart(re)),end:z.create(P.getRoot(),C.fromRangeEnd(re))};if(E)return{rng:j.getRng()};if(re=j.getRng(),R=P.uniqueId(),A=j.isCollapsed(),oe="overflow:hidden;line-height:0px",re.duplicate||re.item){if(re.item)return{name:v=(y=re.item(0)).nodeName,index:q(v,y)};N=re.duplicate();try{re.collapse(),re.pasteHTML('<span data-mce-type="bookmark" id="'+R+'_start" style="'+oe+'">'+Z+"</span>"),A||(N.collapse(!1),re.moveToElementText(N.parentElement()),0===re.compareEndPoints("StartToEnd",N)&&N.move("character",-1),N.pasteHTML('<span data-mce-type="bookmark" id="'+R+'_end" style="'+oe+'">'+Z+"</span>"))}catch{return null}}else{if("IMG"==(v=(y=j.getNode()).nodeName))return{name:v,index:q(v,y)};N=O(re.cloneRange()),A||(N.collapse(!1),N.insertNode(P.create("span",{"data-mce-type":"bookmark",id:R+"_end",style:oe},Z))),(re=O(re)).collapse(!0),re.insertNode(P.create("span",{"data-mce-type":"bookmark",id:R+"_start",style:oe},Z))}return j.moveToBookmark({id:R,keep:1}),{id:R}},this.moveToBookmark=function(E){function H(y){var oe,J,fe,_e,Z=E[y?"start":"end"];if(Z){for(fe=Z[0],J=re,oe=Z.length-1;oe>=1;oe--){if(Z[oe]>(_e=J.childNodes).length-1)return;J=_e[Z[oe]]}3===J.nodeType&&(fe=Math.min(Z[0],J.nodeValue.length)),1===J.nodeType&&(fe=Math.min(Z[0],J.childNodes.length)),y?F.setStart(J,fe):F.setEnd(J,fe)}return!0}function q(y){var oe,J,fe,_e,Z=P.get(E.id+"_"+y),Ve=E.keep;if(Z&&(oe=Z.parentNode,"start"==y?(Ve?(oe=Z.firstChild,J=1):J=P.nodeIndex(Z),N=R=oe,A=v=J):(Ve?(oe=Z.firstChild,J=1):J=P.nodeIndex(Z),R=oe,v=J),!Ve)){for(_e=Z.previousSibling,fe=Z.nextSibling,ie.each(ie.grep(Z.childNodes),function(Ee){3==Ee.nodeType&&(Ee.nodeValue=Ee.nodeValue.replace(/\uFEFF/g,""))});Z=P.get(E.id+"_"+y);)P.remove(Z,1);_e&&fe&&_e.nodeType==fe.nodeType&&3==_e.nodeType&&!me.opera&&(J=_e.nodeValue.length,_e.appendData(fe.nodeValue),P.remove(fe),"start"==y?(N=R=_e,A=v=J):(R=_e,v=J))}}function O(y){return!P.isBlock(y)||y.innerHTML||me.ie||(y.innerHTML='<br data-mce-bogus="1" />'),y}var F,re,N,R,A,v;if(E)if(ie.isArray(E.start)){if(F=P.createRng(),re=P.getRoot(),j.tridentSel)return j.tridentSel.moveToBookmark(E);H(!0)&&H()&&j.setRng(F)}else"string"==typeof E.start?j.setRng(function $(){var y,Z;return y=P.createRng(),Z=z.resolve(P.getRoot(),E.start),y.setStart(Z.container(),Z.offset()),Z=z.resolve(P.getRoot(),E.end),y.setEnd(Z.container(),Z.offset()),y}()):E.id?(q("start"),q("end"),N&&((F=P.createRng()).setStart(O(N),A),F.setEnd(O(R),v),j.setRng(F))):E.name?j.select(P.select(E.name)[E.index]):E.rng&&j.setRng(E.rng)}}var M=D.isContentEditableFalse;return w.isBookmarkNode=function(j){return j&&"SPAN"===j.tagName&&"bookmark"===j.getAttribute("data-mce-type")},w}),xe(Kn,[ne,xt,pn,Me,Sn,be,G,Y,yn],function(me,ie,U,z,C,D,_,w,M){function j(q,O,$,F){var re=this;re.dom=q,re.win=O,re.serializer=$,re.editor=F,re.bookmarkManager=new C(re),re.controlSelection=new U(re,F),re.win.getSelection||(re.tridentSel=new ie(re))}var P=w.each,E=w.trim,H=_.ie;return j.prototype={setCursorLocation:function(q,O){var $=this,F=$.dom.createRng();q?(F.setStart(q,O),F.setEnd(q,O),$.setRng(F),$.collapse(!1)):($._moveEndPoint(F,$.editor.getBody(),!0),$.setRng(F))},getContent:function(q){var N,R,A,O=this,$=O.getRng(),F=O.dom.create("body"),re=O.getSel();return N=R="",(q=q||{}).get=!0,q.format=q.format||"html",q.selection=!0,O.editor.fire("BeforeGetContent",q),"text"==q.format?O.isCollapsed()?"":$.text||(re.toString?re.toString():""):($.cloneContents?(A=$.cloneContents())&&F.appendChild(A):$.item!==St||$.htmlText!==St?(F.innerHTML="<br>"+($.item?$.item(0).outerHTML:$.htmlText),F.removeChild(F.firstChild)):F.innerHTML=$.toString(),/^\s/.test(F.innerHTML)&&(N=" "),/\s+$/.test(F.innerHTML)&&(R=" "),q.getInner=!0,q.content=O.isCollapsed()?"":N+O.serializer.serialize(F,q)+R,O.editor.fire("GetContent",q),q.content)},setContent:function(q,O){var re,R,A,$=this,F=$.getRng(),N=$.win.document;if((O=O||{format:"html"}).set=!0,O.selection=!0,O.content=q,O.no_events||$.editor.fire("BeforeSetContent",O),q=O.content,F.insertNode){q+='<span id="__caret">_</span>',F.startContainer==N&&F.endContainer==N?N.body.innerHTML=q:(F.deleteContents(),0===N.body.childNodes.length?N.body.innerHTML=q:F.createContextualFragment?F.insertNode(F.createContextualFragment(q)):(R=N.createDocumentFragment(),A=N.createElement("div"),R.appendChild(A),A.outerHTML=q,F.insertNode(R))),re=$.dom.get("__caret"),(F=N.createRange()).setStartBefore(re),F.setEndBefore(re),$.setRng(F),$.dom.remove("__caret");try{$.setRng(F)}catch{}}else F.item&&(N.execCommand("Delete",!1,null),F=$.getRng()),/^\s+/.test(q)?(F.pasteHTML('<span id="__mce_tmp">_</span>'+q),$.dom.remove("__mce_tmp")):F.pasteHTML(q);O.no_events||$.editor.fire("SetContent",O)},getStart:function(q){var F,re,N,R,O=this,$=O.getRng();if($.duplicate||$.item){if($.item)return $.item(0);for((N=$.duplicate()).collapse(1),(F=N.parentElement()).ownerDocument!==O.dom.doc&&(F=O.dom.getRoot()),re=R=$.parentElement();R=R.parentNode;)if(R==F){F=re;break}return F}return 1==(F=$.startContainer).nodeType&&F.hasChildNodes()&&(q&&$.collapsed||(F=F.childNodes[Math.min(F.childNodes.length-1,$.startOffset)])),F&&3==F.nodeType?F.parentNode:F},getEnd:function(q){var F,re,O=this,$=O.getRng();return $.duplicate||$.item?$.item?$.item(0):(($=$.duplicate()).collapse(0),(F=$.parentElement()).ownerDocument!==O.dom.doc&&(F=O.dom.getRoot()),F&&"BODY"==F.nodeName&&F.lastChild||F):(re=$.endOffset,1==(F=$.endContainer).nodeType&&F.hasChildNodes()&&(q&&$.collapsed||(F=F.childNodes[re>0?re-1:re])),F&&3==F.nodeType?F.parentNode:F)},getBookmark:function(q,O){return this.bookmarkManager.getBookmark(q,O)},moveToBookmark:function(q){return this.bookmarkManager.moveToBookmark(q)},select:function(q,O){var N,$=this,F=$.dom,re=F.createRng();if($.lastFocusBookmark=null,q){if(!O&&$.controlSelection.controlSelect(q))return;N=F.nodeIndex(q),re.setStart(q.parentNode,N),re.setEnd(q.parentNode,N+1),O&&($._moveEndPoint(re,q,!0),$._moveEndPoint(re,q)),$.setRng(re)}return q},isCollapsed:function(){var O=this.getRng(),$=this.getSel();return!(!O||O.item)&&(O.compareEndPoints?0===O.compareEndPoints("StartToEnd",O):!$||O.collapsed)},collapse:function(q){var F,O=this,$=O.getRng();$.item&&(F=$.item(0),($=O.win.document.body.createTextRange()).moveToElementText(F)),$.collapse(!!q),O.setRng($)},getSel:function(){var q=this.win;return q.getSelection?q.getSelection():q.document.selection},getRng:function(q){function O(Z,oe,J){try{return oe.compareBoundaryPoints(Z,J)}catch{return-1}}var F,re,N,R,A,v,$=this;if(!$.win||typeof(R=$.win.document)>"u"||null===R)return null;if(!q&&$.lastFocusBookmark){var y=$.lastFocusBookmark;return y.startContainer?((re=R.createRange()).setStart(y.startContainer,y.startOffset),re.setEnd(y.endContainer,y.endOffset)):re=y,re}if(q&&$.tridentSel)return $.tridentSel.getRangeAt(0);try{(F=$.getSel())&&(re=F.rangeCount>0?F.getRangeAt(0):F.createRange?F.createRange():R.createRange())}catch{}if((v=$.editor.fire("GetSelectionRange",{range:re})).range!==re)return v.range;if(H&&re&&re.setStart&&R.selection){try{A=R.selection.createRange()}catch{}A&&A.item&&(N=A.item(0),(re=R.createRange()).setStartBefore(N),re.setEndAfter(N))}return re||(re=R.createRange?R.createRange():R.body.createTextRange()),re.setStart&&9===re.startContainer.nodeType&&re.collapsed&&(N=$.dom.getRoot(),re.setStart(N,0),re.setEnd(N,0)),$.selectedRange&&$.explicitRange&&(0===O(re.START_TO_START,re,$.selectedRange)&&0===O(re.END_TO_END,re,$.selectedRange)?re=$.explicitRange:($.selectedRange=null,$.explicitRange=null)),re},setRng:function(q,O){var F,re,$=this;if(q)if(q.select){$.explicitRange=null;try{q.select()}catch{}}else if($.tridentSel){if(q.cloneRange)try{$.tridentSel.addRange(q)}catch{}}else{if(F=$.getSel(),q=$.editor.fire("SetSelectionRange",{range:q}).range,F){$.explicitRange=q;try{F.removeAllRanges(),F.addRange(q)}catch{}!1===O&&F.extend&&(F.collapse(q.endContainer,q.endOffset),F.extend(q.startContainer,q.startOffset)),$.selectedRange=F.rangeCount>0?F.getRangeAt(0):null}q.collapsed||q.startContainer!=q.endContainer||!F.setBaseAndExtent||_.ie||q.endOffset-q.startOffset<2&&q.startContainer.hasChildNodes()&&(re=q.startContainer.childNodes[q.startOffset])&&"IMG"==re.tagName&&(F.setBaseAndExtent(q.startContainer,q.startOffset,q.endContainer,q.endOffset),F.anchorNode===q.startContainer&&F.focusNode===q.endContainer||F.setBaseAndExtent(re,0,re,1)),$.editor.fire("AfterSetSelectionRange",{range:q})}},setNode:function(q){return this.setContent(this.dom.getOuterHTML(q)),q},getNode:function(){function q(y,Z){for(var oe=y;y&&3===y.nodeType&&0===y.length;)y=Z?y.nextSibling:y.previousSibling;return y||oe}var F,re,N,R,A,O=this,$=O.getRng(),v=O.dom.getRoot();return $?(re=$.startContainer,N=$.endContainer,R=$.startOffset,A=$.endOffset,$.setStart?(F=$.commonAncestorContainer,!$.collapsed&&(re==N&&A-R<2&&re.hasChildNodes()&&(F=re.childNodes[R]),3===re.nodeType&&3===N.nodeType&&(re=re.length===R?q(re.nextSibling,!0):re.parentNode,N=0===A?q(N.previousSibling,!1):N.parentNode,re&&re===N))?re:F&&3==F.nodeType?F.parentNode:F):((F=$.item?$.item(0):$.parentElement()).ownerDocument!==O.win.document&&(F=v),F)):v},getSelectedBlocks:function(q,O){var re,N,$=this,F=$.dom,R=[];if(N=F.getRoot(),q=F.getParent(q||$.getStart(),F.isBlock),O=F.getParent(O||$.getEnd(),F.isBlock),q&&q!=N&&R.push(q),q&&O&&q!=O){re=q;for(var A=new me(q,N);(re=A.next())&&re!=O;)F.isBlock(re)&&R.push(re)}return O&&q!=O&&O!=N&&R.push(O),R},isForward:function(){var $,F,q=this.dom,O=this.getSel();return!(O&&O.anchorNode&&O.focusNode)||(($=q.createRng()).setStart(O.anchorNode,O.anchorOffset),$.collapse(!0),(F=q.createRng()).setStart(O.focusNode,O.focusOffset),F.collapse(!0),$.compareBoundaryPoints($.START_TO_START,F)<=0)},normalize:function(){var q=this,O=q.getRng();return _.range&&new z(q.dom).normalize(O)&&q.setRng(O,q.isForward()),O},selectorChanged:function(q,O){var F,$=this;return $.selectorChangedData||($.selectorChangedData={},F={},$.editor.on("NodeChange",function(re){var N=re.element,R=$.dom,A=R.getParents(N,null,R.getRoot()),v={};P($.selectorChangedData,function(y,Z){P(A,function(oe){if(R.is(oe,Z))return F[Z]||(P(y,function(J){J(!0,{node:oe,selector:Z,parents:A})}),F[Z]=y),v[Z]=y,!1})}),P(F,function(y,Z){v[Z]||(delete F[Z],P(y,function(oe){oe(!1,{node:N,selector:Z,parents:A})}))})})),$.selectorChangedData[q]||($.selectorChangedData[q]=[]),$.selectorChangedData[q].push(O),$},getScrollContainer:function(){for(var q,O=this.dom.getRoot();O&&"BODY"!=O.nodeName;){if(O.scrollHeight>O.clientHeight){q=O;break}O=O.parentNode}return q},scrollIntoView:function(q,O){function $(J){for(var fe=0,_e=0,Ve=J;Ve&&Ve.nodeType;)fe+=Ve.offsetLeft||0,_e+=Ve.offsetTop||0,Ve=Ve.offsetParent;return{x:fe,y:_e}}var F,re,v,y,N=this,R=N.dom,A=R.getRoot(),Z=0;if(D.isElement(q)){if(!1===O&&(Z=q.offsetHeight),"BODY"!=A.nodeName){var oe=N.getScrollContainer();if(oe)return F=$(q).y-$(oe).y+Z,y=oe.clientHeight,void((F<(v=oe.scrollTop)||F+25>v+y)&&(oe.scrollTop=F<v?F:F-y+25))}re=R.getViewPort(N.editor.getWin()),F=R.getPos(q).y+Z,v=re.y,y=re.h,(F<re.y||F+25>v+y)&&N.editor.getWin().scrollTo(0,F<v?F:F-y+25)}},placeCaretAt:function(q,O){this.setRng(z.getCaretRangeFromPoint(q,O,this.editor.getDoc()))},_moveEndPoint:function(q,O,$){var F=O,re=new me(O,F),N=this.dom.schema.getNonEmptyElements();do{if(3==O.nodeType&&0!==E(O.nodeValue).length)return void($?q.setStart(O,0):q.setEnd(O,O.nodeValue.length));if(N[O.nodeName]&&!/^(TD|TH)$/.test(O.nodeName))return void($?q.setStartBefore(O):"BR"==O.nodeName?q.setEndBefore(O):q.setEndAfter(O));if(_.ie&&_.ie<11&&this.dom.isBlock(O)&&this.dom.isEmpty(O))return void($?q.setStart(O,0):q.setEnd(O,0))}while(O=$?re.next():re.prev());"BODY"==F.nodeName&&($?q.setStart(F,0):q.setEnd(F,F.childNodes.length))},getBoundingClientRect:function(){var q=this.getRng();return q.collapsed?M.fromRangeStart(q).getClientRects()[0]:q.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},j}),xe(Un,[Sn,Y],function(me,ie){var z=ie.each;return function U(C){this.compare=function(D,_){function w(j){var P={};return z(C.getAttribs(j),function(E){var H=E.nodeName.toLowerCase();0!==H.indexOf("_")&&"style"!==H&&0!==H.indexOf("data-")&&(P[H]=C.getAttrib(j,H))}),P}function M(j,P){var E,H;for(H in j)if(j.hasOwnProperty(H)){if(typeof(E=P[H])>"u"||j[H]!=E)return!1;delete P[H]}for(H in P)if(P.hasOwnProperty(H))return!1;return!0}return!(D.nodeName!=_.nodeName||!M(w(D),w(_))||!M(C.parseStyle(C.getAttrib(D,"style")),C.parseStyle(C.getAttrib(_,"style")))||me.isBookmarkNode(D)||me.isBookmarkNode(_))}}}),xe(zn,[ve,Y,$e],function(me,ie,U){function z(P,E){function q(A){var v;return function H(A,v){v.classes.length&&j.addClass(A,v.classes.join(" ")),j.setAttribs(A,v.attrs)}(v=j.create((re="string"==typeof A?{name:A,classes:[],attrs:{}}:A).name),re),v}var F,re,N,R=E&&E.schema||new U({});return P&&P.length?(F=q(re=P[0]),(N=j.create("div")).appendChild(function $(A,v,y){var Z,oe,J,fe=v.length&&v[0],_e=fe&&fe.name;if(J=function O(A,v){var y="string"!=typeof A?A.nodeName.toLowerCase():A,oe=R.getElementRule(y).parentsRequired;return!(!oe||!oe.length)&&(v&&-1!==ie.inArray(oe,v)?v:oe[0])}(A,_e))_e==J?(oe=v[0],v=v.slice(1)):oe=J;else if(fe)oe=v[0],v=v.slice(1);else if(!y)return A;return oe&&(Z=q(oe)).appendChild(A),y&&(Z||(Z=j.create("div")).appendChild(A),ie.each(y,function(Ve){var Ee=q(Ve);Z.insertBefore(Ee,A)})),$(Z,v,oe&&oe.siblings)}(F,P.slice(1),re.siblings)),N):""}function D(P){var E,H={classes:[],attrs:{}};return"*"!==(P=H.selector=ie.trim(P))&&(E=P.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(q,O,$,F,re){switch(O){case"#":H.attrs.id=$;break;case".":H.classes.push($);break;case":":-1!==ie.inArray("checked disabled enabled read-only required".split(" "),$)&&(H.attrs[$]=$)}if("["==F){var N=re.match(/([\w\-]+)(?:\=\"([^\"]+))?/);N&&(H.attrs[N[1]]=N[2])}return""})),H.name=E||"div",H}function _(P){return P&&"string"==typeof P?(P=(P=P.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ie.map(P.split(/(?:>|\s+(?![^\[\]]+\]))/),function(E){var H=ie.map(E.split(/(?:~\+|~|\+)/),D),q=H.pop();return H.length&&(q.siblings=H),q}).reverse()):[]}var M=ie.each,j=me.DOM;return{getCssText:function w(P,E){function H(A){return A.replace(/%(\w+)/g,"")}var q,O,$,F,N,R,re="";if(!1===(R=P.settings.preview_styles))return"";if("string"!=typeof R&&(R="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof E){if(!(E=P.formatter.get(E)))return;E=E[0]}return"preview"in E&&!1===(R=E.preview)?"":(q=E.block||E.inline||"span",(F=_(E.selector)).length?(F[0].name||(F[0].name=q),q=E.selector,O=z(F,P)):O=z([q],P),$=j.select(q,O)[0]||O.firstChild,M(E.styles,function(A,v){(A=H(A))&&j.setStyle($,v,A)}),M(E.attributes,function(A,v){(A=H(A))&&j.setAttrib($,v,A)}),M(E.classes,function(A){A=H(A),j.hasClass($,A)||j.addClass($,A)}),P.fire("PreviewFormats"),j.setStyles(O,{position:"absolute",left:-65535}),P.getBody().appendChild(O),N=j.getStyle(P.getBody(),"fontSize",!0),N=/px$/.test(N)?parseInt(N,10):0,M(R.split(" "),function(A){var v=j.getStyle($,A,!0);if(!("background-color"==A&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)&&(v=j.getStyle(P.getBody(),A,!0),"#ffffff"==j.toHex(v).toLowerCase())||"color"==A&&"#000000"==j.toHex(v).toLowerCase())){if("font-size"==A&&/em|%$/.test(v)){if(0===N)return;v=(v=parseFloat(v,10)/(/%$/.test(v)?100:1))*N+"px"}"border"==A&&v&&(re+="padding:0 2px;"),re+=A+":"+v+";"}}),P.fire("AfterPreviewFormats"),j.remove(O),re)},parseSelector:_,selectorToHtml:function C(P,E){return z(_(P),E)}}}),xe(bi,[B,be,ae],function(me,ie,U){var D={},_=me.filter,w=me.each;return function z(M,j){var P=D[M];P||(D[M]=P=[]),D[M].push(j)}("pre",function(M){var H,q,E=M.selection.getRng();H=ie.matchNodeNames("pre"),E.collapsed||(q=M.selection.getSelectedBlocks(),w(_(_(q,H),function j(O){return H(O.previousSibling)&&-1!=me.indexOf(q,O.previousSibling)}),function(O){!function P(O,$){U($).remove(),U(O).append("<br><br>").append($.childNodes)}(O.previousSibling,O)}))}),{postProcess:function C(M,j){w(D[M],function(P){P(j)})}}}),xe(Qn,[ne,Me,Sn,Un,Ct,Y,zn,bi],function(me,ie,U,z,C,D,_,w){return function(M){function j(rt){return rt.nodeType&&(rt=rt.nodeName),!!M.schema.getTextBlockElements()[rt.toLowerCase()]}function P(rt){return/^(TH|TD)$/.test(rt.nodeName)}function H(rt,ft){return ct.getParents(rt,ft,ct.getRoot())}function q(rt){return 1===rt.nodeType&&"_mce_caret"===rt.id}function F(rt){return rt?_t[rt]:_t}function re(rt,ft){rt&&("string"!=typeof rt?Nt(rt,function(Te,We){re(We,Te)}):(Nt(ft=ft.length?ft:[ft],function(Te){Te.deep===wi&&(Te.deep=!Te.selector),Te.split===wi&&(Te.split=!Te.selector||Te.inline),Te.remove===wi&&Te.selector&&!Te.inline&&(Te.remove="none"),Te.selector&&Te.inline&&(Te.mixed=!0,Te.block_expand=!0),"string"==typeof Te.classes&&(Te.classes=Te.classes.split(/\s+/))}),_t[rt]=ft))}function R(rt,ft){var Te=F(ft);if(Te)for(var We=0;We<Te.length;We++)if(!1===Te[We].inherit&&ct.is(rt,Te[We].selector))return!0;return!1}function A(rt){var ft;return M.dom.getParent(rt,function(Te){return(ft=M.dom.getStyle(Te,"text-decoration"))&&"none"!==ft}),ft}function v(rt){var ft;1===rt.nodeType&&rt.parentNode&&1===rt.parentNode.nodeType&&(ft=A(rt.parentNode),M.dom.getStyle(rt,"color")&&ft?M.dom.setStyle(rt,"text-decoration",ft):M.dom.getStyle(rt,"text-decoration")===ft&&M.dom.setStyle(rt,"text-decoration",null))}function y(rt,ft,Te){function We(Xt,rn){if(rn=rn||Je,Xt){if(rn.onformat&&rn.onformat(Xt,rn,ft,Te),Nt(rn.styles,function(on,hn){ct.setStyle(Xt,hn,nt(on,ft))}),rn.styles){var $t=ct.getAttrib(Xt,"style");$t&&Xt.setAttribute("data-mce-style",$t)}Nt(rn.attributes,function(on,hn){ct.setAttrib(Xt,hn,nt(on,ft))}),Nt(rn.classes,function(on){on=nt(on,ft),ct.hasClass(Xt,on)||ct.addClass(Xt,on)})}}function st(Xt,rn){var $t=!1;return!!Je.selector&&(Nt(Xt,function(on){if(!("collapsed"in on)||on.collapsed===an)return ct.is(rn,on.selector)&&!q(rn)?(We(rn,on),$t=!0,!1):void 0}),$t)}function Bt(Xt,rn,$t){var hn,Pn,on=[],Zn=!0;We(Pn=ct.create(hn=Je.inline||Je.block)),It.walk(Xt,function(On){var Di;Nt(On,function ci(ni){var gi,Ji,gr,Oi;if(Oi=Zn,gi=ni.nodeName.toLowerCase(),Ji=ni.parentNode.nodeName.toLowerCase(),1===ni.nodeType&&Ci(ni)&&(Oi=Zn,Zn="true"===Ci(ni),gr=!0),Oe(gi,"br"))return Di=0,void(Je.block&&ct.remove(ni));if(Je.wrapper&&J(ni,rt,ft))Di=0;else{if(Zn&&!gr&&Je.block&&!Je.wrapper&&j(gi)&&Dt(Ji,hn))return We(ni=ct.rename(ni,hn)),on.push(ni),void(Di=0);if(Je.selector){var ji=st(wt,ni);if(!Je.inline||ji)return void(Di=0)}!Zn||gr||!Dt(hn,gi)||!Dt(Ji,hn)||!$t&&3===ni.nodeType&&1===ni.nodeValue.length&&65279===ni.nodeValue.charCodeAt(0)||q(ni)||Je.inline&&Ot(ni)?(Di=0,Nt(Ln(ni.childNodes),ci),gr&&(Zn=Oi),Di=0):(Di||(Di=ct.clone(Pn,ai),ni.parentNode.insertBefore(Di,ni),on.push(Di)),Di.appendChild(ni))}})}),!0===Je.links&&Nt(on,function(On){!function ci(Di){"A"===Di.nodeName&&We(Di,Je),Nt(Ln(Di.childNodes),ci)}(On)}),Nt(on,function(On){function ci(Oi){var ji=0;return Nt(Oi.childNodes,function(Ur){Mt(Ur)||mt(Ur)||ji++}),ji}function Di(Oi){var ji=!1;return Nt(Oi.childNodes,function(Ur){if(Ye(Ur))return ji=Ur,!1}),ji}var Ji;if(Ji=ci(On),!(on.length>1)&&Ot(On)||0!==Ji){if(Je.inline||Je.wrapper){if(Je.exact||1!==Ji||(On=function gi(Oi){var ji,Ur;return(ji=Di(Oi))&&!mt(ji)&&ze(ji,Je)&&(We(Ur=ct.clone(ji,ai)),ct.replace(Ur,Oi,oi),ct.remove(ji,1)),Ur||Oi}(On)),Nt(wt,function(Oi){Nt(ct.select(Oi.inline,On),function(ji){mt(ji)||Qt(Oi,ft,ji,Oi.exact?ji:null)})}),J(On.parentNode,rt,ft)&&Qt(Je,ft,On)&&(On=0),Je.merge_with_parents&&ct.getParent(On.parentNode,function(Oi){if(J(Oi,rt,ft))return Qt(Je,ft,On)&&(On=0),oi}),!Ot(On)&&!He(On,"fontSize")){var gr=function ni(Oi,ji){do{if(1!==ci(Oi)||!(Oi=Di(Oi)))break;if(ji(Oi))return Oi}while(Oi);return null}(On,ye("fontSize"));gr&&y("fontsize",{value:He(gr,"fontSize")},On)}On&&!1!==Je.merge_siblings&&(On=Se(Ae(On),On),On=Se(On,Ae(On,oi)))}}else ct.remove(On,1)})}var Tt,kt,wt=F(rt),Je=wt[0],an=!Te&&Lt.isCollapsed();if("false"!==Ci(Lt.getNode())){if(Je){if(Te)Te.nodeType?st(wt,Te)||((kt=ct.createRng()).setStartBefore(Te),kt.setEndAfter(Te),Bt(Kt(kt,wt),0,!0)):Bt(Te,0,!0);else if(an&&Je.inline&&!ct.select("td[data-mce-selected],th[data-mce-selected]").length)at("apply",rt,ft);else{var lt=M.selection.getNode();Tn||!wt[0].defaultBlock||ct.getParent(lt,ct.isBlock)||y(wt[0].defaultBlock),M.selection.setRng(function yt(){var rn=M.selection.getRng(),$t=rn.startContainer,on=rn.endContainer;if($t!=on&&0===rn.endOffset){var hn=function Xt(Zn,On){var ci=new me(On);for(Te=ci.prev2();Te;Te=ci.prev2())if(3==Te.nodeType&&Te.data.length>0||Te.childNodes.length>1||Te==Zn||"BR"==Te.tagName)return Te}($t,on);rn.setEnd(hn,3==hn.nodeType?hn.data.length:hn.childNodes.length)}return rn}()),Tt=Lt.getBookmark(),Bt(Kt(Lt.getRng(oi),wt)),Je.styles&&((Je.styles.color||Je.styles.textDecoration)&&(wn(lt,v,"childNodes"),v(lt)),Je.styles.backgroundColor&&je(lt,ye("fontSize"),function Ie(rt,ft){return C.curry(function(Te,We,st){ct.setStyle(st,Te,We)},rt,ft)}("backgroundColor",nt(Je.styles.backgroundColor,ft)))),Lt.moveToBookmark(Tt),vt(Lt.getRng(oi)),M.nodeChanged()}w.postProcess(rt,M)}}else{Te=Lt.getNode();for(var Rt=0,bt=wt.length;Rt<bt;Rt++)if(wt[Rt].ceFalseOverride&&ct.is(Te,wt[Rt].selector))return void We(Te,wt[Rt])}}function Z(rt,ft,Te,We){function st($t){var on,hn,Pn,Zn,On;if(1===$t.nodeType&&Ci($t)&&(Zn=bt,bt="true"===Ci($t),On=!0),on=Ln($t.childNodes),bt&&!On)for(hn=0,Pn=kt.length;hn<Pn&&!Qt(kt[hn],ft,$t,$t);hn++);if(an.deep&&on.length){for(hn=0,Pn=on.length;hn<Pn;hn++)st(on[hn]);On&&(bt=Zn)}}function wt($t){return function Bt($t,on,hn,Pn){var Zn,On,ci,Di,ni,gi;if($t){for(gi=$t.parentNode,Zn=on.parentNode;Zn&&Zn!=gi;Zn=Zn.parentNode){for(On=ct.clone(Zn,ai),ni=0;ni<kt.length;ni++)if(Qt(kt[ni],ft,On,On)){On=0;break}On&&(ci&&On.appendChild(ci),Di||(Di=On),ci=On)}!Pn||an.mixed&&Ot($t)||(on=ct.split($t,on)),ci&&(hn.parentNode.insertBefore(ci,hn),Di.appendChild(hn))}return on}(function yt($t){var on;return Nt(H($t.parentNode).reverse(),function(hn){var Pn;on||"_start"==hn.id||"_end"==hn.id||(Pn=J(hn,rt,ft,We))&&!1!==Pn.split&&(on=hn)}),on}($t),$t,$t,!0)}function Je($t){var on=ct.get($t?"_start":"_end"),hn=on[$t?"firstChild":"lastChild"];return mt(hn)&&(hn=hn[$t?"firstChild":"lastChild"]),3==hn.nodeType&&0===hn.data.length&&(hn=$t?on.previousSibling||on.nextSibling:on.nextSibling||on.previousSibling),ct.remove(on,!0),hn}function Tt($t){var on,hn,Pn=$t.commonAncestorContainer;if($t=Kt($t,kt,oi),an.split){if((on=Ue($t,oi))!=(hn=Ue($t))){if(/^(TR|TH|TD)$/.test(on.nodeName)&&on.firstChild&&(on="TR"==on.nodeName?on.firstChild.firstChild||on:on.firstChild||on),Pn&&/^T(HEAD|BODY|FOOT|R)$/.test(Pn.nodeName)&&P(hn)&&hn.firstChild&&(hn=hn.firstChild||hn),ct.isChildOf(on,hn)&&!Ot(hn)&&!P(on)&&!P(hn))return wt(on=Wt(on,"span",{id:"_start","data-mce-type":"bookmark"})),void(on=Je(oi));on=Wt(on,"span",{id:"_start","data-mce-type":"bookmark"}),hn=Wt(hn,"span",{id:"_end","data-mce-type":"bookmark"}),wt(on),wt(hn),on=Je(oi),hn=Je()}else on=hn=wt(on);$t.startContainer=on.parentNode?on.parentNode:on,$t.startOffset=qn(on),$t.endContainer=hn.parentNode?hn.parentNode:hn,$t.endOffset=qn(hn)+1}It.walk($t,function(Zn){Nt(Zn,function(On){st(On),1===On.nodeType&&"underline"===M.dom.getStyle(On,"text-decoration")&&On.parentNode&&"underline"===A(On.parentNode)&&Qt({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,On)})})}var lt,Rt,kt=F(rt),an=kt[0],bt=!0;if(Te)Te.nodeType?((Rt=ct.createRng()).setStartBefore(Te),Rt.setEndAfter(Te),Tt(Rt)):Tt(Te);else if("false"!==Ci(Lt.getNode()))Lt.isCollapsed()&&an.inline&&!ct.select("td[data-mce-selected],th[data-mce-selected]").length?at("remove",rt,ft,We):(lt=Lt.getBookmark(),Tt(Lt.getRng(oi)),Lt.moveToBookmark(lt),an.inline&&fe(rt,ft,Lt.getStart())&&vt(Lt.getRng(!0)),M.nodeChanged());else{Te=Lt.getNode();for(var Xt=0,rn=kt.length;Xt<rn&&(!kt[Xt].ceFalseOverride||!Qt(kt[Xt],ft,Te,Te));Xt++);}}function J(rt,ft,Te,We){function st(Tt,kt,an){var lt,Rt,Xt,bt=kt[an];if(kt.onmatch)return kt.onmatch(Tt,kt,an);if(bt)if(bt.length===wi){for(lt in bt)if(bt.hasOwnProperty(lt)&&(Rt="attributes"===an?ct.getAttrib(Tt,lt):He(Tt,lt),We&&!Rt&&!kt.exact||(!We||kt.exact)&&!Oe(Rt,Xe(nt(bt[lt],Te),lt))))return}else for(Xt=0;Xt<bt.length;Xt++)if("attributes"===an?ct.getAttrib(Tt,bt[Xt]):He(Tt,bt[Xt]))return kt;return kt}var Bt,wt,Je,yt=F(ft);if(yt&&rt)for(wt=0;wt<yt.length;wt++)if(ze(rt,Bt=yt[wt])&&st(rt,Bt,"attributes")&&st(rt,Bt,"styles")){if(Je=Bt.classes)for(wt=0;wt<Je.length;wt++)if(!ct.hasClass(rt,Je[wt]))return;return Bt}}function fe(rt,ft,Te){function We(yt){var Bt=ct.getRoot();return yt!==Bt&&(yt=ct.getParent(yt,function(wt){return!!R(wt,rt)||wt.parentNode===Bt||!!J(wt,rt,ft,!0)}),J(yt,rt,ft))}var st;return Te?We(Te):We(Te=Lt.getNode())||(st=Lt.getStart())!=Te&&We(st)?oi:ai}function ze(rt,ft){return Oe(rt,ft.inline)||Oe(rt,ft.block)?oi:ft.selector?1==rt.nodeType&&ct.is(rt,ft.selector):void 0}function Oe(rt,ft){return ft=""+((ft=ft||"").nodeName||ft),(rt=""+((rt=rt||"").nodeName||rt)).toLowerCase()==ft.toLowerCase()}function je(rt,ft,Te){Nt(rt.childNodes,function(We){Ye(We)&&(ft(We)&&Te(We),We.hasChildNodes()&&je(We,ft,Te))})}function Ye(rt){return 1==rt.nodeType&&!mt(rt)&&!Mt(rt)&&!q(rt)}function ye(rt){return C.curry(function(ft,Te){return!(!Te||!He(Te,ft))},rt)}function He(rt,ft){return Xe(ct.getStyle(rt,ft),ft)}function Xe(rt,ft){return"color"!=ft&&"backgroundColor"!=ft||(rt=ct.toHex(rt)),"fontWeight"==ft&&700==rt&&(rt="bold"),"fontFamily"==ft&&(rt=rt.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+rt}function nt(rt,ft){return"string"!=typeof rt?rt=rt(ft):ft&&(rt=rt.replace(/%(\w+)/g,function(Te,We){return ft[We]||Te})),rt}function Mt(rt){return rt&&3===rt.nodeType&&/^([\t \r\n]+|)$/.test(rt.nodeValue)}function Wt(rt,ft,Te){var We=ct.create(ft,Te);return rt.parentNode.insertBefore(We,rt),We.appendChild(rt),We}function Kt(rt,ft,Te){function We(rn){var on,hn,Pn,Zn,On,ci;if(on=hn=rn?lt:bt,Zn=rn?"previousSibling":"nextSibling",On=ct.getRoot(),3==on.nodeType&&!Mt(on)&&(rn?Rt>0:Xt<on.nodeValue.length))return on;for(;;){if(!ft[0].block_expand&&Ot(hn))return hn;for(Pn=hn[Zn];Pn;Pn=Pn[Zn])if(!mt(Pn)&&!Mt(Pn)&&("BR"!=(ci=Pn).nodeName||!ci.getAttribute("data-mce-bogus")||ci.nextSibling))return hn;if(hn==On||hn.parentNode==On){on=hn;break}hn=hn.parentNode}return on}function st(rn,$t){for($t===wi&&($t=3===rn.nodeType?rn.length:rn.childNodes.length);rn&&rn.hasChildNodes();)(rn=rn.childNodes[$t])&&($t=3===rn.nodeType?rn.length:rn.childNodes.length);return{node:rn,offset:$t}}function yt(rn){for(var $t=rn;$t;){if(1===$t.nodeType&&Ci($t))return"false"===Ci($t)?$t:rn;$t=$t.parentNode}return rn}function Bt(rn,$t,on){function hn(Di,ni){var gi,Ji,gr=Di.nodeValue;return typeof ni>"u"&&(ni=on?gr.length:0),on?-1===(gi=(gi=gr.lastIndexOf(" ",ni))>(Ji=gr.lastIndexOf("\xa0",ni))?gi:Ji)||Te||gi++:(gi=gr.indexOf(" ",ni),Ji=gr.indexOf("\xa0",ni),gi=-1!==gi&&(-1===Ji||gi<Ji)?gi:Ji),gi}var Pn,Zn,On,ci;if(3===rn.nodeType){if(-1!==(On=hn(rn,$t)))return{container:rn,offset:On};ci=rn}for(Pn=new me(rn,ct.getParent(rn,Ot)||M.getBody());Zn=Pn[on?"prev":"next"]();)if(3===Zn.nodeType){if(ci=Zn,-1!==(On=hn(Zn)))return{container:Zn,offset:On}}else if(Ot(Zn))break;if(ci)return{container:ci,offset:$t=on?0:ci.length}}function wt(rn,$t){var on,hn,Pn,Zn;for(3==rn.nodeType&&0===rn.nodeValue.length&&rn[$t]&&(rn=rn[$t]),on=H(rn),hn=0;hn<on.length;hn++)for(Pn=0;Pn<ft.length;Pn++)if((!("collapsed"in(Zn=ft[Pn]))||Zn.collapsed===rt.collapsed)&&ct.is(on[hn],Zn.selector))return on[hn];return rn}function Je(rn,$t){var on,hn=ct.getRoot();if(ft[0].wrapper||(on=ct.getParent(rn,ft[0].block,hn)),on||(on=ct.getParent(3==rn.nodeType?rn.parentNode:rn,function(Pn){return Pn!=hn&&j(Pn)})),on&&ft[0].wrapper&&(on=H(on,"ul,ol").reverse()[0]||on),!on)for(on=rn;on[$t]&&!Ot(on[$t])&&!Oe(on=on[$t],"br"););return on||rn}var Tt,kt,an,lt=rt.startContainer,Rt=rt.startOffset,bt=rt.endContainer,Xt=rt.endOffset;if(1==lt.nodeType&&lt.hasChildNodes()&&3==(lt=lt.childNodes[Rt>(Tt=lt.childNodes.length-1)?Tt:Rt]).nodeType&&(Rt=0),1==bt.nodeType&&bt.hasChildNodes()&&3==(bt=bt.childNodes[Xt>(Tt=bt.childNodes.length-1)?Tt:Xt-1]).nodeType&&(Xt=bt.nodeValue.length),lt=yt(lt),bt=yt(bt),(mt(lt.parentNode)||mt(lt))&&3==(lt=(lt=mt(lt)?lt:lt.parentNode).nextSibling||lt).nodeType&&(Rt=0),(mt(bt.parentNode)||mt(bt))&&3==(bt=(bt=mt(bt)?bt:bt.parentNode).previousSibling||bt).nodeType&&(Xt=bt.length),ft[0].inline&&(rt.collapsed&&((an=Bt(lt,Rt,!0))&&(lt=an.container,Rt=an.offset),(an=Bt(bt,Xt))&&(bt=an.container,Xt=an.offset)),(kt=st(bt,Xt)).node)){for(;kt.node&&0===kt.offset&&kt.node.previousSibling;)kt=st(kt.node.previousSibling);kt.node&&kt.offset>0&&3===kt.node.nodeType&&" "===kt.node.nodeValue.charAt(kt.offset-1)&&kt.offset>1&&(bt=kt.node).splitText(kt.offset-1)}return(ft[0].inline||ft[0].block_expand)&&(ft[0].inline&&3==lt.nodeType&&0!==Rt||(lt=We(!0)),ft[0].inline&&3==bt.nodeType&&Xt!==bt.nodeValue.length||(bt=We())),ft[0].selector&&ft[0].expand!==ai&&!ft[0].inline&&(lt=wt(lt,"previousSibling"),bt=wt(bt,"nextSibling")),(ft[0].block||ft[0].selector)&&(lt=Je(lt,"previousSibling"),bt=Je(bt,"nextSibling"),ft[0].block&&(Ot(lt)||(lt=We(!0)),Ot(bt)||(bt=We()))),1==lt.nodeType&&(Rt=qn(lt),lt=lt.parentNode),1==bt.nodeType&&(Xt=qn(bt)+1,bt=bt.parentNode),{startContainer:lt,startOffset:Rt,endContainer:bt,endOffset:Xt}}function Qt(rt,ft,Te,We){var st,yt,Bt;if(!ze(Te,rt)&&!function un(rt,ft){return ft.links&&"A"==rt.tagName}(Te,rt))return ai;if("all"!=rt.remove)for(Nt(rt.styles,function(Je,Tt){Je=Xe(nt(Je,ft),Tt),"number"==typeof Tt&&(Tt=Je,We=0),(rt.remove_similar||!We||Oe(He(We,Tt),Je))&&ct.setStyle(Te,Tt,""),Bt=1}),Bt&&""===ct.getAttrib(Te,"style")&&(Te.removeAttribute("style"),Te.removeAttribute("data-mce-style")),Nt(rt.attributes,function(Je,Tt){var kt;if(Je=nt(Je,ft),"number"==typeof Tt&&(Tt=Je,We=0),!We||Oe(ct.getAttrib(We,Tt),Je)){if("class"==Tt&&(Je=ct.getAttrib(Te,Tt))&&(kt="",Nt(Je.split(/\s+/),function(an){/mce\-\w+/.test(an)&&(kt+=(kt?" ":"")+an)}),kt))return void ct.setAttrib(Te,Tt,kt);"class"==Tt&&Te.removeAttribute("className"),pi.test(Tt)&&Te.removeAttribute("data-mce-"+Tt),Te.removeAttribute(Tt)}}),Nt(rt.classes,function(Je){Je=nt(Je,ft),We&&!ct.hasClass(We,Je)||ct.removeClass(Te,Je)}),yt=ct.getAttribs(Te),st=0;st<yt.length;st++){var wt=yt[st].nodeName;if(0!==wt.indexOf("_")&&0!==wt.indexOf("data-"))return ai}return"none"!=rt.remove?(function tt(rt,ft){function Te(yt,Bt,wt){return!(yt=Ae(yt,Bt,wt))||"BR"==yt.nodeName||Ot(yt)}var st,We=rt.parentNode;ft.block&&(Tn?We==ct.getRoot()&&(ft.list_block&&Oe(rt,ft.list_block)||Nt(Ln(rt.childNodes),function(yt){Dt(Tn,yt.nodeName.toLowerCase())?st?st.appendChild(yt):(st=Wt(yt,Tn),ct.setAttribs(st,M.settings.forced_root_block_attrs)):st=0})):Ot(rt)&&!Ot(We)&&(Te(rt,ai)||Te(rt.firstChild,oi,1)||rt.insertBefore(ct.create("br"),rt.firstChild),Te(rt,oi)||Te(rt.lastChild,ai,1)||rt.appendChild(ct.create("br")))),ft.selector&&ft.inline&&!Oe(ft.inline,rt)||ct.remove(rt,1)}(Te,rt),oi):void 0}function Ae(rt,ft,Te){if(rt)for(ft=ft?"nextSibling":"previousSibling",rt=Te?rt:rt[ft];rt;rt=rt[ft])if(1==rt.nodeType||!Mt(rt))return rt}function Se(rt,ft){function Te(Bt,wt){for(We=Bt;We;We=We[wt]){if(3==We.nodeType&&0!==We.nodeValue.length)return Bt;if(1==We.nodeType&&!mt(We))return We}return Bt}var We,st,yt=new z(ct);if(rt&&ft&&(rt=Te(rt,"previousSibling"),ft=Te(ft,"nextSibling"),yt.compare(rt,ft))){for(We=rt.nextSibling;We&&We!=ft;)st=We,We=We.nextSibling,rt.appendChild(st);return ct.remove(ft),Nt(Ln(ft.childNodes),function(Bt){rt.appendChild(Bt)}),rt}return ft}function Ue(rt,ft){var Te,We,st;return We=rt[ft?"startOffset":"endOffset"],1==(Te=rt[ft?"startContainer":"endContainer"]).nodeType&&(!ft&&We&&We--,Te=Te.childNodes[We>(st=Te.childNodes.length-1)?st:We]),3===Te.nodeType&&ft&&We>=Te.nodeValue.length&&(Te=new me(Te,M.getBody()).next()||Te),3!==Te.nodeType||ft||0!==We||(Te=new me(Te,M.getBody()).prev()||Te),Te}function at(rt,ft,Te,We){function st(bt){var Xt=ct.create("span",{id:lt,"data-mce-bogus":!0,style:Rt?"color:red":""});return bt&&Xt.appendChild(M.getDoc().createTextNode(ri)),Xt}function yt(bt,Xt){for(;bt;){if(3===bt.nodeType&&bt.nodeValue!==ri||bt.childNodes.length>1)return!1;Xt&&1===bt.nodeType&&Xt.push(bt),bt=bt.firstChild}return!0}function Bt(bt){for(;bt;){if(bt.id===lt)return bt;bt=bt.parentNode}}function wt(bt){var Xt;if(bt)for(bt=(Xt=new me(bt,bt)).current();bt;bt=Xt.next())if(3===bt.nodeType)return bt}function Je(bt,Xt){var rn,$t;if(bt)$t=Lt.getRng(!0),yt(bt)?(!1!==Xt&&($t.setStartBefore(bt),$t.setEndBefore(bt)),ct.remove(bt)):((rn=wt(bt)).nodeValue.charAt(0)===ri&&(rn.deleteData(0,1),$t.startContainer==rn&&$t.startOffset>0&&$t.setStart(rn,$t.startOffset-1),$t.endContainer==rn&&$t.endOffset>0&&$t.setEnd(rn,$t.endOffset-1)),ct.remove(bt,1)),Lt.setRng($t);else if(!(bt=Bt(Lt.getStart())))for(;bt=ct.get(lt);)Je(bt,!1)}function an(){var bt;(bt=Bt(Lt.getStart()))&&!ct.isEmpty(bt)&&wn(bt,function(Xt){1!=Xt.nodeType||Xt.id===lt||ct.isEmpty(Xt)||ct.setAttrib(Xt,"data-mce-bogus",null)},"childNodes")}var lt="_mce_caret",Rt=M.settings.caret_debug;M._hasCaretEvents||(ln=function(){var Xt,bt=[];if(yt(Bt(Lt.getStart()),bt))for(Xt=bt.length;Xt--;)ct.setAttrib(bt[Xt],"data-mce-bogus","1")},Ut=function(bt){var Xt=bt.keyCode;Je(),8==Xt&&Lt.isCollapsed()&&Lt.getStart().innerHTML==ri&&Je(Bt(Lt.getStart())),37!=Xt&&39!=Xt||Je(Bt(Lt.getStart())),an()},M.on("SetContent",function(bt){bt.selection&&an()}),M._hasCaretEvents=!0),"apply"==rt?function Tt(){var bt,Xt,rn,$t,on,Pn;$t=(bt=Lt.getRng(!0)).startOffset,Pn=bt.startContainer.nodeValue,(Xt=Bt(Lt.getStart()))&&(rn=wt(Xt));var Zn=/[^\s\u00a0\u00ad\u200b\ufeff]/;Pn&&$t>0&&$t<Pn.length&&Zn.test(Pn.charAt($t))&&Zn.test(Pn.charAt($t-1))?(on=Lt.getBookmark(),bt.collapse(!0),bt=Kt(bt,F(ft)),bt=It.split(bt),y(ft,Te,bt),Lt.moveToBookmark(on)):(Xt&&rn.nodeValue===ri||(rn=(Xt=st(!0)).firstChild,bt.insertNode(Xt),$t=1),y(ft,Te,Xt),Lt.setCursorLocation(rn,$t))}():function kt(){var Xt,$t,on,hn,Pn,On,ci,bt=Lt.getRng(!0),Zn=[];for(hn=Xt=bt.startContainer,3==Xt.nodeType&&(bt.startOffset!=Xt.nodeValue.length&&(on=!0),hn=hn.parentNode);hn;){if(J(hn,ft,Te,We)){Pn=hn;break}hn.nextSibling&&(on=!0),Zn.push(hn),hn=hn.parentNode}if(Pn)if(on)$t=Lt.getBookmark(),bt.collapse(!0),bt=Kt(bt,F(ft),!0),bt=It.split(bt),Z(ft,Te,bt),Lt.moveToBookmark($t);else{for(hn=ci=st(),On=Zn.length-1;On>=0;On--)hn.appendChild(ct.clone(Zn[On],!1)),hn=hn.firstChild;hn.appendChild(ct.doc.createTextNode(ri)),hn=hn.firstChild;var Di=ct.getParent(Pn,j);Di&&ct.isEmpty(Di)?Pn.parentNode.replaceChild(ci,Pn):ct.insertAfter(ci,Pn),Lt.setCursorLocation(hn,1),ct.isEmpty(Pn)&&ct.remove(Pn)}}()}function vt(rt){var We,st,yt,Bt,wt,ft=rt.startContainer,Te=rt.startOffset;if((rt.startContainer!=rt.endContainer||!function E(rt){return rt&&/^(IMG)$/.test(rt.nodeName)}(rt.startContainer.childNodes[rt.startOffset]))&&(3==ft.nodeType&&Te>=ft.nodeValue.length&&(Te=qn(ft),ft=ft.parentNode,We=!0),1==ft.nodeType))for(ft=(Bt=ft.childNodes)[Math.min(Te,Bt.length-1)],st=new me(ft,ct.getParent(ft,ct.isBlock)),(Te>Bt.length-1||We)&&st.next(),yt=st.current();yt;yt=st.next())if(3==yt.nodeType&&!Mt(yt))return wt=ct.create("a",{"data-mce-bogus":"all"},ri),yt.parentNode.insertBefore(wt,yt),rt.setStart(yt,0),Lt.setRng(rt),void ct.remove(wt)}var ki,wi,Ut,ln,_t={},ct=M.dom,Lt=M.selection,It=new ie(ct),Dt=M.schema.isValidChild,Ot=ct.isBlock,Tn=M.settings.forced_root_block,qn=ct.nodeIndex,ri="\ufeff",pi=/^(src|href|style)$/,ai=!1,oi=!0,Ci=ct.getContentEditable,mt=U.isBookmarkNode,Nt=D.each,Ln=D.grep,wn=D.walk;(0,D.extend)(this,{get:F,register:re,unregister:function N(rt){return rt&&_t[rt]&&delete _t[rt],_t},apply:y,remove:Z,toggle:function oe(rt,ft,Te){var We=F(rt);!fe(rt,ft,Te)||"toggle"in We[0]&&!We[0].toggle?y(rt,ft,Te):Z(rt,ft,Te)},match:fe,matchAll:function _e(rt,ft){var Te,We=[],st={};return Te=Lt.getStart(),ct.getParent(Te,function(yt){var Bt,wt;for(Bt=0;Bt<rt.length;Bt++)!st[wt=rt[Bt]]&&J(yt,wt,ft)&&(st[wt]=!0,We.push(wt))},ct.getRoot()),We},matchNode:J,canApply:function Ve(rt){var We,st,yt,Bt,ft=F(rt);if(ft)for(We=H(Lt.getStart()),yt=ft.length-1;yt>=0;yt--){if(!(Bt=ft[yt].selector)||ft[yt].defaultBlock)return oi;for(st=We.length-1;st>=0;st--)if(ct.is(We[st],Bt))return oi}return ai},formatChanged:function Ee(rt,ft,Te){var We;return ki||(ki={},We={},M.on("NodeChange",function(st){var yt=H(st.element),Bt={};yt=D.grep(yt,function(wt){return 1==wt.nodeType&&!wt.getAttribute("data-mce-bogus")}),Nt(ki,function(wt,Je){Nt(yt,function(Tt){return J(Tt,Je,{},wt.similar)?(We[Je]||(Nt(wt,function(kt){kt(!0,{node:Tt,format:Je,parents:yt})}),We[Je]=wt),Bt[Je]=wt,!1):!R(Tt,Je)&&void 0})}),Nt(We,function(wt,Je){Bt[Je]||(delete We[Je],Nt(wt,function(Tt){Tt(!1,{node:st.element,format:Je,parents:yt})}))})})),Nt(rt.split(","),function(st){ki[st]||(ki[st]=[],ki[st].similar=Te),ki[st].push(ft)}),this},getCssText:function Re(rt){return _.getCssText(M,rt)}}),function O(){re({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(rt,ft,Te){Nt(Te,function(We,st){ct.setAttrib(rt,st,We)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),Nt("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(rt){re(rt,{block:rt,remove:"all"})}),re(M.settings.formats)}(),function $(){M.addShortcut("meta+b","bold_desc","Bold"),M.addShortcut("meta+i","italic_desc","Italic"),M.addShortcut("meta+u","underline_desc","Underline");for(var rt=1;rt<=6;rt++)M.addShortcut("access+"+rt,"",["FormatBlock",!1,"h"+rt]);M.addShortcut("access+7","",["FormatBlock",!1,"p"]),M.addShortcut("access+8","",["FormatBlock",!1,"div"]),M.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),M.on("BeforeGetContent",function(rt){ln&&"raw"!=rt.format&&ln()}),M.on("mouseup keydown",function(rt){Ut&&Ut(rt)})}}),xe(Ti,[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(C,D){var _=C.length+D.length+2,w=new Array(_),M=new Array(_),P=function(O,$,F,re,N){var R=H(O,$,F,re);if(null===R||R.start===$&&R.diag===$-re||R.end===O&&R.diag===O-F)for(var A=O,v=F;A<$||v<re;)A<$&&v<re&&C[A]===D[v]?(N.push([0,C[A]]),++A,++v):$-O>re-F?(N.push([2,C[A]]),++A):(N.push([1,D[v]]),++v);else{P(O,R.start,F,R.start-R.diag,N);for(var y=R.start;y<R.end;++y)N.push([0,C[y]]);P(R.end,$,R.end-R.diag,re,N)}},E=function(O,$,F,re){for(var N=O;N-$<re&&N<F&&C[N]===D[N-$];)++N;return function(O,$,F){return{start:O,end:$,diag:F}}(O,N,$)},H=function(O,$,F,re){var N=$-O,R=re-F;if(0===N||0===R)return null;var A=N-R,v=R+N,y=(v%2==0?v:v+1)/2;w[1+y]=O,M[1+y]=$+1;for(var Z=0;Z<=y;++Z){for(var oe=-Z;oe<=Z;oe+=2){var J=oe+y;w[J]=oe===-Z||oe!=Z&&w[J-1]<w[J+1]?w[J+1]:w[J-1]+1;for(var fe=w[J],_e=fe-O+F-oe;fe<$&&_e<re&&C[fe]===D[_e];)w[J]=++fe,++_e;if(A%2!=0&&A-Z<=oe&&oe<=A+Z&&M[J-A]<=w[J])return E(M[J-A],oe+O-F,$,re)}for(oe=A-Z;oe<=A+Z;oe+=2){for(M[J=oe+y-A]=oe===A-Z||oe!=A+Z&&M[J+1]<=M[J-1]?M[J+1]-1:M[J-1],_e=(fe=M[J]-1)-O+F-oe;fe>=O&&_e>=F&&C[fe]===D[_e];)M[J]=fe--,_e--;if(A%2==0&&-Z<=oe&&oe<=Z&&M[J]<=w[J+A])return E(M[J],oe+O-F,$,re)}}},q=[];return P(0,C.length,0,D.length,q),q}}}),xe(zt,[B,we,Ti],function(me,ie,U){var z=function(P){return 1===P.nodeType?P.outerHTML:3===P.nodeType?ie.encodeRaw(P.data,!1):8===P.nodeType?"\x3c!--"+P.data+"--\x3e":""};return{read:function(P){return me.map(P.childNodes,z)},write:function(P,E){var H=me.map(E.childNodes,z);return function(P,E){var H=0;me.each(P,function(q){q[0]===U.KEEP?H++:q[0]===U.INSERT?(function(P,E,H){var q=function(P){var E,H,q;for(q=document.createElement("div"),E=document.createDocumentFragment(),P&&(q.innerHTML=P);H=q.firstChild;)E.appendChild(H);return E}(E);if(P.hasChildNodes()&&H<P.childNodes.length){var O=P.childNodes[H];O.parentNode.insertBefore(q,O)}else P.appendChild(q)}(E,q[1],H),H++):q[0]===U.DELETE&&function(P,E){if(P.hasChildNodes()&&E<P.childNodes.length){var H=P.childNodes[E];H.parentNode.removeChild(H)}}(E,H)})}(U.diff(H,P),E),E}}}),xe(Et,[B,zt],function(me,ie){var z=function(j){return{type:"fragmented",fragments:j,content:"",bookmark:null,beforeBookmark:null}},C=function(j){return{type:"complete",fragments:null,content:j,bookmark:null,beforeBookmark:null}},w=function(j){return"fragmented"===j.type?j.fragments.join(""):j.content};return{createFragmentedLevel:z,createCompleteLevel:C,createFromEditor:function(j){var P,E,H;return P=ie.read(j.getBody()),function(j){return-1!==j.indexOf("</iframe>")}(E=(H=me.map(P,function(q){return j.serializer.trimContent(q)})).join(""))?z(H):C(E)},applyToEditor:function(j,P,E){"fragmented"===P.type?ie.write(P.fragments,j.getBody()):j.setContent(P.content,{format:"raw"}),j.selection.moveToBookmark(E?P.beforeBookmark:P.bookmark)},isEq:function(j,P){return w(j)===w(P)}}}),xe(cn,[Yt,Y,Et],function(me,ie,U){return function(z){function C(q){z.setDirty(q)}function D(q){w.typing=!1,w.add({},q)}function _(){w.typing&&(w.typing=!1,w.add())}var P,E,w=this,M=0,j=[],H=0;return z.on("init",function(){w.add()}),z.on("BeforeExecCommand",function(q){var O=q.command;"Undo"!==O&&"Redo"!==O&&"mceRepaint"!==O&&(_(),w.beforeChange())}),z.on("ExecCommand",function(q){var O=q.command;"Undo"!==O&&"Redo"!==O&&"mceRepaint"!==O&&D(q)}),z.on("ObjectResizeStart Cut",function(){w.beforeChange()}),z.on("SaveContent ObjectResized blur",D),z.on("DragEnd",D),z.on("KeyUp",function(q){var O=q.keyCode;q.isDefaultPrevented()||((O>=33&&O<=36||O>=37&&O<=40||45===O||q.ctrlKey)&&(D(),z.nodeChanged()),46!==O&&8!==O||z.nodeChanged(),E&&w.typing&&(z.isDirty()||(C(j[0]&&!U.isEq(U.createFromEditor(z),j[0])),z.isDirty()&&z.fire("change",{level:j[0],lastLevel:null})),z.fire("TypingUndo"),E=!1,z.nodeChanged()))}),z.on("KeyDown",function(q){var O=q.keyCode;if(!q.isDefaultPrevented()){if(O>=33&&O<=36||O>=37&&O<=40||45===O)return void(w.typing&&D(q));!(O<16||O>20)||224===O||91===O||w.typing||q.ctrlKey&&!q.altKey||q.metaKey||(w.beforeChange(),w.typing=!0,w.add({},q),E=!0)}}),z.on("MouseDown",function(q){w.typing&&D(q)}),z.addShortcut("meta+z","","Undo"),z.addShortcut("meta+y,meta+shift+z","","Redo"),z.on("AddUndo Undo Redo ClearUndos",function(q){q.isDefaultPrevented()||z.nodeChanged()}),w={data:j,typing:!1,beforeChange:function(){H||(P=z.selection.getBookmark(2,!0))},add:function(q,O){var $,re,N,F=z.settings;if(N=U.createFromEditor(z),q=ie.extend(q=q||{},N),H||z.removed||z.fire("BeforeAddUndo",{level:q,lastLevel:re=j[M],originalEvent:O}).isDefaultPrevented()||re&&U.isEq(re,q))return null;if(j[M]&&(j[M].beforeBookmark=P),F.custom_undo_redo_levels&&j.length>F.custom_undo_redo_levels){for($=0;$<j.length-1;$++)j[$]=j[$+1];j.length--,M=j.length}q.bookmark=z.selection.getBookmark(2,!0),M<j.length-1&&(j.length=M+1),j.push(q),M=j.length-1;var R={level:q,lastLevel:re,originalEvent:O};return z.fire("AddUndo",R),M>0&&(C(!0),z.fire("change",R)),q},undo:function(){var q;return w.typing&&(w.add(),w.typing=!1),M>0&&(q=j[--M],U.applyToEditor(z,q,!0),C(!0),z.fire("undo",{level:q})),q},redo:function(){var q;return M<j.length-1&&(q=j[++M],U.applyToEditor(z,q,!1),C(!0),z.fire("redo",{level:q})),q},clear:function(){j=[],M=0,w.typing=!1,w.data=j,z.fire("ClearUndos")},hasUndo:function(){return M>0||w.typing&&j[0]&&!U.isEq(U.createFromEditor(z),j[0])},hasRedo:function(){return M<j.length-1&&!w.typing},transact:function(q){_(),w.beforeChange();try{H++,q()}finally{H--}return w.add()},extra:function(q,O){var F;w.transact(q)&&(F=j[M].bookmark,U.applyToEditor(z,j[M-1],!0),w.transact(O)&&(j[M-1].beforeBookmark=F))}}}}),xe(xn,[ne,Me,ee,G],function(me,ie,U,z){var C=z.ie&&z.ie<11;return function(D){var w=D.dom,M=D.selection,j=D.settings,P=D.undoManager,E=D.schema,H=E.getNonEmptyElements(),q=E.getMoveCaretBeforeOnEnterElements();D.on("keydown",function(O){13==O.keyCode&&!1!==function _(O){function $(Ae){return Ae&&w.isBlock(Ae)&&!/^(TD|TH|CAPTION|FORM)$/.test(Ae.nodeName)&&!/^(fixed|absolute)/i.test(Ae.style.position)&&"true"!==w.getContentEditable(Ae)}function re(Ae){var Se;w.isBlock(Ae)&&(Se=M.getRng(),Ae.appendChild(w.create("span",null,"\xa0")),M.select(Ae),Ae.lastChild.outerHTML="",M.setRng(Se))}function R(Ae){var Ue,at,vt,ct,_t=Ae;if(Ae){if(z.ie&&z.ie<9&&Ie&&Ie.firstChild&&Ie.firstChild==Ie.lastChild&&"BR"==Ie.firstChild.tagName&&w.remove(Ie.firstChild),/^(LI|DT|DD)$/.test(Ae.nodeName)){var Lt=function Se(It){for(;It;){if(1==It.nodeType||3==It.nodeType&&It.data&&/[\r\n\s]/.test(It.data))return It;It=It.nextSibling}}(Ae.firstChild);Lt&&/^(UL|OL|DL)$/.test(Lt.nodeName)&&Ae.insertBefore(w.doc.createTextNode("\xa0"),Ae.firstChild)}if(vt=w.createRng(),z.ie||Ae.normalize(),Ae.hasChildNodes()){for(Ue=new me(Ae,Ae);at=Ue.current();){if(3==at.nodeType){vt.setStart(at,0),vt.setEnd(at,0);break}if(q[at.nodeName.toLowerCase()]){vt.setStartBefore(at),vt.setEndBefore(at);break}_t=at,at=Ue.next()}at||(vt.setStart(_t,0),vt.setEnd(_t,0))}else"BR"==Ae.nodeName?Ae.nextSibling&&w.isBlock(Ae.nextSibling)?((!He||He<9)&&(ct=w.create("br"),Ae.parentNode.insertBefore(ct,Ae)),vt.setStartBefore(Ae),vt.setEndBefore(Ae)):(vt.setStartAfter(Ae),vt.setEndAfter(Ae)):(vt.setStart(Ae,0),vt.setEnd(Ae,0));M.setRng(vt),w.remove(ct),M.scrollIntoView(Ae)}}function A(Ae){var Se=j.forced_root_block;Se&&Se.toLowerCase()===Ae.tagName.toLowerCase()&&w.setAttribs(Ae,j.forced_root_block_attrs)}function v(Ae){Ae.innerHTML=C?"":'<br data-mce-bogus="1">'}function y(Ae){var Ue,at,vt,Se=Ye,_t=E.getTextInlineElements();if(Ae||"TABLE"==Kt?A(Ue=w.create(Ae||Qt)):Ue=Ie.cloneNode(!1),vt=Ue,!1!==j.keep_styles)do{if(_t[Se.nodeName]){if("_mce_caret"==Se.id)continue;at=Se.cloneNode(!1),w.setAttrib(at,"id",""),Ue.hasChildNodes()?(at.appendChild(Ue.firstChild),Ue.appendChild(at)):(vt=at,Ue.appendChild(at))}}while((Se=Se.parentNode)&&Se!=je);return C||(vt.innerHTML='<br data-mce-bogus="1">'),Ue}function Z(Ae){var Se,Ue,at;if(3==Ye.nodeType&&(Ae?ye>0:ye<Ye.nodeValue.length))return!1;if(Ye.parentNode==Ie&&tt&&!Ae||Ae&&1==Ye.nodeType&&Ye==Ie.firstChild)return!0;if("TABLE"===Ye.nodeName||Ye.previousSibling&&"TABLE"==Ye.previousSibling.nodeName)return tt&&!Ae||!tt&&Ae;for(Se=new me(Ye,Ie),3==Ye.nodeType&&(Ae&&0===ye?Se.prev():Ae||ye!=Ye.nodeValue.length||Se.next());Ue=Se.current();){if(1===Ue.nodeType){if(!Ue.getAttribute("data-mce-bogus")&&(at=Ue.nodeName.toLowerCase(),H[at]&&"br"!==at))return!1}else if(3===Ue.nodeType&&!/^[ \t\r\n]*$/.test(Ue.nodeValue))return!1;Ae?Se.prev():Se.next()}return!0}function fe(){D.execCommand("InsertLineBreak",!1,O)}function Re(){nt=/^(H[1-6]|PRE|FIGURE)$/.test(Kt)&&"HGROUP"!=un?y(Qt):y(),j.end_container_on_empty_block&&$(Wt)&&w.isEmpty(Ie)?nt=w.split(Wt,Ie):w.insertAfter(nt,Ie),R(nt)}var ze,Oe,je,Ye,ye,Ie,He,Xe,nt,Mt,Wt,Kt,un,Qt,tt;if(ze=M.getRng(!0),!O.isDefaultPrevented()){if(!ze.collapsed)return void D.execCommand("Delete");if(new ie(w).normalize(ze),Ye=ze.startContainer,ye=ze.startOffset,Qt=(Qt=(j.force_p_newlines?"p":"")||j.forced_root_block)?Qt.toUpperCase():"",He=w.doc.documentMode,Xe=O.shiftKey,1==Ye.nodeType&&Ye.hasChildNodes()&&(tt=ye>Ye.childNodes.length-1,Ye=Ye.childNodes[Math.min(ye,Ye.childNodes.length-1)]||Ye,ye=tt&&3==Ye.nodeType?Ye.nodeValue.length:0),je=function Ve(Ae){var Ue,at,Se=w.getRoot();for(Ue=Ae;Ue!==Se&&"false"!==w.getContentEditable(Ue);)"true"===w.getContentEditable(Ue)&&(at=Ue),Ue=Ue.parentNode;return Ue!==Se?at:Se}(Ye)){if(P.beforeChange(),!w.isBlock(je)&&je!=w.getRoot())return void(Qt&&!Xe||fe());if((Qt&&!Xe||!Qt&&Xe)&&(Ye=function oe(Ae,Se){var Ue,at,vt,_t,ct,Lt,It=Qt||"P";if(!(at=w.getParent(Ae,w.isBlock))||!$(at)){if(Lt=(at=at||je)==D.getBody()||function F(Ae){return Ae&&/^(TD|TH|CAPTION)$/.test(Ae.nodeName)}(at)?at.nodeName.toLowerCase():at.parentNode.nodeName.toLowerCase(),!at.hasChildNodes())return A(Ue=w.create(It)),at.appendChild(Ue),ze.setStart(Ue,0),ze.setEnd(Ue,0),Ue;for(_t=Ae;_t.parentNode!=at;)_t=_t.parentNode;for(;_t&&!w.isBlock(_t);)vt=_t,_t=_t.previousSibling;if(vt&&E.isValidChild(Lt,It.toLowerCase())){for(A(Ue=w.create(It)),vt.parentNode.insertBefore(Ue,vt),_t=vt;_t&&!w.isBlock(_t);)ct=_t.nextSibling,Ue.appendChild(_t),_t=ct;ze.setStart(Ae,Se),ze.setEnd(Ae,Se)}}return Ae}(Ye,ye)),Ie=w.getParent(Ye,w.isBlock),Wt=Ie?w.getParent(Ie.parentNode,w.isBlock):null,Kt=Ie?Ie.nodeName.toUpperCase():"","LI"!=(un=Wt?Wt.nodeName.toUpperCase():"")||O.ctrlKey||(Ie=Wt,Kt=un),D.undoManager.typing&&(D.undoManager.typing=!1,D.undoManager.add()),/^(LI|DT|DD)$/.test(Kt)){if(!Qt&&Xe)return void fe();if(w.isEmpty(Ie))return void function J(){function Ae(at){for(var vt=Wt[at?"firstChild":"lastChild"];vt&&1!=vt.nodeType;)vt=vt[at?"nextSibling":"previousSibling"];return vt===Ie}function Se(){var at=Wt.parentNode;return/^(LI|DT|DD)$/.test(at.nodeName)?at:Wt}if(Wt!=D.getBody()){var Ue=Wt.parentNode.nodeName;/^(OL|UL|LI)$/.test(Ue)&&(Qt="LI"),nt=Qt?y(Qt):w.create("BR"),Ae(!0)&&Ae()?"LI"==Ue?w.insertAfter(nt,Se()):w.replace(nt,Wt):Ae(!0)?"LI"==Ue?(w.insertAfter(nt,Se()),nt.appendChild(w.doc.createTextNode(" ")),nt.appendChild(Wt)):Wt.parentNode.insertBefore(nt,Wt):Ae()?(w.insertAfter(nt,Se()),re(nt)):(Wt=Se(),(Oe=ze.cloneRange()).setStartAfter(Ie),Oe.setEndAfter(Wt),Mt=Oe.extractContents(),"LI"==Qt&&"LI"==Mt.firstChild.nodeName?(nt=Mt.firstChild,w.insertAfter(Mt,Wt)):(w.insertAfter(Mt,Wt),w.insertAfter(nt,Wt))),w.remove(Ie),R(nt),P.add()}}()}if("PRE"==Kt&&!1!==j.br_in_pre){if(!Xe)return void fe()}else if(!Qt&&!Xe&&"LI"!=Kt||Qt&&Xe)return void fe();Qt&&Ie===D.getBody()||(Qt=Qt||"P",U.isCaretContainerBlock(Ie)?(nt=U.showCaretContainerBlock(Ie),w.isEmpty(Ie)&&v(Ie),R(nt)):Z()?Re():Z(!0)?(re(nt=Ie.parentNode.insertBefore(y(),Ie)),R(Ie)):((Oe=ze.cloneRange()).setEndAfter(Ie),function _e(Ae){do{3===Ae.nodeType&&(Ae.nodeValue=Ae.nodeValue.replace(/^[\r\n]+/,"")),Ae=Ae.firstChild}while(Ae)}(Mt=Oe.extractContents()),nt=Mt.firstChild,w.insertAfter(Mt,Ie),function N(Ae){var at,Se=Ae,Ue=[];if(Se){for(;Se=Se.firstChild;){if(w.isBlock(Se))return;1!=Se.nodeType||H[Se.nodeName.toLowerCase()]||Ue.push(Se)}for(at=Ue.length;at--;)(!(Se=Ue[at]).hasChildNodes()||Se.firstChild==Se.lastChild&&""===Se.firstChild.nodeValue||"A"==Se.nodeName&&" "===(Se.innerText||Se.textContent))&&w.remove(Se)}}(nt),function Ee(Ae){var Se;C||(Ae.normalize(),(Se=Ae.lastChild)&&!/^(left|right)$/gi.test(w.getStyle(Se,"float",!0))||w.add(Ae,"br"))}(Ie),w.isEmpty(Ie)&&v(Ie),nt.normalize(),w.isEmpty(nt)?(w.remove(nt),Re()):R(nt)),w.setAttrib(nt,"id",""),D.fire("NewBlock",{newBlock:nt}),P.typing=!1,P.add())}}}(O)&&O.preventDefault()})}}),xe(Jt,[],function(){return function(me){var U=me.settings,z=me.dom,C=me.selection,D=me.schema,_=D.getBlockElements();U.forced_root_block&&me.on("NodeChange",function ie(){var j,P,E,H,q,O,$,re,N,R,A,v,w=C.getStart(),M=me.getBody(),F=-16777215;if(v=U.forced_root_block,w&&1===w.nodeType&&v){for(;w&&w!=M;){if(_[w.nodeName])return;w=w.parentNode}if((j=C.getRng()).setStart){P=j.startContainer,E=j.startOffset,H=j.endContainer,q=j.endOffset;try{N=me.getDoc().activeElement===M}catch{}}else j.item&&(w=j.item(0),(j=me.getDoc().body.createTextRange()).moveToElementText(w)),N=j.parentElement().ownerDocument===me.getDoc(),(R=j.duplicate()).collapse(!0),E=-1*R.move("character",F),R.collapsed||((R=j.duplicate()).collapse(!1),q=-1*R.move("character",F)-E);for(w=M.firstChild,A=M.nodeName.toLowerCase();w;)if((3===w.nodeType||1==w.nodeType&&!_[w.nodeName])&&D.isValidChild(A,v.toLowerCase())){if(3===w.nodeType&&0===w.nodeValue.length){$=w,w=w.nextSibling,z.remove($);continue}O||(O=z.create(v,me.settings.forced_root_block_attrs),w.parentNode.insertBefore(O,w),re=!0),$=w,w=w.nextSibling,O.appendChild($)}else O=null,w=w.nextSibling;if(re&&N){if(j.setStart)j.setStart(P,E),j.setEnd(H,q),C.setRng(j);else try{(j=me.getDoc().body.createTextRange()).moveToElementText(M),j.collapse(!0),j.moveStart("character",E),q>0&&j.moveEnd("character",q),j.select()}catch{}me.nodeChanged()}}})}}),xe(_n,[Ct,ne,be,yn,ee,qt],function(me,ie,U,z,C,D){function _(Re){return Re>0}function w(Re){return Re<0}function M(Re,ze){for(var Oe;Oe=Re(ze);)if(!oe(Oe))return Oe;return null}function P(Re,ze){for(Re=Re.parentNode;Re&&Re!=ze;Re=Re.parentNode)if(A(Re))return Re;return ze}function E(Re,ze){for(;Re&&Re!=ze;){if(y(Re))return Re;Re=Re.parentNode}return null}function $(Re,ze){var Oe=ze.ownerDocument.createRange();return Re?(Oe.setStartBefore(ze),Oe.setEndBefore(ze)):(Oe.setStartAfter(ze),Oe.setEndAfter(ze)),Oe}function F(Re,ze,Oe){return E(ze,Re)==E(Oe,Re)}function re(Re,ze,Oe){var je,Ye;for(Ye=Re?"previousSibling":"nextSibling";Oe&&Oe!=ze;){if(Z(je=Oe[Ye])&&(je=je[Ye]),v(je)){if(F(ze,je,Oe))return je;break}if(_e(je))break;Oe=Oe.parentNode}return null}function R(Re,ze){return v(function O(Re,ze){var Oe,je;return ze?(Oe=ze.container(),je=ze.offset(),fe(Oe)?Oe.childNodes[je+Re]:null):null}(Re,ze))}var A=U.isContentEditableTrue,v=U.isContentEditableFalse,y=U.matchStyleValues("display","block table table-cell table-caption"),Z=C.isCaretContainer,oe=C.isCaretContainerBlock,J=me.curry,fe=U.isElement,_e=D.isCaretCandidate,Ve=J($,!0),Ee=J($,!1);return{isForwards:_,isBackwards:w,findNode:function j(Re,ze,Oe,je,Ye){var ye=new ie(Re,je);if(w(ze)){if((v(Re)||oe(Re))&&Oe(Re=M(ye.prev,!0)))return Re;for(;Re=M(ye.prev,Ye);)if(Oe(Re))return Re}if(_(ze)){if((v(Re)||oe(Re))&&Oe(Re=M(ye.next,!0)))return Re;for(;Re=M(ye.next,Ye);)if(Oe(Re))return Re}return null},getEditingHost:P,getParentBlock:E,isInSameBlock:function H(Re,ze,Oe){return E(Re.container(),Oe)==E(ze.container(),Oe)},isInSameEditingHost:function q(Re,ze,Oe){return P(Re.container(),Oe)==P(ze.container(),Oe)},isBeforeContentEditableFalse:J(R,0),isAfterContentEditableFalse:J(R,-1),normalizeRange:function N(Re,ze,Oe){var je,Ye,ye,Ie,He=J(re,!0,ze),Xe=J(re,!1,ze);if(ye=Oe.startOffset,C.isCaretContainerBlock(Ye=Oe.startContainer)){if(fe(Ye)||(Ye=Ye.parentNode),"before"==(Ie=Ye.getAttribute("data-mce-caret"))&&v(je=Ye.nextSibling))return Ve(je);if("after"==Ie&&v(je=Ye.previousSibling))return Ee(je)}if(!Oe.collapsed)return Oe;if(U.isText(Ye)){if(Z(Ye)){if(1===Re){if(je=Xe(Ye))return Ve(je);if(je=He(Ye))return Ee(je)}if(-1===Re){if(je=He(Ye))return Ee(je);if(je=Xe(Ye))return Ve(je)}return Oe}if(C.endsWithCaretContainer(Ye)&&ye>=Ye.data.length-1)return 1===Re&&(je=Xe(Ye))?Ve(je):Oe;if(C.startsWithCaretContainer(Ye)&&ye<=1)return-1===Re&&(je=He(Ye))?Ee(je):Oe;if(ye===Ye.data.length)return(je=Xe(Ye))?Ve(je):Oe;if(0===ye)return(je=He(Ye))?Ee(je):Oe}return Oe}}}),xe(Dn,[be,qt,yn,_n,B,Ct],function(me,ie,U,z,C,D){function w(A,v){return A.hasChildNodes()&&v<A.childNodes.length?A.childNodes[v]:null}function M(A,v){if($(A)){if(re(v.previousSibling)&&!H(v.previousSibling))return U.before(v);if(H(v))return U(v,0)}if(F(A)){if(re(v.nextSibling)&&!H(v.nextSibling))return U.after(v);if(H(v))return U(v,v.data.length)}return F(A)?O(v)?U.before(v):U.after(v):U.before(v)}function P(A,v,y){var Z,oe,J,fe,_e,Ve,Ee;if(!q(y)||!v)return null;if(Z=(Ee=v).container(),oe=Ee.offset(),H(Z)){if(F(A)&&oe>0)return U(Z,--oe);if($(A)&&oe<Z.length)return U(Z,++oe);J=Z}else{if(F(A)&&oe>0&&(fe=w(Z,oe-1),re(fe)))return!N(fe)&&(_e=z.findNode(fe,A,R,fe))?H(_e)?U(_e,_e.data.length):U.after(_e):H(fe)?U(fe,fe.data.length):U.before(fe);if($(A)&&oe<Z.childNodes.length&&(fe=w(Z,oe),re(fe)))return function j(A,v){var y;return!!me.isBr(A)&&!!(y=P(1,U.after(A),v))&&!z.isInSameBlock(U.before(A),U.before(y),v)}(fe,y)?P(A,U.after(fe),y):!N(fe)&&(_e=z.findNode(fe,A,R,fe))?H(_e)?U(_e,0):U.before(_e):H(fe)?U(fe,0):U.after(fe);J=Ee.getNode()}return($(A)&&Ee.isAtEnd()||F(A)&&Ee.isAtStart())&&(J=z.findNode(J,A,D.constant(!0),y,!0),R(J))?M(A,J):(fe=z.findNode(J,A,R,y),Ve=C.last(C.filter(function _(A,v){for(var y=[];A&&A!=v;)y.push(A),A=A.parentNode;return y}(Z,y),E)),!Ve||fe&&Ve.contains(fe)?fe?M(A,fe):null:Ee=$(A)?U.after(Ve):U.before(Ve))}var E=me.isContentEditableFalse,H=me.isText,q=me.isElement,O=me.isBr,$=z.isForwards,F=z.isBackwards,re=ie.isCaretCandidate,N=ie.isAtomic,R=ie.isEditableCaretCandidate;return function(A){return{next:function(v){return P(1,v,A)},prev:function(v){return P(-1,v,A)}}}}),xe(Gn,[Y,Dn,yn],function(me,ie,U){var _=function(N){return me.grep(N.childNodes,function(R){return"LI"===R.nodeName})},M=function(N){return N.length>0&&function(N){return!N.firstChild}(N[N.length-1])?N.slice(0,-1):N},j=function(N,R){var A=N.getParent(R,N.isBlock);return A&&"LI"===A.nodeName?A:null},q=function(N,R){var A=U.after(N),y=new ie(R).prev(A);return y?y.toRange():null};return{isListFragment:function(N){var R=N.firstChild,A=N.lastChild;return R&&"meta"===R.name&&(R=R.next),A&&"mce_marker"===A.attr("id")&&(A=A.prev),!(!R||R!==A||"ul"!==R.name&&"ol"!==R.name)},insertAtCaret:function(N,R,A,v){var y=function(N,R,A){var v=R.serialize(A);return function(N){var R=N.firstChild,A=N.lastChild;return R&&"META"===R.nodeName&&R.parentNode.removeChild(R),A&&"mce_marker"===A.id&&A.parentNode.removeChild(A),N}(N.createFragment(v))}(R,N,v),Z=j(R,A.startContainer),oe=M(_(y.firstChild)),_e=R.getRoot(),Ve=function(Ee){var Re=U.fromRangeStart(A),ze=new ie(R.getRoot()),Oe=1===Ee?ze.prev(Re):ze.next(Re);return!Oe||j(R,Oe.getNode())!==Z};return Ve(1)?function(N,R,A){var v=N.parentNode;return me.each(R,function(y){v.insertBefore(y,N)}),function(N,R){var A=U.before(N),y=new ie(R).next(A);return y?y.toRange():null}(N,A)}(Z,oe,_e):Ve(2)?function(N,R,A,v){return v.insertAfter(R.reverse(),N),q(R[0],A)}(Z,oe,_e,R):function(N,R,A,v){var y=function(N,R){var A=R.cloneRange(),v=R.cloneRange();return A.setStartBefore(N),v.setEndAfter(N),[A.cloneContents(),v.cloneContents()]}(N,v),Z=N.parentNode;return Z.insertBefore(y[0],N),me.each(R,function(oe){Z.insertBefore(oe,N)}),Z.insertBefore(y[1],N),Z.removeChild(N),q(R[R.length-1],A)}(Z,oe,_e,A)},isParentBlockLi:function(N,R){return!!j(N,R)},trimListItems:M,listItems:_}}),xe(di,[G,Y,Vt,Dn,yn,Un,be,Gn],function(me,ie,U,z,C,D,_,w){var M=_.matchNodeNames("td th");return{insertAtCaret:function(q,O){var $=function(q){var O;return"string"!=typeof q?(O=ie.extend({paste:q.paste,data:{paste:q.paste}},q),{content:q.content,details:O}):{content:q,details:{}}}(O);!function(q,O,$){var oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye,ye,Ie=q.schema.getTextInlineElements(),He=q.selection,Xe=q.dom;/^ | $/.test(O)&&(O=function F(Kt){function un(Se){return tt[Se]&&3==tt[Se].nodeType}var Qt,tt,Ae;return Ae=(Qt=He.getRng(!0)).startOffset,3==(tt=Qt.startContainer).nodeType&&(Ae>0?Kt=Kt.replace(/^&nbsp;/," "):un("previousSibling")||(Kt=Kt.replace(/^ /,"&nbsp;")),Ae<tt.length?Kt=Kt.replace(/&nbsp;(<br>|)$/," "):un("nextSibling")||(Kt=Kt.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),Kt}(O)),oe=q.parser,ye=$.merge,J=new U({validate:q.settings.validate},q.schema),Ye='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',q.fire("BeforeSetContent",Ee={content:O,format:"html",selection:!0}),-1==(O=Ee.content).indexOf("{$caret}")&&(O+="{$caret}"),O=O.replace(/\{\$caret\}/,Ye);var nt=(ze=He.getRng()).startContainer||(ze.parentElement?ze.parentElement():null),Mt=q.getBody();nt===Mt&&He.isCollapsed()&&Xe.isBlock(Mt.firstChild)&&function y(Kt){return Kt&&!q.schema.getShortEndedElements()[Kt.nodeName]}(Mt.firstChild)&&Xe.isEmpty(Mt.firstChild)&&((ze=Xe.createRng()).setStart(Mt.firstChild,0),ze.setEnd(Mt.firstChild,0),He.setRng(ze)),He.isCollapsed()||(q.selection.setRng(q.selection.getRng()),q.getDoc().execCommand("Delete",!1,null),function re(){var Kt,un,Qt;Qt=(Kt=He.getRng(!0)).startOffset,3==(un=Kt.startContainer).nodeType&&Kt.collapsed&&("\xa0"===un.data[Qt]?(un.deleteData(Qt,1),/[\u00a0| ]$/.test(O)||(O+=" ")):"\xa0"===un.data[Qt-1]&&(un.deleteData(Qt-1,1),/[\u00a0| ]$/.test(O)||(O=" "+O)))}());var Wt={context:(fe=He.getNode()).nodeName.toLowerCase(),data:$.data};if(Ve=oe.parse(O,Wt),!0===$.paste&&w.isListFragment(Ve)&&w.isParentBlockLi(Xe,fe))return ze=w.insertAtCaret(J,Xe,q.selection.getRng(!0),Ve),q.selection.setRng(ze),void q.fire("SetContent",Ee);if(function R(Kt){for(var un=Kt;un=un.walk();)1===un.type&&un.attr("data-mce-fragment","1")}(Ve),"mce_marker"==(Oe=Ve.lastChild).attr("id"))for(Re=Oe,Oe=Oe.prev;Oe;Oe=Oe.walk(!0))if(3==Oe.type||!Xe.isBlock(Oe.name)){q.schema.isValidChild(Oe.parent.name,"span")&&Oe.parent.insert(Re,Oe,"br"===Oe.name);break}if(q._selectionOverrides.showBlockCaretContainer(fe),Wt.invalid){for(He.setContent(Ye),fe=He.getNode(),_e=q.getBody(),9==fe.nodeType?fe=Oe=_e:Oe=fe;Oe!==_e;)fe=Oe,Oe=Oe.parentNode;O=fe==_e?_e.innerHTML:Xe.getOuterHTML(fe),O=J.serialize(oe.parse(O.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return J.serialize(Ve)}))),fe==_e?Xe.setHTML(_e,O):Xe.setOuterHTML(fe,O)}else O=J.serialize(Ve),function(q,O,$){if("all"===$.getAttribute("data-mce-bogus"))$.parentNode.insertBefore(q.dom.createFragment(O),$);else{var F=$.firstChild;!F||F===$.lastChild&&"BR"===F.nodeName?q.dom.setHTML($,O):q.selection.setContent(O)}}(q,O,fe);(function N(){if(ye){var Kt=q.getBody(),un=new D(Xe);ie.each(Xe.select("*[data-mce-fragment]"),function(Qt){for(var tt=Qt.parentNode;tt&&tt!=Kt;tt=tt.parentNode)Ie[Qt.nodeName.toLowerCase()]&&un.compare(tt,Qt)&&Xe.remove(Qt,!0)})}})(),function Z(Kt){var tt,Ae,Se;if(Kt){if(He.scrollIntoView(Kt),tt=function un(Ue){for(var at=q.getBody();Ue&&Ue!==at;Ue=Ue.parentNode)if("false"===q.dom.getContentEditable(Ue))return Ue;return null}(Kt))return Xe.remove(Kt),void He.select(tt);ze=Xe.createRng(),(Oe=Kt.previousSibling)&&3==Oe.nodeType?(ze.setStart(Oe,Oe.nodeValue.length),me.ie||(je=Kt.nextSibling)&&3==je.nodeType&&(Oe.appendData(je.data),je.parentNode.removeChild(je))):(ze.setStartBefore(Kt),ze.setEndBefore(Kt)),Ae=Xe.getParent(Kt,Xe.isBlock),Xe.remove(Kt),Ae&&Xe.isEmpty(Ae)&&(q.$(Ae).empty(),ze.setStart(Ae,0),ze.setEnd(Ae,0),M(Ae)||function v(Kt){return!!Kt.getAttribute("data-mce-fragment")}(Ae)||!(Se=function Qt(Ue){var at=C.fromRangeStart(Ue);if(at=new z(q.getBody()).next(at))return at.toRange()}(ze))?Xe.add(Ae,Xe.create("br",{"data-mce-bogus":"1"})):(ze=Se,Xe.remove(Ae))),He.setRng(ze)}}(Xe.get("mce_marker")),function A(Kt){ie.each(Kt.getElementsByTagName("*"),function(un){un.removeAttribute("data-mce-fragment")})}(q.getBody()),q.fire("SetContent",Ee),q.addVisual()}(q,$.content,$.details)}}}),xe(jn,[G,Y,Me,ne,di,be],function(me,ie,U,z,C,D){var _=ie.each,w=ie.extend,M=ie.map,j=ie.inArray,P=ie.explode,E=me.ie&&me.ie<11,H=!0,q=!1;return function(O){function F(ye){var Ie;if(!O.quirks.isHidden()){if(ye=ye.toLowerCase(),Ie=Oe.state[ye])return Ie(ye);try{return O.getDoc().queryCommandState(ye)}catch{}return!1}}function N(ye,Ie){Ie=Ie||"exec",_(ye,function(He,Xe){_(Xe.toLowerCase().split(","),function(nt){Oe[Ie][nt]=He})})}function oe(ye,Ie,He){return Ie===St&&(Ie=q),He===St&&(He=null),O.getDoc().execCommand(ye,Ie,He)}function J(ye){return ze.match(ye)}function fe(ye,Ie){ze.toggle(ye,Ie?{value:Ie}:St),O.nodeChanged()}function _e(ye){Ye=Re.getBookmark(ye)}function Ve(){Re.moveToBookmark(Ye)}var Ee,Re,ze,Ye,Oe={state:{},exec:{},value:{}},je=O.settings;O.on("PreInit",function(){Ee=O.dom,Re=O.selection,je=O.settings,ze=O.formatter}),w(this,{execCommand:function $(ye,Ie,He,Xe){var nt,Mt,Wt=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(ye)||Xe&&Xe.skip_focus||O.focus(),(Xe=O.fire("BeforeExecCommand",{command:ye,ui:Ie,value:He})).isDefaultPrevented())return!1;if(Mt=ye.toLowerCase(),nt=Oe.exec[Mt])return nt(Mt,Ie,He),O.fire("ExecCommand",{command:ye,ui:Ie,value:He}),!0;if(_(O.plugins,function(Kt){if(Kt.execCommand&&Kt.execCommand(ye,Ie,He))return O.fire("ExecCommand",{command:ye,ui:Ie,value:He}),Wt=!0,!1}),Wt)return Wt;if(O.theme&&O.theme.execCommand&&O.theme.execCommand(ye,Ie,He))return O.fire("ExecCommand",{command:ye,ui:Ie,value:He}),!0;try{Wt=O.getDoc().execCommand(ye,Ie,He)}catch{}return!!Wt&&(O.fire("ExecCommand",{command:ye,ui:Ie,value:He}),!0)},queryCommandState:F,queryCommandValue:function re(ye){var Ie;if(!O.quirks.isHidden()){if(ye=ye.toLowerCase(),Ie=Oe.value[ye])return Ie(ye);try{return O.getDoc().queryCommandValue(ye)}catch{}}},queryCommandSupported:function A(ye){if(ye=ye.toLowerCase(),Oe.exec[ye])return!0;try{return O.getDoc().queryCommandSupported(ye)}catch{}return!1},addCommands:N,addCommand:function R(ye,Ie,He){ye=ye.toLowerCase(),Oe.exec[ye]=function(Xe,nt,Mt,Wt){return Ie.call(He||O,nt,Mt,Wt)}},addQueryStateHandler:function v(ye,Ie,He){ye=ye.toLowerCase(),Oe.state[ye]=function(){return Ie.call(He||O)}},addQueryValueHandler:function y(ye,Ie,He){ye=ye.toLowerCase(),Oe.value[ye]=function(){return Ie.call(He||O)}},hasCustomCommand:function Z(ye){return ye=ye.toLowerCase(),!!Oe.exec[ye]}}),N({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){O.undoManager.add()},"Cut,Copy,Paste":function(ye){var He,Ie=O.getDoc();try{oe(ye)}catch{He=H}if("paste"!==ye||Ie.queryCommandEnabled(ye)||(He=!0),He||!Ie.queryCommandSupported(ye)){var Xe=O.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");me.mac&&(Xe=Xe.replace(/Ctrl\+/g,"\u2318+")),O.notificationManager.open({text:Xe,type:"error"})}},unlink:function(){if(Re.isCollapsed()){var ye=O.dom.getParent(O.selection.getStart(),"a");ye&&O.dom.remove(ye,!0)}else ze.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(ye){var Ie=ye.substring(7);"full"==Ie&&(Ie="justify"),_("left,center,right,justify".split(","),function(He){Ie!=He&&ze.remove("align"+He)}),"none"!=Ie&&fe("align"+Ie)},"InsertUnorderedList,InsertOrderedList":function(ye){var Ie,He;oe(ye),(Ie=Ee.getParent(Re.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((He=Ie.parentNode).nodeName)&&(_e(),Ee.split(He,Ie),Ve())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(ye){fe(ye)},"ForeColor,HiliteColor,FontName":function(ye,Ie,He){fe(ye,He)},FontSize:function(ye,Ie,He){var Xe,nt;He>=1&&He<=7&&(nt=P(je.font_size_style_values),He=(Xe=P(je.font_size_classes))?Xe[He-1]||He:nt[He-1]||He),fe(ye,He)},RemoveFormat:function(ye){ze.remove(ye)},mceBlockQuote:function(){fe("blockquote")},FormatBlock:function(ye,Ie,He){return fe(He||"p")},mceCleanup:function(){var ye=Re.getBookmark();O.setContent(O.getContent({cleanup:H}),{cleanup:H}),Re.moveToBookmark(ye)},mceRemoveNode:function(ye,Ie,He){var Xe=He||Re.getNode();Xe!=O.getBody()&&(_e(),O.dom.remove(Xe,H),Ve())},mceSelectNodeDepth:function(ye,Ie,He){var Xe=0;Ee.getParent(Re.getNode(),function(nt){if(1==nt.nodeType&&Xe++==He)return Re.select(nt),q},O.getBody())},mceSelectNode:function(ye,Ie,He){Re.select(He)},mceInsertContent:function(ye,Ie,He){C.insertAtCaret(O,He)},mceInsertRawHTML:function(ye,Ie,He){Re.setContent("tiny_mce_marker"),O.setContent(O.getContent().replace(/tiny_mce_marker/g,function(){return He}))},mceToggleFormat:function(ye,Ie,He){fe(He)},mceSetContent:function(ye,Ie,He){O.setContent(He)},"Indent,Outdent":function(ye){var Ie,He,Xe;He=/[a-z%]+$/i.exec(Ie=je.indentation),Ie=parseInt(Ie,10),F("InsertUnorderedList")||F("InsertOrderedList")?oe(ye):(je.forced_root_block||Ee.getParent(Re.getNode(),Ee.isBlock)||ze.apply("div"),_(Re.getSelectedBlocks(),function(nt){if("false"!==Ee.getContentEditable(nt)&&"LI"!==nt.nodeName){var Mt=O.getParam("indent_use_margin",!1)?"margin":"padding";Mt="TABLE"===nt.nodeName?"margin":Mt,Mt+="rtl"==Ee.getStyle(nt,"direction",!0)?"Right":"Left","outdent"==ye?(Xe=Math.max(0,parseInt(nt.style[Mt]||0,10)-Ie),Ee.setStyle(nt,Mt,Xe?Xe+He:"")):(Xe=parseInt(nt.style[Mt]||0,10)+Ie+He,Ee.setStyle(nt,Mt,Xe))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){O.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){O.hasVisual=!O.hasVisual,O.addVisual()},mceReplaceContent:function(ye,Ie,He){O.execCommand("mceInsertContent",!1,He.replace(/\{\$selection\}/g,Re.getContent({format:"text"})))},mceInsertLink:function(ye,Ie,He){var Xe;"string"==typeof He&&(He={href:He}),Xe=Ee.getParent(Re.getNode(),"a"),He.href=He.href.replace(" ","%20"),Xe&&He.href||ze.remove("link"),He.href&&ze.apply("link",He,Xe)},selectAll:function(){var Ie,ye=Ee.getRoot();if(Re.getRng().setStart){var He=Ee.getParent(Re.getStart(),D.isContentEditableTrue);He&&((Ie=Ee.createRng()).selectNodeContents(He),Re.setRng(Ie))}else(Ie=Re.getRng()).item||(Ie.moveToElementText(ye),Ie.select())},delete:function(){oe("Delete");var ye=O.getBody();Ee.isEmpty(ye)&&(O.setContent(""),ye.firstChild&&Ee.isBlock(ye.firstChild)?O.selection.setCursorLocation(ye.firstChild,0):O.selection.setCursorLocation(ye,0))},mceNewDocument:function(){O.setContent("")},InsertLineBreak:function(ye,Ie,He){var Mt,Wt,Kt,nt=He,un=Re.getRng(!0);new U(Ee).normalize(un);var Qt=un.startOffset,tt=un.startContainer;if(1==tt.nodeType&&tt.hasChildNodes()){var Ae=Qt>tt.childNodes.length-1;tt=tt.childNodes[Math.min(Qt,tt.childNodes.length-1)]||tt,Qt=Ae&&3==tt.nodeType?tt.nodeValue.length:0}var Se=Ee.getParent(tt,Ee.isBlock),Ue=Se?Se.nodeName.toUpperCase():"",at=Se?Ee.getParent(Se.parentNode,Ee.isBlock):null,vt=at?at.nodeName.toUpperCase():"";"LI"!=vt||nt&&nt.ctrlKey||(Se=at,Ue=vt),tt&&3==tt.nodeType&&Qt>=tt.nodeValue.length&&(E||function Xe(){for(var It,Lt=new z(tt,Se),Dt=O.schema.getNonEmptyElements();It=Lt.next();)if(Dt[It.nodeName.toLowerCase()]||It.length>0)return!0}()||(Mt=Ee.create("br"),un.insertNode(Mt),un.setStartAfter(Mt),un.setEndAfter(Mt),Wt=!0)),Mt=Ee.create("br"),un.insertNode(Mt);var ct=Ee.doc.documentMode;return E&&"PRE"==Ue&&(!ct||ct<8)&&Mt.parentNode.insertBefore(Ee.doc.createTextNode("\r"),Mt),Kt=Ee.create("span",{},"&nbsp;"),Mt.parentNode.insertBefore(Kt,Mt),Re.scrollIntoView(Kt),Ee.remove(Kt),Wt?(un.setStartBefore(Mt),un.setEndBefore(Mt)):(un.setStartAfter(Mt),un.setEndAfter(Mt)),Re.setRng(un),O.undoManager.add(),H}}),N({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(ye){var Ie="align"+ye.substring(7),He=Re.isCollapsed()?[Ee.getParent(Re.getNode(),Ee.isBlock)]:Re.getSelectedBlocks(),Xe=M(He,function(nt){return!!ze.matchNode(nt,Ie)});return-1!==j(Xe,H)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(ye){return J(ye)},mceBlockQuote:function(){return J("blockquote")},Outdent:function(){var ye;return je.inline_styles&&((ye=Ee.getParent(Re.getStart(),Ee.isBlock))&&parseInt(ye.style.paddingLeft,10)>0||(ye=Ee.getParent(Re.getEnd(),Ee.isBlock))&&parseInt(ye.style.paddingLeft,10)>0)?H:F("InsertUnorderedList")||F("InsertOrderedList")||!je.inline_styles&&!!Ee.getParent(Re.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(ye){var Ie=Ee.getParent(Re.getNode(),"ul,ol");return Ie&&("insertunorderedlist"===ye&&"UL"===Ie.tagName||"insertorderedlist"===ye&&"OL"===Ie.tagName)}},"state"),N({"FontSize,FontName":function(ye){var He,Ie=0;return(He=Ee.getParent(Re.getNode(),"span"))&&(Ie="fontsize"==ye?He.style.fontSize:He.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),Ie}},"value"),N({Undo:function(){O.undoManager.undo()},Redo:function(){O.undoManager.redo()}})}}),xe(Ht,[Y],function(me){function ie(_,w){var j,P,M=this;if(_=z(_),j=(w=M.settings=w||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(_)||/^\s*#/.test(_))M.source=_;else{var E=0===_.indexOf("//");0!==_.indexOf("/")||E||(_=(j&&j.protocol||"http")+"://mce_host"+_),/^[\w\-]*:?\/\//.test(_)||(P=w.base_uri?w.base_uri.path:new ie(location.href).directory,""===w.base_uri.protocol?_="//mce_host"+M.toAbsPath(P,_):(_=/([^#?]*)([#?]?.*)/.exec(_),_=(j&&j.protocol||"http")+"://mce_host"+M.toAbsPath(P,_[1])+_[2])),_=_.replace(/@@/g,"(mce_at)"),_=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(_),U(C,function(H,q){var O=_[q];O&&(O=O.replace(/\(mce_at\)/g,"@@")),M[H]=O}),j&&(M.protocol||(M.protocol=j.protocol),M.userInfo||(M.userInfo=j.userInfo),M.port||"mce_host"!==M.host||(M.port=j.port),M.host&&"mce_host"!==M.host||(M.host=j.host),M.source=""),E&&(M.protocol="")}}var U=me.each,z=me.trim,C="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),D={ftp:21,http:80,https:443,mailto:25};return ie.prototype={setPath:function(_){var w=this;_=/^(.*?)\/?(\w+)?$/.exec(_),w.path=_[0],w.directory=_[1],w.file=_[2],w.source="",w.getURI()},toRelative:function(_){var M,w=this;if("./"===_)return _;if("mce_host"!=(_=new ie(_,{base_uri:w})).host&&w.host!=_.host&&_.host||w.port!=_.port||w.protocol!=_.protocol&&""!==_.protocol)return _.getURI();var j=w.getURI(),P=_.getURI();return j==P||"/"==j.charAt(j.length-1)&&j.substr(0,j.length-1)==P?j:(M=w.toRelPath(w.path,_.path),_.query&&(M+="?"+_.query),_.anchor&&(M+="#"+_.anchor),M)},toAbsolute:function(_,w){return(_=new ie(_,{base_uri:this})).getURI(w&&this.isSameOrigin(_))},isSameOrigin:function(_){if(this.host==_.host&&this.protocol==_.protocol){if(this.port==_.port)return!0;var w=D[this.protocol];if(w&&(this.port||w)==(_.port||w))return!0}return!1},toRelPath:function(_,w){var M,E,H,j=0,P="";if(_=(_=_.substring(0,_.lastIndexOf("/"))).split("/"),M=w.split("/"),_.length>=M.length)for(E=0,H=_.length;E<H;E++)if(E>=M.length||_[E]!=M[E]){j=E+1;break}if(_.length<M.length)for(E=0,H=M.length;E<H;E++)if(E>=_.length||_[E]!=M[E]){j=E+1;break}if(1===j)return w;for(E=0,H=_.length-(j-1);E<H;E++)P+="../";for(E=j-1,H=M.length;E<H;E++)P+=E!=j-1?"/"+M[E]:M[E];return P},toAbsPath:function(_,w){var M,E,H,j=0,P=[];for(E=/\/$/.test(w)?"/":"",_=_.split("/"),w=w.split("/"),U(_,function(q){q&&P.push(q)}),_=P,M=w.length-1,P=[];M>=0;M--)0!==w[M].length&&"."!==w[M]&&(".."!==w[M]?j>0?j--:P.push(w[M]):j++);return 0!==(H=(M=_.length-j)<=0?P.reverse().join("/"):_.slice(0,M).join("/")+"/"+P.reverse().join("/")).indexOf("/")&&(H="/"+H),E&&H.lastIndexOf("/")!==H.length-1&&(H+=E),H},getURI:function(_){var w,M=this;return M.source&&!_||(w="",_||(w+=M.protocol?M.protocol+"://":"//",M.userInfo&&(w+=M.userInfo+"@"),M.host&&(w+=M.host),M.port&&(w+=":"+M.port)),M.path&&(w+=M.path),M.query&&(w+="?"+M.query),M.anchor&&(w+="#"+M.anchor),M.source=w),M.source}},ie.parseDataUri=function(_){var w,M;return _=decodeURIComponent(_).split(","),(M=/data:([^;]+)/.exec(_[0]))&&(w=M[1]),{type:w,data:_[1]}},ie.getDocumentBaseUrl=function(_){var w;return w=0!==_.protocol.indexOf("http")&&"file:"!==_.protocol?_.href:_.protocol+"//"+_.host+_.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(w)&&(w=w.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(w)||(w+="/")),w},ie}),xe(en,[Y],function(me){function ie(){}var C,D,U=me.each,z=me.extend;return ie.extend=C=function(_){function w(){var $,F,re,N=this;if(!D&&(N.init&&N.init.apply(N,arguments),F=N.Mixins))for($=F.length;$--;)(re=F[$]).init&&re.init.apply(N,arguments)}function M(){return this}function j($,F){return function(){var R,N=this._super;return this._super=E[$],R=F.apply(this,arguments),this._super=N,R}}var H,q,O,E=this.prototype;for(q in D=!0,H=new this,D=!1,_.Mixins&&(U(_.Mixins,function($){for(var F in $)"init"!==F&&(_[F]=$[F])}),E.Mixins&&(_.Mixins=E.Mixins.concat(_.Mixins))),_.Methods&&U(_.Methods.split(","),function($){_[$]=M}),_.Properties&&U(_.Properties.split(","),function($){var F="_"+$;_[$]=function(re){var N=this;return void 0!==re?(N[F]=re,N):N[F]}}),_.Statics&&U(_.Statics,function($,F){w[F]=$}),_.Defaults&&E.Defaults&&(_.Defaults=z({},E.Defaults,_.Defaults)),_)H[q]="function"==typeof(O=_[q])&&E[q]?j(q,O):O;return w.prototype=H,w.constructor=w,w.extend=C,w},ie}),xe(mn,[Y],function(me){function ie(z){function C(){return!1}function D(){return!0}function w($,F,re,N){var R,A,v;if(!1===F&&(F=C),F)for(F={func:F},N&&me.extend(F,N),v=(A=$.toLowerCase().split(" ")).length;v--;)(R=q[$=A[v]])||(R=q[$]=[],O($,!0)),re?R.unshift(F):R.push(F);return E}function M($,F){var re,N,R,A,v;if($)for(re=(A=$.toLowerCase().split(" ")).length;re--;){if(N=q[$=A[re]],!$){for(R in q)O(R,!1),delete q[R];return E}if(N){if(F)for(v=N.length;v--;)N[v].func===F&&(N=N.slice(0,v).concat(N.slice(v+1)),q[$]=N);else N.length=0;N.length||(O($,!1),delete q[$])}}else{for($ in q)O($,!1);q={}}return E}var H,O,E=this,q={};H=(z=z||{}).scope||E,O=z.toggleEvent||C,E.fire=function _($,F){var re,N,R,A;if($=$.toLowerCase(),(F=F||{}).type=$,F.target||(F.target=H),F.preventDefault||(F.preventDefault=function(){F.isDefaultPrevented=D},F.stopPropagation=function(){F.isPropagationStopped=D},F.stopImmediatePropagation=function(){F.isImmediatePropagationStopped=D},F.isDefaultPrevented=C,F.isPropagationStopped=C,F.isImmediatePropagationStopped=C),z.beforeFire&&z.beforeFire(F),re=q[$])for(N=0,R=re.length;N<R;N++){if((A=re[N]).once&&M($,A.func),F.isImmediatePropagationStopped())return F.stopPropagation(),F;if(!1===A.func.call(H,F))return F.preventDefault(),F}return F},E.on=w,E.off=M,E.once=function j($,F,re){return w($,F,re,{once:!0})},E.has=function P($){return $=$.toLowerCase(),!(!q[$]||0===q[$].length)}}var U=me.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return ie.isNative=function(z){return!!U[z.toLowerCase()]},ie}),xe(Nn,[],function(){function me(ie){this.create=ie.create}return me.create=function(ie,U){return new me({create:function(z,C){function D(M){z.set(C,M.value)}var w;return z.on("change:"+C,function _(M){ie.set(U,M.value)}),ie.on("change:"+U,D),(w=z._bindings)||(w=z._bindings=[],z.on("destroy",function(){for(var M=w.length;M--;)w[M]()})),w.push(function(){ie.off("change:"+U,D)}),ie.get(U)}})},me}),xe(bn,[mn],function(me){function ie(U){return U._eventDispatcher||(U._eventDispatcher=new me({scope:U,toggleEvent:function(z,C){me.isNative(z)&&U.toggleNativeEvent&&U.toggleNativeEvent(z,C)}})),U._eventDispatcher}return{fire:function(U,z,C){var D=this;if(D.removed&&"remove"!==U)return z;if(z=ie(D).fire(U,z,C),!1!==C&&D.parent)for(var _=D.parent();_&&!z.isPropagationStopped();)_.fire(U,z,!1),_=_.parent();return z},on:function(U,z,C){return ie(this).on(U,z,C)},off:function(U,z){return ie(this).off(U,z)},once:function(U,z){return ie(this).once(U,z)},hasEventListeners:function(U){return ie(this).has(U)}}}),xe(fn,[Nn,bn,en,Y],function(me,ie,U,z){function C(_){return _.nodeType>0}function D(_,w){var M,j;if(_===w)return!0;if(null===_||null===w||"object"!=typeof _||"object"!=typeof w)return _===w;if(z.isArray(w)){if(_.length!==w.length)return!1;for(M=_.length;M--;)if(!D(_[M],w[M]))return!1}if(C(_)||C(w))return _===w;for(M in j={},w){if(!D(_[M],w[M]))return!1;j[M]=!0}for(M in _)if(!j[M]&&!D(_[M],w[M]))return!1;return!0}return U.extend({Mixins:[ie],init:function(_){var w,M;for(w in _=_||{})(M=_[w])instanceof me&&(_[w]=M.create(this,w));this.data=_},set:function(_,w){var M,j,P=this.data[_];if(w instanceof me&&(w=w.create(this,_)),"object"==typeof _){for(M in _)this.set(M,_[M]);return this}return D(P,w)||(this.data[_]=w,this.fire("change:"+_,j={target:this,name:_,value:w,oldValue:P}),this.fire("change",j)),this},get:function(_){return this.data[_]},has:function(_){return _ in this.data},bind:function(_){return me.create(this,_)},destroy:function(){this.fire("destroy")}})}),xe(kn,[en],function(me){var D,U=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,z=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,C=/^\s*|\s*$/g,_=me.extend({init:function(w){function q(F,re,N){function R(v){v&&re.push(v)}var A;return R(function M(F){if(F)return F=F.toLowerCase(),function(re){return"*"===F||re.type===F}}((A=U.exec(F.replace(C,"")))[1])),R(function j(F){if(F)return function(re){return re._name===F}}(A[2])),R(function P(F){if(F)return F=F.split("."),function(re){for(var N=F.length;N--;)if(!re.classes.contains(F[N]))return!1;return!0}}(A[3])),R(function E(F,re,N){if(F)return function(R){var A=R[F]?R[F]():"";return re?"="===re?A===N:"*="===re?A.indexOf(N)>=0:"~="===re?(" "+A+" ").indexOf(" "+N+" ")>=0:"!="===re?A!=N:"^="===re?0===A.indexOf(N):"$="===re&&A.substr(A.length-N.length)===N:!!N}}(A[4],A[5],A[6])),R(function H(F){var re;if(F)return(F=/(?:not\((.+)\))|(.+)/i.exec(F))[1]?(re=O(F[1],[]),function(N){return!$(N,re)}):(F=F[2],function(N,R,A){return"first"===F?0===R:"last"===F?R===A-1:"even"===F?R%2==0:"odd"===F?R%2==1:!!N[F]&&N[F]()})}(A[7])),re.pseudo=!!A[7],re.direct=N,re}function O(F,re){var R,A,v,N=[];do{if(z.exec(""),(A=z.exec(F))&&(F=A[3],N.push(A[1]),A[2])){R=A[3];break}}while(A);for(R&&O(R,re),F=[],v=0;v<N.length;v++)">"!=N[v]&&F.push(q(N[v],[],">"===N[v-1]));return re.push(F),re}var $=this.match;this._selectors=O(w,[])},match:function(w,M){var j,P,E,H,q,O,$,F,re,N,R,A,v;for(j=0,P=(M=M||this._selectors).length;j<P;j++){for(v=w,A=0,E=(H=(q=M[j]).length)-1;E>=0;E--)for(F=q[E];v;){if(F.pseudo)for(re=N=(R=v.parent().items()).length;re--&&R[re]!==v;);for(O=0,$=F.length;O<$;O++)if(!F[O](v,re,N)){O=$+1;break}if(O===$){A++;break}if(E===H-1)break;v=v.parent()}if(A===H)return!0}return!1},find:function(w){function M(q,O,$){var F,re,N,R,A,v=O[$];for(F=0,re=q.length;F<re;F++){for(A=q[F],N=0,R=v.length;N<R;N++)if(!v[N](A,F,re)){N=R+1;break}if(N===R)$==O.length-1?j.push(A):A.items&&M(A.items(),O,$+1);else if(v.direct)return;A.items&&M(A.items(),O,$)}}var P,E,j=[],H=this._selectors;if(w.items){for(P=0,E=H.length;P<E;P++)M(w.items(),H[P],0);E>1&&(j=function ie(w){for(var P,M=[],j=w.length;j--;)(P=w[j]).__checked||(M.push(P),P.__checked=1);for(j=M.length;j--;)delete M[j].__checked;return M}(j))}return D||(D=_.Collection),new D(j)}});return _}),xe(En,[Y,kn,en],function(me,ie,U){var z,C,D=Array.prototype.push,_=Array.prototype.slice;return C={length:0,init:function(w){w&&this.add(w)},add:function(w){var M=this;return me.isArray(w)?D.apply(M,w):w instanceof z?M.add(w.toArray()):D.call(M,w),M},set:function(w){var P,M=this,j=M.length;for(M.length=0,M.add(w),P=M.length;P<j;P++)delete M[P];return M},filter:function(w){var j,P,H,q,E=[];for("string"==typeof w?(w=new ie(w),q=function(O){return w.match(O)}):q=w,j=0,P=this.length;j<P;j++)q(H=this[j])&&E.push(H);return new z(E)},slice:function(){return new z(_.apply(this,arguments))},eq:function(w){return-1===w?this.slice(w):this.slice(w,+w+1)},each:function(w){return me.each(this,w),this},toArray:function(){return me.toArray(this)},indexOf:function(w){for(var j=this.length;j--&&this[j]!==w;);return j},reverse:function(){return new z(me.toArray(this).reverse())},hasClass:function(w){return!!this[0]&&this[0].classes.contains(w)},prop:function(w,M){var E,j=this;return void 0!==M?(j.each(function(H){H[w]&&H[w](M)}),j):(E=j[0])&&E[w]?E[w]():void 0},exec:function(w){var j=me.toArray(arguments).slice(1);return this.each(function(P){P[w]&&P[w].apply(P,j)}),this},remove:function(){for(var w=this.length;w--;)this[w].remove();return this},addClass:function(w){return this.each(function(M){M.classes.add(w)})},removeClass:function(w){return this.each(function(M){M.classes.remove(w)})}},me.each("fire on off show hide append prepend before after reflow".split(" "),function(w){C[w]=function(){var M=me.toArray(arguments);return this.each(function(j){w in j&&j[w].apply(j,M)}),this}}),me.each("text name disabled active selected checked visible parent value data".split(" "),function(w){C[w]=function(M){return this.prop(w,M)}}),z=U.extend(C),ie.Collection=z,z}),xe(Wn,[G,Y,ve],function(me,ie,U){var z=0,C={id:function(){return"mceu_"+z++},create:function(D,_,w){var M=document.createElement(D);return U.DOM.setAttribs(M,_),"string"==typeof w?M.innerHTML=w:ie.each(w,function(j){j.nodeType&&M.appendChild(j)}),M},createFragment:function(D){return U.DOM.createFragment(D)},getWindowSize:function(){return U.DOM.getViewPort()},getSize:function(D){var _,w;if(D.getBoundingClientRect){var M=D.getBoundingClientRect();_=Math.max(M.width||M.right-M.left,D.offsetWidth),w=Math.max(M.height||M.bottom-M.bottom,D.offsetHeight)}else _=D.offsetWidth,w=D.offsetHeight;return{width:_,height:w}},getPos:function(D,_){return U.DOM.getPos(D,_||C.getContainer())},getContainer:function(){return me.container?me.container:document.body},getViewPort:function(D){return U.DOM.getViewPort(D)},get:function(D){return document.getElementById(D)},addClass:function(D,_){return U.DOM.addClass(D,_)},removeClass:function(D,_){return U.DOM.removeClass(D,_)},hasClass:function(D,_){return U.DOM.hasClass(D,_)},toggleClass:function(D,_,w){return U.DOM.toggleClass(D,_,w)},css:function(D,_,w){return U.DOM.setStyle(D,_,w)},getRuntimeStyle:function(D,_){return U.DOM.getStyle(D,_,!0)},on:function(D,_,w,M){return U.DOM.bind(D,_,w,M)},off:function(D,_,w){return U.DOM.unbind(D,_,w)},fire:function(D,_,w){return U.DOM.fire(D,_,w)},innerHtml:function(D,_){U.DOM.setHTML(D,_)}};return C}),xe(Yn,[],function(){return{parseBox:function(me){var ie;if(me)return"number"==typeof me?{top:me=me||0,left:me,bottom:me,right:me}:(1===(ie=(me=me.split(" ")).length)?me[1]=me[2]=me[3]=me[0]:2===ie?(me[2]=me[0],me[3]=me[1]):3===ie&&(me[3]=me[1]),{top:parseInt(me[0],10)||0,right:parseInt(me[1],10)||0,bottom:parseInt(me[2],10)||0,left:parseInt(me[3],10)||0})},measureBox:function(me,ie){function z(C){var D=parseFloat(function U(C){var D=document.defaultView;return D?(C=C.replace(/[A-Z]/g,function(_){return"-"+_}),D.getComputedStyle(me,null).getPropertyValue(C)):me.currentStyle[C]}(C),10);return isNaN(D)?0:D}return{top:z(ie+"TopWidth"),right:z(ie+"RightWidth"),bottom:z(ie+"BottomWidth"),left:z(ie+"LeftWidth")}}}}),xe(hi,[Y],function(me){function ie(){}function U(z){this.cls=[],this.cls._map={},this.onchange=z||ie,this.prefix=""}return me.extend(U.prototype,{add:function(z){return z&&!this.contains(z)&&(this.cls._map[z]=!0,this.cls.push(z),this._change()),this},remove:function(z){if(this.contains(z)){for(var C=0;C<this.cls.length&&this.cls[C]!==z;C++);this.cls.splice(C,1),delete this.cls._map[z],this._change()}return this},toggle:function(z,C){var D=this.contains(z);return D!==C&&(D?this.remove(z):this.add(z),this._change()),this},contains:function(z){return!!this.cls._map[z]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),U.prototype.toString=function(){var z;if(this.clsValue)return this.clsValue;z="";for(var C=0;C<this.cls.length;C++)C>0&&(z+=" "),z+=this.prefix+this.cls[C];return z},U}),xe(Fi,[I],function(me){var U,ie={};return{add:function(z){var C=z.parent();if(C){if(!C._layout||C._layout.isNative())return;ie[C._id]||(ie[C._id]=C),U||(U=!0,me.requestAnimationFrame(function(){var D,_;for(D in U=!1,ie)(_=ie[D]).state.get("rendered")&&_.reflow();ie={}},document.body))}},remove:function(z){ie[z._id]&&delete ie[z._id]}}}),xe($i,[en,Y,mn,fn,En,Wn,ae,Yn,hi,Fi],function(me,ie,U,z,C,D,_,w,M,j){function P(N){return N._eventDispatcher||(N._eventDispatcher=new U({scope:N,toggleEvent:function(R,A){A&&U.isNative(R)&&(N._nativeEvents||(N._nativeEvents={}),N._nativeEvents[R]=!0,N.state.get("rendered")&&E(N))}})),N._eventDispatcher}function E(N){function R(Re){var ze=N.getParentCtrl(Re.target);ze&&ze.fire(Re.type,Re)}function A(){var Re=fe._lastHoverCtrl;Re&&(Re.fire("mouseleave",{target:Re.getEl()}),Re.parents().each(function(ze){ze.fire("mouseleave",{target:ze.getEl()})}),fe._lastHoverCtrl=null)}function v(Re){var Ye,ye,Ie,ze=N.getParentCtrl(Re.target),Oe=fe._lastHoverCtrl,je=0;if(ze!==Oe){if(fe._lastHoverCtrl=ze,(ye=ze.parents().toArray().reverse()).push(ze),Oe){for((Ie=Oe.parents().toArray().reverse()).push(Oe),je=0;je<Ie.length&&ye[je]===Ie[je];je++);for(Ye=Ie.length-1;Ye>=je;Ye--)(Oe=Ie[Ye]).fire("mouseleave",{target:Oe.getEl()})}for(Ye=je;Ye<ye.length;Ye++)(ze=ye[Ye]).fire("mouseenter",{target:ze.getEl()})}}function y(Re){Re.preventDefault(),"mousewheel"==Re.type?(Re.deltaY=-.025*Re.wheelDelta,Re.wheelDeltaX&&(Re.deltaX=-.025*Re.wheelDeltaX)):(Re.deltaX=0,Re.deltaY=Re.detail),Re=N.fire("wheel",Re)}var Z,oe,J,fe,_e,Ve;if(_e=N._nativeEvents){for((J=N.parents().toArray()).unshift(N),Z=0,oe=J.length;!fe&&Z<oe;Z++)fe=J[Z]._eventsRoot;for(fe||(fe=J[J.length-1]||N),N._eventsRoot=fe,oe=Z,Z=0;Z<oe;Z++)J[Z]._eventsRoot=fe;var Ee=fe._delegates;for(Ve in Ee||(Ee=fe._delegates={}),_e){if(!_e)return!1;"wheel"!==Ve||q?("mouseenter"===Ve||"mouseleave"===Ve?fe._hasMouseEnter||(_(fe.getEl()).on("mouseleave",A).on("mouseover",v),fe._hasMouseEnter=1):Ee[Ve]||(_(fe.getEl()).on(Ve,R),Ee[Ve]=!0),_e[Ve]=!1):H?_(N.getEl()).on("mousewheel",y):_(N.getEl()).on("DOMMouseScroll",y)}}}var $,H="onmousewheel"in document,q=!1,O="mce-",F=0,re={Statics:{classPrefix:O},isRtl:function(){return $.rtl},classPrefix:O,init:function(N){function R(Z){var oe;for(Z=Z.split(" "),oe=0;oe<Z.length;oe++)A.classes.add(Z[oe])}var v,y,A=this;A.settings=N=ie.extend({},A.Defaults,N),A._id=N.id||"mceu_"+F++,A._aria={role:N.role},A._elmCache={},A.$=_,A.state=new z({visible:!0,active:!1,disabled:!1,value:""}),A.data=new z(N.data),A.classes=new M(function(){A.state.get("rendered")&&(A.getEl().className=this.toString())}),A.classes.prefix=A.classPrefix,(v=N.classes)&&(A.Defaults&&(y=A.Defaults.classes)&&v!=y&&R(y),R(v)),ie.each("title text name visible disabled active value".split(" "),function(Z){Z in N&&A[Z](N[Z])}),A.on("click",function(){if(A.disabled())return!1}),A.settings=N,A.borderBox=w.parseBox(N.border),A.paddingBox=w.parseBox(N.padding),A.marginBox=w.parseBox(N.margin),N.hidden&&A.hide()},Properties:"parent,name",getContainerElm:function(){return D.getContainer()},getParentCtrl:function(N){for(var R,A=this.getRoot().controlIdLookup;N&&A&&!(R=A[N.id]);)N=N.parentNode;return R},initLayoutRect:function(){var A,v,Z,oe,J,fe,_e,Ve,Ee,Re,N=this,R=N.settings,y=N.getEl();A=N.borderBox=N.borderBox||w.measureBox(y,"border"),N.paddingBox=N.paddingBox||w.measureBox(y,"padding"),N.marginBox=N.marginBox||w.measureBox(y,"margin"),Re=D.getSize(y),J=(Ve=R.minWidth)||Re.width,fe=(Ee=R.minHeight)||Re.height,Z=R.width,oe=R.height,_e=typeof(_e=R.autoResize)<"u"?_e:!Z&&!oe;var ze=A.left+A.right,Oe=A.top+A.bottom,je=R.maxWidth||65535,Ye=R.maxHeight||65535;return N._layoutRect=v={x:R.x||0,y:R.y||0,w:Z=Z||J,h:oe=oe||fe,deltaW:ze,deltaH:Oe,contentW:Z-ze,contentH:oe-Oe,innerW:Z-ze,innerH:oe-Oe,startMinWidth:Ve||0,startMinHeight:Ee||0,minW:Math.min(J,je),minH:Math.min(fe,Ye),maxW:je,maxH:Ye,autoResize:_e,scrollW:0},N._lastLayoutRect={},v},layoutRect:function(N){var v,y,Z,oe,J,fe,R=this,A=R._layoutRect;return A||(A=R.initLayoutRect()),N?(Z=A.deltaW,oe=A.deltaH,N.x!==J&&(A.x=N.x),N.y!==J&&(A.y=N.y),N.minW!==J&&(A.minW=N.minW),N.minH!==J&&(A.minH=N.minH),(y=N.w)!==J&&(A.w=y=(y=y<A.minW?A.minW:y)>A.maxW?A.maxW:y,A.innerW=y-Z),(y=N.h)!==J&&(A.h=y=(y=y<A.minH?A.minH:y)>A.maxH?A.maxH:y,A.innerH=y-oe),(y=N.innerW)!==J&&(A.innerW=y=(y=y<A.minW-Z?A.minW-Z:y)>A.maxW-Z?A.maxW-Z:y,A.w=y+Z),(y=N.innerH)!==J&&(A.innerH=y=(y=y<A.minH-oe?A.minH-oe:y)>A.maxH-oe?A.maxH-oe:y,A.h=y+oe),N.contentW!==J&&(A.contentW=N.contentW),N.contentH!==J&&(A.contentH=N.contentH),(v=R._lastLayoutRect).x===A.x&&v.y===A.y&&v.w===A.w&&v.h===A.h||((fe=$.repaintControls)&&fe.map&&!fe.map[R._id]&&(fe.push(R),fe.map[R._id]=!0),v.x=A.x,v.y=A.y,v.w=A.w,v.h=A.h),R):A},repaint:function(){var R,A,v,y,Z,oe,J,fe,_e,Ve,N=this;_e=document.createRange?function(Ee){return Ee}:Math.round,R=N.getEl().style,oe=(Z=N.borderBox).left+Z.right,J=Z.top+Z.bottom,(y=N._layoutRect).x!==(fe=N._lastRepaintRect||{}).x&&(R.left=_e(y.x)+"px",fe.x=y.x),y.y!==fe.y&&(R.top=_e(y.y)+"px",fe.y=y.y),y.w!==fe.w&&(Ve=_e(y.w-oe),R.width=(Ve>=0?Ve:0)+"px",fe.w=y.w),y.h!==fe.h&&(Ve=_e(y.h-J),R.height=(Ve>=0?Ve:0)+"px",fe.h=y.h),N._hasBody&&y.innerW!==fe.innerW&&(Ve=_e(y.innerW),(v=N.getEl("body"))&&((A=v.style).width=(Ve>=0?Ve:0)+"px"),fe.innerW=y.innerW),N._hasBody&&y.innerH!==fe.innerH&&(Ve=_e(y.innerH),(v=v||N.getEl("body"))&&((A=A||v.style).height=(Ve>=0?Ve:0)+"px"),fe.innerH=y.innerH),N._lastRepaintRect=fe,N.fire("repaint",{},!1)},updateLayoutRect:function(){var N=this;N.parent()._lastRect=null,D.css(N.getEl(),{width:"",height:""}),N._layoutRect=N._lastRepaintRect=N._lastLayoutRect=null,N.initLayoutRect()},on:function(N,R){var v=this;return P(v).on(N,function A(y){var Z,oe;return"string"!=typeof y?y:function(J){return Z||v.parentsAndSelf().each(function(fe){var _e=fe.settings.callbacks;if(_e&&(Z=_e[y]))return oe=fe,!1}),Z?Z.call(oe,J):(J.action=y,void this.fire("execute",J))}}(R)),v},off:function(N,R){return P(this).off(N,R),this},fire:function(N,R,A){var v=this;if((R=R||{}).control||(R.control=v),R=P(v).fire(N,R),!1!==A&&v.parent)for(var y=v.parent();y&&!R.isPropagationStopped();)y.fire(N,R,!1),y=y.parent();return R},hasEventListeners:function(N){return P(this).has(N)},parents:function(N){var A,v=new C;for(A=this.parent();A;A=A.parent())v.add(A);return N&&(v=v.filter(N)),v},parentsAndSelf:function(N){return new C(this).add(this.parents(N))},next:function(){var N=this.parent().items();return N[N.indexOf(this)+1]},prev:function(){var N=this.parent().items();return N[N.indexOf(this)-1]},innerHtml:function(N){return this.$el.html(N),this},getEl:function(N){var R=N?this._id+"-"+N:this._id;return this._elmCache[R]||(this._elmCache[R]=_("#"+R)[0]),this._elmCache[R]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch{}return this},blur:function(){return this.getEl().blur(),this},aria:function(N,R){var A=this,v=A.getEl(A.ariaTarget);return typeof R>"u"?A._aria[N]:(A._aria[N]=R,A.state.get("rendered")&&v.setAttribute("role"==N?N:"aria-"+N,R),A)},encode:function(N,R){return!1!==R&&(N=this.translate(N)),(N||"").replace(/[&<>"]/g,function(A){return"&#"+A.charCodeAt(0)+";"})},translate:function(N){return $.translate?$.translate(N):N},before:function(N){var R=this,A=R.parent();return A&&A.insert(N,A.items().indexOf(R),!0),R},after:function(N){var R=this,A=R.parent();return A&&A.insert(N,A.items().indexOf(R)),R},remove:function(){var v,y,N=this,R=N.getEl(),A=N.parent();if(N.items){var Z=N.items().toArray();for(y=Z.length;y--;)Z[y].remove()}A&&A.items&&(v=[],A.items().each(function(J){J!==N&&v.push(J)}),A.items().set(v),A._lastRect=null),N._eventsRoot&&N._eventsRoot==N&&_(R).off();var oe=N.getRoot().controlIdLookup;return oe&&delete oe[N._id],R&&R.parentNode&&R.parentNode.removeChild(R),N.state.set("rendered",!1),N.state.destroy(),N.fire("remove"),N},renderBefore:function(N){return _(N).before(this.renderHtml()),this.postRender(),this},renderTo:function(N){return _(N||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var A,v,y,Z,oe,N=this,R=N.settings;for(Z in N.$el=_(N.getEl()),N.state.set("rendered",!0),R)0===Z.indexOf("on")&&N.on(Z.substr(2),R[Z]);if(N._eventsRoot){for(y=N.parent();!oe&&y;y=y.parent())oe=y._eventsRoot;if(oe)for(Z in oe._nativeEvents)N._nativeEvents[Z]=!0}E(N),R.style&&(A=N.getEl())&&(A.setAttribute("style",R.style),A.style.cssText=R.style),N.settings.border&&N.$el.css({"border-top-width":(v=N.borderBox).top,"border-right-width":v.right,"border-bottom-width":v.bottom,"border-left-width":v.left});var J=N.getRoot();for(var fe in J.controlIdLookup||(J.controlIdLookup={}),J.controlIdLookup[N._id]=N,N._aria)N.aria(fe,N._aria[fe]);!1===N.state.get("visible")&&(N.getEl().style.display="none"),N.bindStates(),N.state.on("change:visible",function(_e){var Ee,Ve=_e.value;N.state.get("rendered")&&(N.getEl().style.display=!1===Ve?"none":"",N.getEl().getBoundingClientRect()),(Ee=N.parent())&&(Ee._lastRect=null),N.fire(Ve?"show":"hide"),j.add(N)}),N.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(N){var y,Z,oe,J,fe,_e,A=this.getEl(),v=A.parentNode,Ve=function R(Ee,Re){var ze,Oe,je=Ee;for(ze=Oe=0;je&&je!=Re&&je.nodeType;)ze+=je.offsetLeft||0,Oe+=je.offsetTop||0,je=je.offsetParent;return{x:ze,y:Oe}}(A,v);return y=Ve.x,Z=Ve.y,oe=A.offsetWidth,J=A.offsetHeight,fe=v.clientWidth,_e=v.clientHeight,"end"==N?(y-=fe-oe,Z-=_e-J):"center"==N&&(y-=fe/2-oe/2,Z-=_e/2-J/2),v.scrollLeft=y,v.scrollTop=Z,this},getRoot:function(){for(var R,N=this,A=[];N;){if(N.rootControl){R=N.rootControl;break}A.push(N),R=N,N=N.parent()}R||(R=this);for(var v=A.length;v--;)A[v].rootControl=R;return R},reflow:function(){j.remove(this);var N=this.parent();return N._layout&&!N._layout.isNative()&&N.reflow(),this}};return ie.each("text title visible disabled active value".split(" "),function(N){re[N]=function(R){return 0===arguments.length?this.state.get(N):(typeof R<"u"&&this.state.set(N,R),this)}}),$=me.extend(re)}),xe(li,[],function(){var ie,me={};return{add:function(U,z){me[U.toLowerCase()]=z},has:function(U){return!!me[U.toLowerCase()]},create:function(U,z){var C,D,_;if(!ie){for(D in _=tinymce.ui)me[D.toLowerCase()]=_[D];ie=!0}if("string"==typeof U?(z=z||{}).type=U:U=(z=U).type,U=U.toLowerCase(),!(C=me[U]))throw new Error("Could not find control by type: "+U);return(C=new C(z)).type=U,C}}}),xe(pr,[],function(){return function(me){function ie(y){return y&&1===y.nodeType}function U(y){return ie(y=y||A)?y.getAttribute("role"):null}function z(y){for(var Z,oe=y||A;oe=oe.parentNode;)if(Z=U(oe))return Z}function C(y){var Z=A;if(ie(Z))return Z.getAttribute("aria-"+y)}function D(y){var Z=y.tagName.toUpperCase();return"INPUT"==Z||"TEXTAREA"==Z||"SELECT"==Z}function w(y){var oe=[];return function Z(J){if(1==J.nodeType&&"none"!=J.style.display&&!J.disabled){(function _(y){return!(!D(y)||y.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(U(y))})(J)&&oe.push(J);for(var fe=0;fe<J.childNodes.length;fe++)Z(J.childNodes[fe])}}(y||R.getEl()),oe}function M(y){var Z,oe;(oe=(y=y||v).parents().toArray()).unshift(y);for(var J=0;J<oe.length&&!(Z=oe[J]).settings.ariaRoot;J++);return Z}function P(y,Z){return y<0?y=Z.length-1:y>=Z.length&&(y=0),Z[y]&&Z[y].focus(),y}function E(y,Z){var oe=-1,J=M();Z=Z||w(J.getEl());for(var fe=0;fe<Z.length;fe++)Z[fe]===A&&(oe=fe);J.lastAriaIndex=P(oe+=y,Z)}function H(){"tablist"==z()?E(-1,w(A.parentNode)):v.parent().submenu?re():E(-1)}function q(){var y=U(),Z=z();"tablist"==Z?E(1,w(A.parentNode)):"menuitem"==y&&"menu"==Z&&C("haspopup")?N():E(1)}function O(){E(-1)}function $(){var y=U(),Z=z();"menuitem"==y&&"menubar"==Z?N():"button"==y&&C("haspopup")?N({key:"down"}):E(1)}function re(){v.fire("cancel")}function N(y){v.fire("click",{target:A,aria:y=y||{}})}var A,v,R=me.root;try{A=document.activeElement}catch{A=document.body}return v=R.getParentCtrl(A),R.on("keydown",function(y){function Z(oe,J){D(A)||"slider"!==U(A)&&!1!==J(oe)&&oe.preventDefault()}if(!y.isDefaultPrevented())switch(y.keyCode){case 37:Z(y,H);break;case 39:Z(y,q);break;case 38:Z(y,O);break;case 40:Z(y,$);break;case 27:re();break;case 14:case 13:case 32:Z(y,N);break;case 9:!1!==function F(y){if("tablist"==z()){var oe=w(v.getEl("body"))[0];oe&&oe.focus()}else E(y.shiftKey?-1:1)}(y)&&y.preventDefault()}}),R.on("focusin",function(y){A=y.target,v=y.control}),{focusFirst:function j(y){var Z=M(y),oe=w(Z.getEl());P(Z.settings.ariaRemember&&"lastAriaIndex"in Z?Z.lastAriaIndex:0,oe)}}}}),xe(Ki,[$i,En,kn,li,pr,Y,ae,hi,Fi],function(me,ie,U,z,C,D,_,w,M){var j={};return me.extend({init:function(P){var E=this;E._super(P),(P=E.settings).fixed&&E.state.set("fixed",!0),E._items=new ie,E.isRtl()&&E.classes.add("rtl"),E.bodyClasses=new w(function(){E.state.get("rendered")&&(E.getEl("body").className=this.toString())}),E.bodyClasses.prefix=E.classPrefix,E.classes.add("container"),E.bodyClasses.add("container-body"),P.containerCls&&E.classes.add(P.containerCls),E._layout=z.create((P.layout||"")+"layout"),E.add(E.settings.items?E.settings.items:E.render()),E._hasBody=!0},items:function(){return this._items},find:function(P){return(P=j[P]=j[P]||new U(P)).find(this)},add:function(P){var E=this;return E.items().add(E.create(P)).parent(E),E},focus:function(P){var H,q,O,E=this;return P&&(q=E.keyboardNav||E.parents().eq(-1)[0].keyboardNav)?void q.focusFirst(E):(O=E.find("*"),E.statusbar&&O.add(E.statusbar.items()),O.each(function($){return $.settings.autofocus?(H=null,!1):void($.canFocus&&(H=H||$))}),H&&H.focus(),E)},replace:function(P,E){for(var H,q=this.items(),O=q.length;O--;)if(q[O]===P){q[O]=E;break}O>=0&&((H=E.getEl())&&H.parentNode.removeChild(H),(H=P.getEl())&&H.parentNode.removeChild(H)),E.parent(this)},create:function(P){var H,E=this,q=[];return D.isArray(P)||(P=[P]),D.each(P,function(O){O&&(O instanceof me||("string"==typeof O&&(O={type:O}),H=D.extend({},E.settings.defaults,O),O.type=H.type=H.type||O.type||E.settings.defaultType||(H.defaults?H.defaults.type:null),O=z.create(H)),q.push(O))}),q},renderNew:function(){var P=this;return P.items().each(function(E,H){var q;E.parent(P),E.state.get("rendered")||((q=P.getEl("body")).hasChildNodes()&&H<=q.childNodes.length-1?_(q.childNodes[H]).before(E.renderHtml()):_(q).append(E.renderHtml()),E.postRender(),M.add(E))}),P._layout.applyClasses(P.items().filter(":visible")),P._lastRect=null,P},append:function(P){return this.add(P).renderNew()},prepend:function(P){var E=this;return E.items().set(E.create(P).concat(E.items().toArray())),E.renderNew()},insert:function(P,E,H){var O,$,F,q=this;return P=q.create(P),O=q.items(),!H&&E<O.length-1&&(E+=1),E>=0&&E<O.length&&($=O.slice(0,E).toArray(),F=O.slice(E).toArray(),O.set($.concat(P,F))),q.renderNew()},fromJSON:function(P){for(var H in P)this.find("#"+H).value(P[H]);return this},toJSON:function(){var E={};return this.find("*").each(function(H){var q=H.name(),O=H.value();q&&typeof O<"u"&&(E[q]=O)}),E},renderHtml:function(){var P=this,E=P._layout,H=this.settings.role;return P.preRender(),E.preRender(P),'<div id="'+P._id+'" class="'+P.classes+'"'+(H?' role="'+this.settings.role+'"':"")+'><div id="'+P._id+'-body" class="'+P.bodyClasses+'">'+(P.settings.html||"")+E.renderHtml(P)+"</div></div>"},postRender:function(){var E,P=this;return P.items().exec("postRender"),P._super(),P._layout.postRender(P),P.state.set("rendered",!0),P.settings.style&&P.$el.css(P.settings.style),P.settings.border&&P.$el.css({"border-top-width":(E=P.borderBox).top,"border-right-width":E.right,"border-bottom-width":E.bottom,"border-left-width":E.left}),P.parent()||(P.keyboardNav=new C({root:P})),P},initLayoutRect:function(){var P=this,E=P._super();return P._layout.recalc(P),E},recalc:function(){var P=this,E=P._layoutRect,H=P._lastRect;if(!H||H.w!=E.w||H.h!=E.h)return P._layout.recalc(P),E=P.layoutRect(),P._lastRect={x:E.x,y:E.y,w:E.w,h:E.h},!0},reflow:function(){var P;if(M.remove(this),this.visible()){for(me.repaintControls=[],me.repaintControls.map={},this.recalc(),P=me.repaintControls.length;P--;)me.repaintControls[P].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),me.repaintControls=[]}return this}})}),xe(vr,[ae],function(me){function U(z){var C,D;if(z.changedTouches)for(C="screenX screenY pageX pageY clientX clientY".split(" "),D=0;D<C.length;D++)z[C[D]]=z.changedTouches[0][C[D]]}return function(z,C){function D(){return w.getElementById(C.handle||z)}var _,M,j,P,E,H,q,w=C.document||document;C=C||{},j=function(O){var F,re,$=function ie(z){var C,D,_,w,M,j,P,H=Math.max;return _=H((C=z.documentElement).scrollWidth,(D=z.body).scrollWidth),w=H(C.clientWidth,D.clientWidth),M=H(C.offsetWidth,D.offsetWidth),j=H(C.scrollHeight,D.scrollHeight),P=H(C.clientHeight,D.clientHeight),{width:_<M?w:_,height:j<H(C.offsetHeight,D.offsetHeight)?P:j}}(w);U(O),O.preventDefault(),M=O.button,F=D(),H=O.screenX,q=O.screenY,re=window.getComputedStyle?window.getComputedStyle(F,null).getPropertyValue("cursor"):F.runtimeStyle.cursor,_=me("<div></div>").css({position:"absolute",top:0,left:0,width:$.width,height:$.height,zIndex:2147483647,opacity:1e-4,cursor:re}).appendTo(w.body),me(w).on("mousemove touchmove",E).on("mouseup touchend",P),C.start(O)},E=function(O){return U(O),O.button!==M?P(O):(O.deltaX=O.screenX-H,O.deltaY=O.screenY-q,O.preventDefault(),void C.drag(O))},P=function(O){U(O),me(w).off("mousemove touchmove",E).off("mouseup touchend",P),_.remove(),C.stop&&C.stop(O)},this.destroy=function(){me(D()).off()},me(D()).on("mousedown touchstart",j)}}),xe(ur,[ae,vr],function(me,ie){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function U(){function _(P,E,H,q,O,$){var F,re,N,R,v,y,Z,oe;if(re=C.getEl("scroll"+P)){if(Z=E.toLowerCase(),oe=H.toLowerCase(),me(C.getEl("absend")).css(Z,C.layoutRect()[q]-1),!O)return void me(re).css("display","none");me(re).css("display","block"),F=C.getEl("body"),N=C.getEl("scroll"+P+"t"),R=F["client"+H]-2*D,v=(R-=w&&M?re["client"+$]:0)/F["scroll"+H],(y={})[Z]=F["offset"+E]+D,y[oe]=R,me(re).css(y),(y={})[Z]=F["scroll"+E]*v,y[oe]=R*v,me(N).css(y)}}var w,M,j;j=C.getEl("body"),M=j.scrollHeight>j.clientHeight,_("h","Left","Width","contentW",w=j.scrollWidth>j.clientWidth,"Height"),_("v","Top","Height","contentH",M,"Width")}var C=this,D=2;C.settings.autoScroll&&(C._hasScroll||(C._hasScroll=!0,function z(){function _(w,M,j,P,E){var H,q=C._id+"-scroll"+w,O=C.classPrefix;me(C.getEl()).append('<div id="'+q+'" class="'+O+"scrollbar "+O+"scrollbar-"+w+'"><div id="'+q+'t" class="'+O+'scrollbar-thumb"></div></div>'),C.draghelper=new ie(q+"t",{start:function(){H=C.getEl("body")["scroll"+M],me("#"+q).addClass(O+"active")},drag:function($){var F,re,N,R,A=C.layoutRect();re=A.contentW>A.innerW,N=A.contentH>A.innerH,R=C.getEl("body")["client"+j]-2*D,F=(R-=re&&N?C.getEl("scroll"+w)["client"+E]:0)/C.getEl("body")["scroll"+j],C.getEl("body")["scroll"+M]=H+$["delta"+P]/F},stop:function(){me("#"+q).removeClass(O+"active")}})}C.classes.add("scroll"),_("v","Top","Height","Y","Width"),_("h","Left","Width","X","Height")}(),C.on("wheel",function(_){var w=C.getEl("body");w.scrollLeft+=10*(_.deltaX||0),w.scrollTop+=10*_.deltaY,U()}),me(C.getEl("body")).on("scroll",U)),U())}}}),xe(Qi,[Ki,ur],function(me,ie){return me.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[ie],renderHtml:function(){var U=this,z=U._layout,C=U.settings.html;return U.preRender(),z.preRender(U),typeof C>"u"?C='<div id="'+U._id+'-body" class="'+U.bodyClasses+'">'+z.renderHtml(U)+"</div>":("function"==typeof C&&(C=C.call(U)),U._hasBody=!1),'<div id="'+U._id+'" class="'+U.classes+'" hidefocus="1" tabindex="-1" role="group">'+(U._preBodyHtml||"")+C+"</div>"}})}),xe(eo,[Wn],function(me){function ie(U,z,C){var D,_,w,M,j,P,E,H,q,O;return q=me.getViewPort(),w=(_=me.getPos(z)).x,M=_.y,U.state.get("fixed")&&"static"==me.getRuntimeStyle(document.body,"position")&&(w-=q.x,M-=q.y),D=U.getEl(),j=(O=me.getSize(D)).width,P=O.height,E=(O=me.getSize(z)).width,H=O.height,"b"===(C=(C||"").split(""))[0]&&(M+=H),"r"===C[1]&&(w+=E),"c"===C[0]&&(M+=Math.round(H/2)),"c"===C[1]&&(w+=Math.round(E/2)),"b"===C[3]&&(M-=P),"r"===C[4]&&(w-=j),"c"===C[3]&&(M-=Math.round(P/2)),"c"===C[4]&&(w-=Math.round(j/2)),{x:w,y:M,w:j,h:P}}return{testMoveRel:function(U,z){for(var C=me.getViewPort(),D=0;D<z.length;D++){var _=ie(this,U,z[D]);if(this.state.get("fixed")){if(_.x>0&&_.x+_.w<C.w&&_.y>0&&_.y+_.h<C.h)return z[D]}else if(_.x>C.x&&_.x+_.w<C.w+C.x&&_.y>C.y&&_.y+_.h<C.h+C.y)return z[D]}return z[0]},moveRel:function(U,z){"string"!=typeof z&&(z=this.testMoveRel(U,z));var C=ie(this,U,z);return this.moveTo(C.x,C.y)},moveBy:function(U,z){var C=this,D=C.layoutRect();return C.moveTo(D.x+U,D.y+z),C},moveTo:function(U,z){function C(M,j,P){return M<0||M+P>j&&(M=j-P)<0?0:M}var D=this;if(D.settings.constrainToViewport){var _=me.getViewPort(window),w=D.layoutRect();U=C(U,_.w+_.x,w.w),z=C(z,_.h+_.y,w.h)}return D.state.get("rendered")?D.layoutRect({x:U,y:z}).repaint():(D.settings.x=U,D.settings.y=z),D.fire("move",{x:U,y:z}),D}}}),xe(Bi,[Wn],function(me){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(ie,U){if(ie<=1||U<=1){var z=me.getWindowSize();ie=ie<=1?ie*z.w:ie,U=U<=1?U*z.h:U}return this._layoutRect.autoResize=!1,this.layoutRect({minW:ie,minH:U,w:ie,h:U}).reflow()},resizeBy:function(ie,U){var C=this.layoutRect();return this.resizeTo(C.w+ie,C.h+U)}}}),xe(Hr,[Qi,eo,Bi,Wn,ae,I],function(me,ie,U,z,C,D){function _(v,y){for(;v;){if(v==y)return!0;v=v.parent()}}function E(v){function y(oe,J){for(var fe,_e=0;_e<re.length;_e++)if(re[_e]!=v)for(fe=re[_e].parent();fe&&(fe=fe.parent());)fe==v&&re[_e].fixed(oe).moveBy(0,J).repaint()}var Z=z.getViewPort().y;v.settings.autofix&&(v.state.get("fixed")?v._autoFixY>Z&&(v.fixed(!1).layoutRect({y:v._autoFixY}).repaint(),y(!1,v._autoFixY-Z)):(v._autoFixY=v.layoutRect().y,v._autoFixY<Z&&(v.fixed(!0).layoutRect({y:0}).repaint(),y(!0,Z-v._autoFixY))))}function H(v,y){var Z,J,oe=A.zIndex||65535;if(v)N.push(y);else for(Z=N.length;Z--;)N[Z]===y&&N.splice(Z,1);if(N.length)for(Z=0;Z<N.length;Z++)N[Z].modal&&(oe++,J=N[Z]),N[Z].getEl().style.zIndex=oe,N[Z].zIndex=oe,oe++;var fe=C("#"+y.classPrefix+"modal-block",y.getContainerElm())[0];J?C(fe).css("z-index",J.zIndex-1):fe&&(fe.parentNode.removeChild(fe),R=!1),A.currentZIndex=oe}function q(v){var y;for(y=re.length;y--;)re[y]===v&&re.splice(y,1);for(y=N.length;y--;)N[y]===v&&N.splice(y,1)}var O,$,F,R,re=[],N=[],A=me.extend({Mixins:[ie,U],init:function(v){var y=this;y._super(v),y._eventsRoot=y,y.classes.add("floatpanel"),v.autohide&&(function M(){O||(O=function(v){2!=v.button&&function w(v){for(var y=re.length;y--;){var Z=re[y],oe=Z.getParentCtrl(v.target);if(Z.settings.autohide){if(oe&&(_(oe,Z)||Z.parent()===oe))continue;(v=Z.fire("autohide",{target:v.target})).isDefaultPrevented()||Z.hide()}}}(v)},C(document).on("click touchstart",O))}(),function P(){if(!F){var v=document.documentElement,y=v.clientWidth,Z=v.clientHeight;F=function(){document.all&&y==v.clientWidth&&Z==v.clientHeight||(y=v.clientWidth,Z=v.clientHeight,A.hideAll())},C(window).on("resize",F)}}(),re.push(y)),v.autofix&&(function j(){$||($=function(){var v;for(v=re.length;v--;)E(re[v])},C(window).on("scroll",$))}(),y.on("move",function(){E(this)})),y.on("postrender show",function(Z){if(Z.control==y){var oe,J=y.classPrefix;y.modal&&!R&&((oe=C("#"+J+"modal-block",y.getContainerElm()))[0]||(oe=C('<div id="'+J+'modal-block" class="'+J+"reset "+J+'fade"></div>').appendTo(y.getContainerElm())),D.setTimeout(function(){oe.addClass(J+"in"),C(y.getEl()).addClass(J+"in")}),R=!0),H(!0,y)}}),y.on("show",function(){y.parents().each(function(Z){if(Z.state.get("fixed"))return y.fixed(!0),!1})}),v.popover&&(y._preBodyHtml='<div class="'+y.classPrefix+'arrow"></div>',y.classes.add("popover").add("bottom").add(y.isRtl()?"end":"start")),y.aria("label",v.ariaLabel),y.aria("labelledby",y._id),y.aria("describedby",y.describedBy||y._id+"-none")},fixed:function(v){var y=this;if(y.state.get("fixed")!=v){if(y.state.get("rendered")){var Z=z.getViewPort();v?y.layoutRect().y-=Z.y:y.layoutRect().y+=Z.y}y.classes.toggle("fixed",v),y.state.set("fixed",v)}return y},show:function(){var y,v=this,Z=v._super();for(y=re.length;y--&&re[y]!==v;);return-1===y&&re.push(v),Z},hide:function(){return q(this),H(!1,this),this._super()},hideAll:function(){A.hideAll()},close:function(){var v=this;return v.fire("close").isDefaultPrevented()||(v.remove(),H(!1,v)),v},remove:function(){q(this),this._super()},postRender:function(){var v=this;return v.settings.bodyRole&&this.getEl("body").setAttribute("role",v.settings.bodyRole),v._super()}});return A.hideAll=function(){for(var v=re.length;v--;){var y=re[v];y&&y.settings.autohide&&(y.hide(),re.splice(v,1))}},A}),xe(Da,[Hr,Qi,Wn,ae,vr,Yn,G,I],function(me,ie,U,z,C,D,_,w){function M($){var N,re=z("meta[name=viewport]")[0];!1!==_.overrideViewPort&&(re||((re=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(re)),(N=re.getAttribute("content"))&&typeof q<"u"&&(q=N),re.setAttribute("content",$?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":q))}var H=[],q="",O=me.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function($){var F=this;F._super($),F.isRtl()&&F.classes.add("rtl"),F.classes.add("window"),F.bodyClasses.add("window-body"),F.state.set("fixed",!0),$.buttons&&(F.statusbar=new ie({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:F.isRtl()?"start":"end",defaults:{type:"button"},items:$.buttons}),F.statusbar.classes.add("foot"),F.statusbar.parent(F)),F.on("click",function(re){var N=F.classPrefix+"close";(U.hasClass(re.target,N)||U.hasClass(re.target.parentNode,N))&&F.close()}),F.on("cancel",function(){F.close()}),F.aria("describedby",F.describedBy||F._id+"-none"),F.aria("label",$.title),F._fullscreen=!1},recalc:function(){var re,N,R,A,$=this,F=$.statusbar;$._fullscreen&&($.layoutRect(U.getWindowSize()),$.layoutRect().contentH=$.layoutRect().innerH),$._super(),re=$.layoutRect(),$.settings.title&&!$._fullscreen&&(N=re.headerW)>re.w&&(R=re.x-Math.max(0,N/2),$.layoutRect({w:N,x:R}),A=!0),F&&(F.layoutRect({w:$.layoutRect().innerW}).recalc(),(N=F.layoutRect().minW+re.deltaW)>re.w&&(R=re.x-Math.max(0,N-re.w),$.layoutRect({w:N,x:R}),A=!0)),A&&$.recalc()},initLayoutRect:function(){var N,$=this,F=$._super(),re=0;if($.settings.title&&!$._fullscreen){N=$.getEl("head");var R=U.getSize(N);F.headerW=R.width,F.headerH=R.height,re+=F.headerH}$.statusbar&&(re+=$.statusbar.layoutRect().h),F.deltaH+=re,F.minH+=re,F.h+=re;var A=U.getWindowSize();return F.x=$.settings.x||Math.max(0,A.w/2-F.w/2),F.y=$.settings.y||Math.max(0,A.h/2-F.h/2),F},renderHtml:function(){var $=this,F=$._layout,re=$._id,N=$.classPrefix,R=$.settings,A="",v="",y=R.html;return $.preRender(),F.preRender($),R.title&&(A='<div id="'+re+'-head" class="'+N+'window-head"><div id="'+re+'-title" class="'+N+'title">'+$.encode(R.title)+'</div><div id="'+re+'-dragh" class="'+N+'dragh"></div><button type="button" class="'+N+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),R.url&&(y='<iframe src="'+R.url+'" tabindex="-1"></iframe>'),typeof y>"u"&&(y=F.renderHtml($)),$.statusbar&&(v=$.statusbar.renderHtml()),'<div id="'+re+'" class="'+$.classes+'" hidefocus="1"><div class="'+$.classPrefix+'reset" role="application">'+A+'<div id="'+re+'-body" class="'+$.bodyClasses+'">'+y+"</div>"+v+"</div></div>"},fullscreen:function($){var N,A,F=this,re=document.documentElement,R=F.classPrefix;if($!=F._fullscreen)if(z(window).on("resize",function(){var y;if(F._fullscreen)if(N)F._timer||(F._timer=w.setTimeout(function(){var oe=U.getWindowSize();F.moveTo(0,0).resizeTo(oe.w,oe.h),F._timer=0},50));else{y=(new Date).getTime();var Z=U.getWindowSize();F.moveTo(0,0).resizeTo(Z.w,Z.h),(new Date).getTime()-y>50&&(N=!0)}}),A=F.layoutRect(),F._fullscreen=$,$){F._initial={x:A.x,y:A.y,w:A.w,h:A.h},F.borderBox=D.parseBox("0"),F.getEl("head").style.display="none",A.deltaH-=A.headerH+2,z([re,document.body]).addClass(R+"fullscreen"),F.classes.add("fullscreen");var v=U.getWindowSize();F.moveTo(0,0).resizeTo(v.w,v.h)}else F.borderBox=D.parseBox(F.settings.border),F.getEl("head").style.display="",A.deltaH+=A.headerH,z([re,document.body]).removeClass(R+"fullscreen"),F.classes.remove("fullscreen"),F.moveTo(F._initial.x,F._initial.y).resizeTo(F._initial.w,F._initial.h);return F.reflow()},postRender:function(){var F,$=this;setTimeout(function(){$.classes.add("in"),$.fire("open")},0),$._super(),$.statusbar&&$.statusbar.postRender(),$.focus(),this.dragHelper=new C($._id+"-dragh",{start:function(){F={x:$.layoutRect().x,y:$.layoutRect().y}},drag:function(re){$.moveTo(F.x+re.deltaX,F.y+re.deltaY)}}),$.on("submit",function(re){re.isDefaultPrevented()||$.close()}),H.push($),M(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var F,$=this;for($.dragHelper.destroy(),$._super(),$.statusbar&&this.statusbar.remove(),function j($,F){(function P(){for(var $=0;$<H.length;$++)if(H[$]._fullscreen)return!0;return!1})()&&!1===F&&z([document.documentElement,document.body]).removeClass($+"fullscreen")}($.classPrefix,!1),F=H.length;F--;)H[F]===$&&H.splice(F,1);M(H.length>0)},getContentWindow:function(){var $=this.getEl().getElementsByTagName("iframe")[0];return $?$.contentWindow:null}});return function E(){if(!_.desktop){var F={w:window.innerWidth,h:window.innerHeight};w.setInterval(function(){var re=window.innerWidth,N=window.innerHeight;F.w==re&&F.h==N||(F={w:re,h:N},z(window).trigger("resize"))},100)}z(window).on("resize",function $(){var re,R,N=U.getWindowSize();for(re=0;re<H.length;re++)R=H[re].layoutRect(),H[re].moveTo(H[re].settings.x||Math.max(0,N.w/2-R.w/2),H[re].settings.y||Math.max(0,N.h/2-R.h/2))})}(),O}),xe(Ft,[Da],function(me){var ie=me.extend({init:function(U){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(U){function z(_,w,M){return{type:"button",text:_,subtype:M?"primary":"",onClick:function(j){j.control.parents()[1].close(),D(w)}}}var C,D=U.callback||function(){};switch(U.buttons){case ie.OK_CANCEL:C=[z("Ok",!0,!0),z("Cancel",!1)];break;case ie.YES_NO:case ie.YES_NO_CANCEL:C=[z("Yes",1,!0),z("No",0)],U.buttons==ie.YES_NO_CANCEL&&C.push(z("Cancel",-1));break;default:C=[z("Ok",!0,!0)]}return new me({padding:20,x:U.x,y:U.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:C,title:U.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:U.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:U.onClose,onCancel:function(){D(!1)}}).renderTo(document.body).reflow()},alert:function(U,z){return"string"==typeof U&&(U={text:U}),U.callback=z,ie.msgBox(U)},confirm:function(U,z){return"string"==typeof U&&(U={text:U}),U.callback=z,U.buttons=ie.OK_CANCEL,ie.msgBox(U)}}});return ie}),xe(tn,[Da,Ft],function(me,ie){return function(U){function z(){if(w.length)return w[w.length-1]}function C(M){U.fire("OpenWindow",{win:M})}function D(M){U.fire("CloseWindow",{win:M})}var _=this,w=[];_.windows=w,U.on("remove",function(){for(var M=w.length;M--;)w[M].close()}),_.open=function(M,j){var P;return U.editorManager.setActive(U),M.title=M.title||" ",M.url=M.url||M.file,M.url&&(M.width=parseInt(M.width||320,10),M.height=parseInt(M.height||240,10)),M.body&&(M.items={defaults:M.defaults,type:M.bodyType||"form",items:M.body,data:M.data,callbacks:M.commands}),M.url||M.buttons||(M.buttons=[{text:"Ok",subtype:"primary",onclick:function(){P.find("form")[0].submit()}},{text:"Cancel",onclick:function(){P.close()}}]),P=new me(M),w.push(P),P.on("close",function(){for(var E=w.length;E--;)w[E]===P&&w.splice(E,1);w.length||U.focus(),D(P)}),M.data&&P.on("postRender",function(){this.find("*").each(function(E){var H=E.name();H in M.data&&E.value(M.data[H])})}),P.features=M||{},P.params=j||{},1===w.length&&U.nodeChanged(),C(P=P.renderTo().reflow()),P},_.alert=function(M,j,P){var E;(E=ie.alert(M,function(){j?j.call(P||this):U.focus()})).on("close",function(){D(E)}),C(E)},_.confirm=function(M,j,P){var E;(E=ie.confirm(M,function(H){j.call(P||this,H)})).on("close",function(){D(E)}),C(E)},_.close=function(){z()&&z().close()},_.getParams=function(){return z()?z().params:null},_.setParams=function(M){z()&&(z().params=M)},_.getWindows=function(){return w}}}),xe(Mn,[$i,eo],function(me,ie){return me.extend({Mixins:[ie],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var U=this,z=U.classPrefix;return'<div id="'+U._id+'" class="'+U.classes+'" role="presentation"><div class="'+z+'tooltip-arrow"></div><div class="'+z+'tooltip-inner">'+U.encode(U.state.get("text"))+"</div></div>"},bindStates:function(){var U=this;return U.state.on("change:text",function(z){U.getEl().lastChild.innerHTML=U.encode(z.value)}),U._super()},repaint:function(){var z,C;(z=this.getEl().style).left=(C=this._layoutRect).x+"px",z.top=C.y+"px",z.zIndex=131070}})}),xe(vn,[$i,Mn],function(me,ie){var U,z=me.extend({init:function(C){var D=this;D._super(C),C=D.settings,D.canFocus=!0,C.tooltip&&!1!==z.tooltips&&(D.on("mouseenter",function(_){var w=D.tooltip().moveTo(-65535);if(_.control==D){var M=w.text(C.tooltip).show().testMoveRel(D.getEl(),["bc-tc","bc-tl","bc-tr"]);w.classes.toggle("tooltip-n","bc-tc"==M),w.classes.toggle("tooltip-nw","bc-tl"==M),w.classes.toggle("tooltip-ne","bc-tr"==M),w.moveRel(D.getEl(),M)}else w.hide()}),D.on("mouseleave mousedown click",function(){D.tooltip().hide()})),D.aria("label",C.ariaLabel||C.tooltip)},tooltip:function(){return U||(U=new ie({type:"tooltip"})).renderTo(),U},postRender:function(){var C=this,D=C.settings;C._super(),C.parent()||!D.width&&!D.height||(C.initLayoutRect(),C.repaint()),D.autofocus&&C.focus()},bindStates:function(){function C(w){_.aria("disabled",w),_.classes.toggle("disabled",w)}function D(w){_.aria("pressed",w),_.classes.toggle("active",w)}var _=this;return _.state.on("change:disabled",function(w){C(w.value)}),_.state.on("change:active",function(w){D(w.value)}),_.state.get("disabled")&&C(!0),_.state.get("active")&&D(!0),_._super()},remove:function(){this._super(),U&&(U.remove(),U=null)}});return z}),xe(Rn,[vn],function(me){return me.extend({Defaults:{value:0},init:function(ie){var U=this;U._super(ie),U.classes.add("progress"),U.settings.filter||(U.settings.filter=function(z){return Math.round(z)})},renderHtml:function(){var z=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+z+'bar-container"><div class="'+z+'bar"></div></div><div class="'+z+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function ie(z){z=U.settings.filter(z),U.getEl().lastChild.innerHTML=z+"%",U.getEl().firstChild.firstChild.style.width=z+"%"}var U=this;return U.state.on("change:value",function(z){ie(z.value)}),ie(U.state.get("value")),U._super()}})}),xe(Jn,[$i,eo,Rn,I],function(me,ie,U,z){return me.extend({Mixins:[ie],Defaults:{classes:"widget notification"},init:function(C){var D=this;D._super(C),C.text&&D.text(C.text),C.icon&&(D.icon=C.icon),C.color&&(D.color=C.color),C.type&&D.classes.add("notification-"+C.type),C.timeout&&(C.timeout<0||C.timeout>0)&&!C.closeButton?D.closeButton=!1:(D.classes.add("has-close"),D.closeButton=!0),C.progressBar&&(D.progressBar=new U),D.on("click",function(_){-1!=_.target.className.indexOf(D.classPrefix+"close")&&D.close()})},renderHtml:function(){var C=this,D=C.classPrefix,_="",w="",M="",j="";return C.icon&&(_='<i class="'+D+"ico "+D+"i-"+C.icon+'"></i>'),C.color&&(j=' style="background-color: '+C.color+'"'),C.closeButton&&(w='<button type="button" class="'+D+'close" aria-hidden="true">\xd7</button>'),C.progressBar&&(M=C.progressBar.renderHtml()),'<div id="'+C._id+'" class="'+C.classes+'"'+j+' role="presentation">'+_+'<div class="'+D+'notification-inner">'+C.state.get("text")+"</div>"+M+w+"</div>"},postRender:function(){var C=this;return z.setTimeout(function(){C.$el.addClass(C.classPrefix+"in")}),C._super()},bindStates:function(){var C=this;return C.state.on("change:text",function(D){C.getEl().childNodes[1].innerHTML=D.value}),C.progressBar&&C.progressBar.bindStates(),C._super()},close:function(){var C=this;return C.fire("close").isDefaultPrevented()||C.remove(),C},repaint:function(){var D,_;(D=this.getEl().style).left=(_=this._layoutRect).x+"px",D.top=_.y+"px",D.zIndex=65534}})}),xe(ei,[Jn,I,Y],function(me,ie,U){return function(z){function C(){if(H.length)return H[H.length-1]}function w(){if(H.length>0){var q=H.slice(0,1)[0],O=z.inline?z.getElement():z.getContentAreaContainer();if(q.moveRel(O,"tc-tc"),H.length>1)for(var $=1;$<H.length;$++)H[$].moveRel(H[$-1].getEl(),"bc-tc")}}var E=this,H=[];E.notifications=H,z.on("remove",function(){for(var q=H.length;q--;)H[q].close()}),z.on("ResizeEditor",w),z.on("ResizeWindow",function D(){ie.requestAnimationFrame(function(){(function _(){for(var q=0;q<H.length;q++)H[q].moveTo(0,0)})(),w()})}),E.open=function(q){if(!z.removed){var O;z.editorManager.setActive(z);var $=function M(q,O){if(!function P(q){return!q.progressBar&&!q.timeout}(O))return null;var $=U.grep(q,function(F){return function j(q,O){return q.type===O.settings.type&&q.text===O.settings.text}(O,F)});return 0===$.length?null:$[0]}(H,q);return null===$?(O=new me(q),H.push(O),q.timeout>0&&(O.timer=setTimeout(function(){O.close()},q.timeout)),O.on("close",function(){var F=H.length;for(O.timer&&z.getWin().clearTimeout(O.timer);F--;)H[F]===O&&H.splice(F,1);w()}),O.renderTo(),w()):O=$,O}},E.close=function(){C()&&C().close()},E.getNotifications=function(){return H},z.on("SkinLoaded",function(){var q=z.settings.service_message;q&&z.notificationManager.open({text:q,type:"warning",timeout:0,icon:""})})}}),xe(ti,[ve],function(me){return{create:function ie(z,C,D){for(var _=[];C&&C!=z;C=C.parentNode)_.push(me.nodeIndex(C,D));return _},resolve:function U(z,C){var D,_,w;for(_=z,D=C.length-1;D>=0;D--){if(C[D]>(w=_.childNodes).length-1)return null;_=w[C[D]]}return _}}}),xe(ii,[Yt,Me,ne,ti,Be,we,G,Y,I,ee,yn,Dn],function(me,ie,U,z,C,D,_,w,M,j,P,E){return function(H){function q(Ut,ln){try{H.getDoc().execCommand(Ut,!1,ln)}catch{}}function O(){return H.getDoc().documentMode||6}function $(Ut){return Ut.isDefaultPrevented()}function F(Ut){var ln,mt;Ut.dataTransfer&&(H.selection.isCollapsed()&&"IMG"==Ut.target.tagName&&Tn.select(Ut.target),(ln=H.selection.getContent()).length>0&&(mt=wi+escape(H.id)+","+escape(ln),Ut.dataTransfer.setData(Ci,mt)))}function re(Ut){var ln;return Ut.dataTransfer&&(ln=Ut.dataTransfer.getData(Ci))&&ln.indexOf(wi)>=0?(ln=ln.substr(wi.length).split(","),{id:unescape(ln[0]),html:unescape(ln[1])}):null}function N(Ut){H.queryCommandSupported("mceInsertClipboardContent")?H.execCommand("mceInsertClipboardContent",!1,{content:Ut}):H.execCommand("mceInsertContent",!1,Ut)}function v(){H.shortcuts.add("meta+a",null,"SelectAll")}function Z(){H.on("keydown",function(Ut){if(!$(Ut)&&Ut.keyCode===It){if(!H.getBody().getElementsByTagName("hr").length)return;if(Tn.isCollapsed()&&0===Tn.getRng(!0).startOffset){var ln=Tn.getNode(),mt=ln.previousSibling;if("HR"==ln.nodeName)return Ot.remove(ln),void Ut.preventDefault();mt&&mt.nodeName&&"hr"===mt.nodeName.toLowerCase()&&(Ot.remove(mt),Ut.preventDefault())}}})}function Ve(){H.on("keydown",function(Ut){if(!$(Ut)&&Ut.keyCode===It&&Tn.isCollapsed()&&0===Tn.getRng(!0).startOffset){var ln=Tn.getNode().previousSibling;if(ln&&ln.nodeName&&"table"===ln.nodeName.toLowerCase())return Ut.preventDefault(),!1}})}function Kt(){H.inline||(H.contentStyles.push("body {min-height: 150px}"),H.on("click",function(Ut){var ln;if("HTML"==Ut.target.nodeName){if(_.ie>11)return void H.getBody().focus();ln=H.selection.getRng(),H.getBody().focus(),H.selection.setRng(ln),H.selection.normalize(),H.nodeChanged()}}))}function _t(){function Ut(ln){var mt=new E(ln.getBody()),Nt=ln.selection.getRng(),Ln=P.fromRangeStart(Nt),wn=P.fromRangeEnd(Nt),Fn=mt.prev(Ln),rt=mt.next(wn);return!ln.selection.isCollapsed()&&(!Fn||Fn.isAtStart()&&Ln.isEqual(Fn))&&(!rt||rt.isAtEnd()&&Ln.isEqual(rt))}H.on("keypress",function(ln){!$(ln)&&!Tn.isCollapsed()&&ln.charCode>31&&!me.metaKeyPressed(ln)&&Ut(H)&&(ln.preventDefault(),H.setContent(String.fromCharCode(ln.charCode)),H.selection.select(H.getBody(),!0),H.selection.collapse(!1),H.nodeChanged())}),H.on("keydown",function(ln){var mt=ln.keyCode;$(ln)||mt!=Dt&&mt!=It||Ut(H)&&(ln.preventDefault(),H.setContent(""),H.nodeChanged())})}var ct=w.each,Lt=H.$,It=me.BACKSPACE,Dt=me.DELETE,Ot=H.dom,Tn=H.selection,qn=H.settings,ri=H.parser,pi=H.serializer,ai=_.gecko,oi=_.ie,ki=_.webkit,wi="data:text/mce-internal,",Ci=oi?"Text":"URL";return function ze(){H.on("keydown",function(Ut){var ln,mt,Nt,Ln,wn;if(!$(Ut)&&Ut.keyCode==me.BACKSPACE&&(mt=(ln=Tn.getRng()).startContainer,Nt=ln.startOffset,Ln=Ot.getRoot(),wn=mt,ln.collapsed&&0===Nt)){for(;wn&&wn.parentNode&&wn.parentNode.firstChild==wn&&wn.parentNode!=Ln;)wn=wn.parentNode;"BLOCKQUOTE"===wn.tagName&&(H.formatter.toggle("blockquote",null,wn),(ln=Ot.createRng()).setStart(mt,0),ln.setEnd(mt,0),Tn.setRng(ln))}})}(),function A(){function Ut(mt){var Nt=Ot.create("body"),Ln=mt.cloneContents();return Nt.appendChild(Ln),Tn.serializer.serialize(Nt,{format:"html"})}H.on("keydown",function(mt){var Ln,wn,Nt=mt.keyCode;if(!$(mt)&&(Nt==Dt||Nt==It)){if(Ln=H.selection.isCollapsed(),wn=H.getBody(),Ln&&!Ot.isEmpty(wn)||!Ln&&!function ln(mt){if(!mt.setStart){if(mt.item)return!1;var Nt=mt.duplicate();return Nt.moveToElementText(H.getBody()),ie.compareRanges(mt,Nt)}var Ln=Ut(mt),wn=Ot.createRng();return wn.selectNode(H.getBody()),Ln===Ut(wn)}(H.selection.getRng()))return;mt.preventDefault(),H.setContent(""),wn.firstChild&&Ot.isBlock(wn.firstChild)?H.selection.setCursorLocation(wn.firstChild,0):H.selection.setCursorLocation(wn,0),H.nodeChanged()}})}(),_.windowsPhone||function nt(){H.on("keyup focusin mouseup",function(Ut){65==Ut.keyCode&&me.metaKeyPressed(Ut)||Tn.normalize()},!0)}(),ki&&(_t(),function R(){function Ut(Je){var Tt=We.schema.getBlockElements(),kt=H.getBody();if("BR"!=Je.nodeName)return!1;for(;Je!=kt&&!Tt[Je.nodeName];Je=Je.parentNode)if(Je.nextSibling)return!1;return!0}function ln(Je,Tt){var kt;for(kt=Je.nextSibling;kt&&kt!=Tt;kt=kt.nextSibling)if((3!=kt.nodeType||0!==Lt.trim(kt.data).length)&&kt!==Tt)return!1;return kt===Tt}function mt(Je,Tt,kt){var an,lt,Rt;if(We.isChildOf(Je,H.getBody()))for(Rt=We.schema.getNonEmptyElements(),an=new U(kt||Je,Je);lt=an[Tt?"next":"prev"]();)if(Rt[lt.nodeName]&&!Ut(lt)||3==lt.nodeType&&lt.data.length>0)return lt}function rt(Je){var Tt,kt,an;(function wn(Je){var Tt=st.getRng();if(Tt=function Ln(Je,Tt){var kt,an,lt,Rt,bt,Xt;if(!Je.collapsed)return Je;if(Xt=Je.startOffset,3==(bt=Je.startContainer).nodeType)if(Tt){if(Xt<bt.data.length)return Je}else if(Xt>0)return Je;kt=ie.getNode(bt,Xt),lt=We.getParent(kt,We.isBlock),an=mt(H.getBody(),Tt,kt),Rt=We.getParent(an,We.isBlock);var rn=1===bt.nodeType&&Xt>bt.childNodes.length-1;if(!kt||!an)return Je;if(Rt&&lt!=Rt)if(Tt){if(!ln(lt,Rt))return Je;1==kt.nodeType?"BR"==kt.nodeName?Je.setStartBefore(kt):Je.setStartAfter(kt):Je.setStart(kt,kt.data.length),1==an.nodeType?Je.setEnd(an,0):Je.setEndBefore(an)}else{if(!ln(Rt,lt))return Je;1==an.nodeType?"BR"==an.nodeName?Je.setStartBefore(an):Je.setStartAfter(an):Je.setStart(an,an.data.length),1==kt.nodeType&&rn?Je.setEndAfter(kt):Je.setEndBefore(kt)}return Je}(Tt,Je),function Nt(Je){var Tt,kt,an,lt,Rt;if(!Je.collapsed&&(Tt=We.getParent(ie.getNode(Je.startContainer,Je.startOffset),We.isBlock),kt=We.getParent(ie.getNode(Je.endContainer,Je.endOffset),We.isBlock),Rt=H.schema.getTextBlockElements(),Tt!=kt&&Rt[Tt.nodeName]&&Rt[kt.nodeName]&&"false"!==We.getContentEditable(Tt)&&"false"!==We.getContentEditable(kt)))return Je.deleteContents(),an=mt(Tt,!1),lt=mt(kt,!0),We.isEmpty(kt)||Lt(Tt).append(kt.childNodes),Lt(kt).remove(),an?1==an.nodeType?"BR"==an.nodeName?(Je.setStartBefore(an),Je.setEndBefore(an)):(Je.setStartAfter(an),Je.setEndAfter(an)):(Je.setStart(an,an.data.length),Je.setEnd(an,an.data.length)):lt&&(1==lt.nodeType?(Je.setStartBefore(lt),Je.setEndBefore(lt)):(Je.setStart(lt,0),Je.setEnd(lt,0))),st.setRng(Je),!0}(Tt))return!0})(Je)||(w.each(H.getBody().getElementsByTagName("*"),function(lt){"SPAN"==lt.tagName&&lt.setAttribute("mce-data-marked",1),!lt.hasAttribute("data-mce-style")&&lt.hasAttribute("style")&&H.dom.setAttrib(lt,"style",H.dom.getAttrib(lt,"style"))}),(Tt=new yt(function(){})).observe(H.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),H.getDoc().execCommand(Je?"ForwardDelete":"Delete",!1,null),kt=H.selection.getRng(),an=kt.startContainer.parentNode,w.each(Tt.takeRecords(),function(lt){if(We.isChildOf(lt.target,H.getBody())){if("style"==lt.attributeName){var Rt=lt.target.getAttribute("data-mce-style");Rt?lt.target.setAttribute("style",Rt):lt.target.removeAttribute("style")}w.each(lt.addedNodes,function(bt){var Xt,rn;"SPAN"!=bt.nodeName||bt.getAttribute("mce-data-marked")||(bt==an&&(Xt=kt.startOffset,rn=bt.firstChild),We.remove(bt,!0),rn&&(kt.setStart(rn,Xt),kt.setEnd(rn,Xt),H.selection.setRng(kt)))})}}),Tt.disconnect(),w.each(H.dom.select("span[mce-data-marked]"),function(lt){lt.removeAttribute("mce-data-marked")}))}function ft(Je){H.undoManager.transact(function(){rt(Je)})}var Bt,wt,Te=H.getDoc(),We=H.dom,st=H.selection,yt=window.MutationObserver;yt||(Bt=!0,yt=function(){function Je(lt){var Rt=lt.relatedNode||lt.target;kt.push({target:Rt,addedNodes:[Rt]})}function Tt(lt){kt.push({target:lt.relatedNode||lt.target,attributeName:lt.attrName})}var an,kt=[];this.observe=function(lt){(an=lt).addEventListener("DOMSubtreeModified",Je,!1),an.addEventListener("DOMNodeInsertedIntoDocument",Je,!1),an.addEventListener("DOMNodeInserted",Je,!1),an.addEventListener("DOMAttrModified",Tt,!1)},this.disconnect=function(){an.removeEventListener("DOMSubtreeModified",Je,!1),an.removeEventListener("DOMNodeInsertedIntoDocument",Je,!1),an.removeEventListener("DOMNodeInserted",Je,!1),an.removeEventListener("DOMAttrModified",Tt,!1)},this.takeRecords=function(){return kt}}),H.on("keydown",function(Je){var Tt=Je.keyCode==Dt,kt=Je.ctrlKey||Je.metaKey;if(!$(Je)&&(Tt||Je.keyCode==It)){var an=H.selection.getRng(),lt=an.startContainer,Rt=an.startOffset;if(Tt&&Je.shiftKey)return;if(function Fn(Je,Tt){function kt(Zn,On){return Pn=Lt(On).parents().filter(function(ci,Di){return!!H.schema.getTextInlineElements()[Di.nodeName]}),bt=Zn.cloneNode(!1),(Pn=w.map(Pn,function(ci){return ci=ci.cloneNode(!1),bt.hasChildNodes()&&ci.appendChild(bt.firstChild),bt.appendChild(ci),bt.appendChild(ci),ci})).length?(hn=We.create("br"),Pn[0].appendChild(hn),We.replace(bt,Zn),Tt.setStartBefore(hn),Tt.setEndBefore(hn),H.selection.setRng(Tt),hn):null}function an(Zn){return Zn&&H.schema.getTextBlockElements()[Zn.tagName]}var lt,Rt,bt,Xt,rn,$t,on,hn,Pn;if(Tt.collapsed&&(on=Tt.startOffset,an(Rt=We.getParent($t=Tt.startContainer,We.isBlock))))if(1==$t.nodeType){if(($t=$t.childNodes[on])&&"BR"!=$t.tagName)return;if(rn=Je?Rt.nextSibling:Rt.previousSibling,We.isEmpty(Rt)&&an(rn)&&We.isEmpty(rn)&&kt(Rt,$t))return We.remove(rn),!0}else if(3==$t.nodeType){if(lt=z.create(Rt,$t),Xt=Rt.cloneNode(!0),$t=z.resolve(Xt,lt),Je){if(on>=$t.data.length)return;$t.deleteData(on,1)}else{if(on<=0)return;$t.deleteData(on-1,1)}if(We.isEmpty(Xt))return kt(Rt,$t)}}(Tt,an))return void Je.preventDefault();if(!kt&&an.collapsed&&3==lt.nodeType&&(Tt?Rt<lt.data.length:Rt>0))return;Je.preventDefault(),kt&&H.selection.getSel().modify("extend",Tt?"forward":"backward",Je.metaKey?"lineboundary":"word"),rt(Tt)}}),H.on("keypress",function(Je){var Tt,kt,an,lt,Rt,bt;!$(Je)&&!st.isCollapsed()&&Je.charCode>31&&!me.metaKeyPressed(Je)&&(Tt=H.selection.getRng(),bt=String.fromCharCode(Je.charCode),Je.preventDefault(),kt=Lt(Tt.startContainer).parents().filter(function(Xt,rn){return!!H.schema.getTextInlineElements()[rn.nodeName]}),rt(!0),(kt=kt.filter(function(Xt,rn){return!Lt.contains(H.getBody(),rn)})).length?(an=We.createFragment(),kt.each(function(Xt,rn){rn=rn.cloneNode(!1),an.hasChildNodes()?(rn.appendChild(an.firstChild),an.appendChild(rn)):(Rt=rn,an.appendChild(rn)),an.appendChild(rn)}),Rt.appendChild(H.getDoc().createTextNode(bt)),lt=We.getParent(Tt.startContainer,We.isBlock),We.isEmpty(lt)?Lt(lt).empty().append(an):Tt.insertNode(an),Tt.setStart(Rt.firstChild,1),Tt.setEnd(Rt.firstChild,1),H.selection.setRng(Tt)):H.selection.setContent(bt))}),H.addCommand("Delete",function(){rt()}),H.addCommand("ForwardDelete",function(){rt(!0)}),Bt||(H.on("dragstart",function(Je){wt=st.getRng(),F(Je)}),H.on("drop",function(Je){if(!$(Je)){var Tt=re(Je);Tt&&(Je.preventDefault(),M.setEditorTimeout(H,function(){var kt=ie.getCaretRangeFromPoint(Je.x,Je.y,Te);wt&&(st.setRng(wt),wt=null,ft()),st.setRng(kt),N(Tt.html)}))}}),H.on("cut",function(Je){$(Je)||!Je.clipboardData||H.selection.isCollapsed()||(Je.preventDefault(),Je.clipboardData.clearData(),Je.clipboardData.setData("text/html",H.selection.getContent()),Je.clipboardData.setData("text/plain",H.selection.getContent({format:"text"})),M.setEditorTimeout(H,function(){ft(!0)}))}))}(),function y(){H.settings.content_editable||Ot.bind(H.getDoc(),"mousedown mouseup",function(Ut){var ln;if(Ut.target==H.getDoc().documentElement)if(ln=Tn.getRng(),H.getBody().focus(),"mousedown"==Ut.type){if(j.isCaretContainer(ln.startContainer))return;Tn.placeCaretAt(Ut.clientX,Ut.clientY)}else Tn.setRng(ln)})}(),function J(){H.on("click",function(Ut){var ln=Ut.target;/^(IMG|HR)$/.test(ln.nodeName)&&"false"!==Ot.getContentEditableParent(ln)&&(Ut.preventDefault(),Tn.select(ln),H.nodeChanged()),"A"==ln.nodeName&&Ot.hasClass(ln,"mce-item-anchor")&&(Ut.preventDefault(),Tn.select(ln))})}(),function Ye(){qn.forced_root_block&&H.on("init",function(){q("DefaultParagraphSeparator",qn.forced_root_block)})}(),function Ae(){H.on("init",function(){H.dom.bind(H.getBody(),"submit",function(Ut){Ut.preventDefault()})})}(),Ve(),function Se(){ri.addNodeFilter("br",function(Ut){for(var ln=Ut.length;ln--;)"Apple-interchange-newline"==Ut[ln].attr("class")&&Ut[ln].remove()})}(),_.iOS?(function Wt(){H.inline||H.on("keydown",function(){document.activeElement==document.body&&H.getWin().focus()})}(),Kt(),function tt(){H.on("click",function(Ut){var ln=Ut.target;do{if("A"===ln.tagName)return void Ut.preventDefault()}while(ln=ln.parentNode)}),H.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):v()),oi&&_.ie<11&&(Z(),function _e(){document.body.setAttribute("role","application")}(),function Ee(){O()>7||(q("RespectVisibilityInDesign",!0),H.contentStyles.push(".mceHideBrInPre pre br {display: none}"),Ot.addClass(H.getBody(),"mceHideBrInPre"),ri.addNodeFilter("pre",function(Ut){for(var mt,Nt,Ln,wn,ln=Ut.length;ln--;)for(Nt=(mt=Ut[ln].getAll("br")).length;Nt--;)(wn=(Ln=mt[Nt]).prev)&&3===wn.type&&"\n"!=wn.value.charAt(wn.value-1)?wn.value+="\n":Ln.parent.insert(new C("#text",3),Ln,!0).value="\n"}),pi.addNodeFilter("pre",function(Ut){for(var mt,Nt,wn,ln=Ut.length;ln--;)for(Nt=(mt=Ut[ln].getAll("br")).length;Nt--;)(wn=mt[Nt].prev)&&3==wn.type&&(wn.value=wn.value.replace(/\r?\n$/,""))}))}(),function Re(){Ot.bind(H.getBody(),"mouseup",function(){var Ut,ln=Tn.getNode();"IMG"==ln.nodeName&&((Ut=Ot.getStyle(ln,"width"))&&(Ot.setAttrib(ln,"width",Ut.replace(/[^0-9%]+/g,"")),Ot.setStyle(ln,"width","")),(Ut=Ot.getStyle(ln,"height"))&&(Ot.setAttrib(ln,"height",Ut.replace(/[^0-9%]+/g,"")),Ot.setStyle(ln,"height","")))})}(),function ye(){H.on("keydown",function(Ut){var ln;$(Ut)||Ut.keyCode!=It||(ln=H.getDoc().selection.createRange())&&ln.item&&(Ut.preventDefault(),H.undoManager.beforeChange(),Ot.remove(ln.item(0)),H.undoManager.add())})}(),function Ie(){var Ut;O()>=10&&(Ut="",ct("p div h1 h2 h3 h4 h5 h6".split(" "),function(ln,mt){Ut+=(mt>0?",":"")+ln+":empty"}),H.contentStyles.push(Ut+"{padding-right: 1px !important}"))}(),function He(){O()<9&&(ri.addNodeFilter("noscript",function(Ut){for(var mt,Nt,ln=Ut.length;ln--;)(Nt=(mt=Ut[ln]).firstChild)&&mt.attr("data-mce-innertext",Nt.value)}),pi.addNodeFilter("noscript",function(Ut){for(var mt,Nt,Ln,ln=Ut.length;ln--;)mt=Ut[ln],(Nt=Ut[ln].firstChild)?Nt.value=D.decode(Nt.value):(Ln=mt.attributes.map["data-mce-innertext"])&&(mt.attr("data-mce-innertext",null),(Nt=new C("#text",3)).value=Ln,Nt.raw=!0,mt.append(Nt))}))}(),function Xe(){function Ut(ft,Te){var We=Ln.createTextRange();try{We.moveToPoint(ft,Te)}catch{We=null}return We}function ln(ft){var Te;ft.button?(Te=Ut(ft.x,ft.y))&&(Te.compareEndPoints("StartToStart",Fn)>0?Te.setEndPoint("StartToStart",Fn):Te.setEndPoint("EndToEnd",Fn),Te.select()):mt()}function mt(){var ft=Nt.selection.createRange();Fn&&!ft.item&&0===ft.compareEndPoints("StartToEnd",ft)&&Fn.select(),Ot.unbind(Nt,"mouseup",mt),Ot.unbind(Nt,"mousemove",ln),Fn=wn=0}var wn,Fn,rt,Nt=Ot.doc,Ln=Nt.body;Nt.documentElement.unselectable=!0,Ot.bind(Nt,"mousedown contextmenu",function(ft){if("HTML"===ft.target.nodeName){if(wn&&mt(),(rt=Nt.documentElement).scrollHeight>rt.clientHeight)return;wn=1,(Fn=Ut(ft.x,ft.y))&&(Ot.bind(Nt,"mouseup",mt),Ot.bind(Nt,"mousemove",ln),Ot.getRoot().focus(),Fn.select())}})}()),_.ie>=11&&(Kt(),Ve()),_.ie&&(v(),function Qt(){q("AutoUrlDetect",!1)}(),function Ue(){H.on("dragstart",function(Ut){F(Ut)}),H.on("drop",function(Ut){if(!$(Ut)){var ln=re(Ut);if(ln&&ln.id!=H.id){Ut.preventDefault();var mt=ie.getCaretRangeFromPoint(Ut.x,Ut.y,H.getDoc());Tn.setRng(mt),N(ln.html)}}})}()),ai&&(_t(),Z(),function oe(){window.Range.prototype.getClientRects||H.on("mousedown",function(Ut){if(!$(Ut)&&"HTML"===Ut.target.nodeName){var ln=H.getBody();ln.blur(),M.setEditorTimeout(H,function(){ln.focus()})}})}(),function fe(){function Ut(){var mt=Ot.getAttribs(Tn.getStart().cloneNode(!1));return function(){var Nt=Tn.getStart();Nt!==H.getBody()&&(Ot.setAttrib(Nt,"style",null),ct(mt,function(Ln){Nt.setAttributeNode(Ln.cloneNode(!0))}))}}function ln(){return!Tn.isCollapsed()&&Ot.getParent(Tn.getStart(),Ot.isBlock)!=Ot.getParent(Tn.getEnd(),Ot.isBlock)}H.on("keypress",function(mt){var Nt;if(!$(mt)&&(8==mt.keyCode||46==mt.keyCode)&&ln())return Nt=Ut(),H.getDoc().execCommand("delete",!1,null),Nt(),mt.preventDefault(),!1}),Ot.bind(H.getDoc(),"cut",function(mt){var Nt;!$(mt)&&ln()&&(Nt=Ut(),M.setEditorTimeout(H,function(){Nt()}))})}(),function Oe(){qn.readonly||H.on("BeforeExecCommand MouseDown",function Ut(){q("StyleWithCSS",!1),q("enableInlineTableEditing",!1),qn.object_resizing||q("enableObjectResizing",!1)})}(),function je(){H.on("SetContent ExecCommand",function(ln){"setcontent"!=ln.type&&"mceInsertLink"!==ln.command||function Ut(){ct(Ot.select("a"),function(ln){var mt=ln.parentNode,Nt=Ot.getRoot();if(mt.lastChild===ln){for(;mt&&!Ot.isBlock(mt);){if(mt.parentNode.lastChild!==mt||mt===Nt)return;mt=mt.parentNode}Ot.add(mt,"br",{"data-mce-bogus":1})}})}()})}(),function Mt(){H.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function un(){_.mac&&H.on("keydown",function(Ut){!me.metaKeyPressed(Ut)||Ut.shiftKey||37!=Ut.keyCode&&39!=Ut.keyCode||(Ut.preventDefault(),H.selection.getSel().modify("move",37==Ut.keyCode?"backward":"forward","lineboundary"))})}(),Ve()),{refreshContentEditable:function at(){},isHidden:function vt(){var Ut;return ai?!(Ut=H.selection.getSel())||!Ut.rangeCount||0===Ut.rangeCount:0}}}}),xe(ui,[bn,ve,Y],function(me,ie,U){function z(M,j){return"selectionchange"==j?M.getDoc():!M.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(j)?M.getDoc().documentElement:M.settings.event_root?(M.eventRoot||(M.eventRoot=D.select(M.settings.event_root)[0]),M.eventRoot):M.getBody()}function C(M,j){function P(q){return!q.hidden&&!q.readonly}var H,E=z(M,j);if(M.delegates||(M.delegates={}),!M.delegates[j])if(M.settings.event_root){if(_||(_={},M.editorManager.on("removeEditor",function(){var q;if(!M.editorManager.activeEditor&&_){for(q in _)M.dom.unbind(z(M,q));_=null}})),_[j])return;_[j]=H=function(q){for(var O=q.target,$=M.editorManager.editors,F=$.length;F--;){var re=$[F].getBody();(re===O||D.isChildOf(O,re))&&P($[F])&&$[F].fire(j,q)}},D.bind(E,j,H)}else D.bind(E,j,H=function(q){P(M)&&M.fire(j,q)}),M.delegates[j]=H}var _,D=ie.DOM,w={bindPendingEventDelegates:function(){var M=this;U.each(M._pendingNativeEvents,function(j){C(M,j)})},toggleNativeEvent:function(M,j){var P=this;"focus"!=M&&"blur"!=M&&(j?P.initialized?C(P,M):P._pendingNativeEvents?P._pendingNativeEvents.push(M):P._pendingNativeEvents=[M]:P.initialized&&(P.dom.unbind(z(P,M),M,P.delegates[M]),delete P.delegates[M]))},unbindAllNativeEvents:function(){var j,M=this;if(M.delegates){for(j in M.delegates)M.dom.unbind(z(M,j),j,M.delegates[j]);delete M.delegates}M.inline||(M.getBody().onload=null,M.dom.unbind(M.getWin()),M.dom.unbind(M.getDoc())),M.dom.unbind(M.getBody()),M.dom.unbind(M.getContainer())}};return U.extend({},me,w)}),xe(_i,[],function(){function me(C,D,_){try{C.getDoc().execCommand(D,!1,_)}catch{}}function U(C,D){C._clickBlocker&&(C._clickBlocker.unbind(),C._clickBlocker=null),D?(C._clickBlocker=function ie(C){var D,_;return D=C.getBody(),_=function(w){C.dom.getParents(w.target,"a").length>0&&w.preventDefault()},C.dom.bind(D,"click",_),{unbind:function(){C.dom.unbind(D,"click",_)}}}(C),C.selection.controlSelection.hideResizeRect(),C.readonly=!0,C.getBody().contentEditable=!1):(C.readonly=!1,C.getBody().contentEditable=!0,me(C,"StyleWithCSS",!1),me(C,"enableInlineTableEditing",!1),me(C,"enableObjectResizing",!1),C.focus(),C.nodeChanged())}return{setMode:function z(C,D){D!=(C.readonly?"readonly":"design")&&(C.initialized?U(C,"readonly"==D):C.on("init",function(){U(C,"readonly"==D)}),C.fire("SwitchMode",{mode:D}))}}}),xe(Ai,[Y,G],function(me,ie){var U=me.each,z=me.explode,C={f9:120,f10:121,f11:122},D=me.makeMap("alt,ctrl,shift,meta,access");return function(_){function w(F){var re,N,R={};for(N in U(z(F,"+"),function(A){A in D?R[A]=!0:/^[0-9]{2,}$/.test(A)?R.keyCode=parseInt(A,10):(R.charCode=A.charCodeAt(0),R.keyCode=C[A]||A.toUpperCase().charCodeAt(0))}),re=[R.keyCode],D)R[N]?re.push(N):R[N]=!1;return R.id=re.join(","),R.access&&(R.alt=!0,ie.mac?R.ctrl=!0:R.shift=!0),R.meta&&(ie.mac?R.meta=!0:(R.ctrl=!0,R.meta=!1)),R}function M(F,re,N,R){var A;return(A=me.map(z(F,">"),w))[A.length-1]=me.extend(A[A.length-1],{func:N,scope:R||_}),me.extend(A[0],{desc:_.translate(re),subpatterns:A.slice(1)})}function E(F,re){return!!re&&re.ctrl==F.ctrlKey&&re.meta==F.metaKey&&re.alt==F.altKey&&re.shift==F.shiftKey&&!!(F.keyCode==re.keyCode||F.charCode&&F.charCode==re.charCode)&&(F.preventDefault(),!0)}function H(F){return F.func?F.func.call(F.scope):null}var O={},$=[];_.on("keyup keypress keydown",function(F){!function j(F){return F.altKey||F.ctrlKey||F.metaKey}(F)&&!function P(F){return"keydown"===F.type&&F.keyCode>=112&&F.keyCode<=123}(F)||F.isDefaultPrevented()||(U(O,function(re){if(E(F,re))return $=re.subpatterns.slice(0),"keydown"==F.type&&H(re),!0}),E(F,$[0])&&(1===$.length&&"keydown"==F.type&&H($[0]),$.shift()))}),this.add=function(F,re,N,R){var A;return A=N,"string"==typeof N?N=function(){_.execCommand(A,!1,null)}:me.isArray(A)&&(N=function(){_.execCommand(A[0],A[1],A[2])}),U(z(me.trim(F.toLowerCase())),function(v){var y=M(v,re,N,R);O[y.id]=y}),!0},this.remove=function(F){var re=M(F);return!!O[re.id]&&(delete O[re.id],!0)}}}),xe(Ri,[k,Y,Ct],function(me,ie,U){return function(z,C){function D(R){var A;return A={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[R.blob().type.toLowerCase()]||"dat",R.filename()+"."+A}function M(R,A,v,y){var Z,oe;(Z=new XMLHttpRequest).open("POST",C.url),Z.withCredentials=C.credentials,Z.upload.onprogress=function(J){y(J.loaded/J.total*100)},Z.onerror=function(){v("Image upload failed due to a XHR Transport error. Code: "+Z.status)},Z.onload=function(){var J;return 200!=Z.status?void v("HTTP Error: "+Z.status):(J=JSON.parse(Z.responseText))&&"string"==typeof J.location?void A(function _(R,A){return R?R.replace(/\/$/,"")+"/"+A.replace(/^\//,""):A}(C.basePath,J.location)):void v("Invalid JSON: "+Z.responseText)},(oe=new FormData).append("file",R.blob(),R.filename()),Z.send(oe)}function P(R,A){return{url:A,blobInfo:R,status:!0}}function E(R,A){return{url:"",blobInfo:R,status:!1,error:A}}function H(R,A){ie.each(N[R],function(v){v(A)}),delete N[R]}function F(R,A){return R=ie.grep(R,function(v){return!z.isUploaded(v.blobUri())}),me.all(ie.map(R,function(v){return z.isPending(v.blobUri())?function $(R){var A=R.blobUri();return new me(function(v){N[A]=N[A]||[],N[A].push(v)})}(v):function q(R,A,v){return z.markPending(R.blobUri()),new me(function(y){var Z,oe,J=function(){};try{var fe=function(){Z&&(Z.close(),oe=J)};oe=function(Ee){Ee<0||Ee>100||(Z||(Z=v()),Z.progressBar.value(Ee))},A(function w(R){return{id:R.id,blob:R.blob,base64:R.base64,filename:U.constant(D(R))}}(R),function(Ee){fe(),z.markUploaded(R.blobUri(),Ee),H(R.blobUri(),P(R,Ee)),y(P(R,Ee))},function(Ee){fe(),z.removeFailed(R.blobUri()),H(R.blobUri(),E(R,Ee)),y(E(R,Ee))},oe)}catch(Ee){y(E(R,Ee.message))}})}(v,C.handler,A)}))}var N={};return C=ie.extend({credentials:!1,handler:M},C),{upload:function re(R,A){return!C.url&&function O(R){return R===M}(C.handler)?function j(){return new me(function(R){R([])})}():F(R,A)}}}}),xe(er,[k],function(me){function U(_){var w,M;return _=decodeURIComponent(_).split(","),(M=/data:([^;]+)/.exec(_[0]))&&(w=M[1]),{type:w,data:_[1]}}return{uriToBlob:function C(_){return 0===_.indexOf("blob:")?function ie(_){return new me(function(w){var M=new XMLHttpRequest;M.open("GET",_,!0),M.responseType="blob",M.onload=function(){200==this.status&&w(this.response)},M.send()})}(_):0===_.indexOf("data:")?function z(_){return new me(function(w){var M,j,P;_=U(_);try{M=atob(_.data)}catch{return void w(new Blob([]))}for(j=new Uint8Array(M.length),P=0;P<j.length;P++)j[P]=M.charCodeAt(P);w(new Blob([j],{type:_.type}))})}(_):null},blobToDataUri:function D(_){return new me(function(w){var M=new FileReader;M.onloadend=function(){w(M.result)},M.readAsDataURL(_)})},parseDataUri:U}}),xe(Ui,[k,B,Ct,er,G],function(me,ie,U,z,C){var D=0,_=function(w){return(w||"blobid")+D++};return function(w,M){var P={};return{findAll:function j(E,H){var O,$;return H||(H=U.constant(!0)),O=ie.filter(E.getElementsByTagName("img"),function(F){var re=F.src;return!!C.fileApi&&!F.hasAttribute("data-mce-bogus")&&!F.hasAttribute("data-mce-placeholder")&&!(!re||re==C.transparentSrc)&&(0===re.indexOf("blob:")?!w.isUploaded(re):0===re.indexOf("data:")&&H(F))}),$=ie.map(O,function(F){var re;return P[F.src]?new me(function(N){P[F.src].then(function(R){N({image:F,blobInfo:R.blobInfo})})}):(re=new me(function(N){!function q(F,re){var N,R;0===F.src.indexOf("blob:")?(R=M.getByUri(F.src))?re({image:F,blobInfo:R}):z.uriToBlob(F.src).then(function(A){z.blobToDataUri(A).then(function(v){N=z.parseDataUri(v).data,R=M.create(_(),A,N),M.add(R),re({image:F,blobInfo:R})})}):(N=z.parseDataUri(F.src).data,(R=M.findFirst(function(A){return A.base64()===N}))?re({image:F,blobInfo:R}):z.uriToBlob(F.src).then(function(A){R=M.create(_(),A,N),M.add(R),re({image:F,blobInfo:R})}))}(F,N)}).then(function(N){return delete P[N.image.src],N}).catch(function(N){return delete P[F.src],N}),P[F.src]=re,re)}),me.all($)}}}}),xe(Sr,[B,Ct],function(me,ie){return function(){function C(E){return D(function(H){return H.id()===E})}function D(E){return me.filter(j,E)[0]}var j=[],P=ie.constant;return{create:function U(E,H,q,O){return{id:P(E),filename:P(O||E),blob:P(H),base64:P(q),blobUri:P(URL.createObjectURL(H))}},add:function z(E){C(E.id())||j.push(E)},get:C,getByUri:function _(E){return D(function(H){return H.blobUri()==E})},findFirst:D,removeByUri:function w(E){j=me.filter(j,function(H){return H.blobUri()!==E||(URL.revokeObjectURL(H.blobUri()),!1)})},destroy:function M(){me.each(j,function(E){URL.revokeObjectURL(E.blobUri())}),j=[]}}}}),xe(Er,[],function(){return function(){function me(H,q){return{status:H,resultUri:q}}function ie(H){return H in E}var E={};return{hasBlobUri:ie,getResultUri:function U(H){var q=E[H];return q?q.resultUri:null},isPending:function z(H){return!!ie(H)&&1===E[H].status},isUploaded:function C(H){return!!ie(H)&&2===E[H].status},markPending:function D(H){E[H]=me(1,null)},markUploaded:function _(H,q){E[H]=me(2,q)},removeFailed:function w(H){delete E[H]},destroy:function M(){E={}}}}}),xe(Wr,[he],function(me){var ie=me.PluginManager,C=function(M,j){M.notificationManager.open({type:"error",text:j})},D=function(M,j){M._skinLoaded?C(M,j):M.on("SkinLoaded",function(){C(M,j)})};return{pluginLoadError:function(M,j){D(M,function(M,j){var P=function(M,j){for(var P in ie.urls)if(ie.urls[P]+"/plugin"+j+".js"===M)return P;return null}(j,M.suffix);return P?"Failed to load plugin: "+P+" from url "+j:"Failed to load plugin url: "+j}(M,j))},uploadError:function(M,j){D(M,"Failed to upload image: "+j)}}}),xe(Or,[B,Ri,Ui,Sr,Er,Wr],function(me,ie,U,z,C,D){return function(_){function w(J){return function(fe){return _.selection?J(fe):[]}}function j(J,fe,_e){var Ve=0;do{-1!==(Ve=J.indexOf(fe,Ve))&&(J=J.substring(0,Ve)+_e+J.substr(Ve+fe.length),Ve+=_e.length-fe.length+1)}while(-1!==Ve);return J}function P(J,fe,_e){return J=j(J,'src="'+fe+'"','src="'+_e+'"'),j(J,'data-mce-src="'+fe+'"','data-mce-src="'+_e+'"')}function E(J,fe){me.each(_.undoManager.data,function(_e){"fragmented"===_e.type?_e.fragments=me.map(_e.fragments,function(Ve){return P(Ve,J,fe)}):_e.content=P(_e.content,J,fe)})}function H(){return _.notificationManager.open({text:_.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function O(J){return v||(v=new ie(oe,{url:Z.images_upload_url,basePath:Z.images_upload_base_path,credentials:Z.images_upload_credentials,handler:Z.images_upload_handler})),re().then(w(function(fe){var _e;return _e=me.map(fe,function(Ve){return Ve.blobInfo}),v.upload(_e,H).then(w(function(Ve){return Ve=me.map(Ve,function(Ee,Re){var ze=fe[Re].image;return Ee.status&&!1!==_.settings.images_replace_blob_uris?function q(J,fe){A.removeByUri(J.src),E(J.src,fe),_.$(J).attr({src:Z.images_reuse_filename?fe+"?"+(new Date).getTime():fe,"data-mce-src":_.convertURL(fe,"src")})}(ze,Ee.url):Ee.error&&D.uploadError(_,Ee.error),{element:ze,status:Ee.status}}),J&&J(Ve),Ve}))}))}function $(J){if(!1!==Z.automatic_uploads)return O(J)}function F(J){return!Z.images_dataimg_filter||Z.images_dataimg_filter(J)}function re(){return y||(y=new U(oe,A)),y.findAll(_.getBody(),F).then(w(function(J){return me.each(J,function(fe){E(fe.image.src,fe.blobInfo.blobUri()),fe.image.src=fe.blobInfo.blobUri(),fe.image.removeAttribute("data-mce-src")}),J}))}function R(J){return J.replace(/src="(blob:[^"]+)"/g,function(fe,_e){var Ve=oe.getResultUri(_e);if(Ve)return'src="'+Ve+'"';var Ee=A.getByUri(_e);return Ee||(Ee=me.reduce(_.editorManager.editors,function(Re,ze){return Re||ze.editorUpload.blobCache.getByUri(_e)},null)),Ee?'src="data:'+Ee.blob().type+";base64,"+Ee.base64()+'"':fe})}var v,y,A=new z,Z=_.settings,oe=new C;return _.on("setContent",function(){!1!==_.settings.automatic_uploads?$():re()}),_.on("RawSaveContent",function(J){J.content=R(J.content)}),_.on("getContent",function(J){J.source_view||"raw"==J.format||(J.content=R(J.content))}),_.on("PostRender",function(){_.parser.addNodeFilter("img",function(J){me.each(J,function(fe){var _e=fe.attr("src");if(!A.getByUri(_e)){var Ve=oe.getResultUri(_e);Ve&&fe.attr("src",Ve)}})})}),{blobCache:A,uploadImages:O,uploadImagesAuto:$,scanForImages:re,destroy:function N(){A.destroy(),oe.destroy(),y=v=null}}}}),xe(oa,[ee,yn,be,Me,ae,dn,I],function(me,ie,U,z,C,D,_){var w=U.isContentEditableFalse;return function(M,j){function q(){(function E(){var A,v,y,Z,oe;for(A=C("*[contentEditable=false]",M),Z=0;Z<A.length;Z++)me.endsWithCaretContainer(y=(v=A[Z]).previousSibling)&&(1==(oe=y.data).length?y.parentNode.removeChild(y):y.deleteData(oe.length-1,1)),me.startsWithCaretContainer(y=v.nextSibling)&&(1==(oe=y.data).length?y.parentNode.removeChild(y):y.deleteData(0,1))})(),R&&(me.remove(R),R=null),N&&(N.remove(),N=null),clearInterval(re)}var re,N,R;return{show:function H(A,v){var y,Z;return q(),j(v)?(R=me.insertBlock("p",v,A),y=function P(A,v){var Z,oe,J,fe,_e,y=D.collapse(A.getBoundingClientRect(),v);return"BODY"==M.tagName?(Z=M.ownerDocument.documentElement,oe=M.scrollLeft||Z.scrollLeft,J=M.scrollTop||Z.scrollTop):(_e=M.getBoundingClientRect(),oe=M.scrollLeft-_e.left,J=M.scrollTop-_e.top),y.left+=oe,y.right+=oe,y.top+=J,y.bottom+=J,y.width=1,(fe=A.offsetWidth-A.clientWidth)>0&&(v&&(fe*=-1),y.left+=fe,y.right+=fe),y}(v,A),C(R).css("top",y.top),N=C('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(y).appendTo(M),A&&N.addClass("mce-visual-caret-before"),function O(){re=_.setInterval(function(){C("div.mce-visual-caret",M).toggleClass("mce-visual-caret-hidden")},500)}(),(Z=v.ownerDocument.createRange()).setStart(R,0),Z.setEnd(R,0),Z):(R=me.insertInline(v,A),Z=v.ownerDocument.createRange(),w(R.nextSibling)?(Z.setStart(R,0),Z.setEnd(R,0)):(Z.setStart(R,1),Z.setEnd(R,1)),Z)},hide:q,getCss:function F(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function $(){_.clearInterval(re)}}}}),xe(To,[B,be,dn],function(me,ie,U){return{getClientRects:function z(C){function D(w){return me.map(w,function(M){return(M=U.clone(M)).node=C,M})}if(me.isArray(C))return me.reduce(C,function(w,M){return w.concat(z(M))},[]);if(ie.isElement(C))return D(C.getClientRects());if(ie.isText(C)){var _=C.ownerDocument.createRange();return _.setStart(C,0),_.setEnd(C,C.data.length),D(_.getClientRects())}}}}),xe(du,[Ct,B,To,qt,_n,Dn,yn,dn],function(me,ie,U,z,C,D,_,w){function j(F,re,N,R,A,v){function y(_e){var Ve,Ee,Re;for(Re=U.getClientRects(_e),-1==F&&(Re=Re.reverse()),Ve=0;Ve<Re.length;Ve++)if(!N(Ee=Re[Ve],fe)){if(J.length>0&&re(Ee,ie.last(J))&&Z++,Ee.line=Z,A(Ee))return!0;J.push(Ee)}}var oe,fe,Z=0,J=[];return(fe=ie.last(v.getClientRects()))&&(y(oe=v.getNode()),function M(F,re,N,R){for(;R=C.findNode(R,F,z.isEditableCaretCandidate,re);)if(N(R))return}(F,R,y,oe)),J}var q=me.curry;return{upUntil:q(j,-1,w.isAbove,w.isBelow),downUntil:q(j,1,w.isBelow,w.isAbove),positionsUntil:function H(F,re,N,R){function A(Re){return ie.last(Re.getClientRects())}var y,Z,oe,J,Ve,Ee,v=new D(re),fe=[],_e=0;1==F?(y=v.next,Z=w.isBelow,oe=w.isAbove,J=_.after(R)):(y=v.prev,Z=w.isAbove,oe=w.isBelow,J=_.before(R)),Ee=A(J);do{if(J.isVisible()&&!oe(Ve=A(J),Ee)){if(fe.length>0&&Z(Ve,ie.last(fe))&&_e++,(Ve=w.clone(Ve)).position=J,Ve.line=_e,N(Ve))return fe;fe.push(Ve)}}while(J=y(J));return fe},isAboveLine:q(function P(F,re){return re.line>F}),isLine:q(function E(F,re){return re.line===F})}}),xe(aa,[Ct,B,be,To,dn,_n,qt],function(me,ie,U,z,C,D,_){function w(N,R){return Math.abs(N.left-R)}function M(N,R){return Math.abs(N.right-R)}function j(N,R){function A(v,y){return v>=y.left&&v<=y.right}return ie.reduce(N,function(v,y){var Z,oe;return Z=Math.min(w(v,R),M(v,R)),oe=Math.min(w(y,R),M(y,R)),A(R,y)?y:A(R,v)?v:oe==Z&&$(y.node)||oe<Z?y:v})}function P(N,R,A,v){for(;v=F(v,N,_.isEditableCaretCandidate,R);)if(A(v))return}function E(N,R){function A(y,Z){var oe;return oe=ie.filter(z.getClientRects(Z),function(J){return!y(J,R)}),v=v.concat(oe),0===oe.length}var v=[];return v.push(R),P(-1,N,re(A,C.isAbove),R.node),P(1,N,re(A,C.isBelow),R.node),v}var $=U.isContentEditableFalse,F=D.findNode,re=me.curry;return{findClosestClientRect:j,findLineNodeRects:E,closestCaret:function O(N,R,A){var v,y;return v=z.getClientRects(function H(N){return ie.filter(ie.toArray(N.getElementsByTagName("*")),$)}(N)),(y=j(v=ie.filter(v,function(Z){return A>=Z.top&&A<=Z.bottom}),R))&&(y=j(E(N,y),R))&&$(y.node)?function q(N,R){return{node:N.node,before:w(N,R)<M(N,R)}}(y,R):null}}}),xe(ed,[],function(){var me=function(w){var M,j,P,E;return{top:(E=w.getBoundingClientRect()).top+(P=(M=w.ownerDocument).defaultView).pageYOffset-(j=M.documentElement).clientTop,left:E.left+P.pageXOffset-j.clientLeft}};return{calc:function(w,M){return function(w,M,j){return{pageX:j.left-w.left+M.left,pageY:j.top-w.top+M.top}}(function(w){return w.inline?me(w.getBody()):{left:0,top:0}}(w),function(w){var M=w.getBody();return w.inline?{left:M.scrollLeft,top:M.scrollTop}:{left:0,top:0}}(w),function(w,M){if(M.target.ownerDocument!==w.getDoc()){var j=me(w.getContentAreaContainer()),P=function(w){var M=w.getBody(),j=w.getDoc().documentElement;return w.inline?{left:M.scrollLeft,top:M.scrollTop}:{left:M.scrollLeft||j.scrollLeft,top:M.scrollTop||j.scrollTop}}(w);return{left:M.pageX-j.left+P.left,top:M.pageY-j.top+P.top}}return{left:M.pageX,top:M.pageY}}(w,M))}}}),xe(td,[be,B,Ct,I,ve,ed],function(me,ie,U,z,C,D){var _=me.isContentEditableFalse,w=me.isContentEditableTrue,O=function(_e){_e&&_e.parentNode&&_e.parentNode.removeChild(_e)},Z=function(_e){_e.dragging=!1,_e.element=null,O(_e.ghost)},oe=function(_e){var Ee,Re,ze,Oe,je,Ye,Ve={};Ee=C.DOM,Ye=document,Re=function(_e,Ve){return function(Ee){if(function(_e){return 0===_e.button}(Ee)){var Re=ie.find(Ve.dom.getParents(Ee.target),U.or(_,w));if(function(_e,Ve){return _(Ve)&&Ve!==_e}(Ve.getBody(),Re)){var ze=Ve.dom.getPos(Re),Oe=Ve.getBody(),je=Ve.getDoc().documentElement;_e.element=Re,_e.screenX=Ee.screenX,_e.screenY=Ee.screenY,_e.maxX=(Ve.inline?Oe.scrollWidth:je.offsetWidth)-2,_e.maxY=(Ve.inline?Oe.scrollHeight:je.offsetHeight)-2,_e.relX=Ee.pageX-ze.x,_e.relY=Ee.pageY-ze.y,_e.width=Re.offsetWidth,_e.height=Re.offsetHeight,_e.ghost=function(_e,Ve,Ee,Re){var ze=Ve.cloneNode(!0);_e.dom.setStyles(ze,{width:Ee,height:Re}),_e.dom.setAttrib(ze,"data-mce-selected",null);var Oe=_e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return _e.dom.setStyles(Oe,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:Ee,height:Re}),_e.dom.setStyles(ze,{margin:0,boxSizing:"border-box"}),Oe.appendChild(ze),Oe}(Ve,Re,_e.width,_e.height)}}}}(Ve,_e),ze=function(_e,Ve){var Ee=z.throttle(function(Re,ze){Ve._selectionOverrides.hideFakeCaret(),Ve.selection.placeCaretAt(Re,ze)},0);return function(Re){var ze=Math.max(Math.abs(Re.screenX-_e.screenX),Math.abs(Re.screenY-_e.screenY));if(function(_e){return _e.element}(_e)&&!_e.dragging&&ze>10){if(Ve.fire("dragstart",{target:_e.element}).isDefaultPrevented())return;_e.dragging=!0,Ve.focus()}if(_e.dragging){var je=function(_e,Ve){return{pageX:Ve.pageX-_e.relX,pageY:Ve.pageY+5}}(_e,D.calc(Ve,Re));(function(_e,Ve){_e.parentNode!==Ve&&Ve.appendChild(_e)})(_e.ghost,Ve.getBody()),function(_e,Ve,Ee,Re,ze,Oe){var je=0,Ye=0;_e.style.left=Ve.pageX+"px",_e.style.top=Ve.pageY+"px",Ve.pageX+Ee>ze&&(je=Ve.pageX+Ee-ze),Ve.pageY+Re>Oe&&(Ye=Ve.pageY+Re-Oe),_e.style.width=Ee-je+"px",_e.style.height=Re-Ye+"px"}(_e.ghost,je,_e.width,_e.height,_e.maxX,_e.maxY),Ee(Re.clientX,Re.clientY)}}}(Ve,_e),Oe=function(_e,Ve){return function(Ee){if(_e.dragging&&function(_e,Ve,Ee){return Ve!==Ee&&!_e.dom.isChildOf(Ve,Ee)&&!_(Ve)}(Ve,function(_e){var Ee=_e.getSel().getRangeAt(0).startContainer;return 3===Ee.nodeType?Ee.parentNode:Ee}(Ve.selection),_e.element)){var Re=function(_e){var Ve=_e.cloneNode(!0);return Ve.removeAttribute("data-mce-selected"),Ve}(_e.element),ze=Ve.fire("drop",{targetClone:Re,clientX:Ee.clientX,clientY:Ee.clientY});ze.isDefaultPrevented()||(Re=ze.targetClone,Ve.undoManager.transact(function(){O(_e.element),Ve.insertContent(Ve.dom.getOuterHTML(Re)),Ve._selectionOverrides.hideFakeCaret()}))}Z(_e)}}(Ve,_e),je=function(_e,Ve){return function(){Z(_e),_e.dragging&&Ve.fire("dragend")}}(Ve,_e),_e.on("mousedown",Re),_e.on("mousemove",ze),_e.on("mouseup",Oe),Ee.bind(Ye,"mousemove",ze),Ee.bind(Ye,"mouseup",je),_e.on("remove",function(){Ee.unbind(Ye,"mousemove",ze),Ee.unbind(Ye,"mouseup",je)})};return{init:function(_e){oe(_e),function(_e){_e.on("drop",function(Ve){var Ee=typeof Ve.clientX<"u"?_e.getDoc().elementFromPoint(Ve.clientX,Ve.clientY):null;(_(Ee)||_(_e.dom.getContentEditableParent(Ee)))&&Ve.preventDefault()})}(_e)}}}),xe(hu,[G,Dn,yn,ee,_n,oa,du,aa,be,Me,dn,Yt,Ct,B,I,td],function(me,ie,U,z,C,D,_,w,M,j,P,E,H,q,O,$){function F(J,fe){for(;fe=J(fe);)if(fe.isVisible())return fe;return fe}var N=H.curry,R=M.isContentEditableTrue,A=M.isContentEditableFalse,v=M.isElement,y=C.isAfterContentEditableFalse,Z=C.isBeforeContentEditableFalse,oe=j.getSelectedNode;return function re(J){function Ve(mt){return J.dom.isBlock(mt)}function Ee(mt){mt&&J.selection.setRng(mt)}function Re(){return J.selection.getRng()}function ze(mt,Nt){J.selection.scrollIntoView(mt,Nt)}function Oe(mt,Nt,Ln){return J.fire("ShowCaret",{target:Nt,direction:mt,before:Ln}).isDefaultPrevented()?null:(ze(Nt,-1===mt),wi.show(Ln,Nt))}function je(mt){return J.fire("BeforeObjectSelected",{target:mt}).isDefaultPrevented()?null:function Ye(mt){var Nt=mt.ownerDocument.createRange();return Nt.selectNode(mt),Nt}(mt)}function Ie(mt,Nt){return Nt=C.normalizeRange(mt,pi,Nt),-1==mt?U.fromRangeStart(Nt):U.fromRangeEnd(Nt)}function Mt(mt,Nt){var wn,rt;if(Nt.collapsed&&J.settings.forced_root_block){if(!(wn=J.dom.getParent(Nt.startContainer,"PRE")))return;(1==mt?oi(U.fromRangeStart(Nt)):ki(U.fromRangeStart(Nt)))||(rt=function Ln(){var ft=J.dom.create(J.settings.forced_root_block);return(!me.ie||me.ie>=11)&&(ft.innerHTML='<br data-mce-bogus="1">'),ft}(),1==mt?J.$(wn).after(rt):J.$(wn).before(rt),J.selection.select(rt,!0),J.selection.collapse())}}function Wt(mt,Nt,Ln,wn){var Fn;return(Fn=function Xe(mt,Nt,Ln,wn){var Fn,rt,ft,Te;return!wn.collapsed&&(Fn=oe(wn),A(Fn))?Oe(mt,Fn,-1==mt):(Te=function He(mt){return z.isCaretContainerBlock(mt.startContainer)}(wn),Ln(rt=Ie(mt,wn))?je(rt.getNode(-1==mt)):(rt=Nt(rt))?Ln(rt)?Oe(mt,rt.getNode(-1==mt),1==mt):Ln(ft=Nt(rt))&&function ye(mt,Nt){var Ln=C.isInSameBlock(mt,Nt);return!(Ln||!M.isBr(mt.getNode()))||Ln}(rt,ft)?Oe(mt,ft.getNode(-1==mt),1==mt):Te?Ae(rt.toRange()):null:Te?wn:null)}(mt,Nt,Ln,wn))?Fn:(Fn=Mt(mt,wn))||null}function Kt(mt,Nt,Ln){var wn;return(wn=function nt(mt,Nt,Ln){var wn,Fn,rt,ft,Te,We,st,yt,Bt;if(Bt=oe(Ln),wn=Ie(mt,Ln),Fn=Nt(pi,_.isAboveLine(1),wn),rt=q.filter(Fn,_.isLine(1)),Te=q.last(wn.getClientRects()),Z(wn)&&(Bt=wn.getNode()),y(wn)&&(Bt=wn.getNode(!0)),!Te)return null;if((ft=w.findClosestClientRect(rt,We=Te.left))&&A(ft.node))return st=Math.abs(We-ft.left),yt=Math.abs(We-ft.right),Oe(mt,ft.node,st<yt);if(Bt){var wt=_.positionsUntil(mt,pi,_.isAboveLine(1),Bt);if((ft=w.findClosestClientRect(q.filter(wt,_.isLine(1)),We))||(ft=q.last(q.filter(wt,_.isLine(0)))))return Ae(ft.position.toRange())}}(mt,Nt,Ln))?wn:(wn=Mt(mt,Ln))||null}function Qt(mt){mt.hasAttribute("data-mce-caret")&&(z.showCaretContainerBlock(mt),Ee(Re()),ze(mt[0]))}function tt(mt){var Nt,Ln;return mt=C.normalizeRange(1,pi,mt),Nt=U.fromRangeStart(mt),A(Nt.getNode())?Oe(1,Nt.getNode(),!Nt.isAtEnd()):A(Nt.getNode(!0))?Oe(1,Nt.getNode(!0),!1):(Ln=J.dom.getParent(Nt.getNode(),H.or(A,R)),A(Ln)?Oe(1,Ln,!1):null)}function Ae(mt){return mt&&mt.collapsed&&tt(mt)||mt}function Se(mt){var Nt,Ln,wn,Fn;return A(mt)?(A(mt.previousSibling)&&(wn=mt.previousSibling),(Ln=ki(U.before(mt)))||(Nt=oi(U.after(mt))),Nt&&v(Nt.getNode())&&(Fn=Nt.getNode()),z.remove(mt.previousSibling),z.remove(mt.nextSibling),J.dom.remove(mt),J.dom.isEmpty(J.getBody())?(J.setContent(""),void J.focus()):wn?U.after(wn).toRange():Fn?U.before(Fn).toRange():Ln?Ln.toRange():Nt?Nt.toRange():null):null}function Ue(mt){var Nt=J.schema.getTextBlockElements();return mt.nodeName in Nt}function at(mt){return J.dom.isEmpty(mt)}function vt(mt,Nt,Ln){var Fn,rt,ft,Te,wn=J.dom;if(Fn=wn.getParent(Nt.getNode(),wn.isBlock),rt=wn.getParent(Ln.getNode(),wn.isBlock),-1===mt){if(Te=Ln.getNode(!0),y(Ln)&&Ve(Te))return Ue(Fn)?(at(Fn)&&wn.remove(Fn),U.after(Te).toRange()):Se(Ln.getNode(!0))}else if(Te=Nt.getNode(),Z(Nt)&&Ve(Te))return Ue(rt)?(at(rt)&&wn.remove(rt),U.before(Te).toRange()):Se(Nt.getNode());if(Fn===rt||!Ue(Fn)||!Ue(rt))return null;for(;ft=Fn.firstChild;)rt.appendChild(ft);return J.dom.remove(Fn),Ln.toRange()}function _t(mt,Nt,Ln,wn){var Fn,rt,ft,Te;return!wn.collapsed&&(Fn=oe(wn),A(Fn))?Ae(Se(Fn)):Ln(rt=Ie(mt,wn))&&z.isCaretContainerBlock(wn.startContainer)?(Te=-1==mt?ai.prev(rt):ai.next(rt))?Ae(Te.toRange()):wn:Nt(rt)?Ae(Se(rt.getNode(-1==mt))):Nt(ft=-1==mt?ai.prev(rt):ai.next(rt))?-1===mt?vt(mt,rt,ft):vt(mt,ft,rt):void 0}function It(mt){return z.isCaretContainer(mt)||z.startsWithCaretContainer(mt)||z.endsWithCaretContainer(mt)}function Dt(mt){return It(mt.startContainer)||It(mt.endContainer)}function Ot(mt){var Nt,Fn,rt,ft,Te,We,st,yt,Bt,wt,Ln=J.$,wn=J.dom;if(!mt)return null;if(mt.collapsed){if(!Dt(mt)){if(yt=Ie(1,mt),A(yt.getNode()))return Oe(1,yt.getNode(),!yt.isAtEnd());if(A(yt.getNode(!0)))return Oe(1,yt.getNode(!0),!1)}return null}return Te=mt.startOffset,We=mt.endOffset,3==(ft=mt.startContainer).nodeType&&0==Te&&A(ft.parentNode)&&(Te=wn.nodeIndex(ft=ft.parentNode),ft=ft.parentNode),1!=ft.nodeType?null:(We==Te+1&&(Nt=ft.childNodes[Te]),A(Nt)?(Bt=wt=Nt.cloneNode(!0),(st=J.fire("ObjectSelected",{target:Nt,targetClone:Bt})).isDefaultPrevented()?null:(Bt=st.targetClone,0===(Fn=Ln("#"+Ci)).length&&(Fn=Ln('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",Ci)).appendTo(J.getBody()),mt=J.dom.createRng(),Bt===wt&&me.ie?(Fn.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Bt),mt.setStartAfter(Fn[0].firstChild.firstChild),mt.setEndAfter(Bt)):(Fn.empty().append("\xa0").append(Bt).append("\xa0"),mt.setStart(Fn[0].firstChild,1),mt.setEnd(Fn[0].lastChild,0)),Fn.css({top:wn.getPos(Nt,J.getBody()).y}),Fn[0].focus(),(rt=J.selection.getSel()).removeAllRanges(),rt.addRange(mt),J.$("*[data-mce-selected]").removeAttr("data-mce-selected"),Nt.setAttribute("data-mce-selected",1),Ut=Nt,ri(),mt)):null)}function Tn(){Ut&&(Ut.removeAttribute("data-mce-selected"),J.$("#"+Ci).remove(),Ut=null)}function ri(){wi.hide()}var Ut,pi=J.getBody(),ai=new ie(pi),oi=N(F,ai.next),ki=N(F,ai.prev),wi=new D(J.getBody(),Ve),Ci="sel-"+J.dom.uniqueId(),ln=J.$;return me.ceFalse&&(function ct(){function mt(lt,Rt){if(!1===lt.isDefaultPrevented()){var bt=Rt(Re());bt&&(lt.preventDefault(),Ee(bt))}}function Nt(lt){for(var Rt=J.getBody();lt&&lt!=Rt;){if(R(lt)||A(lt))return lt;lt=lt.parentNode}return null}var Te=N(Wt,1,oi,Z),We=N(Wt,-1,ki,y),st=N(_t,1,Z,y),yt=N(_t,-1,y,Z),Bt=N(Kt,-1,_.upUntil),wt=N(Kt,1,_.downUntil);J.on("mouseup",function(){var lt=Re();lt.collapsed&&Ee(tt(lt))}),J.on("click",function(lt){var Rt;(Rt=Nt(lt.target))&&(A(Rt)&&(lt.preventDefault(),J.focus()),R(Rt)&&J.dom.isChildOf(Rt,J.selection.getNode())&&Tn())}),J.on("blur NewBlock",function(){Tn(),ri()});(function wn(lt){var Rt=!1;lt.on("touchstart",function(){Rt=!1}),lt.on("touchmove",function(){Rt=!0}),lt.on("touchend",function(bt){var Xt=Nt(bt.target);A(Xt)&&(Rt||(bt.preventDefault(),Ot(je(Xt))))})})(J),J.on("mousedown",function(lt){var Rt;if(Rt=Nt(lt.target))A(Rt)?(lt.preventDefault(),Ot(je(Rt))):function Ln(lt,Rt,bt){return!bt.collapsed&&q.reduce(bt.getClientRects(),function(Xt,rn){return Xt||P.containsXY(rn,lt,Rt)},!1)}(lt.clientX,lt.clientY,J.selection.getRng())||J.selection.placeCaretAt(lt.clientX,lt.clientY);else{Tn(),ri();var bt=w.closestCaret(pi,lt.clientX,lt.clientY);bt&&(function(lt,Rt){var bt=J.dom.getParent(lt,J.dom.isBlock),Xt=J.dom.getParent(Rt,J.dom.isBlock);return bt&&!function(lt,Rt){return J.dom.getParent(lt,J.dom.isBlock)===J.dom.getParent(Rt,J.dom.isBlock)}(bt,Xt)&&function(lt){var Rt=new ie(lt);if(!lt.firstChild)return!1;var bt=U.before(lt.firstChild),Xt=Rt.next(bt);return Xt&&!Z(Xt)&&!y(Xt)}(bt)}(lt.target,bt.node)||(lt.preventDefault(),J.getBody().focus(),Ee(Oe(1,bt.node,bt.before))))}}),J.on("keydown",function(lt){if(!E.modifierPressed(lt))switch(lt.keyCode){case E.RIGHT:mt(lt,Te);break;case E.DOWN:mt(lt,wt);break;case E.LEFT:mt(lt,We);break;case E.UP:mt(lt,Bt);break;case E.DELETE:mt(lt,st);break;case E.BACKSPACE:mt(lt,yt);break;default:A(J.selection.getNode())&&function(lt){return!(lt.keyCode>=112&&lt.keyCode<=123)}(lt)&&lt.preventDefault()}}),J.on("keyup compositionstart",function(lt){(function rt(lt){var Rt=function un(){return ln("*[data-mce-caret]")[0]}();if(Rt)return"compositionstart"==lt.type?(lt.preventDefault(),lt.stopPropagation(),void Qt(Rt)):void(z.hasContent(Rt)&&Qt(Rt))})(lt),function ft(lt){var Rt;switch(lt.keyCode){case E.DELETE:case E.BACKSPACE:Rt=function Fn(){var lt,Rt=Nt(J.selection.getNode());R(Rt)&&Ve(Rt)&&J.dom.isEmpty(Rt)&&(lt=J.dom.create("br",{"data-mce-bogus":"1"}),J.$(Rt).empty().append(lt),J.selection.setRng(U.before(lt).toRange()))}()}Rt&&lt.preventDefault()}(lt)},!0),J.on("cut",function(){var lt=J.selection.getNode();A(lt)&&O.setEditorTimeout(J,function(){Ee(Ae(Se(lt)))})}),J.on("getSelectionRange",function(lt){var Rt=lt.range;if(Ut){if(!Ut.parentNode)return void(Ut=null);(Rt=Rt.cloneRange()).selectNode(Ut),lt.range=Rt}}),J.on("setSelectionRange",function(lt){var Rt;(Rt=Ot(lt.range))&&(lt.range=Rt)}),J.on("AfterSetSelectionRange",function(lt){var Rt=lt.range;Dt(Rt)||ri(),function fe(mt){return J.dom.hasClass(mt,"mce-offscreen-selection")}(Rt.startContainer.parentNode)||Tn()}),J.on("focus",function(){O.setEditorTimeout(J,function(){J.selection.setRng(Ae(J.selection.getRng()))},0)}),J.on("copy",function(lt){var Rt=lt.clipboardData;if(!lt.isDefaultPrevented()&&lt.clipboardData&&!me.ie){var bt=function _e(){var mt=J.dom.get(Ci);return mt&&mt.getElementsByTagName("*")[0]}();bt&&(lt.preventDefault(),Rt.clearData(),Rt.setData("text/html",bt.outerHTML),Rt.setData("text/plain",bt.outerText))}}),$.init(J)}(),function Lt(){var mt=J.contentStyles,Nt=".mce-content-body";mt.push(wi.getCss()),mt.push(Nt+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+Nt+" *[contentEditable=false] {cursor: default;}"+Nt+" *[contentEditable=true] {cursor: text;}")}()),{showBlockCaretContainer:Qt,hideFakeCaret:ri,destroy:function qn(){wi.destroy(),Ut=null}}}}),xe(fu,[],function(){var me=0;return{uuid:function(z){return z+me+++function(){var z=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+z()+z()+z()}()}}}),xe(yr,[],function(){return{add:function(ie,U,z){var C=ie.sidebars?ie.sidebars:[];C.push({name:U,settings:z}),ie.sidebars=C}}}),xe(Bo,[ve,ae,he,Ne,Be,dt,Vt,Kn,Qn,cn,xn,Jt,jn,Ht,De,X,tn,ei,$e,gt,ii,G,Y,I,ui,_i,Ai,Or,hu,fu,yr,Wr],function(me,ie,U,z,C,D,_,w,M,j,P,E,H,q,O,$,F,re,N,R,A,v,y,Z,oe,J,fe,_e,Ve,Ee,Re,ze){function Oe(tt,Ae,Se){var at,vt,_t,Ue=this;at=Ue.documentBaseUrl=Se.documentBaseURL,vt=Se.baseURI,Ae=Ie({id:tt,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:at,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:Ue.convertURL,url_converter_scope:Ue,ie7_compat:!0},_t=Se.defaultSettings,Ae),_t&&_t.external_plugins&&Ae.external_plugins&&(Ae.external_plugins=Ie({},_t.external_plugins,Ae.external_plugins)),Ue.settings=Ae,U.language=Ae.language||"en",U.languageLoad=Ae.language_load,U.baseURL=Se.baseURL,Ue.id=Ae.id=tt,Ue.setDirty(!1),Ue.plugins={},Ue.documentBaseURI=new q(Ae.document_base_url||at,{base_uri:vt}),Ue.baseURI=vt,Ue.contentCSS=[],Ue.contentStyles=[],Ue.shortcuts=new fe(Ue),Ue.loadedCSS={},Ue.editorCommands=new H(Ue),Ue.suffix=Se.suffix,Ue.editorManager=Se,Ue.inline=Ae.inline,Ue.settings.content_editable=Ue.inline,Ae.cache_suffix&&(v.cacheSuffix=Ae.cache_suffix.replace(/^[\?\&]+/,"")),!1===Ae.override_viewport&&(v.overrideViewPort=!1),Se.fire("SetupEditor",Ue),Ue.execCallback("setup",Ue),Ue.$=ie.overrideDefaults(function(){return{context:Ue.inline?Ue.getBody():Ue.getDoc(),element:Ue.getBody()}})}var je=me.DOM,Ye=U.ThemeManager,ye=U.PluginManager,Ie=y.extend,He=y.each,Xe=y.explode,nt=y.inArray,Mt=y.trim,Wt=y.resolve,Kt=$.Event,un=v.gecko,Qt=v.ie;return Oe.prototype={render:function(){var Se=this,Ue=Se.settings,at=Se.id,vt=Se.suffix;if(Kt.domLoaded){if(Se.getElement()&&v.contentEditable){Ue.inline?Se.inline=!0:(Se.orgVisibility=Se.getElement().style.visibility,Se.getElement().style.visibility="hidden");var _t=Se.getElement().form||je.getParent(at,"form");_t&&(Se.formElement=_t,Ue.hidden_input&&!/TEXTAREA|INPUT/i.test(Se.getElement().nodeName)&&(je.insertAfter(je.create("input",{type:"hidden",name:at}),at),Se.hasHiddenInput=!0),Se.formEventDelegate=function(ct){Se.fire(ct.type,ct)},je.bind(_t,"submit reset",Se.formEventDelegate),Se.on("reset",function(){Se.setContent(Se.startContent,{format:"raw"})}),!Ue.submit_patch||_t.submit.nodeType||_t.submit.length||_t._mceOldSubmit||(_t._mceOldSubmit=_t.submit,_t.submit=function(){return Se.editorManager.triggerSave(),Se.setDirty(!1),_t._mceOldSubmit(_t)})),Se.windowManager=new F(Se),Se.notificationManager=new re(Se),"xml"==Ue.encoding&&Se.on("GetContent",function(ct){ct.save&&(ct.content=je.encode(ct.content))}),Ue.add_form_submit_trigger&&Se.on("submit",function(){Se.initialized&&Se.save()}),Ue.add_unload_trigger&&(Se._beforeUnload=function(){!Se.initialized||Se.destroyed||Se.isHidden()||Se.save({format:"raw",no_events:!0,set_dirty:!1})},Se.editorManager.on("BeforeUnload",Se._beforeUnload)),Se.editorManager.add(Se),function Ae(){var ct=O.ScriptLoader;if(Ue.language&&"en"!=Ue.language&&!Ue.language_url&&(Ue.language_url=Se.editorManager.baseURL+"/langs/"+Ue.language+".js"),Ue.language_url&&ct.add(Ue.language_url),Ue.theme&&"function"!=typeof Ue.theme&&"-"!=Ue.theme.charAt(0)&&!Ye.urls[Ue.theme]){var Lt=Ue.theme_url;Lt=Lt?Se.documentBaseURI.toAbsolute(Lt):"themes/"+Ue.theme+"/theme"+vt+".js",Ye.load(Ue.theme,Lt)}y.isArray(Ue.plugins)&&(Ue.plugins=Ue.plugins.join(" ")),He(Ue.external_plugins,function(It,Dt){ye.load(Dt,It),Ue.plugins+=" "+Dt}),He(Ue.plugins.split(/[ ,]/),function(It){if((It=Mt(It))&&!ye.urls[It])if("-"==It.charAt(0)){It=It.substr(1,It.length);var Dt=ye.dependencies(It);He(Dt,function(Ot){Ot=ye.createUrl({prefix:"plugins/",resource:Ot,suffix:"/plugin"+vt+".js"},Ot),ye.load(Ot.resource,Ot)})}else ye.load(It,{prefix:"plugins/",resource:It,suffix:"/plugin"+vt+".js"})}),ct.loadQueue(function(){Se.removed||Se.init()},Se,function(It){ze.pluginLoadError(Se,It[0]),Se.removed||Se.init()})}()}}else je.bind(window,"ready",function tt(){je.unbind(window,"ready",tt),Se.render()})},init:function(){var at,vt,_t,ct,Lt,It,Dt,Ot,Tn,qn,ri,Ae=this,Se=Ae.settings,Ue=Ae.getElement(),pi=[];if(Ae.rtl=Se.rtl_ui||Ae.editorManager.i18n.rtl,Ae.editorManager.i18n.setCode(Se.language),Se.aria_label=Se.aria_label||je.getAttrib(Ue,"aria-label",Ae.getLang("aria.rich_text_area")),Ae.fire("ScriptsLoaded"),Se.theme&&("function"!=typeof Se.theme?(Se.theme=Se.theme.replace(/-/,""),It=Ye.get(Se.theme),Ae.theme=new It(Ae,Ye.urls[Se.theme]),Ae.theme.init&&Ae.theme.init(Ae,Ye.urls[Se.theme]||Ae.documentBaseUrl.replace(/\/$/,""),Ae.$)):Ae.theme=Se.theme),He(Se.plugins.replace(/\-/g,"").split(/[ ,]/),function tt(wi){var Ut,ln,Ci=ye.get(wi);if(Ut=ye.urls[wi]||Ae.documentBaseUrl.replace(/\/$/,""),wi=Mt(wi),Ci&&-1===nt(pi,wi)){if(He(ye.dependencies(wi),function(mt){tt(mt)}),Ae.plugins[wi])return;ln=new Ci(Ae,Ut,Ae.$),Ae.plugins[wi]=ln,ln.init&&(ln.init(Ae,Ut),pi.push(wi))}}),Se.render_ui&&Ae.theme&&(Ae.orgDisplay=Ue.style.display,"function"!=typeof Se.theme?(vt=Se.height||Ue.style.height||Ue.offsetHeight,_t=Se.min_height||100,(qn=/^[0-9\.]+(|px)$/i).test(""+(at=Se.width||Ue.style.width||Ue.offsetWidth))&&(at=Math.max(parseInt(at,10),100)),qn.test(""+vt)&&(vt=Math.max(parseInt(vt,10),_t)),Lt=Ae.theme.renderUI({targetNode:Ue,width:at,height:vt,deltaWidth:Se.delta_width,deltaHeight:Se.delta_height}),Se.content_editable||(vt=(Lt.iframeHeight||vt)+("number"==typeof vt?Lt.deltaHeight||0:""))<_t&&(vt=_t)):((Lt=Se.theme(Ae,Ue)).editorContainer.nodeType&&(Lt.editorContainer.id=Lt.editorContainer.id||Ae.id+"_parent"),Lt.iframeContainer.nodeType&&(Lt.iframeContainer.id=Lt.iframeContainer.id||Ae.id+"_iframecontainer"),vt=Lt.iframeHeight||Ue.offsetHeight),Ae.editorContainer=Lt.editorContainer),Se.content_css&&He(Xe(Se.content_css),function(wi){Ae.contentCSS.push(Ae.documentBaseURI.toAbsolute(wi))}),Se.content_style&&Ae.contentStyles.push(Se.content_style),Se.content_editable)return Ue=ct=Lt=null,Ae.initContentBody();if(Ae.iframeHTML=Se.doctype+"<html><head>",Se.document_base_url!=Ae.documentBaseUrl&&(Ae.iframeHTML+='<base href="'+Ae.documentBaseURI.getURI()+'" />'),!v.caretAfter&&Se.ie7_compat&&(Ae.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),Ae.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(ri=0;ri<Ae.contentCSS.length;ri++){var ai=Ae.contentCSS[ri];Ae.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y._addCacheSuffix(ai)+'" />',Ae.loadedCSS[ai]=!0}-1!=(Ot=Se.body_id||"tinymce").indexOf("=")&&(Ot=(Ot=Ae.getParam("body_id","","hash"))[Ae.id]||Ot),-1!=(Tn=Se.body_class||"").indexOf("=")&&(Tn=(Tn=Ae.getParam("body_class","","hash"))[Ae.id]||""),Se.content_security_policy&&(Ae.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+Se.content_security_policy+'" />'),Ae.iframeHTML+='</head><body id="'+Ot+'" class="mce-content-body '+Tn+'" data-id="'+Ae.id+'"><br></body></html>';var oi='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+Ae.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&v.ie&&v.ie<12&&(Dt=oi);var ki=je.create("iframe",{id:Ae.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:Ae.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:vt,display:"block"}});if(ki.onload=function(){ki.onload=null,Ae.fire("load")},je.setAttrib(ki,"src",Dt||'javascript:""'),Ae.contentAreaContainer=Lt.iframeContainer,Ae.iframeElement=ki,ct=je.add(Lt.iframeContainer,ki),Qt)try{Ae.getDoc()}catch{ct.src=Dt=oi}Lt.editorContainer&&(je.get(Lt.editorContainer).style.display=Ae.orgDisplay,Ae.hidden=je.isHidden(Lt.editorContainer)),Ae.getElement().style.display="none",je.setAttrib(Ae.id,"aria-hidden",!0),Dt||Ae.initContentBody(),Ue=ct=Lt=null},initContentBody:function(tt){var vt,_t,Ae=this,Se=Ae.settings,Ue=Ae.getElement(),at=Ae.getDoc();Se.inline||(Ae.getElement().style.visibility=Ae.orgVisibility),tt||Se.content_editable||(at.open(),at.write(Ae.iframeHTML),at.close()),Se.content_editable&&(Ae.on("remove",function(){var ct=this.getBody();je.removeClass(ct,"mce-content-body"),je.removeClass(ct,"mce-edit-focus"),je.setAttrib(ct,"contentEditable",null)}),je.addClass(Ue,"mce-content-body"),Ae.contentDocument=at=Se.content_document||document,Ae.contentWindow=Se.content_window||window,Ae.bodyElement=Ue,Se.content_document=Se.content_window=null,Se.root_name=Ue.nodeName.toLowerCase()),(vt=Ae.getBody()).disabled=!0,Ae.readonly=Se.readonly,Ae.readonly||(Ae.inline&&"static"==je.getStyle(vt,"position",!0)&&(vt.style.position="relative"),vt.contentEditable=Ae.getParam("content_editable_state",!0)),vt.disabled=!1,Ae.editorUpload=new _e(Ae),Ae.schema=new N(Se),Ae.dom=new me(at,{keep_values:!0,url_converter:Ae.convertURL,url_converter_scope:Ae,hex_colors:Se.force_hex_style_colors,class_filter:Se.class_filter,update_styles:!0,root_element:Ae.inline?Ae.getBody():null,collect:Se.content_editable,schema:Ae.schema,onSetAttrib:function(ct){Ae.fire("SetAttrib",ct)}}),Ae.parser=new R(Se,Ae.schema),Ae.parser.addAttributeFilter("src,href,style,tabindex",function(ct,Lt){for(var Dt,Tn,qn,It=ct.length,Ot=Ae.dom;It--;)if(Tn=(Dt=ct[It]).attr(Lt),!Dt.attributes.map[qn="data-mce-"+Lt]){if(0===Tn.indexOf("data:")||0===Tn.indexOf("blob:"))continue;"style"===Lt?((Tn=Ot.serializeStyle(Ot.parseStyle(Tn),Dt.name)).length||(Tn=null),Dt.attr(qn,Tn),Dt.attr(Lt,Tn)):"tabindex"===Lt?(Dt.attr(qn,Tn),Dt.attr(Lt,null)):Dt.attr(qn,Ae.convertURL(Tn,Lt,Dt.name))}}),Ae.parser.addNodeFilter("script",function(ct){for(var It,Dt,Lt=ct.length;Lt--;)0!==(Dt=(It=ct[Lt]).attr("type")||"no/type").indexOf("mce-")&&It.attr("type","mce-"+Dt)}),Ae.parser.addNodeFilter("#cdata",function(ct){for(var It,Lt=ct.length;Lt--;)(It=ct[Lt]).type=8,It.name="#comment",It.value="[CDATA["+It.value+"]]"}),Ae.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(ct){for(var It,Lt=ct.length,Dt=Ae.schema.getNonEmptyElements();Lt--;)(It=ct[Lt]).isEmpty(Dt)&&0===It.getAll("br").length&&(It.append(new C("br",1)).shortEnded=!0)}),Ae.serializer=new D(Se,Ae),Ae.selection=new w(Ae.dom,Ae.getWin(),Ae.serializer,Ae),Ae.formatter=new M(Ae),Ae.undoManager=new j(Ae),Ae.forceBlocks=new E(Ae),Ae.enterKey=new P(Ae),Ae._nodeChangeDispatcher=new z(Ae),Ae._selectionOverrides=new Ve(Ae),Ae.fire("PreInit"),Se.browser_spellcheck||Se.gecko_spellcheck||(at.body.spellcheck=!1,je.setAttrib(vt,"spellcheck","false")),Ae.quirks=new A(Ae),Ae.fire("PostRender"),Se.directionality&&(vt.dir=Se.directionality),Se.nowrap&&(vt.style.whiteSpace="nowrap"),Se.protect&&Ae.on("BeforeSetContent",function(ct){He(Se.protect,function(Lt){ct.content=ct.content.replace(Lt,function(It){return"\x3c!--mce:protected "+escape(It)+"--\x3e"})})}),Ae.on("SetContent",function(){Ae.addVisual(Ae.getBody())}),Se.padd_empty_editor&&Ae.on("PostProcess",function(ct){ct.content=ct.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),Ae.load({initial:!0,format:"html"}),Ae.startContent=Ae.getContent({format:"raw"}),Ae.initialized=!0,Ae.bindPendingEventDelegates(),Ae.fire("init"),Ae.focus(!0),Ae.nodeChanged({initial:!0}),Ae.execCallback("init_instance_callback",Ae),Ae.on("compositionstart compositionend",function(ct){Ae.composing="compositionstart"===ct.type}),Ae.contentStyles.length>0&&(_t="",He(Ae.contentStyles,function(ct){_t+=ct+"\r\n"}),Ae.dom.addStyle(_t)),He(Ae.contentCSS,function(ct){Ae.loadedCSS[ct]||(Ae.dom.loadCSS(ct),Ae.loadedCSS[ct]=!0)}),Se.auto_focus&&Z.setEditorTimeout(Ae,function(){var ct;(ct=!0===Se.auto_focus?Ae:Ae.editorManager.get(Se.auto_focus)).destroyed||ct.focus()},100),Ue=at=vt=null},focus:function(tt){var vt,_t,It,Se=this,Ue=Se.selection,at=Se.settings.content_editable,ct=Se.getDoc(),Lt=Se.getBody();if(!tt){if((vt=Ue.getRng()).item&&(_t=vt.item(0)),Se.quirks.refreshContentEditable(),It=function Ae(Dt){return Se.dom.getParent(Dt,function(Ot){return"true"===Se.dom.getContentEditable(Ot)})}(Ue.getNode()),Se.$.contains(Lt,It))return It.focus(),Ue.normalize(),void Se.editorManager.setActive(Se);if(at||(v.opera||Se.getBody().focus(),Se.getWin().focus()),un||at){if(Lt.setActive)try{Lt.setActive()}catch{Lt.focus()}else Lt.focus();at&&Ue.normalize()}_t&&_t.ownerDocument==ct&&((vt=ct.body.createControlRange()).addElement(_t),vt.select())}Se.editorManager.setActive(Se)},execCallback:function(tt){var Ue,Ae=this,Se=Ae.settings[tt];if(Se)return Ae.callbackLookup&&(Ue=Ae.callbackLookup[tt])&&(Se=Ue.func,Ue=Ue.scope),"string"==typeof Se&&(Ue=(Ue=Se.replace(/\.\w+$/,""))?Wt(Ue):0,Se=Wt(Se),Ae.callbackLookup=Ae.callbackLookup||{},Ae.callbackLookup[tt]={func:Se,scope:Ue}),Se.apply(Ue||Ae,Array.prototype.slice.call(arguments,1))},translate:function(tt){var Ae=this.settings.language||"en",Se=this.editorManager.i18n;return tt?(tt=Se.data[Ae+"."+tt]||tt.replace(/\{\#([^\}]+)\}/g,function(Ue,at){return Se.data[Ae+"."+at]||"{#"+at+"}"}),this.editorManager.translate(tt)):""},getLang:function(tt,Ae){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+tt]||(Ae!==St?Ae:"{#"+tt+"}")},getParam:function(tt,Ae,Se){var at,Ue=tt in this.settings?this.settings[tt]:Ae;return"hash"===Se?(at={},"string"==typeof Ue?He(Ue.indexOf("=")>0?Ue.split(/[;,](?![^=;,]*(?:[;,]|$))/):Ue.split(","),function(vt){vt=vt.split("="),at[Mt(vt[0])]=Mt(vt.length>1?vt[1]:vt)}):at=Ue,at):Ue},nodeChanged:function(tt){this._nodeChangeDispatcher.nodeChanged(tt)},addButton:function(tt,Ae){var Se=this;Ae.cmd&&(Ae.onclick=function(){Se.execCommand(Ae.cmd)}),Ae.text||Ae.icon||(Ae.icon=tt),Se.buttons=Se.buttons||{},Ae.tooltip=Ae.tooltip||Ae.title,Se.buttons[tt]=Ae},addSidebar:function(tt,Ae){return Re.add(this,tt,Ae)},addMenuItem:function(tt,Ae){var Se=this;Ae.cmd&&(Ae.onclick=function(){Se.execCommand(Ae.cmd)}),Se.menuItems=Se.menuItems||{},Se.menuItems[tt]=Ae},addContextToolbar:function(tt,Ae){var Ue,Se=this;Se.contextToolbars=Se.contextToolbars||[],"string"==typeof tt&&(Ue=tt,tt=function(at){return Se.dom.is(at,Ue)}),Se.contextToolbars.push({id:Ee.uuid("mcet"),predicate:tt,items:Ae})},addCommand:function(tt,Ae,Se){this.editorCommands.addCommand(tt,Ae,Se)},addQueryStateHandler:function(tt,Ae,Se){this.editorCommands.addQueryStateHandler(tt,Ae,Se)},addQueryValueHandler:function(tt,Ae,Se){this.editorCommands.addQueryValueHandler(tt,Ae,Se)},addShortcut:function(tt,Ae,Se,Ue){this.shortcuts.add(tt,Ae,Se,Ue)},execCommand:function(tt,Ae,Se,Ue){return this.editorCommands.execCommand(tt,Ae,Se,Ue)},queryCommandState:function(tt){return this.editorCommands.queryCommandState(tt)},queryCommandValue:function(tt){return this.editorCommands.queryCommandValue(tt)},queryCommandSupported:function(tt){return this.editorCommands.queryCommandSupported(tt)},show:function(){var tt=this;tt.hidden&&(tt.hidden=!1,tt.inline?tt.getBody().contentEditable=!0:(je.show(tt.getContainer()),je.hide(tt.id)),tt.load(),tt.fire("show"))},hide:function(){var tt=this,Ae=tt.getDoc();tt.hidden||(Qt&&Ae&&!tt.inline&&Ae.execCommand("SelectAll"),tt.save(),tt.inline?(tt.getBody().contentEditable=!1,tt==tt.editorManager.focusedEditor&&(tt.editorManager.focusedEditor=null)):(je.hide(tt.getContainer()),je.setStyle(tt.id,"display",tt.orgDisplay)),tt.hidden=!0,tt.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(tt,Ae){this.fire("ProgressState",{state:tt,time:Ae})},load:function(tt){var Ue,Se=this.getElement();if(Se)return(tt=tt||{}).load=!0,Ue=this.setContent(Se.value!==St?Se.value:Se.innerHTML,tt),tt.element=Se,tt.no_events||this.fire("LoadContent",tt),tt.element=Se=null,Ue},save:function(tt){var Ue,at,Ae=this,Se=Ae.getElement();if(Se&&Ae.initialized)return(tt=tt||{}).save=!0,tt.element=Se,tt.content=Ae.getContent(tt),tt.no_events||Ae.fire("SaveContent",tt),"raw"==tt.format&&Ae.fire("RawSaveContent",tt),Ue=tt.content,/TEXTAREA|INPUT/i.test(Se.nodeName)?Se.value=Ue:(Ae.inline||(Se.innerHTML=Ue),(at=je.getParent(Ae.id,"form"))&&He(at.elements,function(vt){if(vt.name==Ae.id)return vt.value=Ue,!1})),tt.element=Se=null,!1!==tt.set_dirty&&Ae.setDirty(!1),Ue},setContent:function(tt,Ae){var at,vt,Se=this,Ue=Se.getBody();return(Ae=Ae||{}).format=Ae.format||"html",Ae.set=!0,Ae.content=tt,Ae.no_events||Se.fire("BeforeSetContent",Ae),0===(tt=Ae.content).length||/^\s+$/.test(tt)?(vt=Qt&&Qt<11?"":'<br data-mce-bogus="1">',"TABLE"==Ue.nodeName?tt="<tr><td>"+vt+"</td></tr>":/^(UL|OL)$/.test(Ue.nodeName)&&(tt="<li>"+vt+"</li>"),(at=Se.settings.forced_root_block)&&Se.schema.isValidChild(Ue.nodeName.toLowerCase(),at.toLowerCase())?tt=Se.dom.createHTML(at,Se.settings.forced_root_block_attrs,tt=vt):Qt||tt||(tt='<br data-mce-bogus="1">'),Se.dom.setHTML(Ue,tt),Se.fire("SetContent",Ae)):("raw"!==Ae.format&&(tt=new _({validate:Se.validate},Se.schema).serialize(Se.parser.parse(tt,{isRootContent:!0}))),Ae.content=Mt(tt),Se.dom.setHTML(Ue,Ae.content),Ae.no_events||Se.fire("SetContent",Ae)),Ae.content},getContent:function(tt){var Se,Ae=this,Ue=Ae.getBody();return(tt=tt||{}).format=tt.format||"html",tt.get=!0,tt.getInner=!0,tt.no_events||Ae.fire("BeforeGetContent",tt),Se="raw"==tt.format?y.trim(Ae.serializer.getTrimmedContent()):"text"==tt.format?Ue.innerText||Ue.textContent:Ae.serializer.serialize(Ue,tt),tt.content="text"!=tt.format?Mt(Se):Se,tt.no_events||Ae.fire("GetContent",tt),tt.content},insertContent:function(tt,Ae){Ae&&(tt=Ie({content:tt},Ae)),this.execCommand("mceInsertContent",!1,tt)},isDirty:function(){return!this.isNotDirty},setDirty:function(tt){var Ae=!this.isNotDirty;this.isNotDirty=!tt,tt&&tt!=Ae&&this.fire("dirty")},setMode:function(tt){J.setMode(this,tt)},getContainer:function(){var tt=this;return tt.container||(tt.container=je.get(tt.editorContainer||tt.id+"_parent")),tt.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=je.get(this.id)),this.targetElm},getWin:function(){var Ae;return this.contentWindow||(Ae=this.iframeElement)&&(this.contentWindow=Ae.contentWindow),this.contentWindow},getDoc:function(){var Ae;return this.contentDocument||(Ae=this.getWin())&&(this.contentDocument=Ae.document),this.contentDocument},getBody:function(){var tt=this.getDoc();return this.bodyElement||(tt?tt.body:null)},convertURL:function(tt,Ae,Se){var at=this.settings;return at.urlconverter_callback?this.execCallback("urlconverter_callback",tt,Se,!0,Ae):!at.convert_urls||Se&&"LINK"==Se.nodeName||0===tt.indexOf("file:")||0===tt.length?tt:at.relative_urls?this.documentBaseURI.toRelative(tt):tt=this.documentBaseURI.toAbsolute(tt,at.remove_script_host)},addVisual:function(tt){var at,Ae=this,Se=Ae.settings,Ue=Ae.dom;tt=tt||Ae.getBody(),Ae.hasVisual===St&&(Ae.hasVisual=Se.visual),He(Ue.select("table,a",tt),function(vt){var _t;switch(vt.nodeName){case"TABLE":return at=Se.visual_table_class||"mce-item-table",void((_t=Ue.getAttrib(vt,"border"))&&"0"!=_t||!Ae.hasVisual?Ue.removeClass(vt,at):Ue.addClass(vt,at));case"A":return void(Ue.getAttrib(vt,"href",!1)||(_t=Ue.getAttrib(vt,"name")||vt.id,at=Se.visual_anchor_class||"mce-item-anchor",_t&&Ae.hasVisual?Ue.addClass(vt,at):Ue.removeClass(vt,at)))}}),Ae.fire("VisualAid",{element:tt,hasVisual:Ae.hasVisual})},remove:function(){var tt=this;tt.removed||(tt.save(),tt.removed=1,tt.unbindAllNativeEvents(),tt.hasHiddenInput&&je.remove(tt.getElement().nextSibling),tt.inline||(Qt&&Qt<10&&tt.getDoc().execCommand("SelectAll",!1,null),je.setStyle(tt.id,"display",tt.orgDisplay),tt.getBody().onload=null),tt.fire("remove"),tt.editorManager.remove(tt),je.remove(tt.getContainer()),tt._selectionOverrides.destroy(),tt.editorUpload.destroy(),tt.destroy())},destroy:function(tt){var Se,Ae=this;if(!Ae.destroyed){if(!tt&&!Ae.removed)return void Ae.remove();tt||(Ae.editorManager.off("beforeunload",Ae._beforeUnload),Ae.theme&&Ae.theme.destroy&&Ae.theme.destroy(),Ae.selection.destroy(),Ae.dom.destroy()),(Se=Ae.formElement)&&(Se._mceOldSubmit&&(Se.submit=Se._mceOldSubmit,Se._mceOldSubmit=null),je.unbind(Se,"submit reset",Ae.formEventDelegate)),Ae.contentAreaContainer=Ae.formElement=Ae.container=Ae.editorContainer=null,Ae.bodyElement=Ae.contentDocument=Ae.contentWindow=null,Ae.iframeElement=Ae.targetElm=null,Ae.selection&&(Ae.selection=Ae.selection.win=Ae.selection.dom=Ae.selection.dom.doc=null),Ae.destroyed=1}},uploadImages:function(tt){return this.editorUpload.uploadImages(tt)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Ie(Oe.prototype,oe),Oe}),xe(sa,[Y],function(me){var ie={},U="en";return{setCode:function(z){z&&(U=z,this.rtl=!!this.data[z]&&"rtl"===this.data[z]._dir)},getCode:function(){return U},rtl:!1,add:function(z,C){var D=ie[z];for(var _ in D||(ie[z]=D={}),C)D[_]=C[_];this.setCode(z)},translate:function(z){function C(j){return me.is(j,"function")?Object.prototype.toString.call(j):D(j)?"":""+j}function D(j){return""===j||null===j||me.is(j,"undefined")}function _(j){return j=C(j),me.hasOwn(w,j)?C(w[j]):j}var w=ie[U]||{};if(D(z))return"";if(me.is(z,"object")&&me.hasOwn(z,"raw"))return C(z.raw);if(me.is(z,"array")){var M=z.slice(1);z=_(z[0]).replace(/\{([0-9]+)\}/g,function(j,P){return me.hasOwn(M,P)?C(M[P]):j})}return _(z).replace(/{context:\w+}$/,"")},data:ie}}),xe(ho,[ve,I,G],function(me,ie,U){function z(j){function P(){try{return document.activeElement}catch{return document.body}}j.on("AddEditor",function q($){var F=$.editor;F.on("init",function(){(F.inline||U.ie)&&("onbeforedeactivate"in document&&U.ie<9?F.dom.bind(F.getBody(),"beforedeactivate",function(re){if(re.target==F.getBody())try{F.lastRng=F.selection.getRng()}catch{}}):F.on("nodechange mouseup keyup",function(re){var N=P();"nodechange"==re.type&&re.selectionChange||(N&&N.id==F.id+"_ifr"&&(N=F.getBody()),F.dom.isChildOf(N,F.getBody())&&(F.lastRng=F.selection.getRng()))}),U.webkit&&!C&&(C=function(){var re=j.activeEditor;if(re&&re.selection){var N=re.selection.getRng();N&&!N.collapsed&&(F.lastRng=N)}},w.bind(document,"selectionchange",C)))}),F.on("setcontent",function(){F.lastRng=null}),F.on("mousedown",function(){F.selection.lastFocusBookmark=null}),F.on("focusin",function(){var N,re=j.focusedEditor;F.selection.lastFocusBookmark&&(N=function H($,F){var re;return F.startContainer?((re=$.getDoc().createRange()).setStart(F.startContainer,F.startOffset),re.setEnd(F.endContainer,F.endOffset)):re=F,re}(F,F.selection.lastFocusBookmark),F.selection.lastFocusBookmark=null,F.selection.setRng(N)),re!=F&&(re&&re.fire("blur",{focusedEditor:F}),j.setActive(F),j.focusedEditor=F,F.fire("focus",{blurredEditor:re}),F.focus(!0)),F.lastRng=null}),F.on("focusout",function(){ie.setEditorTimeout(F,function(){var re=j.focusedEditor;M(F,P())||re!=F||(F.fire("blur",{focusedEditor:null}),j.focusedEditor=null,F.selection&&(F.selection.lastFocusBookmark=null))})}),D||(D=function(re){var R,N=j.activeEditor;R=re.target,N&&R.ownerDocument==document&&(N.selection&&R!=N.getBody()&&(N.selection.lastFocusBookmark=function E($,F){return F&&F.startContainer?$.isChildOf(F.startContainer,$.getRoot())&&$.isChildOf(F.endContainer,$.getRoot())?{startContainer:F.startContainer,startOffset:F.startOffset,endContainer:F.endContainer,endOffset:F.endOffset}:void 0:F}(N.dom,N.lastRng)),R==document.body||M(N,R)||j.focusedEditor!=N||(N.fire("blur",{focusedEditor:null}),j.focusedEditor=null))},w.bind(document,"focusin",D)),F.inline&&!_&&(_=function(re){var N=j.activeEditor,R=N.dom;if(N.inline&&R&&!R.isChildOf(re.target,N.getBody())){var A=N.selection.getRng();A.collapsed||(N.lastRng=A)}},w.bind(document,"mouseup",_))}),j.on("RemoveEditor",function O($){j.focusedEditor==$.editor&&(j.focusedEditor=null),j.activeEditor||(w.unbind(document,"selectionchange",C),w.unbind(document,"focusin",D),w.unbind(document,"mouseup",_),C=D=_=null)})}var C,D,_,w=me.DOM,M=function(j,P){var E=j?j.settings.custom_ui_selector:"";return null!==w.getParent(P,function(q){return z.isEditorUIElement(q)||!!E&&j.dom.is(q,E)})};return z.isEditorUIElement=function(j){return-1!==j.className.toString().indexOf("mce-")},z._isUIElement=M,z}),xe(Mr,[Bo,ae,ve,Ht,G,Y,k,bn,sa,ho,he],function(me,ie,U,z,C,D,_,w,M,j,P){function E(Z){re(v.editors,function(oe){oe.fire("scroll"===Z.type?"ScrollWindow":"ResizeWindow",Z)})}function H(Z,oe){oe!==y&&(oe?ie(window).on("resize scroll",E):ie(window).off("resize scroll",E),y=oe)}function q(Z){var J,oe=v.editors;delete oe[Z.id];for(var fe=0;fe<oe.length;fe++)if(oe[fe]==Z){oe.splice(fe,1),J=!0;break}return v.activeEditor==Z&&(v.activeEditor=oe[0]),v.focusedEditor==Z&&(v.focusedEditor=null),J}var A,v,$=U.DOM,F=D.explode,re=D.each,N=D.extend,R=0,y=!1;return v={$:ie,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:M,activeEditor:null,setup:function(){var oe,J,_e,Ve,Z=this,fe="";if(J=z.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(J)&&(J=J.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(J)||(J+="/")),_e=window.tinymce||window.tinyMCEPreInit)oe=_e.base||_e.baseURL,fe=_e.suffix;else{for(var Ee=document.getElementsByTagName("script"),Re=0;Re<Ee.length;Re++){var ze=(Ve=Ee[Re].src).substring(Ve.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(Ve)){-1!=ze.indexOf(".min")&&(fe=".min"),oe=Ve.substring(0,Ve.lastIndexOf("/"));break}}!oe&&document.currentScript&&(-1!=(Ve=document.currentScript.src).indexOf(".min")&&(fe=".min"),oe=Ve.substring(0,Ve.lastIndexOf("/")))}Z.baseURL=new z(J).toAbsolute(oe),Z.documentBaseURL=J,Z.baseURI=new z(Z.baseURL),Z.suffix=fe,Z.focusManager=new j(Z)},overrideDefaults:function(Z){var oe;(oe=Z.base_url)&&(this.baseURL=new z(this.documentBaseURL).toAbsolute(oe.replace(/\/+$/,"")),this.baseURI=new z(this.baseURL)),Z.suffix&&(this.suffix=Z.suffix),this.defaultSettings=Z;var fe=Z.plugin_base_urls;for(var _e in fe)P.PluginManager.urls[_e]=fe[_e]},init:function(Z){function fe(ye){var Ie=ye.id;return Ie||(Ie=(Ie=ye.name)&&!$.get(Ie)?ye.name:$.uniqueId(),ye.setAttribute("id",Ie)),Ie}function Ve(ye,Ie){return Ie.constructor===RegExp?Ie.test(ye.className):$.hasClass(ye,Ie)}var Oe,je,ze=this;je=D.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var Ye=function(ye){Oe=ye};return ze.settings=Z,$.bind(window,"ready",function Re(){function ye(nt,Mt,Wt){var Kt=new me(nt,Mt,ze);He.push(Kt),Kt.on("init",function(){++Ie===Xe.length&&Ye(He)}),Kt.targetElm=Kt.targetElm||Wt,Kt.render()}var Xe,Ie=0,He=[];return $.unbind(window,"ready",Re),function _e(ye){var Ie=Z[ye];if(Ie)Ie.apply(ze,Array.prototype.slice.call(arguments,2))}("onpageload"),Xe=ie.unique(function Ee(ye){var Ie,He=[];if(ye.types)return re(ye.types,function(Xe){He=He.concat($.select(Xe.selector))}),He;if(ye.selector)return $.select(ye.selector);if(ye.target)return[ye.target];switch(ye.mode){case"exact":(Ie=ye.elements||"").length>0&&re(F(Ie),function(Xe){var nt;(nt=$.get(Xe))?He.push(nt):re(document.forms,function(Mt){re(Mt.elements,function(Wt){Wt.name===Xe&&(Xe="mce_editor_"+R++,$.setAttrib(Wt,"id",Xe),He.push(Wt))})})});break;case"textareas":case"specific_textareas":re($.select("textarea"),function(Xe){ye.editor_deselector&&Ve(Xe,ye.editor_deselector)||ye.editor_selector&&!Ve(Xe,ye.editor_selector)||He.push(Xe)})}return He}(Z)),Z.types?void re(Z.types,function(nt){D.each(Xe,function(Mt){return!$.is(Mt,nt.selector)||(ye(fe(Mt),N({},Z,nt),Mt),!1)})}):(D.each(Xe,function(nt){!function O(Z){Z&&Z.initialized&&!(Z.getContainer()||Z.getBody()).parentNode&&(q(Z),Z.unbindAllNativeEvents(),Z.destroy(!0),Z.removed=!0,Z=null)}(ze.get(nt.id))}),Xe=D.grep(Xe,function(nt){return!ze.get(nt.id)}),void re(Xe,function(nt){!function oe(ye,Ie){return ye.inline&&Ie.tagName.toLowerCase()in je}(Z,nt)?ye(fe(nt),Z,nt):function J(ye,Ie){window.console&&!window.test&&window.console.log(ye,Ie)}("Could not initialize inline editor on invalid inline target element",nt)}))}),new _(function(ye){Oe?ye(Oe):Ye=function(Ie){ye(Ie)}})},get:function(Z){return arguments.length?Z in this.editors?this.editors[Z]:null:this.editors},add:function(Z){var oe=this,J=oe.editors;return J[Z.id]=Z,J.push(Z),H(0,!0),oe.activeEditor=Z,oe.fire("AddEditor",{editor:Z}),A||(A=function(){oe.fire("BeforeUnload")},$.bind(window,"beforeunload",A)),Z},createEditor:function(Z,oe){return this.add(new me(Z,oe,this))},remove:function(Z){var J,_e,oe=this,fe=oe.editors;if(Z)return"string"==typeof Z?void re($.select(Z=Z.selector||Z),function(Ve){(_e=fe[Ve.id])&&oe.remove(_e)}):fe[(_e=Z).id]?(q(_e)&&oe.fire("RemoveEditor",{editor:_e}),fe.length||$.unbind(window,"beforeunload",A),_e.remove(),H(0,fe.length>0),_e):null;for(J=fe.length-1;J>=0;J--)oe.remove(fe[J])},execCommand:function(Z,oe,J){var fe=this,_e=fe.get(J);switch(Z){case"mceAddEditor":return fe.get(J)||new me(J,fe.settings,fe).render(),!0;case"mceRemoveEditor":return _e&&_e.remove(),!0;case"mceToggleEditor":return _e?(_e.isHidden()?_e.show():_e.hide(),!0):(fe.execCommand("mceAddEditor",0,J),!0)}return!!fe.activeEditor&&fe.activeEditor.execCommand(Z,oe,J)},triggerSave:function(){re(this.editors,function(Z){Z.save()})},addI18n:function(Z,oe){M.add(Z,oe)},translate:function(Z){return M.translate(Z)},setActive:function(Z){var oe=this.activeEditor;this.activeEditor!=Z&&(oe&&oe.fire("deactivate",{relatedTarget:Z}),Z.fire("activate",{relatedTarget:oe})),this.activeEditor=Z}},N(v,w),v.setup(),window.tinymce=window.tinyMCE=v,v}),xe("tinymce/LegacyInput",[Mr,Y],function(me,ie){var U=ie.each,z=ie.explode;me.on("AddEditor",function(C){var D=C.editor;D.on("preInit",function(){function _(H,q){U(q,function(O,$){O&&P.setStyle(H,$,O)}),P.rename(H,"span")}var M,j,P,E=D.settings;E.inline_styles&&(j=z(E.font_size_legacy_values),M={font:function(H,q){_(q,{backgroundColor:q.style.backgroundColor,color:q.color,fontFamily:q.face,fontSize:j[parseInt(q.size,10)-1]})},u:function(H,q){"html4"===D.settings.schema&&_(q,{textDecoration:"underline"})},strike:function(H,q){_(q,{textDecoration:"line-through"})}},D.on("PreProcess SetContent",function w(H){P=D.dom,E.convert_fonts_to_spans&&U(P.select("font,u,strike",H.node),function(q){M[q.nodeName.toLowerCase()](P,q)})}))})})}),xe(la,[bn,Y],function(me,ie){var U={send:function(z){function C(){!z.async||4==D.readyState||_++>1e4?(z.success&&_<1e4&&200==D.status?z.success.call(z.success_scope,""+D.responseText,D,z):z.error&&z.error.call(z.error_scope,_>1e4?"TIMED_OUT":"GENERAL",D,z),D=null):setTimeout(C,10)}var D,_=0;if(z.scope=z.scope||this,z.success_scope=z.success_scope||z.scope,z.error_scope=z.error_scope||z.scope,z.async=!1!==z.async,z.data=z.data||"",U.fire("beforeInitialize",{settings:z}),D=new XMLHttpRequest){if(D.overrideMimeType&&D.overrideMimeType(z.content_type),D.open(z.type||(z.data?"POST":"GET"),z.url,z.async),z.crossDomain&&(D.withCredentials=!0),z.content_type&&D.setRequestHeader("Content-Type",z.content_type),z.requestheaders&&ie.each(z.requestheaders,function(w){D.setRequestHeader(w.key,w.value)}),D.setRequestHeader("X-Requested-With","XMLHttpRequest"),(D=U.fire("beforeSend",{xhr:D,settings:z}).xhr).send(z.data),!z.async)return C();setTimeout(C,10)}}};return ie.extend(U,me),U}),xe(Na,[],function(){return{serialize:function me(ie,U){var z,C,D,_;if(U=U||'"',null===ie)return"null";if("string"==(D=typeof ie))return C="\bb\tt\nn\ff\rr\"\"''\\\\",U+ie.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(w,M){return'"'===U&&"'"===w?w:(z=C.indexOf(M))+1?"\\"+C.charAt(z+1):(w=M.charCodeAt().toString(16),"\\u"+"0000".substring(w.length)+w)})+U;if("object"==D){if(ie.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(ie)){for(z=0,C="[";z<ie.length;z++)C+=(z>0?",":"")+me(ie[z],U);return C+"]"}for(_ in C="{",ie)ie.hasOwnProperty(_)&&(C+="function"!=typeof ie[_]?(C.length>1?","+U:U)+_+U+":"+me(ie[_],U):"");return C+"}"}return""+ie},parse:function(ie){try{return window[String.fromCharCode(101)+"val"]("("+ie+")")}catch{}}}}),xe(pu,[Na,la,Y],function(me,ie,U){function z(D){this.settings=C({},D),this.count=0}var C=U.extend;return z.sendRPC=function(D){return(new z).send(D)},z.prototype={send:function(D){var _=D.error,w=D.success;(D=C(this.settings,D)).success=function(M,j){typeof(M=me.parse(M))>"u"&&(M={error:"JSON Parse error."}),M.error?_.call(D.error_scope||D.scope,M.error,j):w.call(D.success_scope||D.scope,M.result)},D.error=function(M,j){_&&_.call(D.error_scope||D.scope,M,j)},D.data=me.serialize({id:D.id||"c"+this.count++,method:D.method,params:D.params}),D.content_type="application/json",ie.send(D)}},z}),xe(nd,[ve],function(me){return{callbacks:{},count:0,send:function(ie){var U=this,z=me.DOM,C=ie.count!==St?ie.count:U.count,D="tinymce_jsonp_"+C;U.callbacks[C]=function(_){z.remove(D),delete U.callbacks[C],ie.callback(_)},z.add(z.doc.body,"script",{id:D,src:ie.url,type:"text/javascript"}),U.count++}}}),xe(sl,[],function(){function me(){for(var j in _=[],D)_.push(j);z.length=_.length}function U(){var j,P="";if(M){for(var E in D)j=D[E],P+=(P?",":"")+E.length.toString(32)+","+E+","+j.length.toString(32)+","+j;C.setAttribute(w,P);try{C.save(w)}catch{}me()}}var z,C,D,_,w,M;try{if(window.localStorage)return localStorage}catch{}return w="tinymce",C=document.documentElement,(M=!!C.addBehavior)&&C.addBehavior("#default#userData"),z={key:function(j){return _[j]},getItem:function(j){return j in D?D[j]:null},setItem:function(j,P){D[j]=""+P,U()},removeItem:function(j){delete D[j],U()},clear:function(){D={},U()}},function ie(){function j($){var F,re;return-1===(re=$!==St?q+$:E.indexOf(",",q))||re>E.length?null:(F=E.substring(q,re),q=re+1,F)}var P,E,H,q=0;if(D={},M){C.load(w),E=C.getAttribute(w)||"";do{var O=j();if(null===O)break;if(null!==(P=j(parseInt(O,32)||0))){if(null===(O=j()))break;H=j(parseInt(O,32)||0),P&&(D[P]=H)}}while(null!==P);me()}}(),z}),xe(zo,[ve,X,De,he,Y,G],function(me,ie,U,z,C,D){var _=window.tinymce;return _.DOM=me.DOM,_.ScriptLoader=U.ScriptLoader,_.PluginManager=z.PluginManager,_.ThemeManager=z.ThemeManager,_.dom=_.dom||{},_.dom.Event=ie.Event,C.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(w){_[w]=C[w]}),C.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(w){_[w]=D[w.substr(2).toLowerCase()]}),{}}),xe(Tr,[en,Y],function(me,ie){return me.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(U){this.settings=ie.extend({},this.Defaults,U)},preRender:function(U){U.bodyClasses.add(this.settings.containerClass)},applyClasses:function(U){var D,_,w,M,C=this.settings;D=C.firstControlClass,_=C.lastControlClass,U.each(function(j){j.classes.remove(D).remove(_).add(C.controlClass),j.visible()&&(w||(w=j),M=j)}),w&&w.classes.add(D),M&&M.classes.add(_)},renderHtml:function(U){var C="";return this.applyClasses(U.items()),U.items().each(function(D){C+=D.renderHtml()}),C},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),xe(xr,[Tr],function(me){return me.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(ie){ie.items().filter(":visible").each(function(U){var z=U.settings;U.layoutRect({x:z.x,y:z.y,w:z.w,h:z.h}),U.recalc&&U.recalc()})},renderHtml:function(ie){return'<div id="'+ie._id+'-absend" class="'+ie.classPrefix+'abs-end"></div>'+this._super(ie)}})}),xe(fo,[vn],function(me){return me.extend({Defaults:{classes:"widget btn",role:"button"},init:function(ie){var z,U=this;U._super(ie),ie=U.settings,z=U.settings.size,U.on("click mousedown",function(C){C.preventDefault()}),U.on("touchstart",function(C){U.fire("click",C),C.preventDefault()}),ie.subtype&&U.classes.add(ie.subtype),z&&U.classes.add("btn-"+z),ie.icon&&U.icon(ie.icon)},icon:function(ie){return arguments.length?(this.state.set("icon",ie),this):this.state.get("icon")},repaint:function(){var U,ie=this.getEl().firstChild;ie&&((U=ie.style).width=U.height="100%"),this._super()},renderHtml:function(){var D,ie=this,U=ie._id,z=ie.classPrefix,C=ie.state.get("icon"),_=ie.state.get("text"),w="";return(D=ie.settings.image)?(C="none","string"!=typeof D&&(D=window.getSelection?D[0]:D[1]),D=" style=\"background-image: url('"+D+"')\""):D="",_&&(ie.classes.add("btn-has-text"),w='<span class="'+z+'txt">'+ie.encode(_)+"</span>"),'<div id="'+U+'" class="'+ie.classes+'" tabindex="-1" aria-labelledby="'+U+'"><button role="presentation" type="button" tabindex="-1">'+((C=C?z+"ico "+z+"i-"+C:"")?'<i class="'+C+'"'+D+"></i>":"")+w+"</button></div>"},bindStates:function(){function ie(D){var _=z("span."+C,U.getEl());D?(_[0]||(z("button:first",U.getEl()).append('<span class="'+C+'"></span>'),_=z("span."+C,U.getEl())),_.html(U.encode(D))):_.remove(),U.classes.toggle("btn-has-text",!!D)}var U=this,z=U.$,C=U.classPrefix+"txt";return U.state.on("change:text",function(D){ie(D.value)}),U.state.on("change:icon",function(D){var _=D.value,w=U.classPrefix;U.settings.icon=_,_=_?w+"ico "+w+"i-"+U.settings.icon:"";var M=U.getEl().firstChild,j=M.getElementsByTagName("i")[0];_?(j&&j==M.firstChild||(j=document.createElement("i"),M.insertBefore(j,M.firstChild)),j.className=_):j&&M.removeChild(j),ie(U.state.get("text"))}),U._super()}})}),xe(ua,[Ki],function(me){return me.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var ie=this,U=ie._layout;return ie.classes.add("btn-group"),ie.preRender(),U.preRender(ie),'<div id="'+ie._id+'" class="'+ie.classes+'"><div id="'+ie._id+'-body">'+(ie.settings.html||"")+U.renderHtml(ie)+"</div></div>"}})}),xe(ds,[vn],function(me){return me.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(ie){var U=this;U._super(ie),U.on("click mousedown",function(z){z.preventDefault()}),U.on("click",function(z){z.preventDefault(),U.disabled()||U.checked(!U.checked())}),U.checked(U.settings.checked)},checked:function(ie){return arguments.length?(this.state.set("checked",ie),this):this.state.get("checked")},value:function(ie){return arguments.length?this.checked(ie):this.checked()},renderHtml:function(){var ie=this,U=ie._id,z=ie.classPrefix;return'<div id="'+U+'" class="'+ie.classes+'" unselectable="on" aria-labelledby="'+U+'-al" tabindex="-1"><i class="'+z+"ico "+z+'i-checkbox"></i><span id="'+U+'-al" class="'+z+'label">'+ie.encode(ie.state.get("text"))+"</span></div>"},bindStates:function(){function ie(z){U.classes.toggle("checked",z),U.aria("checked",z)}var U=this;return U.state.on("change:text",function(z){U.getEl("al").firstChild.data=U.translate(z.value)}),U.state.on("change:checked change:value",function(z){U.fire("change"),ie(z.value)}),U.state.on("change:icon",function(z){var C=z.value,D=U.classPrefix;if(typeof C>"u")return U.settings.icon;U.settings.icon=C,C=C?D+"ico "+D+"i-"+U.settings.icon:"";var _=U.getEl().firstChild,w=_.getElementsByTagName("i")[0];C?(w&&w==_.firstChild||(w=document.createElement("i"),_.insertBefore(w,_.firstChild)),w.className=C):w&&_.removeChild(w)}),U.state.get("checked")&&ie(!0),U._super()}})}),xe(ca,[vn,li,Wn,ae,Yt,Y],function(me,ie,U,z,C,D){return me.extend({init:function(_){var w=this;w._super(_),_=w.settings,w.classes.add("combobox"),w.subinput=!0,w.ariaTarget="inp",_.menu=_.menu||_.values,_.menu&&(_.icon="caret"),w.on("click",function(M){var j=M.target,P=w.getEl();if(z.contains(P,j)||j==P)for(;j&&j!=P;)j.id&&-1!=j.id.indexOf("-open")&&(w.fire("action"),_.menu&&(w.showMenu(),M.aria&&w.menu.items()[0].focus())),j=j.parentNode}),w.on("keydown",function(M){var j;13==M.keyCode&&"INPUT"===M.target.nodeName&&(M.preventDefault(),w.parents().reverse().each(function(P){if(P.toJSON)return j=P,!1}),w.fire("submit",{data:j.toJSON()}))}),w.on("keyup",function(M){if("INPUT"==M.target.nodeName){var j=w.state.get("value"),P=M.target.value;P!==j&&(w.state.set("value",P),w.fire("autocomplete",M))}}),w.on("mouseover",function(M){var j=w.tooltip().moveTo(-65535);if(w.statusLevel()&&-1!==M.target.className.indexOf(w.classPrefix+"status")){var P=w.statusMessage()||"Ok",E=j.text(P).show().testMoveRel(M.target,["bc-tc","bc-tl","bc-tr"]);j.classes.toggle("tooltip-n","bc-tc"==E),j.classes.toggle("tooltip-nw","bc-tl"==E),j.classes.toggle("tooltip-ne","bc-tr"==E),j.moveRel(M.target,E)}})},statusLevel:function(_){return arguments.length>0&&this.state.set("statusLevel",_),this.state.get("statusLevel")},statusMessage:function(_){return arguments.length>0&&this.state.set("statusMessage",_),this.state.get("statusMessage")},showMenu:function(){var M,_=this;_.menu||((M=_.settings.menu||[]).length?M={type:"menu",items:M}:M.type=M.type||"menu",_.menu=ie.create(M).parent(_).renderTo(_.getContainerElm()),_.fire("createmenu"),_.menu.reflow(),_.menu.on("cancel",function(j){j.control===_.menu&&_.focus()}),_.menu.on("show hide",function(j){j.control.items().each(function(P){P.active(P.value()==_.value())})}).fire("show"),_.menu.on("select",function(j){_.value(j.control.value())}),_.on("focusin",function(j){"INPUT"==j.target.tagName.toUpperCase()&&_.menu.hide()}),_.aria("expanded",!0)),_.menu.show(),_.menu.layoutRect({w:_.layoutRect().w}),_.menu.moveRel(_.getEl(),_.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var P,E,_=this,w=_.getEl(),M=_.getEl("open"),j=_.layoutRect(),H=0,q=w.firstChild;_.statusLevel()&&"none"!==_.statusLevel()&&(H=parseInt(U.getRuntimeStyle(q,"padding-right"),10)-parseInt(U.getRuntimeStyle(q,"padding-left"),10)),P=M?j.w-U.getSize(M).width-10:j.w-10;var O=document;return O.all&&(!O.documentMode||O.documentMode<=8)&&(E=_.layoutRect().h-2+"px"),z(q).css({width:P-H,lineHeight:E}),_._super(),_},postRender:function(){var _=this;return z(this.getEl("inp")).on("change",function(w){_.state.set("value",w.target.value),_.fire("change",w)}),_._super()},renderHtml:function(){var E,H,$,_=this,w=_._id,M=_.settings,j=_.classPrefix,P=_.state.get("value")||"",q="",O="";return"spellcheck"in M&&(O+=' spellcheck="'+M.spellcheck+'"'),M.maxLength&&(O+=' maxlength="'+M.maxLength+'"'),M.size&&(O+=' size="'+M.size+'"'),M.subtype&&(O+=' type="'+M.subtype+'"'),$='<i id="'+w+'-status" class="mce-status mce-ico" style="display: none"></i>',_.disabled()&&(O+=' disabled="disabled"'),(E=M.icon)&&"caret"!=E&&(E=j+"ico "+j+"i-"+M.icon),H=_.state.get("text"),(E||H)&&(q='<div id="'+w+'-open" class="'+j+"btn "+j+'open" tabIndex="-1" role="button"><button id="'+w+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=E?'<i class="'+E+'"></i>':'<i class="'+j+'caret"></i>')+(H?(E?" ":"")+H:"")+"</button></div>",_.classes.add("has-open")),'<div id="'+w+'" class="'+_.classes+'"><input id="'+w+'-inp" class="'+j+'textbox" value="'+_.encode(P,!1)+'" hidefocus="1"'+O+' placeholder="'+_.encode(M.placeholder)+'" />'+$+q+"</div>"},value:function(_){return arguments.length?(this.state.set("value",_),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(_,w){var M=this;if(0!==_.length){var j=function(E,H){return function(){M.fire("selectitem",{title:H,value:E})}};M.menu?M.menu.items().remove():M.menu=ie.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(M).renderTo(),D.each(_,function(E){M.menu.add({text:E.title,url:E.previewUrl,match:w,classes:"menu-item-ellipsis",onclick:j(E.value,E.title)})}),M.menu.renderNew(),M.hideMenu(),M.menu.on("cancel",function(E){E.control.parent()===M.menu&&(E.stopPropagation(),M.focus(),M.hideMenu())}),M.menu.on("select",function(){M.focus()});var P=M.layoutRect().w;M.menu.layoutRect({w:P,minW:0,maxW:P}),M.menu.reflow(),M.menu.show(),M.menu.moveRel(M.getEl(),M.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else M.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var _=this;_.state.on("change:value",function(M){_.getEl("inp").value!=M.value&&(_.getEl("inp").value=M.value)}),_.state.on("change:disabled",function(M){_.getEl("inp").disabled=M.value}),_.state.on("change:statusLevel",function(M){var j=_.getEl("status"),P=_.classPrefix,E=M.value;U.css(j,"display","none"===E?"none":""),U.toggleClass(j,P+"i-checkmark","ok"===E),U.toggleClass(j,P+"i-warning","warn"===E),U.toggleClass(j,P+"i-error","error"===E),_.classes.toggle("has-status","none"!==E),_.repaint()}),U.on(_.getEl("status"),"mouseleave",function(){_.tooltip().hide()}),_.on("cancel",function(M){_.menu&&_.menu.visible()&&(M.stopPropagation(),_.hideMenu())});var w=function(M,j){j&&j.items().length>0&&j.items().eq(M)[0].focus()};return _.on("keydown",function(M){var j=M.keyCode;"INPUT"===M.target.nodeName&&(j===C.DOWN?(M.preventDefault(),_.fire("autocomplete"),w(0,_.menu)):j===C.UP&&(M.preventDefault(),w(-1,_.menu)))}),_._super()},remove:function(){z(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),xe(ll,[ca],function(me){return me.extend({init:function(ie){var U=this;ie.spellcheck=!1,ie.onaction&&(ie.icon="none"),U._super(ie),U.classes.add("colorbox"),U.on("change keyup postrender",function(){U.repaintColor(U.value())})},repaintColor:function(ie){var U=this.getEl("open"),z=U?U.getElementsByTagName("i")[0]:null;if(z)try{z.style.background=ie}catch{}},bindStates:function(){var ie=this;return ie.state.on("change:value",function(U){ie.state.get("rendered")&&ie.repaintColor(U.value)}),ie._super()}})}),xe(ul,[fo,Hr],function(me,ie){return me.extend({showPanel:function(){var U=this,z=U.settings;if(U.active(!0),U.panel)U.panel.show();else{var C=z.panel;C.type&&(C={layout:"grid",items:C}),C.role=C.role||"dialog",C.popover=!0,C.autohide=!0,C.ariaRoot=!0,U.panel=new ie(C).on("hide",function(){U.active(!1)}).on("cancel",function(D){D.stopPropagation(),U.focus(),U.hidePanel()}).parent(U).renderTo(U.getContainerElm()),U.panel.fire("show"),U.panel.reflow()}U.panel.moveRel(U.getEl(),z.popoverAlign||(U.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var U=this;return U.aria("haspopup",!0),U.on("click",function(z){z.control===U&&(U.panel&&U.panel.visible()?U.hidePanel():(U.showPanel(),U.panel.focus(!!z.aria)))}),U._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),xe(Pa,[ul,ve],function(me,ie){var U=ie.DOM;return me.extend({init:function(z){this._super(z),this.classes.add("colorbutton")},color:function(z){return z?(this._color=z,this.getEl("preview").style.backgroundColor=z,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var z=this,C=z._id,D=z.classPrefix,_=z.state.get("text"),w=z.settings.icon?D+"ico "+D+"i-"+z.settings.icon:"",M=z.settings.image?" style=\"background-image: url('"+z.settings.image+"')\"":"",j="";return _&&(z.classes.add("btn-has-text"),j='<span class="'+D+'txt">'+z.encode(_)+"</span>"),'<div id="'+C+'" class="'+z.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(w?'<i class="'+w+'"'+M+"></i>":"")+'<span id="'+C+'-preview" class="'+D+'preview"></span>'+j+'</button><button type="button" class="'+D+'open" hidefocus="1" tabindex="-1"> <i class="'+D+'caret"></i></button></div>'},postRender:function(){var z=this,C=z.settings.onclick;return z.on("click",function(D){D.aria&&"down"==D.aria.key||D.control!=z||U.getParent(D.target,"."+z.classPrefix+"open")||(D.stopImmediatePropagation(),C.call(z,D))}),delete z.settings.onclick,z._super()}})}),xe(hs,[],function(){var ie=Math.min,U=Math.max,z=Math.round;return function me(C){function P($){var F;return"object"==typeof $?"r"in $?(H=$.r,q=$.g,O=$.b):"v"in $&&function _($,F,re){var N,R,A,v;if($=(parseInt($,10)||0)%360,F=parseInt(F,10)/100,re=parseInt(re,10)/100,F=U(0,ie(F,1)),re=U(0,ie(re,1)),0!==F){switch(N=$/60,A=(R=re*F)*(1-Math.abs(N%2-1)),v=re-R,Math.floor(N)){case 0:H=R,q=A,O=0;break;case 1:H=A,q=R,O=0;break;case 2:H=0,q=R,O=A;break;case 3:H=0,q=A,O=R;break;case 4:H=A,q=0,O=R;break;case 5:H=R,q=0,O=A;break;default:H=q=O=0}H=z(255*(H+v)),q=z(255*(q+v)),O=z(255*(O+v))}else H=q=O=z(255*re)}($.h,$.s,$.v):(F=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec($))?(H=parseInt(F[1],10),q=parseInt(F[2],10),O=parseInt(F[3],10)):(F=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec($))?(H=parseInt(F[1],16),q=parseInt(F[2],16),O=parseInt(F[3],16)):(F=/#([0-F])([0-F])([0-F])/gi.exec($))&&(H=parseInt(F[1]+F[1],16),q=parseInt(F[2]+F[2],16),O=parseInt(F[3]+F[3],16)),H=H<0?0:H>255?255:H,q=q<0?0:q>255?255:q,O=O<0?0:O>255?255:O,E}var E=this,H=0,q=0,O=0;C&&P(C),E.toRgb=function M(){return{r:H,g:q,b:O}},E.toHsv=function j(){return function D($,F,re){var R,A,y,Z;return R=0,A=0,(y=ie($/=255,ie(F/=255,re/=255)))==(Z=U($,U(F,re)))?{h:0,s:0,v:100*(A=y)}:(R=(Z-y)/Z,A=Z,{h:z(60*(($==y?3:re==y?1:5)-($==y?F-re:re==y?$-F:re-$)/(Z-y))),s:z(100*R),v:z(100*A)})}(H,q,O)},E.toHex=function w(){function $(F){return(F=parseInt(F,10).toString(16)).length>1?F:"0"+F}return"#"+$(H)+$(q)+$(O)},E.parse=P}}),xe(gu,[vn,vr,Wn,hs],function(me,ie,U,z){return me.extend({Defaults:{classes:"widget colorpicker"},init:function(C){this._super(C)},postRender:function(){function C($,F){var N,R,re=U.getPos($);return N=F.pageX-re.x,R=F.pageY-re.y,{x:N=Math.max(0,Math.min(N/$.clientWidth,1)),y:R=Math.max(0,Math.min(R/$.clientHeight,1))}}function D($,F){U.css(H,{top:(360-$.h)/360*100+"%"}),F||U.css(O,{left:$.s+"%",top:100-$.v+"%"}),q.style.background=new z({s:100,v:100,h:$.h}).toHex(),M.color().parse({s:$.s,v:$.v,h:$.h})}function _($){var F;F=C(q,$),P.s=100*F.x,P.v=100*(1-F.y),D(P),M.fire("change")}function w($){var F;F=C(E,$),(P=j.toHsv()).h=360*(1-F.y),D(P,!0),M.fire("change")}var P,E,H,q,O,M=this,j=M.color();E=M.getEl("h"),H=M.getEl("hp"),q=M.getEl("sv"),O=M.getEl("svp"),M._repaint=function(){D(P=j.toHsv())},M._super(),M._svdraghelper=new ie(M._id+"-sv",{start:_,drag:_}),M._hdraghelper=new ie(M._id+"-h",{start:w,drag:w}),M._repaint()},rgb:function(){return this.color().toRgb()},value:function(C){var D=this;return arguments.length?(D.color().parse(C),void(D._rendered&&D._repaint())):D.color().toHex()},color:function(){return this._color||(this._color=new z),this._color},renderHtml:function(){var M,D=this,_=D._id,w=D.classPrefix,j="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return M='<div id="'+_+'-h" class="'+w+'colorpicker-h" style="background: -ms-linear-gradient(top,'+j+");background: linear-gradient(to bottom,"+j+');">'+function C(){var E,H,O,$,q="";for(O="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",E=0,H=($=j.split(",")).length-1;E<H;E++)q+='<div class="'+w+'colorpicker-h-chunk" style="height:'+100/H+"%;"+O+$[E]+",endColorstr="+$[E+1]+");-ms-"+O+$[E]+",endColorstr="+$[E+1]+')"></div>';return q}()+'<div id="'+_+'-hp" class="'+w+'colorpicker-h-marker"></div></div>','<div id="'+_+'" class="'+D.classes+'"><div id="'+_+'-sv" class="'+w+'colorpicker-sv"><div class="'+w+'colorpicker-overlay1"><div class="'+w+'colorpicker-overlay2"><div id="'+_+'-svp" class="'+w+'colorpicker-selector1"><div class="'+w+'colorpicker-selector2"></div></div></div></div></div>'+M+"</div>"}})}),xe(fs,[vn],function(me){return me.extend({init:function(ie){var U=this;ie.delimiter||(ie.delimiter="\xbb"),U._super(ie),U.classes.add("path"),U.canFocus=!0,U.on("click",function(z){var C;(C=z.target.getAttribute("data-index"))&&U.fire("select",{value:U.row()[C],index:C})}),U.row(U.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(ie){return arguments.length?(this.state.set("row",ie),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var ie=this;return ie.state.on("change:row",function(U){ie.innerHtml(ie._getDataPathHtml(U.value))}),ie._super()},_getDataPathHtml:function(ie){var C,D,U=this,z=ie||[],_="",w=U.classPrefix;for(C=0,D=z.length;C<D;C++)_+=(C>0?'<div class="'+w+'divider" aria-hidden="true"> '+U.settings.delimiter+" </div>":"")+'<div role="button" class="'+w+"path-item"+(C==D-1?" "+w+"last":"")+'" data-index="'+C+'" tabindex="-1" id="'+U._id+"-"+C+'" aria-level="'+(C+1)+'">'+z[C].name+"</div>";return _||(_='<div class="'+w+'path-item">\xa0</div>'),_}})}),xe(mu,[fs],function(me){return me.extend({postRender:function(){function ie(C){return!(1!==C.nodeType||"BR"!=C.nodeName&&!C.getAttribute("data-mce-bogus")&&"bookmark"!==C.getAttribute("data-mce-type"))}var U=this,z=U.settings.editor;return!1!==z.settings.elementpath&&(U.on("select",function(C){z.focus(),z.selection.select(this.row()[C.index].element),z.nodeChanged()}),z.on("nodeChange",function(C){for(var D=[],_=C.parents,w=_.length;w--;)if(1==_[w].nodeType&&!ie(_[w])){var M=z.fire("ResolveName",{name:_[w].nodeName.toLowerCase(),target:_[w]});if(M.isDefaultPrevented()||D.push({name:M.name,element:_[w]}),M.isPropagationStopped())break}U.row(D)})),U._super()}})}),xe(Br,[Ki],function(me){return me.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var ie=this,U=ie._layout,z=ie.classPrefix;return ie.classes.add("formitem"),U.preRender(ie),'<div id="'+ie._id+'" class="'+ie.classes+'" hidefocus="1" tabindex="-1">'+(ie.settings.title?'<div id="'+ie._id+'-title" class="'+z+'title">'+ie.settings.title+"</div>":"")+'<div id="'+ie._id+'-body" class="'+ie.bodyClasses+'">'+(ie.settings.html||"")+U.renderHtml(ie)+"</div></div>"}})}),xe(da,[Ki,Br,Y],function(me,ie,U){return me.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var z=this,C=z.items();z.settings.formItemDefaults||(z.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),C.each(function(D){var _,w=D.settings.label;w&&((_=new ie(U.extend({items:{type:"label",id:D._id+"-l",text:w,flex:0,forId:D._id,disabled:D.disabled()}},z.settings.formItemDefaults))).type="formitem",D.aria("labelledby",D._id+"-l"),typeof D.settings.flex>"u"&&(D.settings.flex=1),z.replace(D,_),_.add(D))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var z=this;z._super(),z.fromJSON(z.settings.data)},bindStates:function(){function z(){var w,M,D=0,_=[];if(!1!==C.settings.labelGapCalc)for(("children"==C.settings.labelGapCalc?C.find("formitem"):C.items()).filter("formitem").each(function(P){var E=P.items()[0],H=E.getEl().clientWidth;D=H>D?H:D,_.push(E)}),M=C.settings.labelGap||0,w=_.length;w--;)_[w].settings.minWidth=D+M}var C=this;C._super(),C.on("show",z),z()}})}),xe(cl,[da],function(me){return me.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var ie=this,U=ie._layout,z=ie.classPrefix;return ie.preRender(),U.preRender(ie),'<fieldset id="'+ie._id+'" class="'+ie.classes+'" hidefocus="1" tabindex="-1">'+(ie.settings.title?'<legend id="'+ie._id+'-title" class="'+z+'fieldset-title">'+ie.settings.title+"</legend>":"")+'<div id="'+ie._id+'-body" class="'+ie.bodyClasses+'">'+(ie.settings.html||"")+U.renderHtml(ie)+"</div></fieldset>"}})}),xe(ha,[ve,Ct,B,fu,Y,be],function(me,ie,U,z,C,D){var _=C.trim,w=function(J,fe,_e,Ve,Ee){return{type:J,title:fe,url:_e,level:Ve,attach:Ee}},P=function(J){return J.innerText||J.textContent},q=function(J){return function(J){return J&&"A"===J.nodeName&&(J.id||J.name)}(J)&&$(J)},O=function(J){return J&&/^(H[1-6])$/.test(J.nodeName)},$=function(J){return function(J){for(;J=J.parentNode;){var fe=J.contentEditable;if(fe&&"inherit"!==fe)return D.isContentEditableTrue(J)}return!1}(J)&&!D.isContentEditableFalse(J)},F=function(J){return O(J)&&$(J)},N=function(J){var fe=function(J){return J.id?J.id:z.uuid("h")}(J);return w("header",P(J),"#"+fe,function(J){return O(J)?parseInt(J.nodeName.substr(1),10):0}(J),function(){J.id=fe})},R=function(J){var fe=J.id||J.name,_e=P(J);return w("anchor",_e||"#"+fe,"#"+fe,0,ie.noop)},Z=function(J){return _(J.title).length>0};return{find:function(J){var fe=function(J){return function(J,fe){return me.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",fe)}(0,J)}(J);return U.filter(function(J){return U.map(U.filter(J,F),N)}(fe).concat(function(J){return U.map(U.filter(J,q),R)}(fe)),Z)}}}),xe(dl,[ca,Y,B,Ct,Yt,ha],function(me,ie,U,z,C,D){var _={},M=function(A){return{title:A.title,value:{title:{raw:A.title},url:A.url,attach:A.attach}}},P=function(A,v){return{title:A,value:{title:A,url:v,attach:z.noop}}},H=function(A,v,y){var Z=v in A?A[v]:y;return!1===Z?null:Z},$=function(A,v){var y=A.toLowerCase(),Z=ie.grep(v,function(oe){return-1!==oe.title.toLowerCase().indexOf(y)});return 1===Z.length&&Z[0].title===A?[]:Z},re=function(A,v,y,Z){var oe=function(J){var _e=function(A,v,y,Z){var Ee,Re,ze,oe={title:"-"},J=function(Ee){var Re=U.filter(Ee[y],function(ze){return function(A,v){return!U.find(v,function(Z){return Z.url===A})}(ze,v)});return ie.map(Re,function(ze){return{title:ze,value:{title:ze,url:ze,attach:z.noop}}})},fe=function(Ee){return function(A){return ie.map(A,M)}(U.filter(v,function(ze){return ze.type==Ee}))};return!1===Z.typeahead_urls?[]:"file"===y?function(Ee){return U.reduce(Ee,function(Re,ze){return 0===Re.length||0===ze.length?Re.concat(ze):Re.concat(oe,ze)},[])}([$(A,J(_)),$(A,fe("header")),$(A,(Ee=fe("anchor"),Re=H(Z,"anchor_top","#top"),ze=H(Z,"anchor_bottom","#bottom"),null!==Re&&Ee.unshift(P("<top>",Re)),null!==ze&&Ee.push(P("<bottom>",ze)),Ee))]):$(A,J(_))}(J,D.find(y),Z,v);A.showAutoComplete(_e,J)};A.on("autocomplete",function(){oe(A.value())}),A.on("selectitem",function(J){var fe=J.value;A.value(fe.url);var _e=function(A){var v=A.title;return v.raw?v.raw:v}(fe);A.fire("change","image"===Z?{meta:{alt:_e,attach:fe.attach}}:{meta:{text:_e,attach:fe.attach}}),A.focus()}),A.on("click",function(J){0===A.value().length&&"INPUT"===J.target.nodeName&&oe("")}),A.on("PostRender",function(){A.getRoot().on("submit",function(J){J.isDefaultPrevented()||function(A,v){var y=_[v];/^https?/.test(A)&&(y?-1===U.indexOf(y,A)&&(_[v]=y.slice(0,5).concat(A)):_[v]=[A])}(A.value(),Z)})})};return me.extend({init:function(A){var oe,J,fe,v=this,y=tinymce.activeEditor,Z=y.settings,_e=A.filetype;A.spellcheck=!1,(fe=Z.file_picker_types||Z.file_browser_callback_types)&&(fe=ie.makeMap(fe,/[, ]/)),fe&&!fe[_e]||(!(J=Z.file_picker_callback)||fe&&!fe[_e]?!(J=Z.file_browser_callback)||fe&&!fe[_e]||(oe=function(){J(v.getEl("inp").id,v.value(),_e,window)}):oe=function(){var Ve=v.fire("beforecall").meta;Ve=ie.extend({filetype:_e},Ve),J.call(y,function(Ee,Re){v.value(Ee).fire("change",{meta:Re})},v.value(),Ve)}),oe&&(A.icon="browse",A.onaction=oe),v._super(A),re(v,Z,y.getBody(),_e),function(A,v,y){var Z=v.filepicker_validator_handler;Z&&A.state.on("change:value",function(J){!function(J){0===J.length?A.statusLevel("none"):Z({url:J,type:y},function(fe){var _e=function(A){var v=A.status,y=A.message;return"valid"===v?{status:"ok",message:y}:"unknown"===v||"invalid"===v?{status:"warn",message:y}:{status:"none",message:""}}(fe);A.statusMessage(_e.message),A.statusLevel(_e.status)})}(J.value)})}(v,Z,_e)}})}),xe(Io,[xr],function(me){return me.extend({recalc:function(ie){var U=ie.layoutRect(),z=ie.paddingBox;ie.items().filter(":visible").each(function(C){C.layoutRect({x:z.left,y:z.top,w:U.innerW-z.right-z.left,h:U.innerH-z.top-z.bottom}),C.recalc&&C.recalc()})}})}),xe(Gr,[xr],function(me){return me.extend({recalc:function(ie){var U,z,C,D,_,w,M,j,P,E,H,q,O,$,re,R,A,v,y,Z,oe,J,fe,_e,Ve,Ee,Re,ze,Oe,je,Ye,ye,Ie,He,Xe,nt,Mt,N=[],Wt=Math.max,Kt=Math.min;for(C=ie.items().filter(":visible"),D=ie.layoutRect(),_=ie.paddingBox,w=ie.settings,q=ie.isRtl()?w.direction||"row-reversed":w.direction,M=w.align,j=ie.isRtl()?w.pack||"end":w.pack,P=w.spacing||0,"row-reversed"!=q&&"column-reverse"!=q||(C=C.set(C.toArray().reverse()),q=q.split("-")[0]),"column"==q?(_e="y",J="h",fe="minH",Ve="maxH",Re="innerH",Ee="top",ze="deltaH",Oe="contentH",He="left",ye="w",je="x",Ye="innerW",Ie="minW",Xe="right",nt="deltaW",Mt="contentW"):(_e="x",J="w",fe="minW",Ve="maxW",Re="innerW",Ee="left",ze="deltaW",Oe="contentW",He="top",ye="h",je="y",Ye="innerH",Ie="minH",Xe="bottom",nt="deltaH",Mt="contentH"),H=D[Re]-_[Ee]-_[Ee],oe=E=0,U=0,z=C.length;U<z;U++)$=(O=C[U]).layoutRect(),H-=U<z-1?P:0,(re=O.settings.flex)>0&&(E+=re,$[Ve]&&N.push(O),$.flex=re),H-=$[fe],(R=_[He]+$[Ie]+_[Xe])>oe&&(oe=R);if((y={})[fe]=H<0?D[fe]-H+D[ze]:D[Re]-H+D[ze],y[Ie]=oe+D[nt],y[Oe]=D[Re]-H,y[Mt]=oe,y.minW=Kt(y.minW,D.maxW),y.minH=Kt(y.minH,D.maxH),y.minW=Wt(y.minW,D.startMinWidth),y.minH=Wt(y.minH,D.startMinHeight),!D.autoResize||y.minW==D.minW&&y.minH==D.minH){for(v=H/E,U=0,z=N.length;U<z;U++)(R=($=(O=N[U]).layoutRect())[fe]+$.flex*v)>(A=$[Ve])?(H-=$[Ve]-$[fe],E-=$.flex,$.flex=0,$.maxFlexSize=A):$.maxFlexSize=0;for(v=H/E,Z=_[Ee],y={},0===E&&("end"==j?Z=H+_[Ee]:"center"==j?(Z=Math.round(D[Re]/2-(D[Re]-H)/2)+_[Ee])<0&&(Z=_[Ee]):"justify"==j&&(Z=_[Ee],P=Math.floor(H/(C.length-1)))),y[je]=_[He],U=0,z=C.length;U<z;U++)R=($=(O=C[U]).layoutRect()).maxFlexSize||$[fe],"center"===M?y[je]=Math.round(D[Ye]/2-$[ye]/2):"stretch"===M?(y[ye]=Wt($[Ie]||0,D[Ye]-_[He]-_[Xe]),y[je]=_[He]):"end"===M&&(y[je]=D[Ye]-$[ye]-_.top),$.flex>0&&(R+=$.flex*v),y[J]=R,y[_e]=Z,O.layoutRect(y),O.recalc&&O.recalc(),Z+=R+P}else if(y.w=y.minW,y.h=y.minH,ie.layoutRect(y),this.recalc(ie),null===ie._lastRect){var un=ie.parent();un&&(un._lastRect=null,un.recalc())}}})}),xe(ps,[Tr],function(me){return me.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(ie){ie.items().filter(":visible").each(function(U){U.recalc&&U.recalc()})},isNative:function(){return!0}})}),xe(vu,[ve],function(me){var ie=function(w,M,j){for(;j!==M;){if(j.style[w])return j.style[w];j=j.parentNode}return""},C=function(w,M){return me.DOM.getStyle(M,w,!0)};return{getFontSize:function(w,M){var j=ie("fontSize",w,M);return""!==j?j:C("fontSize",M)},getFontFamily:function(w,M){var j=ie("fontFamily",w,M),P=""!==j?j:C("fontFamily",M);return P!==St?function(w){return w.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}(P):""},toPt:function(w){return/[0-9.]+px$/.test(w)?Math.round(72*parseInt(w,10)/96)+"pt":w}}}),xe(gs,[$i,vn,Hr,Y,B,ve,Mr,G,vu],function(me,ie,U,z,C,D,_,w,M){function E(O){function $(ze,Oe){return function(){var je=this;O.on("nodeChange",function(Ye){var ye=O.formatter,Ie=null;H(Ye.parents,function(He){if(H(ze,function(Xe){if(Oe?ye.matchNode(He,Oe,{value:Xe.value})&&(Ie=Xe.value):ye.matchNode(He,Xe.value)&&(Ie=Xe.value),Ie)return!1}),Ie)return!1}),je.value(Ie)})}}function re(ze){return function(){var Oe=this;O.on("nodeChange",function(je){var Ye,ye,Ie=null;Ye=M.getFontSize(O.getBody(),je.element),ye=M.toPt(Ye),H(ze,function(He){He.value===Ye?Ie=Ye:He.value===ye&&(Ie=ye)}),Oe.value(Ie),Ie||Oe.text(ye)})}}function N(ze){for(var Oe=(ze=ze.replace(/;$/,"").split(";")).length;Oe--;)ze[Oe]=ze[Oe].split("=");return ze}function A(ze){return function(){var Oe=this;O.formatter?O.formatter.formatChanged(ze,function(je){Oe.active(je)}):O.on("init",function(){O.formatter.formatChanged(ze,function(je){Oe.active(je)})})}}function v(ze){return function(){function Oe(){return!!O.undoManager&&O.undoManager["redo"==ze?"hasRedo":"hasUndo"]()}var je=this;je.disabled(!Oe()),O.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){je.disabled(O.readonly||!Oe())})}}function Z(ze){ze.control&&(ze=ze.control.value()),ze&&O.execCommand("mceToggleFormat",!1,ze)}function oe(ze){var Oe=ze.length;return z.each(ze,function(je){je.menu&&(je.hidden=0===oe(je.menu));var Ye=je.format;Ye&&(je.hidden=!O.formatter.canApply(Ye)),je.hidden&&Oe--}),Oe}function J(ze){var Oe=ze.items().length;return ze.items().each(function(je){je.menu&&je.visible(J(je.menu)>0),!je.menu&&je.settings.menu&&je.visible(oe(je.settings.menu)>0);var Ye=je.settings.format;Ye&&je.visible(O.formatter.canApply(Ye)),je.visible()||Oe--}),Oe}var fe;fe=function R(){function ze(Ie){var He=[];if(Ie)return H(Ie,function(Xe){var nt={text:Xe.title,icon:Xe.icon};if(Xe.items)nt.menu=ze(Xe.items);else{var Mt=Xe.format||"custom"+je++;Xe.format||(Xe.name=Mt,Ye.push(Xe)),nt.format=Mt,nt.cmd=Xe.cmd}He.push(nt)}),He}var je=0,Ye=[],ye=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return O.on("init",function(){H(Ye,function(Ie){O.formatter.register(Ie.name,Ie)})}),{type:"menu",items:function Oe(){return ze(O.settings.style_formats_merge?O.settings.style_formats?ye.concat(O.settings.style_formats):ye:O.settings.style_formats||ye)}(),onPostRender:function(Ie){O.fire("renderFormatsMenu",{control:Ie.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return O.formatter.getCssText(this.settings.format)},onPostRender:function(){var Ie=this;Ie.parent().on("show",function(){var He,Xe;(He=Ie.settings.format)&&(Ie.disabled(!O.formatter.canApply(He)),Ie.active(O.formatter.match(He))),(Xe=Ie.settings.cmd)&&Ie.active(O.queryCommandState(Xe))})},onclick:function(){this.settings.format&&Z(this.settings.format),this.settings.cmd&&O.execCommand(this.settings.cmd)}}}}(),H({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(ze,Oe){O.addButton(Oe,{tooltip:ze,onPostRender:A(Oe),onclick:function(){Z(Oe)}})}),H({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(ze,Oe){O.addButton(Oe,{tooltip:ze[0],cmd:ze[1]})}),H({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(ze,Oe){O.addButton(Oe,{tooltip:ze[0],cmd:ze[1],onPostRender:A(Oe)})});var Ve=function(ze){var Oe,je;if("string"==typeof ze)je=ze.split(" ");else if(z.isArray(ze))return q(z.map(ze,Ve));return Oe=z.grep(je,function(Ye){return"|"===Ye||Ye in O.menuItems}),z.map(Oe,function(Ye){return"|"===Ye?{text:"-"}:O.menuItems[Ye]})};O.addButton("undo",{tooltip:"Undo",onPostRender:v("undo"),cmd:"undo"}),O.addButton("redo",{tooltip:"Redo",onPostRender:v("redo"),cmd:"redo"}),O.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),O.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:v("undo"),cmd:"undo"}),O.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:v("redo"),cmd:"redo"}),O.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function y(){var ze=this;O.on("VisualAid",function(Oe){ze.active(Oe.hasVisual)}),ze.active(O.hasVisual)},cmd:"mceToggleVisualAid"}),O.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),O.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){var ze,Oe,je;this.menu.add(function(ze){var Oe=ze;return Oe.length>0&&"-"===Oe[0].text&&(Oe=Oe.slice(1)),Oe.length>0&&"-"===Oe[Oe.length-1].text&&(Oe=Oe.slice(0,Oe.length-1)),Oe}((ze=O.settings).insert_button_items?Ve(ze.insert_button_items):(Oe=[{text:"-"}],je=z.grep(O.menuItems,function(Ye){return"insert"===Ye.context}),z.each(je,function(Ye){"before"==Ye.separator&&Oe.push({text:"|"}),Ye.prependToContext?Oe.unshift(Ye):Oe.push(Ye),"after"==Ye.separator&&Oe.push({text:"|"})}),Oe))),this.menu.renderNew()}}),H({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(ze,Oe){O.addMenuItem(Oe,{text:ze[0],icon:Oe,shortcut:ze[2],cmd:ze[1]})}),O.on("mousedown",function(){U.hideAll()}),O.addButton("styleselect",{type:"menubutton",text:"Formats",menu:fe,onShowMenu:function(){O.settings.style_formats_autohide&&J(this.menu)}}),O.addButton("formatselect",function(){var ze=[],Oe=N(O.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return H(Oe,function(je){ze.push({text:je[0],value:je[1],textStyle:function(){return O.formatter.getCssText(je[1])}})}),{type:"listbox",text:Oe[0][0],values:ze,fixedWidth:!0,onselect:Z,onPostRender:$(ze)}}),O.addButton("fontselect",function(){var ze,Oe=[],je=N(O.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return H(je,function(Ye){Oe.push({text:{raw:Ye[0]},value:Ye[1],textStyle:-1==Ye[1].indexOf("dings")?"font-family:"+Ye[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:Oe,fixedWidth:!0,onPostRender:(ze=Oe,function(){var Oe=this,je=function(Ye){return Ye?Ye.split(",")[0]:""};O.on("nodeChange",function(Ye){var ye,Ie=null;ye=M.getFontFamily(O.getBody(),Ye.element),H(ze,function(He){He.value.toLowerCase()===ye.toLowerCase()&&(Ie=He.value)}),H(ze,function(He){Ie||je(He.value).toLowerCase()!==je(ye).toLowerCase()||(Ie=He.value)}),Oe.value(Ie),!Ie&&ye&&Oe.text(je(ye))})}),onselect:function(Ye){Ye.control.settings.value&&O.execCommand("FontName",!1,Ye.control.settings.value)}}}),O.addButton("fontsizeselect",function(){var ze=[];return H((O.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(Ye){var ye=Ye,Ie=Ye,He=Ye.split("=");He.length>1&&(ye=He[0],Ie=He[1]),ze.push({text:ye,value:Ie})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:ze,fixedWidth:!0,onPostRender:re(ze),onclick:function(Ye){Ye.control.settings.value&&O.execCommand("FontSize",!1,Ye.control.settings.value)}}}),O.addMenuItem("formats",{text:"Formats",menu:fe})}var H=z.each,q=function(O){return C.reduce(O,function($,F){return $.concat(F)},[])};_.on("AddEditor",function(O){var $=O.editor;(function P(O){O.on("ScriptsLoaded",function(){O.rtl&&(me.rtl=!0)})})($),E($),function j(O){O.settings.ui_container&&(w.container=D.DOM.select(O.settings.ui_container)[0])}($)}),me.translate=function(O){return _.translate(O)},ie.tooltips=!w.iOS}),xe(fa,[xr],function(me){return me.extend({recalc:function(ie){var U,z,C,D,_,w,M,j,P,E,H,q,O,$,F,re,N,R,A,v,y,Z,oe,_e,Ve,Ee,Re,ze,J=[],fe=[];for((U=ie.settings,D=ie.items().filter(":visible"),_=ie.layoutRect(),C=U.columns||Math.ceil(Math.sqrt(D.length)),z=Math.ceil(D.length/C),R=U.spacingH||U.spacing||0,A=U.spacingV||U.spacing||0,v=U.alignH||U.align,y=U.alignV||U.align,re=ie.paddingBox,ze="reverseRows"in U?U.reverseRows:ie.isRtl(),v&&"string"==typeof v&&(v=[v]),y&&"string"==typeof y&&(y=[y]),H=0);H<C;H++)J.push(0);for(q=0;q<z;q++)fe.push(0);for(q=0;q<z;q++)for(H=0;H<C&&(E=D[q*C+H]);H++)Ve=(P=E.layoutRect()).minH,J[H]=(_e=P.minW)>J[H]?_e:J[H],fe[q]=Ve>fe[q]?Ve:fe[q];for(Ee=_.innerW-re.left-re.right,Z=0,H=0;H<C;H++)Z+=J[H]+(H>0?R:0),Ee-=(H>0?R:0)+J[H];for(Re=_.innerH-re.top-re.bottom,oe=0,q=0;q<z;q++)oe+=fe[q]+(q>0?A:0),Re-=(q>0?A:0)+fe[q];if(oe+=re.top+re.bottom,(j={}).minW=(Z+=re.left+re.right)+(_.w-_.innerW),j.minH=oe+(_.h-_.innerH),j.contentW=j.minW-_.deltaW,j.contentH=j.minH-_.deltaH,j.minW=Math.min(j.minW,_.maxW),j.minH=Math.min(j.minH,_.maxH),j.minW=Math.max(j.minW,_.startMinWidth),j.minH=Math.max(j.minH,_.startMinHeight),!_.autoResize||j.minW==_.minW&&j.minH==_.minH){var je;_.autoResize&&((j=ie.layoutRect(j)).contentW=j.minW-_.deltaW,j.contentH=j.minH-_.deltaH),je="start"==U.packV?0:Re>0?Math.floor(Re/z):0;var Ye=0,ye=U.flexWidths;if(ye)for(H=0;H<ye.length;H++)Ye+=ye[H];else Ye=C;var Ie=Ee/Ye;for(H=0;H<C;H++)J[H]+=ye?ye[H]*Ie:Ie;for($=re.top,q=0;q<z;q++){for(O=re.left,M=fe[q]+je,H=0;H<C&&(E=D[ze?q*C+C-1-H:q*C+H]);H++)F=E.settings,P=E.layoutRect(),w=Math.max(J[H],P.startMinWidth),P.x=O,P.y=$,"center"==(N=F.alignH||(v?v[H]||v[0]:null))?P.x=O+w/2-P.w/2:"right"==N?P.x=O+w-P.w:"stretch"==N&&(P.w=w),"center"==(N=F.alignV||(y?y[H]||y[0]:null))?P.y=$+M/2-P.h/2:"bottom"==N?P.y=$+M-P.h:"stretch"==N&&(P.h=M),E.layoutRect(P),O+=w+R,E.recalc&&E.recalc();$+=M+A}}else if(j.w=j.minW,j.h=j.minH,ie.layoutRect(j),this.recalc(ie),null===ie._lastRect){var He=ie.parent();He&&(He._lastRect=null,He.recalc())}}})}),xe(Ar,[vn,I],function(me,ie){return me.extend({renderHtml:function(){var U=this;return U.classes.add("iframe"),U.canFocus=!1,'<iframe id="'+U._id+'" class="'+U.classes+'" tabindex="-1" src="'+(U.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(U){this.getEl().src=U},html:function(U,z){var C=this,D=this.getEl().contentWindow.document.body;return D?(D.innerHTML=U,z&&z()):ie.setTimeout(function(){C.html(U)}),this}})}),xe(hl,[vn],function(me){return me.extend({init:function(ie){var U=this;U._super(ie),U.classes.add("widget").add("infobox"),U.canFocus=!1},severity:function(ie){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(ie)},help:function(ie){this.state.set("help",ie)},renderHtml:function(){var ie=this,U=ie.classPrefix;return'<div id="'+ie._id+'" class="'+ie.classes+'"><div id="'+ie._id+'-body">'+ie.encode(ie.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+U+"ico "+U+'i-help"></i></button></div></div>'},bindStates:function(){var ie=this;return ie.state.on("change:text",function(U){ie.getEl("body").firstChild.data=ie.encode(U.value),ie.state.get("rendered")&&ie.updateLayoutRect()}),ie.state.on("change:help",function(U){ie.classes.toggle("has-help",U.value),ie.state.get("rendered")&&ie.updateLayoutRect()}),ie._super()}})}),xe(yu,[vn,Wn],function(me,ie){return me.extend({init:function(U){var z=this;z._super(U),z.classes.add("widget").add("label"),z.canFocus=!1,U.multiline&&z.classes.add("autoscroll"),U.strong&&z.classes.add("strong")},initLayoutRect:function(){var U=this,z=U._super();return U.settings.multiline&&(ie.getSize(U.getEl()).width>z.maxW&&(z.minW=z.maxW,U.classes.add("multiline")),U.getEl().style.width=z.minW+"px",z.startMinH=z.h=z.minH=Math.min(z.maxH,ie.getSize(U.getEl()).height)),z},repaint:function(){var U=this;return U.settings.multiline||(U.getEl().style.lineHeight=U.layoutRect().h+"px"),U._super()},severity:function(U){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(U)},renderHtml:function(){var z,C,U=this,D=U.settings.forId;return!D&&(C=U.settings.forName)&&(z=U.getRoot().find("#"+C)[0])&&(D=z._id),D?'<label id="'+U._id+'" class="'+U.classes+'"'+(D?' for="'+D+'"':"")+">"+U.encode(U.state.get("text"))+"</label>":'<span id="'+U._id+'" class="'+U.classes+'">'+U.encode(U.state.get("text"))+"</span>"},bindStates:function(){var U=this;return U.state.on("change:text",function(z){U.innerHtml(U.encode(z.value)),U.state.get("rendered")&&U.updateLayoutRect()}),U._super()}})}),xe(ms,[Ki],function(me){return me.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(ie){this._super(ie),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(U){U.classes.add("toolbar-item")}),this._super()}})}),xe(pa,[ms],function(me){return me.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),xe(fl,[fo,li,pa],function(me,ie,U){var C=me.extend({init:function(D){var _=this;_._renderOpen=!0,_._super(D),D=_.settings,_.classes.add("menubtn"),D.fixedWidth&&_.classes.add("fixed-width"),_.aria("haspopup",!0),_.state.set("menu",D.menu||_.render())},showMenu:function(D){var w,_=this;return _.menu&&_.menu.visible()&&!1!==D?_.hideMenu():(_.menu||((w=_.state.get("menu")||[]).length?w={type:"menu",items:w}:w.type=w.type||"menu",_.menu=w.renderTo?w.parent(_).show().renderTo():ie.create(w).parent(_).renderTo(),_.fire("createmenu"),_.menu.reflow(),_.menu.on("cancel",function(M){M.control.parent()===_.menu&&(M.stopPropagation(),_.focus(),_.hideMenu())}),_.menu.on("select",function(){_.focus()}),_.menu.on("show hide",function(M){M.control==_.menu&&_.activeMenu("show"==M.type),_.aria("expanded","show"==M.type)}).fire("show")),_.menu.show(),_.menu.layoutRect({w:_.layoutRect().w}),_.menu.moveRel(_.getEl(),_.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void _.fire("showmenu"))},hideMenu:function(){var D=this;D.menu&&(D.menu.items().each(function(_){_.hideMenu&&_.hideMenu()}),D.menu.hide())},activeMenu:function(D){this.classes.toggle("active",D)},renderHtml:function(){var j,D=this,_=D._id,w=D.classPrefix,M=D.settings.icon,P=D.state.get("text"),E="";return(j=D.settings.image)?(M="none","string"!=typeof j&&(j=window.getSelection?j[0]:j[1]),j=" style=\"background-image: url('"+j+"')\""):j="",P&&(D.classes.add("btn-has-text"),E='<span class="'+w+'txt">'+D.encode(P)+"</span>"),M=D.settings.icon?w+"ico "+w+"i-"+M:"",D.aria("role",D.parent()instanceof U?"menuitem":"button"),'<div id="'+_+'" class="'+D.classes+'" tabindex="-1" aria-labelledby="'+_+'"><button id="'+_+'-open" role="presentation" type="button" tabindex="-1">'+(M?'<i class="'+M+'"'+j+"></i>":"")+E+' <i class="'+w+'caret"></i></button></div>'},postRender:function(){var D=this;return D.on("click",function(_){_.control===D&&function z(D,_){for(;D;){if(_===D)return!0;D=D.parentNode}return!1}(_.target,D.getEl())&&(D.focus(),D.showMenu(!_.aria),_.aria&&D.menu.items().filter(":visible")[0].focus())}),D.on("mouseenter",function(_){var j,w=_.control,M=D.parent();w&&M&&w instanceof C&&w.parent()==M&&(M.items().filter("MenuButton").each(function(P){P.hideMenu&&P!=w&&(P.menu&&P.menu.visible()&&(j=!0),P.hideMenu())}),j&&(w.focus(),w.showMenu()))}),D._super()},bindStates:function(){var D=this;return D.state.on("change:menu",function(){D.menu&&D.menu.remove(),D.menu=null}),D._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return C}),xe(pl,[vn,li,G,I],function(me,ie,U,z){return me.extend({Defaults:{border:0,role:"menuitem"},init:function(C){var _,D=this;D._super(C),C=D.settings,D.classes.add("menu-item"),C.menu&&D.classes.add("menu-item-expand"),C.preview&&D.classes.add("menu-item-preview"),"-"!==(_=D.state.get("text"))&&"|"!==_||(D.classes.add("menu-item-sep"),D.aria("role","separator"),D.state.set("text","-")),C.selectable&&(D.aria("role","menuitemcheckbox"),D.classes.add("menu-item-checkbox"),C.icon="selected"),C.preview||C.selectable||D.classes.add("menu-item-normal"),D.on("mousedown",function(w){w.preventDefault()}),C.menu&&!C.ariaHideMenu&&D.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var _,C=this,D=C.settings,w=C.parent();if(w.items().each(function(j){j!==C&&j.hideMenu()}),D.menu){(_=C.menu)?_.show():((_=D.menu).length?_={type:"menu",items:_}:_.type=_.type||"menu",w.settings.itemDefaults&&(_.itemDefaults=w.settings.itemDefaults),(_=C.menu=ie.create(_).parent(C).renderTo()).reflow(),_.on("cancel",function(j){j.stopPropagation(),C.focus(),_.hide()}),_.on("show hide",function(j){j.control.items&&j.control.items().each(function(P){P.active(P.settings.selected)})}).fire("show"),_.on("hide",function(j){j.control===_&&C.classes.remove("selected")}),_.submenu=!0),_._parentMenu=w,_.classes.add("menu-sub");var M=_.testMoveRel(C.getEl(),C.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);_.moveRel(C.getEl(),M),_.rel=M,M="menu-sub-"+M,_.classes.remove(_._lastRel).add(M),_._lastRel=M,C.classes.add("selected"),C.aria("expanded",!0)}},hideMenu:function(){var C=this;return C.menu&&(C.menu.items().each(function(D){D.hideMenu&&D.hideMenu()}),C.menu.hide(),C.aria("expanded",!1)),C},renderHtml:function(){function D(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(N){var R=P.match||"";return R?N.replace(new RegExp(D(R),"gi"),function(A){return"!mce~match["+A+"]mce~match!"}):N}function w(N){return N.replace(new RegExp(D("!mce~match["),"g"),"<b>").replace(new RegExp(D("]mce~match!"),"g"),"</b>")}var re,M=this,j=M._id,P=M.settings,E=M.classPrefix,H=M.state.get("text"),q=M.settings.icon,O="",$=P.shortcut,F=M.encode(P.url);return q&&M.parent().classes.add("menu-has-icons"),P.image&&(O=" style=\"background-image: url('"+P.image+"')\""),$&&($=function C(N){var R,A,v;for(v=U.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},N=N.split("+"),R=0;R<N.length;R++)(A=v[N[R].toLowerCase()])&&(N[R]=A);return N.join("+")}($)),q=E+"ico "+E+"i-"+(M.settings.icon||"none"),re="-"!==H?'<i class="'+q+'"'+O+"></i>\xa0":"",H=w(M.encode(_(H))),F=w(M.encode(_(F))),'<div id="'+j+'" class="'+M.classes+'" tabindex="-1">'+re+("-"!==H?'<span id="'+j+'-text" class="'+E+'text">'+H+"</span>":"")+($?'<div id="'+j+'-shortcut" class="'+E+'menu-shortcut">'+$+"</div>":"")+(P.menu?'<div class="'+E+'caret"></div>':"")+(F?'<div class="'+E+'menu-item-link">'+F+"</div>":"")+"</div>"},postRender:function(){var C=this,D=C.settings,_=D.textStyle;if("function"==typeof _&&(_=_.call(this)),_){var w=C.getEl("text");w&&w.setAttribute("style",_)}return C.on("mouseenter click",function(M){M.control===C&&(D.menu||"click"!==M.type?(C.showMenu(),M.aria&&C.menu.focus(!0)):(C.fire("select"),z.requestAnimationFrame(function(){C.parent().hideAll()})))}),C._super(),C},hover:function(){var C=this;return C.parent().items().each(function(D){D.classes.remove("selected")}),C.classes.toggle("selected",!0),C},active:function(C){return typeof C<"u"&&this.aria("checked",C),this._super(C)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),xe(xu,[ae,$i,I],function(me,ie,U){return function(z,C){var _,M,D=this,w=ie.classPrefix;D.show=function(j,P){function E(){_&&(me(z).append('<div class="'+w+"throbber"+(C?" "+w+"throbber-inline":"")+'"></div>'),P&&P())}return D.hide(),_=!0,j?M=U.setTimeout(E,j):E(),D},D.hide=function(){var j=z.lastChild;return U.clearTimeout(M),j&&-1!=j.className.indexOf("throbber")&&j.parentNode.removeChild(j),_=!1,D}}}),xe(Fo,[Hr,pl,xu,Y],function(me,ie,U,z){return me.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(C){if(C.autohide=!0,C.constrainToViewport=!0,"function"==typeof C.items&&(C.itemsFactory=C.items,C.items=[]),C.itemDefaults)for(var _=C.items,w=_.length;w--;)_[w]=z.extend({},C.itemDefaults,_[w]);this._super(C),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function C(){D.throbber&&(D.throbber.hide(),D.throbber=null)}var _,D=this;D.settings.itemsFactory&&(D.throbber||(D.throbber=new U(D.getEl("body"),!0),0===D.items().length?(D.throbber.show(),D.fire("loading")):D.throbber.show(100,function(){D.items().remove(),D.fire("loading")}),D.on("hide close",C)),D.requestTime=_=(new Date).getTime(),D.settings.itemsFactory(function(M){return 0===M.length?void D.hide():void(D.requestTime===_&&(D.getEl().style.width="",D.getEl("body").style.width="",C(),D.items().remove(),D.getEl("body").innerHTML="",D.add(M),D.renderNew(),D.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var C=this;return C.items().each(function(D){var _=D.settings;if(_.icon||_.image||_.selectable)return C._hasIcons=!0,!1}),C.settings.itemsFactory&&C.on("postrender",function(){C.settings.itemsFactory&&C.load()}),C._super()}})}),xe(vs,[fl,Fo],function(me,ie){return me.extend({init:function(U){var D,_,w,M,C=this;C._super(U),C._values=D=(U=C.settings).values,D&&(typeof U.value<"u"&&function z(j){for(var P=0;P<j.length;P++){if(_=j[P].selected||U.value===j[P].value)return w=w||j[P].text,C.state.set("value",j[P].value),!0;if(j[P].menu&&z(j[P].menu))return!0}}(D),!_&&D.length>0&&(w=D[0].text,C.state.set("value",D[0].value)),C.state.set("menu",D)),C.state.set("text",U.text||w),C.classes.add("listbox"),C.on("select",function(j){var P=j.control;M&&(j.lastControl=M),U.multiple?P.active(!P.active()):C.value(j.control.value()),M=P})},bindStates:function(){function z(D,_){var w;if(D)for(var M=0;M<D.length;M++){if(D[M].value===_)return D[M];if(D[M].menu&&(w=z(D[M].menu,_)))return w}}var C=this;return C.on("show",function(D){!function U(D,_){D instanceof ie&&D.items().each(function(w){w.hasMenus()||w.active(w.value()===_)})}(D.control,C.value())}),C.state.on("change:value",function(D){var _=z(C.state.get("menu"),D.value);C.text(_?_.text:C.settings.text)}),C._super()}})}),xe(po,[ds],function(me){return me.extend({Defaults:{classes:"radio",role:"radio"}})}),xe(id,[vn,vr],function(me,ie){return me.extend({renderHtml:function(){var U=this,z=U.classPrefix;return U.classes.add("resizehandle"),"both"==U.settings.direction&&U.classes.add("resizehandle-both"),U.canFocus=!1,'<div id="'+U._id+'" class="'+U.classes+'"><i class="'+z+"ico "+z+'i-resize"></i></div>'},postRender:function(){var U=this;U._super(),U.resizeDragHelper=new ie(this._id,{start:function(){U.fire("ResizeStart")},drag:function(z){"both"!=U.settings.direction&&(z.deltaX=0),U.fire("Resize",z)},stop:function(){U.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),xe(gl,[vn],function(me){function ie(U){var z="";if(U)for(var C=0;C<U.length;C++)z+='<option value="'+U[C]+'">'+U[C]+"</option>";return z}return me.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(U){var z=this;z._super(U),z.settings.size&&(z.size=z.settings.size),z.settings.options&&(z._options=z.settings.options),z.on("keydown",function(C){var D;13==C.keyCode&&(C.preventDefault(),z.parents().reverse().each(function(_){if(_.toJSON)return D=_,!1}),z.fire("submit",{data:D.toJSON()}))})},options:function(U){return arguments.length?(this.state.set("options",U),this):this.state.get("options")},renderHtml:function(){var z,U=this,C="";return z=ie(U._options),U.size&&(C=' size = "'+U.size+'"'),'<select id="'+U._id+'" class="'+U.classes+'"'+C+">"+z+"</select>"},bindStates:function(){var U=this;return U.state.on("change:options",function(z){U.getEl().innerHTML=ie(z.value)}),U._super()}})}),xe(rd,[vn,vr,Wn],function(me,ie,U){function z(_,w,M){return _<w&&(_=w),_>M&&(_=M),_}function C(_,w,M){_.setAttribute("aria-"+w,M)}function D(_,w){var M,j,P,E,q;"v"==_.settings.orientation?(E="top",P="height",j="h"):(E="left",P="width",j="w"),q=_.getEl("handle"),M=(_.layoutRect()[j]||100)-U.getSize(q)[P],q.style[E]=M*((w-_._minValue)/(_._maxValue-_._minValue))+"px",q.style.height=_.layoutRect().h+"px",C(q,"valuenow",w),C(q,"valuetext",""+_.settings.previewFilter(w)),C(q,"valuemin",_._minValue),C(q,"valuemax",_._maxValue)}return me.extend({init:function(_){var w=this;_.previewFilter||(_.previewFilter=function(M){return Math.round(100*M)/100}),w._super(_),w.classes.add("slider"),"v"==_.orientation&&w.classes.add("vertical"),w._minValue=_.minValue||0,w._maxValue=_.maxValue||100,w._initValue=w.state.get("value")},renderHtml:function(){var _=this,w=_._id;return'<div id="'+w+'" class="'+_.classes+'"><div id="'+w+'-handle" class="'+_.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var E,H,q,O,$,F,P=this;E=P._minValue,H=P._maxValue,"v"==P.settings.orientation?(q="screenY",O="top",$="height",F="h"):(q="screenX",O="left",$="width",F="w"),P._super(),function M(re,N){function R(A){var v;v=P.value(),v=function w(re,N,R){return R*(N-re)-re}(re,N,function _(re,N,R){return(R+re)/(N-re)}(re,N,v)+.05*A),v=z(v,re,N),P.value(v),P.fire("dragstart",{value:v}),P.fire("drag",{value:v}),P.fire("dragend",{value:v})}P.on("keydown",function(A){switch(A.keyCode){case 37:case 38:R(-1);break;case 39:case 40:R(1)}})}(E,H,P.getEl("handle")),function j(re,N,R){var A,v,y,Z,oe;P._dragHelper=new ie(P._id,{handle:P._id+"-handle",start:function(J){A=J[q],v=parseInt(P.getEl("handle").style[O],10),y=(P.layoutRect()[F]||100)-U.getSize(R)[$],P.fire("dragstart",{value:oe})},drag:function(J){Z=z(v+(J[q]-A),0,y),R.style[O]=Z+"px",P.value(oe=re+Z/y*(N-re)),P.tooltip().text(""+P.settings.previewFilter(oe)).show().moveRel(R,"bc tc"),P.fire("drag",{value:oe})},stop:function(){P.tooltip().hide(),P.fire("dragend",{value:oe})}})}(E,H,P.getEl("handle"))},repaint:function(){this._super(),D(this,this.value())},bindStates:function(){var _=this;return _.state.on("change:value",function(w){D(_,w.value)}),_._super()}})}),xe(od,[vn],function(me){return me.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),xe(ml,[fl,Wn,ae],function(me,ie,U){return me.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var w,z=this,C=z.getEl(),D=z.layoutRect();return z._super(),w=C.lastChild,U(C.firstChild).css({width:D.w-ie.getSize(w).width,height:D.h-2}),U(w).css({height:D.h-2}),z},activeMenu:function(z){U(this.getEl().lastChild).toggleClass(this.classPrefix+"active",z)},renderHtml:function(){var _,z=this,C=z._id,D=z.classPrefix,w=z.state.get("icon"),M=z.state.get("text"),j="";return(_=z.settings.image)?(w="none","string"!=typeof _&&(_=window.getSelection?_[0]:_[1]),_=" style=\"background-image: url('"+_+"')\""):_="",w=z.settings.icon?D+"ico "+D+"i-"+w:"",M&&(z.classes.add("btn-has-text"),j='<span class="'+D+'txt">'+z.encode(M)+"</span>"),'<div id="'+C+'" class="'+z.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(w?'<i class="'+w+'"'+_+"></i>":"")+j+'</button><button type="button" class="'+D+'open" hidefocus="1" tabindex="-1">'+(z._menuBtnText?(w?"\xa0":"")+z._menuBtnText:"")+' <i class="'+D+'caret"></i></button></div>'},postRender:function(){var z=this,C=z.settings.onclick;return z.on("click",function(D){var _=D.target;if(D.control==this)for(;_;){if(D.aria&&"down"!=D.aria.key||"BUTTON"==_.nodeName&&-1==_.className.indexOf("open"))return D.stopImmediatePropagation(),void(C&&C.call(this,D));_=_.parentNode}}),delete z.settings.onclick,z._super()}})}),xe(bu,[ps],function(me){return me.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),xe(_u,[Qi,ae,Wn],function(me,ie,U){return me.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(z){var C;this.activeTabId&&(C=this.getEl(this.activeTabId),ie(C).removeClass(this.classPrefix+"active"),C.setAttribute("aria-selected","false")),this.activeTabId="t"+z,(C=this.getEl("t"+z)).setAttribute("aria-selected","true"),ie(C).addClass(this.classPrefix+"active"),this.items()[z].show().fire("showtab"),this.reflow(),this.items().each(function(D,_){z!=_&&D.hide()})},renderHtml:function(){var z=this,C=z._layout,D="",_=z.classPrefix;return z.preRender(),C.preRender(z),z.items().each(function(w,M){var j=z._id+"-t"+M;w.aria("role","tabpanel"),w.aria("labelledby",j),D+='<div id="'+j+'" class="'+_+'tab" unselectable="on" role="tab" aria-controls="'+w._id+'" aria-selected="false" tabIndex="-1">'+z.encode(w.settings.title)+"</div>"}),'<div id="'+z._id+'" class="'+z.classes+'" hidefocus="1" tabindex="-1"><div id="'+z._id+'-head" class="'+_+'tabs" role="tablist">'+D+'</div><div id="'+z._id+'-body" class="'+z.bodyClasses+'">'+C.renderHtml(z)+"</div></div>"},postRender:function(){var z=this;z._super(),z.settings.activeTab=z.settings.activeTab||0,z.activateTab(z.settings.activeTab),this.on("click",function(C){var D=C.target.parentNode;if(D&&D.id==z._id+"-head")for(var _=D.childNodes.length;_--;)D.childNodes[_]==C.target&&z.activateTab(_)})},initLayoutRect:function(){var C,D,_,z=this;D=(D=U.getSize(z.getEl("head")).width)<0?0:D,_=0,z.items().each(function(M){D=Math.max(D,M.layoutRect().minW),_=Math.max(_,M.layoutRect().minH)}),z.items().each(function(M){M.settings.x=0,M.settings.y=0,M.settings.w=D,M.settings.h=_,M.layoutRect({x:0,y:0,w:D,h:_})});var w=U.getSize(z.getEl("head")).height;return z.settings.minWidth=D,z.settings.minHeight=_+w,(C=z._super()).deltaH+=w,C.innerH=C.h-C.deltaH,C}})}),xe(wu,[vn,Y,Wn],function(me,ie,U){return me.extend({init:function(z){var C=this;C._super(z),C.classes.add("textbox"),z.multiline?C.classes.add("multiline"):(C.on("keydown",function(D){var _;13==D.keyCode&&(D.preventDefault(),C.parents().reverse().each(function(w){if(w.toJSON)return _=w,!1}),C.fire("submit",{data:_.toJSON()}))}),C.on("keyup",function(D){C.state.set("value",D.target.value)}))},repaint:function(){var C,D,_,w,j,z=this,M=0;C=z.getEl().style,D=z._layoutRect,j=z._lastRepaintRect||{};var P=document;return!z.settings.multiline&&P.all&&(!P.documentMode||P.documentMode<=8)&&(C.lineHeight=D.h-M+"px"),w=(_=z.borderBox).left+_.right+8,M=_.top+_.bottom+(z.settings.multiline?8:0),D.x!==j.x&&(C.left=D.x+"px",j.x=D.x),D.y!==j.y&&(C.top=D.y+"px",j.y=D.y),D.w!==j.w&&(C.width=D.w-w+"px",j.w=D.w),D.h!==j.h&&(C.height=D.h-M+"px",j.h=D.h),z._lastRepaintRect=j,z.fire("repaint",{},!1),z},renderHtml:function(){var D,_,z=this,C=z.settings;return D={id:z._id,hidefocus:"1"},ie.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(w){D[w]=C[w]}),z.disabled()&&(D.disabled="disabled"),C.subtype&&(D.type=C.subtype),(_=U.create(C.multiline?"textarea":"input",D)).value=z.state.get("value"),_.className=z.classes,_.outerHTML},value:function(z){return arguments.length?(this.state.set("value",z),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var z=this;z.getEl().value=z.state.get("value"),z._super(),z.$el.on("change",function(C){z.state.set("value",C.target.value),z.fire("change",C)})},bindStates:function(){var z=this;return z.state.on("change:value",function(C){z.getEl().value!=C.value&&(z.getEl().value=C.value)}),z.state.on("change:disabled",function(C){z.getEl().disabled=C.value}),z._super()},remove:function(){this.$el.off(),this._super()}})}),xe("tinymce/Register",[],function(){var me=this||window;return"function"==typeof me.define&&(me.define.amd||me.define("ephox/tinymce",[],function(){return me.tinymce})),"object"==typeof module&&(module.exports=window.tinymce),{}}),function le(me){var ie,U,z,C,D;for(ie=0;ie<me.length;ie++){U=Ze,C=(z=me[ie]).split(/[.\/]/);for(var _=0;_<C.length-1;++_)U[C[_]]===St&&(U[C[_]]={}),U=U[C[_]];U[C[C.length-1]]=W[z]}if(Ze.AMDLC_TESTS){for(z in D=Ze.privateModules||{},W)D[z]=W[z];for(ie=0;ie<me.length;ie++)delete D[me[ie]];Ze.privateModules=D}}([L,k,I,G,X,T,Y,ae,se,ne,we,ve,De,he,Me,Be,$e,Ke,gt,it,Vt,dt,Yt,pn,Sn,Kn,Qn,cn,jn,Ht,en,mn,bn,kn,En,Fi,$i,li,pr,Ki,vr,ur,Qi,eo,Bi,Hr,Da,Ft,tn,Mn,vn,Rn,Jn,ei,ui,Ai,Bo,sa,ho,Mr,la,Na,pu,nd,sl,zo,Tr,xr,fo,ua,ds,ca,ll,ul,Pa,hs,gu,fs,mu,Br,da,cl,dl,Io,Gr,ps,gs,fa,Ar,hl,yu,ms,pa,fl,pl,xu,Fo,vs,po,id,gl,rd,od,ml,bu,_u,wu])}(window),function(){var Ze={},xe=function(L){var k=Ze[L];if(void 0===k)throw"module ["+L+"] was undefined";return void 0===k.instance&&function(L){for(var k=Ze[L],I=k.deps,G=k.defn,X=I.length,T=new Array(X),B=0;B<X;++B)T[B]=xe(I[B]);var Y=G.apply(null,T);if(void 0===Y)throw"module ["+L+"] returned undefined";k.instance=Y}(L),k.instance},le=function(L,k,I){if("string"!=typeof L)throw"module id must be a string";if(void 0===k)throw"no dependencies for "+L;if(void 0===I)throw"no definition function for "+L;Ze[L]={deps:k,defn:I,instance:void 0}},W=function(L,k){le(L,[],function(){return k})};W("1",tinymce.Env),W("2",tinymce.EditorManager),W("3",tinymce.ThemeManager),W("8",tinymce.util.Tools),W("9",tinymce.ui.Factory),W("a",tinymce.DOM),le("b",["8","9"],function(L,k){var G=function(T,B,Y){var ae,se=[];if(B)return L.each(B.split(/[ ,]/),function(ne){var we=function(){var Le=T.selection;ne.settings.stateSelector&&Le.selectorChanged(ne.settings.stateSelector,function(ve){ne.active(ve)},!0),ne.settings.disabledStateSelector&&Le.selectorChanged(ne.settings.disabledStateSelector,function(ve){ne.disabled(ve)})};"|"==ne?ae=null:k.has(ne)?(se.push(ne={type:ne,size:Y}),ae=null):(ae||se.push(ae={type:"buttongroup",items:[]}),T.buttons[ne]&&("function"==typeof(ne=T.buttons[ne])&&(ne=ne()),ne.type=ne.type||"button",ne.size=Y,ne=k.create(ne),ae.items.push(ne),T.initialized?we():T.on("init",we)))}),{type:"toolbar",layout:"flow",items:se}};return{createToolbar:G,createToolbars:function(T,B){var Y=[],ae=T.settings,se=function(pe){if(pe)return Y.push(G(T,pe,B)),!0};if(L.isArray(ae.toolbar)){if(0===ae.toolbar.length)return;L.each(ae.toolbar,function(pe,we){ae["toolbar"+(we+1)]=pe}),delete ae.toolbar}for(var ne=1;ne<10&&se(ae["toolbar"+ne]);ne++);if(Y.length||!1===ae.toolbar||se(ae.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),Y.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:Y}}}}),le("c",["8"],function(L){var k={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},I=function(T,B){return"|"==B?{text:"|"}:T[B]},G=function(T,B,Y){var ae,se,ne,pe,we;if(we=L.makeMap((B.removed_menuitems||"").split(/[ ,]/)),B.menu?(se=B.menu[Y],pe=!0):se=k[Y],se){ae={text:se.title},ne=[],L.each((se.items||"").split(/[ ,]/),function(ve){I(T,ve)&&!we[ve]&&ne.push(I(T,ve))}),pe||L.each(T,function(ve){ve.context==Y&&("before"==ve.separator&&ne.push({text:"|"}),ve.prependToContext?ne.unshift(ve):ne.push(ve),"after"==ve.separator&&ne.push({text:"|"}))});for(var Le=0;Le<ne.length;Le++)"|"==ne[Le].text&&(0!==Le&&Le!=ne.length-1||ne.splice(Le,1));if(ae.menu=ne,!ae.menu.length)return null}return ae};return{createMenuButtons:function(T){var B,Y=[],ae=T.settings,se=[];if(ae.menu)for(B in ae.menu)se.push(B);else for(B in k)se.push(B);for(var ne="string"==typeof ae.menubar?ae.menubar.split(/[ ,]/):se,pe=0;pe<ne.length;pe++){var we=ne[pe];(we=G(T.menuItems,T.settings,we))&&Y.push(we)}return Y}}}),W("j",tinymce.util.Delay),W("k",tinymce.geom.Rect),le("d",["a","8","j","b","9","k"],function(L,k,I,G,X,T){var B=function(we){return{left:we.x,top:we.y,width:we.w,height:we.h,right:we.x+we.w,bottom:we.y+we.h}},ae=function(we,Le){we.moveTo(Le.left,Le.top)},ne=function(we,Le,ve,De,he,be){return be=B({x:Le,y:ve,w:be.w,h:be.h}),we&&(be=we({elementRect:B(De),contentAreaRect:B(he),panelRect:be})),be};return{addContextualToolbars:function(we){var Le,ve=we.settings,De=function(){return we.contextToolbars||[]},be=function($e,Ke){var gt,it,Vt,dt,xt,Yt,pn,qt=ve.inline_toolbar_position_handler;if(!we.removed){if(!$e||!$e.toolbar.panel)return void function(we){k.each(we.contextToolbars,function(Le){Le.panel&&Le.panel.hide()})}(we);pn=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],xt=$e.toolbar.panel,Ke&&xt.show(),Vt=function($e){var Ke,gt,it;return Ke=L.getPos(we.getContentAreaContainer()),gt=we.dom.getRect($e),"BODY"===(it=we.dom.getRoot()).nodeName&&(gt.x-=it.ownerDocument.documentElement.scrollLeft||it.scrollLeft,gt.y-=it.ownerDocument.documentElement.scrollTop||it.scrollTop),gt.x+=Ke.x,gt.y+=Ke.y,gt}($e.element),it=L.getRect(xt.getEl()),dt=L.getRect(we.getContentAreaContainer()||we.getBody()),"inline"!==L.getStyle($e.element,"display",!0)&&(Vt.w=$e.element.clientWidth,Vt.h=$e.element.clientHeight),we.inline||(dt.w=we.getDoc().documentElement.offsetWidth),we.selection.controlSelection.isResizable($e.element)&&Vt.w<25&&(Vt=T.inflate(Vt,0,8)),gt=T.findBestRelativePosition(it,Vt,dt,pn),Vt=T.clamp(Vt,dt),gt?(Yt=T.relativePosition(it,Vt,gt),ae(xt,ne(qt,Yt.x,Yt.y,Vt,dt,it))):(dt.h+=it.h,(Vt=T.intersect(dt,Vt))?(gt=T.findBestRelativePosition(it,Vt,dt,["bc-tc","bl-tl","br-tr"]))?(Yt=T.relativePosition(it,Vt,gt),ae(xt,ne(qt,Yt.x,Yt.y,Vt,dt,it))):ae(xt,ne(qt,Vt.x,Vt.y,Vt,dt,it)):xt.hide()),function(we,Le,ve){Le=Le?Le.substr(0,2):"",k.each({t:"down",b:"up"},function(De,he){we.classes.toggle("arrow-"+De,ve(he,Le.substr(0,1)))}),k.each({l:"left",r:"right"},function(De,he){we.classes.toggle("arrow-"+De,ve(he,Le.substr(1,1)))})}(xt,gt,function(dn,Pt){return dn===Pt})}},ke=function($e){return function(){I.requestAnimationFrame(function(){we.selection&&be(Be(we.selection.getNode()),$e)})}},Ne=function(){k.each(De(),function($e){$e.panel&&$e.panel.hide()})},Be=function($e){var Ke,gt,it,Vt=De();for(Ke=(it=we.$($e).parents().add($e)).length-1;Ke>=0;Ke--)for(gt=Vt.length-1;gt>=0;gt--)if(Vt[gt].predicate(it[Ke]))return{toolbar:Vt[gt],element:it[Ke]};return null};we.on("click keyup setContent ObjectResized",function($e){("setcontent"!==$e.type||$e.selection)&&I.setEditorTimeout(we,function(){var Ke;(Ke=Be(we.selection.getNode()))?(Ne(),function($e){var Ke;$e.toolbar.panel?($e.toolbar.panel.show(),be($e)):(Le||(Le=we.selection.getScrollContainer()||we.getWin(),L.bind(Le,"scroll",ke(!0)),we.on("remove",function(){L.unbind(Le,"scroll")})),Ke=X.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:G.createToolbar(we,$e.toolbar.items),oncancel:function(){we.focus()}}),$e.toolbar.panel=Ke,Ke.renderTo(document.body).reflow(),be($e))}(Ke)):Ne()})}),we.on("blur hide contextmenu",Ne),we.on("ObjectResizeStart",function(){var $e=Be(we.selection.getNode());$e&&$e.toolbar.panel&&$e.toolbar.panel.hide()}),we.on("ResizeEditor ResizeWindow",ke(!0)),we.on("nodeChange",ke(!1)),we.on("remove",function(){k.each(De(),function($e){$e.panel&&$e.panel.remove()}),we.contextToolbars={}}),we.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var $e=Be(we.selection.getNode());$e&&$e.toolbar.panel&&$e.toolbar.panel.items()[0].focus()})}}}),le("e",[],function(){var L=function(I,G){return function(){var X=I.find(G)[0];X&&X.focus(!0)}};return{addKeys:function(I,G){I.shortcuts.add("Alt+F9","",L(G,"menubar")),I.shortcuts.add("Alt+F10,F10","",L(G,"toolbar")),I.shortcuts.add("Alt+F11","",L(G,"elementpath")),G.on("cancel",function(){I.focus()})}}}),le("f",["8","9","1"],function(L,k,I){var X=function(we,Le,ve){var De=we.settings[ve];De&&De(function(we){return{element:function(){return we}}}(Le.getEl("body")))},ae=function(we,Le,ve){return function(De){var he=De.control,be=he.parents().filter("panel")[0],ke=be.find("#"+Le)[0],ee=function(we,Le){return L.grep(we,function(ve){return ve.name===Le})[0]}(ve,Le);(function(we,Le,ve){L.each(ve,function(De){var he=Le.items().filter("#"+De.name)[0];he&&he.visible()&&De.name!==we&&(X(De,he,"onhide"),he.visible(!1))})})(Le,be,ve),function(we){we.items().each(function(Le){Le.active(!1)})}(he.parent()),ke&&ke.visible()?(X(ee,ke,"onhide"),ke.hide(),he.active(!1)):(ke?(ke.show(),X(ee,ke,"onshow")):(ke=k.create({type:"container",name:Le,layout:"stack",classes:"sidebar-panel",html:""}),be.prepend(ke),X(ee,ke,"onrender"),X(ee,ke,"onshow")),he.active(!0)),we.fire("ResizeEditor")}};return{hasSidebar:function(we){return!(I.ie&&!(I.ie>=11)||!we.sidebars)&&we.sidebars.length>0},createSidebar:function(we){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:L.map(we.sidebars,function(ve){var De=ve.settings;return{type:"button",icon:De.icon,image:De.image,tooltip:De.tooltip,onclick:ae(we,ve.name,we.sidebars)}})}]}}}}),le("g",[],function(){return{fireSkinLoaded:function(k){var I=function(){k._skinLoaded=!0,k.fire("SkinLoaded")};return function(){k.initialized?I():k.on("init",I)}}}}),le("6",["a"],function(L){var k=function(X){return{width:X.clientWidth,height:X.clientHeight}},I=function(X,T,B){var Y,ae,se,ne,pe=X.settings;Y=X.getContainer(),ae=X.getContentAreaContainer().firstChild,se=k(Y),ne=k(ae),null!==T&&(T=Math.max(pe.min_width||100,T),T=Math.min(pe.max_width||65535,T),L.setStyle(Y,"width",T+(se.width-ne.width)),L.setStyle(ae,"width",T)),B=Math.max(pe.min_height||100,B),B=Math.min(pe.max_height||65535,B),L.setStyle(ae,"height",B),X.fire("ResizeEditor")};return{resizeTo:I,resizeBy:function(X,T,B){var Y=X.getContentAreaContainer();I(X,Y.clientWidth+T,Y.clientHeight+B)}}}),le("4",["8","9","a","b","c","d","e","f","g","6"],function(L,k,I,G,X,T,B,Y,ae,se){var pe=function(ve){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:ve,html:""}},we=function(ve){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[pe("0"),Y.createSidebar(ve)]}};return{render:function(ve,De,he){var be,ke,ee,Me=ve.settings;return he.skinUiCss&&I.styleSheetLoader.load(he.skinUiCss,ae.fireSkinLoaded(ve)),be=De.panel=k.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===Me.menubar?null:{type:"menubar",border:"0 0 1 0",items:X.createMenuButtons(ve)},G.createToolbars(ve,Me.toolbar_items_size),Y.hasSidebar(ve)?we(ve):pe("1 0 0 0")]}),!1!==Me.resize&&(ke={type:"resizehandle",direction:Me.resize,onResizeStart:function(){var Ne=ve.getContentAreaContainer().firstChild;ee={width:Ne.clientWidth,height:Ne.clientHeight}},onResize:function(Ne){se.resizeTo(ve,"both"===Me.resize?ee.width+Ne.deltaX:null,ee.height+Ne.deltaY)}}),!1!==Me.statusbar&&be.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:ve},ke]}),ve.fire("BeforeRenderUI"),ve.on("SwitchMode",function(ve){return function(De){ve.find("*").disabled("readonly"===De.mode)}}(be)),be.renderBefore(he.targetNode).reflow(),Me.readonly&&ve.setMode("readonly"),Me.width&&I.setStyle(be.getEl(),"width",Me.width),ve.on("remove",function(){be.remove(),be=null}),B.addKeys(ve,be),T.addContextualToolbars(ve),{iframeContainer:be.find("#iframe")[0].getEl(),editorContainer:be.getEl()}}}}),W("h",tinymce.ui.FloatPanel),le("5",["8","9","a","h","b","c","d","e","g"],function(L,k,I,G,X,T,B,Y,ae){return{render:function(ne,pe,we){var Le,ve,De=ne.settings;De.fixed_toolbar_container&&(ve=I.select(De.fixed_toolbar_container)[0]);var he=function(){if(Le&&Le.moveRel&&Le.visible()&&!Le._fixed){var Me=ne.selection.getScrollContainer(),Ne=ne.getBody(),Be=0,$e=0;if(Me){var Ke=I.getPos(Ne),gt=I.getPos(Me);Be=Math.max(0,gt.x-Ke.x),$e=Math.max(0,gt.y-Ke.y)}Le.fixed(!1).moveRel(Ne,ne.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(Be,$e)}},be=function(){Le&&(Le.show(),he(),I.addClass(ne.getBody(),"mce-edit-focus"))},ke=function(){Le&&(Le.hide(),G.hideAll(),I.removeClass(ne.getBody(),"mce-edit-focus"))},ee=function(){return Le?void(Le.visible()||be()):(Le=pe.panel=k.create({type:ve?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!ve,border:1,items:[!1===De.menubar?null:{type:"menubar",border:"0 0 1 0",items:T.createMenuButtons(ne)},X.createToolbars(ne,De.toolbar_items_size)]}),ne.fire("BeforeRenderUI"),Le.renderTo(ve||document.body).reflow(),Y.addKeys(ne,Le),be(),B.addContextualToolbars(ne),ne.on("nodeChange",he),ne.on("activate",be),ne.on("deactivate",ke),void ne.nodeChanged())};return De.content_editable=!0,ne.on("focus",function(){we.skinUiCss?I.styleSheetLoader.load(we.skinUiCss,ee,ee):ee()}),ne.on("blur hide",ke),ne.on("remove",function(){Le&&(Le.remove(),Le=null)}),we.skinUiCss&&I.styleSheetLoader.load(we.skinUiCss,ae.fireSkinLoaded(ne)),{}}}}),W("i",tinymce.ui.Throbber),le("7",["i"],function(L){return{setup:function(I,G){var X;I.on("ProgressState",function(T){X=X||new L(G.panel.getEl("body")),T.state?X.show(T.time):X.hide()})}}}),le("0",["1","2","3","4","5","6","7"],function(L,k,I,G,X,T,B){return I.add("modern",function(ae){return{renderUI:function(se){return function(ae,se,ne){var pe=ae.settings,we=!1!==pe.skin&&(pe.skin||"lightgray");if(we){var Le=pe.skin_url;Le=Le?ae.documentBaseURI.toAbsolute(Le):k.baseURL+"/skins/"+we,ne.skinUiCss=L.documentMode<=7?Le+"/skin.ie7.min.css":Le+"/skin.min.css",ae.contentCSS.push(Le+"/content"+(ae.inline?".inline":"")+".min.css")}return B.setup(ae,se),pe.inline?X.render(ae,se,ne):G.render(ae,se,ne)}(ae,this,se)},resizeTo:function(se,ne){return T.resizeTo(ae,se,ne)},resizeBy:function(se,ne){return T.resizeBy(ae,se,ne)}}}),function(){}}),xe("0")()}(),tinymce.PluginManager.add("link",function(Ze){function St(ne){return ne&&"A"===ne.nodeName&&ne.href}function In(ne){return tinymce.util.Tools.grep(ne,St).length>0}function xe(ne){return Ze.dom.getParent(ne,"a[href]")}function qe(){return xe(Ze.selection.getStart())}function I(ne){if(ne){var pe=function te(ne){return ne.getAttribute("data-mce-href")||ne.getAttribute("href")}(ne);if(/^#/.test(pe)){var we=Ze.$(pe);we.length&&Ze.selection.scrollIntoView(we[0],!0)}else!function k(ne){if(!tinymce.Env.ie||tinymce.Env.ie>10){var pe=document.createElement("a");pe.target="_blank",pe.href=ne,pe.rel="noreferrer noopener";var we=document.createEvent("MouseEvents");we.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function L(ne,pe){document.body.appendChild(ne),ne.dispatchEvent(pe),document.body.removeChild(ne)}(pe,we)}else{var Le=window.open("","_blank");if(Le){Le.opener=null;var ve=Le.document;ve.open(),ve.write('<meta http-equiv="refresh" content="0; url='+tinymce.DOM.encode(ne)+'">'),ve.close()}}}(ne.href)}}function G(){I(qe())}function T(ne){return function(){var pe=Ze.settings.link_list;"string"==typeof pe?tinymce.util.XHR.send({url:pe,success:function(we){ne(tinymce.util.JSON.parse(we))}}):"function"==typeof pe?pe(ne):ne(pe)}}function B(ne,pe,we){return function Le(ve,De){return De=De||[],tinymce.each(ve,function(he){var be={text:he.text||he.title};he.menu?be.menu=Le(he.menu):(be.value=he.value,pe&&pe(be)),De.push(be)}),De}(ne,we||[])}function Y(ne){function pe(Ct){var qt=Me.find("#text");(!qt.value()||Ct.lastControl&&qt.value()==Ct.lastControl.text())&&qt.value(Ct.control.text()),Me.find("#href").value(Ct.control.value())}function Le(){!ee&&0===xt.text.length&&Ne&&this.parent().parent().find("#text")[0].value(this.value())}var be,ke,ee,Me,Ne,Be,$e,Ke,gt,it,Vt,dt,xt={},Yt=Ze.selection,pn=Ze.dom;be=Yt.getNode(),ke=pn.getParent(be,"a[href]"),Ne=function De(Ct){var qt=Yt.getContent();if(/</.test(qt)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(qt)||-1==qt.indexOf("href=")))return!1;if(Ct){var dn,Pt=Ct.childNodes;if(0===Pt.length)return!1;for(dn=Pt.length-1;dn>=0;dn--)if(3!=Pt[dn].nodeType)return!1}return!0}(),xt.text=ee=ke?ke.innerText||ke.textContent:Yt.getContent({format:"text"}),xt.href=ke?pn.getAttrib(ke,"href"):"",ke?xt.target=pn.getAttrib(ke,"target"):Ze.settings.default_link_target&&(xt.target=Ze.settings.default_link_target),(dt=pn.getAttrib(ke,"rel"))&&(xt.rel=dt),(dt=pn.getAttrib(ke,"class"))&&(xt.class=dt),(dt=pn.getAttrib(ke,"title"))&&(xt.title=dt),Ne&&(Be={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){xt.text=this.value()}}),ne&&($e={type:"listbox",label:"Link list",values:B(ne,function(Ct){Ct.value=Ze.convertURL(Ct.value||Ct.url,"href")},[{text:"None",value:""}]),onselect:pe,value:Ze.convertURL(xt.href,"href"),onPostRender:function(){$e=this}}),!1!==Ze.settings.target_list&&(Ze.settings.target_list||(Ze.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),gt={name:"target",type:"listbox",label:"Target",values:B(Ze.settings.target_list)}),Ze.settings.rel_list&&(Ke={name:"rel",type:"listbox",label:"Rel",values:B(Ze.settings.rel_list)}),Ze.settings.link_class_list&&(it={name:"class",type:"listbox",label:"Class",values:B(Ze.settings.link_class_list,function(Ct){Ct.value&&(Ct.textStyle=function(){return Ze.formatter.getCssText({inline:"a",classes:[Ct.value]})})})}),!1!==Ze.settings.link_title&&(Vt={name:"title",type:"textbox",label:"Title",value:xt.title}),Me=Ze.windowManager.open({title:"Insert link",data:xt,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function ve(Ct){var qt=Ct.meta||{};$e&&$e.value(Ze.convertURL(this.value(),"href")),tinymce.each(Ct.meta,function(dn,Pt){var yn=Me.find("#"+Pt);"text"===Pt?0===ee.length&&(yn.value(dn),xt.text=dn):yn.value(dn)}),qt.attach&&(ae={href:this.value(),attach:qt.attach}),qt.text||Le.call(this)},onkeyup:Le,onbeforecall:function he(Ct){Ct.meta=Me.toJSON()}},Be,Vt,function we(Ct){var qt=[];if(tinymce.each(Ze.dom.select("a:not([href])"),function(dn){var Pt=dn.name||dn.id;Pt&&qt.push({text:Pt,value:"#"+Pt,selected:-1!=Ct.indexOf("#"+Pt)})}),qt.length)return qt.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:qt,onselect:pe}}(xt.href),$e,Ke,gt,it],onSubmit:function(Ct){function qt(Sn,Kn){var Un=Ze.selection.getRng();tinymce.util.Delay.setEditorTimeout(Ze,function(){Ze.windowManager.confirm(Sn,function(zn){Ze.selection.setRng(Un),Kn(zn)})})}function Pt(){var Sn={href:Gt,target:xt.target?xt.target:null,rel:xt.rel?xt.rel:null,class:xt.class?xt.class:null,title:xt.title?xt.title:null};Ze.settings.allow_unsafe_link_target||(Sn.rel=function dn(Sn,Kn){function zn(Qn){var Ti=new RegExp("("+bi.replace(" ","|")+")","g");return Qn&&(Qn=tinymce.trim(Qn.replace(Ti,""))),Qn||null}var bi="noopener noreferrer";return Kn?function Un(Qn){return(Qn=zn(Qn))?[Qn,bi].join(" "):bi}(Sn):zn(Sn)}(Sn.rel,"_blank"==Sn.target)),Gt===ae.href&&(ae.attach(),ae={}),ke?(Ze.focus(),Ne&&xt.text!=ee&&("innerText"in ke?ke.innerText=xt.text:ke.textContent=xt.text),pn.setAttribs(ke,Sn),Yt.select(ke),Ze.undoManager.add()):Ne?Ze.insertContent(pn.createHTML("a",Sn,pn.encode(xt.text))):Ze.execCommand("mceInsertLink",!1,Sn)}function yn(){Ze.undoManager.transact(Pt)}var Gt;return xt=tinymce.extend(xt,Ct.data),(Gt=xt.href)?Gt.indexOf("@")>0&&-1==Gt.indexOf("//")&&-1==Gt.indexOf("mailto:")?void qt("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(Sn){Sn&&(Gt="mailto:"+Gt),yn()}):Ze.settings.link_assume_external_targets&&!/^\w+:/i.test(Gt)||!Ze.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(Gt)?void qt("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(Sn){Sn&&(Gt="http://"+Gt),yn()}):void yn():void Ze.execCommand("unlink")}})}var ae={};Ze.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:T(Y),stateSelector:"a[href]"}),Ze.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),Ze.addContextToolbar&&(Ze.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:G}),Ze.addContextToolbar(function W(ne){var pe,we,Le;return!!(Ze.settings.link_context_toolbar&&!function le(){var ne=Ze.plugins.contextmenu;return!!ne&&ne.isContextMenuVisible()}()&&St(ne)&&(pe=Ze.selection,we=pe.getRng(),Le=we.startContainer,3==Le.nodeType&&pe.isCollapsed()&&we.startOffset>0&&we.startOffset<Le.data.length))},"openlink | link unlink")),Ze.addShortcut("Meta+K","",T(Y)),Ze.addCommand("mceLink",T(Y)),Ze.on("click",function(ne){var pe=xe(ne.target);pe&&tinymce.util.VK.metaKeyPressed(ne)&&(ne.preventDefault(),I(pe))}),Ze.on("keydown",function(ne){var pe=qe();pe&&13===ne.keyCode&&function(ne){return!0===ne.altKey&&!1===ne.shiftKey&&!1===ne.ctrlKey&&!1===ne.metaKey}(ne)&&(ne.preventDefault(),I(pe))}),this.showDialog=Y,Ze.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:G,onPostRender:function X(){var ne=this,pe=function(we){In(we.parents)?ne.show():ne.hide()};In(Ze.dom.getParents(Ze.selection.getStart()))||ne.hide(),Ze.on("nodechange",pe),ne.on("remove",function(){Ze.off("nodechange",pe)})},prependToContext:!0}),Ze.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:T(Y),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),function(Ze,St){"use strict";function xe(W,L,k){if("string"!=typeof W)throw"invalid module definition, module id must be defined and be a string";if(L===St)throw"invalid module definition, dependencies must be specified";if(k===St)throw"invalid module definition, definition function must be specified";!function In(W,L){for(var k,I=[],G=0;G<W.length;++G){if(!(k=le[W[G]]||qe(W[G])))throw"module definition dependecy not found: "+W[G];I.push(k)}L.apply(null,I)}(L,function(){le[W]=k.apply(null,arguments)})}function qe(W){for(var L=Ze,k=W.split(/[.\/]/),I=0;I<k.length;++I){if(!L[k[I]])return;L=L[k[I]]}return L}var le={};xe("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(W,L,k){function I(Y,ae){return W.each(ae,function(se){Y=se.constructor==RegExp?Y.replace(se,""):Y.replace(se[0],se[1])}),Y}return{filter:I,innerText:function G(Y){var se=new k,ne=new L({},se),pe="",we=se.getShortEndedElements(),Le=W.makeMap("script noscript style textarea video audio iframe object"," "),ve=se.getBlockElements();return Y=I(Y,[/<!\[[^\]]+\]>/g]),function ae(De){var he=De.name,be=De;if("br"!==he)if(we[he]&&(pe+=" "),Le[he])pe+=" ";else{if(3==De.type&&(pe+=De.value),!De.shortEnded&&(De=De.firstChild))do{ae(De)}while(De=De.next);ve[he]&&be.next&&(pe+="\n","p"==he&&(pe+="\n"))}else pe+="\n"}(ne.parse(Y)),pe},trimHtml:function X(Y){return I(function(Y){var ae="\x3c!--StartFragment--\x3e",se="\x3c!--EndFragment--\x3e",ne=Y.indexOf(ae);if(-1!==ne){var pe=Y.substr(ne+ae.length),we=pe.indexOf(se);if(-1!==we&&/^<\/(p|h[1-6]|li)>/i.test(pe.substr(we+se.length,5)))return pe.substr(0,we)}return Y}(Y),[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function ae(se,ne,pe){return ne||pe?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function T(Y){var ae=0;return function(){return Y+ae++}}}}),xe("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(W){var L=function(se){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(se)},k=function(se){return L(se)&&/.(gif|jpe?g|png)$/.test(se)},X=function(se,ne,pe){return!(!1!==se.selection.isCollapsed()||!L(ne))&&function(se,ne,pe){return se.undoManager.extra(function(){pe(se,ne)},function(){se.execCommand("mceInsertLink",!1,ne)}),!0}(se,ne,pe)},T=function(se,ne,pe){return!!k(ne)&&function(se,ne,pe){return se.undoManager.extra(function(){pe(se,ne)},function(){se.insertContent('<img src="'+ne+'">')}),!0}(se,ne,pe)},B=function(se,ne){return se.insertContent(ne,{merge:!1!==se.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:k,isAbsoluteUrl:L,insertContent:function(se,ne){!1===se.settings.smart_paste?B(se,ne):function(se,ne){W.each([X,T,B],function(pe){return!0!==pe(se,ne,B)})}(se,ne)}}}),xe("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(W,L,k,I,G,X){return function(T){function B(Ct){var qt,dn=T.dom;if(qt=T.fire("BeforePastePreProcess",{content:Ct}),Ct=(qt=T.fire("PastePreProcess",qt)).content,!qt.isDefaultPrevented()){if(T.hasEventListeners("PastePostProcess")&&!qt.isDefaultPrevented()){var Pt=dn.add(T.getBody(),"div",{style:"display:none"},Ct);qt=T.fire("PastePostProcess",{node:Pt}),dn.remove(Pt),Ct=qt.node.innerHTML}qt.isDefaultPrevented()||G.insertContent(T,Ct)}}function Y(Ct){Ct=T.dom.encode(Ct).replace(/\r\n/g,"\n");var qt,dn=T.dom.getParent(T.selection.getStart(),T.dom.isBlock),Pt=T.settings.forced_root_block;Pt&&(qt=(qt=T.dom.createHTML(Pt,T.settings.forced_root_block_attrs)).substr(0,qt.length-3)+">"),dn&&/^(PRE|DIV)$/.test(dn.nodeName)||!Pt?Ct=I.filter(Ct,[[/\n/g,"<br>"]]):-1!=(Ct=I.filter(Ct,[[/\n\n/g,"</p>"+qt],[/^(.*<\/p>)(<p>)$/,qt+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(Ct=qt+Ct),B(Ct)}function ae(){var qt,dn=T.dom,Pt=T.getBody(),Gt=T.dom.getViewPort(T.getWin()).y,Sn=20;if(Ke=T.selection.getRng(),T.inline&&(qt=T.selection.getScrollContainer())&&qt.scrollTop>0&&(Gt=qt.scrollTop),Ke.getClientRects){var Kn=function Ct(zn){var bi,Qn,Ti,zt=zn.startContainer;if((bi=zn.getClientRects()).length)return bi[0];if(zn.collapsed&&1==zt.nodeType){for(Ti=zt.childNodes[Ke.startOffset];Ti&&3==Ti.nodeType&&!Ti.data.length;)Ti=Ti.nextSibling;if(Ti)return"BR"==Ti.tagName&&(Qn=dn.doc.createTextNode("\ufeff"),Ti.parentNode.insertBefore(Qn,Ti),(zn=dn.createRng()).setStartBefore(Qn),zn.setEndAfter(Qn),bi=zn.getClientRects(),dn.remove(Qn)),bi.length?bi[0]:void 0}}(Ke);if(Kn)Sn=Gt+(Kn.top-dn.getPos(Pt).y);else{Sn=Gt;var Un=Ke.startContainer;Un&&(3==Un.nodeType&&Un.parentNode!=Pt&&(Un=Un.parentNode),1==Un.nodeType&&(Sn=dn.getPos(Un,qt||Pt).y))}}$e=dn.add(T.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+Sn+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},xt),(W.ie||W.gecko)&&dn.setStyle($e,"left","rtl"==dn.getStyle(Pt,"direction",!0)?65535:-65535),dn.bind($e,"beforedeactivate focusin focusout",function(zn){zn.stopPropagation()}),$e.focus(),T.selection.select($e,!0)}function se(){if($e){for(var Ct;Ct=T.dom.get("mcepastebin");)T.dom.remove(Ct),T.dom.unbind(Ct);Ke&&T.selection.setRng(Ke)}$e=Ke=null}function ne(){var Ct,qt,dn,yn="";for(Ct=T.dom.select("div[id=mcepastebin]"),qt=0;qt<Ct.length;qt++)(dn=Ct[qt]).firstChild&&"mcepastebin"==dn.firstChild.id&&(dn=dn.firstChild),yn!=xt&&(yn+=dn.innerHTML);return yn}function pe(Ct){var qt={};if(Ct){if(Ct.getData){var dn=Ct.getData("Text");dn&&dn.length>0&&-1==dn.indexOf(Yt)&&(qt["text/plain"]=dn)}if(Ct.types)for(var Pt=0;Pt<Ct.types.length;Pt++){var yn=Ct.types[Pt];qt[yn]=Ct.getData(yn)}}return qt}function Le(Ct){return Me(Ct,"text/html")||Me(Ct,"text/plain")}function he(Ct,qt,dn){Ct&&(T.selection.setRng(Ct),Ct=null);var Pt=qt.result,yn=function ve(Ct){var qt;return-1!==(qt=Ct.indexOf(","))?Ct.substr(qt+1):null}(Pt),Gt=new Image;if(Gt.src=Pt,function De(Ct,qt){return!Ct.images_dataimg_filter||Ct.images_dataimg_filter(qt)}(T.settings,Gt)){var Sn,Kn,Un=T.editorUpload.blobCache;(Kn=Un.findFirst(function(zn){return zn.base64()===yn}))?Sn=Kn:(Sn=Un.create(pn(),dn,yn),Un.add(Sn)),B('<img src="'+Sn.blobUri()+'">')}else B('<img src="'+Pt+'">')}function be(Ct,qt){function dn(yn){var Gt,Sn,Kn,Un=!1;if(yn)for(Gt=0;Gt<yn.length;Gt++)if(/^image\/(jpeg|png|gif|bmp)$/.test((Sn=yn[Gt]).type)){var zn=Sn.getAsFile?Sn.getAsFile():Sn;(Kn=new FileReader).onload=he.bind(null,qt,Kn,zn),Kn.readAsDataURL(zn),Ct.preventDefault(),Un=!0}return Un}var Pt=Ct.clipboardData||Ct.dataTransfer;if(T.settings.paste_data_images&&Pt)return dn(Pt.items)||dn(Pt.files)}function Me(Ct,qt){return qt in Ct&&Ct[qt].length>0}function Ne(Ct){return k.metaKeyPressed(Ct)&&86==Ct.keyCode||Ct.shiftKey&&45==Ct.keyCode}var $e,Ke,gt,it=this,Vt=0,dt=!1,xt="%MCEPASTEBIN%",Yt="data:text/mce-internal,",pn=I.createIdGenerator("mceclip");it.pasteHtml=B,it.pasteText=Y,it.pasteImageData=be,T.on("preInit",function(){(function Be(){function Ct(Pt,yn,Gt){var Sn;return Me(Pt,"text/html")?Sn=Pt["text/html"]:(Sn=ne())==xt&&(Gt=!0),Sn=I.trimHtml(Sn),$e&&$e.firstChild&&"mcepastebin"===$e.firstChild.id&&(Gt=!0),se(),Sn.length||(Gt=!0),Gt&&(Sn=Me(Pt,"text/plain")&&-1==Sn.indexOf("</p>")?Pt["text/plain"]:I.innerText(Sn)),Sn==xt?void(yn||T.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(Gt?Y(Sn):B(Sn))}T.on("keydown",function(Pt){function yn(Gt){Ne(Gt)&&!Gt.isDefaultPrevented()&&se()}if(Ne(Pt)&&!Pt.isDefaultPrevented()){if((gt=Pt.shiftKey&&86==Pt.keyCode)&&W.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(Pt.stopImmediatePropagation(),Vt=(new Date).getTime(),W.ie&&gt)return Pt.preventDefault(),void T.fire("paste",{ieFake:!0});se(),ae(),T.once("keyup",yn),T.once("paste",function(){T.off("keyup",yn)})}}),T.on("paste",function(Pt){var yn=(new Date).getTime(),Gt=function we(Ct){return pe(Ct.clipboardData||T.getDoc().dataTransfer)}(Pt),Sn=(new Date).getTime()-yn,Kn=(new Date).getTime()-Vt-Sn<1e3,Un="text"==it.pasteFormat||gt;return gt=!1,Pt.isDefaultPrevented()||function ke(Ct){var qt=Ct.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&qt&&qt.items&&0===qt.items.length}(Pt)||!Le(Gt)&&be(Pt,Ke||T.selection.getRng())?void se():(Kn||Pt.preventDefault(),!W.ie||Kn&&!Pt.ieFake||(ae(),T.dom.bind($e,"paste",function(zn){zn.stopPropagation()}),T.getDoc().execCommand("Paste",!1,null),Gt["text/html"]=ne()),void(Me(Gt,"text/html")?(Pt.preventDefault(),Ct(Gt,Kn,Un)):X.setEditorTimeout(T,function(){Ct(Gt,Kn,Un)},0)))}),T.on("dragstart dragend",function(Pt){dt="dragstart"==Pt.type}),T.on("drop",function(Pt){var yn,Gt;if(Gt=function ee(Ct){return L.getCaretRangeFromPoint(Ct.clientX,Ct.clientY,T.getDoc())}(Pt),!Pt.isDefaultPrevented()&&!dt&&(Le(yn=pe(Pt.dataTransfer))&&!function qt(Pt){var yn=Pt["text/plain"];return!!yn&&0===yn.indexOf("file://")}(yn)||!be(Pt,Gt))&&Gt&&!1!==T.settings.paste_filter_drop){var Sn=yn["mce-internal"]||yn["text/html"]||yn["text/plain"];Sn&&(Pt.preventDefault(),X.setEditorTimeout(T,function(){T.undoManager.transact(function(){yn["mce-internal"]&&T.execCommand("Delete"),T.selection.setRng(Gt),Sn=I.trimHtml(Sn),yn["text/html"]?B(Sn):Y(Sn)})}))}}),T.on("dragover dragend",function(Pt){T.settings.paste_data_images&&Pt.preventDefault()})})(),T.parser.addNodeFilter("img",function(Ct,qt,dn){function yn(zn){zn.attr("data-mce-object")||Un===W.transparentSrc||zn.remove()}if(!T.settings.paste_data_images&&function Pt(zn){return zn.data&&!0===zn.data.paste}(dn))for(var Kn=Ct.length;Kn--;){var Un=Ct[Kn].attributes.map.src;Un&&(0===Un.indexOf("webkit-fake-url")||!T.settings.allow_html_data_urls&&0===Un.indexOf("data:"))&&yn(Ct[Kn])}})})}}),xe("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(W,L,k,I,G,X){function T(se){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(se)||/class="OutlineElement/.test(se)||/id="?docs\-internal\-guid\-/.test(se)}function B(se){var ne,pe;return pe=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],se=se.replace(/^[\u00a0 ]+/,""),W.each(pe,function(we){if(we.test(se))return ne=!0,!1}),ne}function Y(se){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(se)}function ae(se){var ne=se.settings;se.on("BeforePastePreProcess",function(pe){function Le(Ne,Be){var $e,Ke={},gt=se.dom.parseStyle(Be);return W.each(gt,function(it,Vt){switch(Vt){case"mso-list":($e=/\w+ \w+([0-9]+)/i.exec(Be))&&(Ne._listLevel=parseInt($e[1],10)),/Ignore/i.test(it)&&Ne.firstChild&&(Ne._listIgnore=!0,Ne.firstChild._listIgnore=!0);break;case"horiz-align":Vt="text-align";break;case"vert-align":Vt="vertical-align";break;case"font-color":case"mso-foreground":Vt="color";break;case"mso-background":case"mso-highlight":Vt="background";break;case"font-weight":case"font-style":return void("normal"!=it&&(Ke[Vt]=it));case"mso-element":if(/^(comment|comment-list)$/i.test(it))return void Ne.remove()}return 0===Vt.indexOf("mso-comment")?void Ne.remove():void(0!==Vt.indexOf("mso-")&&("all"==ve||De&&De[Vt])&&(Ke[Vt]=it))}),/(bold)/i.test(Ke["font-weight"])&&(delete Ke["font-weight"],Ne.wrap(new G("b",1))),/(italic)/i.test(Ke["font-style"])&&(delete Ke["font-style"],Ne.wrap(new G("i",1))),(Ke=se.dom.serializeStyle(Ke,Ne.name))||null}var ve,De,he=pe.content;if(he=(he=he.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(ve=ne.paste_retain_style_properties)&&(De=W.makeMap(ve.split(/[, ]/))),!1!==ne.paste_enable_default_filters&&T(pe.content)){pe.wordContent=!0,he=X.filter(he,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Ne,Be){return Be.length>0?Be.replace(/./," ").slice(Math.floor(Be.length/2)).split("").join("\xa0"):""}]]);var be=ne.paste_word_valid_elements;be||(be="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var ke=new k({valid_elements:be,valid_children:"-li[p]"});W.each(ke.elements,function(Ne){Ne.attributes.class||(Ne.attributes.class={},Ne.attributesOrder.push("class")),Ne.attributes.style||(Ne.attributes.style={},Ne.attributesOrder.push("style"))});var ee=new L({},ke);ee.addAttributeFilter("style",function(Ne){for(var Be,$e=Ne.length;$e--;)(Be=Ne[$e]).attr("style",Le(Be,Be.attr("style"))),"span"==Be.name&&Be.parent&&!Be.attributes.length&&Be.unwrap()}),ee.addAttributeFilter("class",function(Ne){for(var Be,$e,Ke=Ne.length;Ke--;)$e=(Be=Ne[Ke]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test($e)&&Be.remove(),Be.attr("class",null)}),ee.addNodeFilter("del",function(Ne){for(var Be=Ne.length;Be--;)Ne[Be].remove()}),ee.addNodeFilter("a",function(Ne){for(var Be,$e,Ke,gt=Ne.length;gt--;)if($e=(Be=Ne[gt]).attr("href"),Ke=Be.attr("name"),$e&&-1!=$e.indexOf("#_msocom_"))Be.remove();else if($e&&0===$e.indexOf("file://")&&($e=$e.split("#")[1])&&($e="#"+$e),$e||Ke){if(Ke&&!/^_?(?:toc|edn|ftn)/i.test(Ke)){Be.unwrap();continue}Be.attr({href:$e,name:Ke})}else Be.unwrap()});var Me=ee.parse(he);!1!==ne.paste_convert_word_fake_lists&&function we(Ne){function Be(Pt){var yn="";if(3===Pt.type)return Pt.value;if(Pt=Pt.firstChild)do{yn+=Be(Pt)}while(Pt=Pt.next);return yn}function $e(Pt,yn){if(3===Pt.type&&yn.test(Pt.value))return Pt.value=Pt.value.replace(yn,""),!1;if(Pt=Pt.firstChild)do{if(!$e(Pt,yn))return!1}while(Pt=Pt.next);return!0}function Ke(Pt){if(Pt._listIgnore)Pt.remove();else if(Pt=Pt.firstChild)do{Ke(Pt)}while(Pt=Pt.next)}function gt(Pt,yn,Gt){var Sn=Pt._listLevel||dt;Sn!=dt&&(Sn<dt?it&&(it=it.parent.parent):(Vt=it,it=null)),it&&it.name==yn?it.append(Pt):(Vt=Vt||it,it=new G(yn,1),Gt>1&&it.attr("start",""+Gt),Pt.wrap(it)),Pt.name="li",Sn>dt&&Vt&&Vt.lastChild.append(it),dt=Sn,Ke(Pt),$e(Pt,/^\u00a0+/),$e(Pt,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),$e(Pt,/^\u00a0+/)}for(var it,Vt,dt=1,xt=[],Yt=Ne.firstChild;typeof Yt<"u"&&null!==Yt;)if(xt.push(Yt),null!==(Yt=Yt.walk()))for(;typeof Yt<"u"&&Yt.parent!==Ne;)Yt=Yt.walk();for(var pn=0;pn<xt.length;pn++)if("p"==(Ne=xt[pn]).name&&Ne.firstChild){var Ct=Be(Ne);if(Y(Ct)){gt(Ne,"ul");continue}if(B(Ct)){var qt=/([0-9]+)\./.exec(Ct),dn=1;qt&&(dn=parseInt(qt[1],10)),gt(Ne,"ol",dn);continue}if(Ne._listLevel){gt(Ne,"ul",1);continue}it=null}else Vt=it,it=null}(Me),pe.content=new I({validate:ne.validate},ke).serialize(Me)}})}return ae.isWordContent=T,ae}),xe("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(W,L,k,I){return function(G){function X(se){G.on("BeforePastePreProcess",function(ne){ne.content=se(ne.content)})}W.webkit&&X(function Y(se){if(k.isWordContent(se))return se;var ne=G.settings.paste_webkit_styles;if(!1===G.settings.paste_remove_styles_if_webkit||"all"==ne)return se;if(ne&&(ne=ne.split(/[, ]/)),ne){var pe=G.dom,we=G.selection.getNode();se=se.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Le,ve,De,he){var be=pe.parseStyle(De,"span"),ke={};if("none"===ne)return ve+he;for(var ee=0;ee<ne.length;ee++){var Me=be[ne[ee]],Ne=pe.getStyle(we,ne[ee],!0);/color/.test(ne[ee])&&(Me=pe.toHex(Me),Ne=pe.toHex(Ne)),Ne!=Me&&(ke[ne[ee]]=Me)}return(ke=pe.serializeStyle(ke,"span"))?ve+' style="'+ke+'"'+he:ve+he})}else se=se.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return se.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Le,ve,De,he){return ve+' style="'+De+'"'+he})}),W.ie&&(X(function B(se){if(!k.isWordContent(se))return se;var ne=[];L.each(G.schema.getBlockElements(),function(we,Le){ne.push(Le)});var pe=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ne.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return se=I.filter(se,[[pe,"$1"]]),I.filter(se,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}),function T(se){G.on("PastePostProcess",function(ne){se(ne.node)})}(function ae(se){G.$("a",se).find("font,u").each(function(ne,pe){G.dom.remove(pe,!0)})}))}}),xe("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(W,L,k,I){var G;W.add("paste",function(X){function B(){if("text"==ae.pasteFormat)ae.pasteFormat="html",X.fire("PastePlainTextToggle",{state:!1});else if(ae.pasteFormat="text",X.fire("PastePlainTextToggle",{state:!0}),!function T(){return G||!1===X.settings.paste_plaintext_inform}()){var pe=X.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");X.notificationManager.open({text:pe,type:"info"}),G=!0}X.focus()}function Y(){var pe=this;pe.active("text"===ae.pasteFormat),X.on("PastePlainTextToggle",function(we){pe.active(we.state)})}var ae,se=this,ne=X.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(ne.plugins)&&W.get("powerpaste")?void(typeof console<"u"&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(se.clipboard=ae=new L(X),se.quirks=new I(X),se.wordFilter=new k(X),X.settings.paste_as_text&&(se.clipboard.pasteFormat="text"),ne.paste_preprocess&&X.on("PastePreProcess",function(pe){ne.paste_preprocess.call(se,se,pe)}),ne.paste_postprocess&&X.on("PastePostProcess",function(pe){ne.paste_postprocess.call(se,se,pe)}),X.addCommand("mceInsertClipboardContent",function(pe,we){we.content&&se.clipboard.pasteHtml(we.content),we.text&&se.clipboard.pasteText(we.text)}),X.settings.paste_block_drop&&X.on("dragend dragover draggesture dragdrop drop drag",function(pe){pe.preventDefault(),pe.stopPropagation()}),X.settings.paste_data_images||X.on("drop",function(pe){var we=pe.dataTransfer;we&&we.files&&we.files.length>0&&pe.preventDefault()}),X.addCommand("mceTogglePlainTextPaste",B),X.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:B,onPostRender:Y}),void X.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:ae.pasteFormat,onclick:B,onPostRender:Y}))})}),function te(W){var L,k,I,G,X;for(L=0;L<W.length;L++){k=Ze,G=(I=W[L]).split(/[.\/]/);for(var T=0;T<G.length-1;++T)k[G[T]]===St&&(k[G[T]]={}),k=k[G[T]];k[G[G.length-1]]=le[I]}if(Ze.AMDLC_TESTS){for(I in X=Ze.privateModules||{},le)X[I]=le[I];for(L=0;L<W.length;L++)delete X[W[L]];Ze.privateModules=X}}(["tinymce/pasteplugin/Utils"])}(window),function(Ze,St){"use strict";function xe(le,W,L){if("string"!=typeof le)throw"invalid module definition, module id must be defined and be a string";if(W===St)throw"invalid module definition, dependencies must be specified";if(L===St)throw"invalid module definition, definition function must be specified";!function In(le,W){for(var L,k=[],I=0;I<le.length;++I){if(!(L=te[le[I]]||qe(le[I])))throw"module definition dependecy not found: "+le[I];k.push(L)}W.apply(null,k)}(W,function(){te[le]=L.apply(null,arguments)})}function qe(le){for(var W=Ze,L=le.split(/[.\/]/),k=0;k<L.length;++k){if(!W[L[k]])return;W=W[L[k]]}return W}var te={};xe("tinymce/tableplugin/Utils",["tinymce/Env"],function(le){var L=function(I){return function(G,X){G&&(1===(X=parseInt(X,10))||0===X?G.removeAttribute(I,1):G.setAttribute(I,X,1))}},k=function(I){return function(G){return parseInt(G.getAttribute(I)||1,10)}};return{setColSpan:L("colSpan"),setRowSpan:L("rowspan"),getColSpan:k("colSpan"),getRowSpan:k("rowSpan"),setSpanVal:function(I,G,X){L(G)(I,X)},getSpanVal:function(I,G){return k(G)(I)},paddCell:function W(I){(!le.ie||le.ie>9)&&(I.hasChildNodes()||(I.innerHTML='<br data-mce-bogus="1" />'))}}}),xe("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(le,W){var L=function(ne,pe,we){return ne[we]?ne[we][pe]:null},k=function(ne,pe,we){var Le=L(ne,pe,we);return Le?Le.elm:null},I=function(ne,pe,we,Le){var ve,he=0,be=k(ne,pe,we);for(ve=we;(Le>0?ve<ne.length:ve>=0)&&be===L(ne,pe,ve).elm;ve+=Le)he++;return he},G=function(ne,pe,we){for(var Le,ve=ne[we],De=pe;De<ve.length;De++)if((Le=ve[De]).real)return Le.elm;return null},T=function(ne,pe){var Le=ne.elm.ownerDocument.createElement("td");return W.setColSpan(Le,W.getColSpan(ne.elm)),W.setRowSpan(Le,pe),W.paddCell(Le),Le},B=function(ne,pe,we,Le){var ve=G(ne,we+1,Le);ve?ve.parentNode.insertBefore(pe,ve):(ve=G(ne,0,Le)).parentNode.appendChild(pe)};return{splitAt:function(ne,pe,we,Le){var ve=function(ne,pe){for(var we,Le=[],ve=ne[pe],De=0;De<ve.length;De++)Le.push({elm:(we=ve[De]).elm,above:I(ne,De,pe,-1)-1,below:I(ne,De,pe,1)-1}),De+=W.getColSpan(we.elm)-1;return Le}(ne,we),De=k(ne,pe,we).parentNode,he=[];return le.each(ve,function(be,ke){var ee=Le?function(ne,pe,we,Le){if(0!==pe.above){W.setRowSpan(pe.elm,pe.above);var ve=T(pe,pe.below+1);return B(ne,ve,we,Le),ve}return null}(ne,be,ke,we):function(ne,pe,we,Le){if(0!==pe.below){W.setRowSpan(pe.elm,pe.above+1);var ve=T(pe,pe.below);return B(ne,ve,we,Le+1),ve}return null}(ne,be,ke,we);null!==ee&&he.push(he)}),{cells:he,row:De}}}}),xe("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/SplitCols"],function(le,W,L,k){var I=le.each,G=L.getSpanVal,X=L.setSpanVal;return function(T,B,Y){function ae(){T.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function se(Ht){return Ht===T.getBody()}function ne(Ht,en){return Ht?(en=le.map(en.split(","),function(mn){return mn.toLowerCase()}),le.grep(Ht.childNodes,function(mn){return-1!==le.inArray(en,mn.nodeName.toLowerCase())})):[]}function pe(){var Ht=0;Jt=[],_n=0,I(["thead","tbody","tfoot"],function(en){var mn=ne(B,en)[0],Nn=ne(mn,"tr");I(Nn,function(bn,fn){fn+=Ht,I(ne(bn,"td,th"),function(kn,En){var Wn,Yn,hi,Fi;if(Jt[fn])for(;Jt[fn][En];)En++;for(hi=G(kn,"rowspan"),Fi=G(kn,"colspan"),Yn=fn;Yn<fn+hi;Yn++)for(Jt[Yn]||(Jt[Yn]=[]),Wn=En;Wn<En+Fi;Wn++)Jt[Yn][Wn]={part:en,real:Yn==fn&&Wn==En,elm:kn,rowspan:hi,colspan:Fi};_n=Math.max(_n,En+1)})}),Ht+=Nn.length})}function we(Ht){return T.fire("newrow",{node:Ht}),Ht}function Le(Ht){return T.fire("newcell",{node:Ht}),Ht}function ve(Ht,en){return(Ht=Ht.cloneNode(en)).removeAttribute("id"),Ht}function De(Ht,en){var mn;if(mn=Jt[en])return mn[Ht]}function he(Ht,en){return Ht[en]?Ht[en]:null}function be(Ht,en){for(var mn=[],Nn=0;Nn<Ht.length;Nn++)mn.push(De(en,Nn));return mn}function ke(Ht){return Ht&&(!!jn.getAttrib(Ht.elm,"data-mce-selected")||Ht==Y)}function ee(){var Ht=[];return I(B.rows,function(en){I(en.cells,function(mn){if(jn.getAttrib(mn,"data-mce-selected")||Y&&mn==Y.elm)return Ht.push(en),!1})}),Ht}function Be(Ht){var en,mn={};return!1!==T.settings.table_clone_elements&&(mn=le.makeMap((T.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),le.walk(Ht,function(Nn){var bn;if(3==Nn.nodeType)return I(jn.getParents(Nn.parentNode,null,Ht).reverse(),function(fn){mn[fn.nodeName]&&(fn=ve(fn,!1),en?bn&&bn.appendChild(fn):en=bn=fn,bn=fn)}),bn&&(bn.innerHTML=W.ie&&W.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),Le(Ht=ve(Ht,!1)),X(Ht,"rowSpan",1),X(Ht,"colSpan",1),en?Ht.appendChild(en):L.paddCell(Ht),Ht}function $e(){var Ht,en=jn.createRng();return I(jn.select("tr",B),function(mn){0===mn.cells.length&&jn.remove(mn)}),0===jn.select("tr",B).length?(en.setStartBefore(B),en.setEndBefore(B),di.setRng(en),void jn.remove(B)):(I(jn.select("thead,tbody,tfoot",B),function(mn){0===mn.rows.length&&jn.remove(mn)}),pe(),void(Dn&&(Ht=Jt[Math.min(Jt.length-1,Dn.y)],Ht&&(di.select(Ht[Math.min(Ht.length-1,Dn.x)].elm,!0),di.collapse(!0)))))}function Ke(Ht,en,mn,Nn){var bn,fn,kn,En,Wn;for(bn=Jt[en][Ht].elm.parentNode,kn=1;kn<=mn;kn++)if(bn=jn.getNext(bn,"tr")){for(fn=Ht;fn>=0;fn--)if((Wn=Jt[en+kn][fn].elm).parentNode==bn){for(En=1;En<=Nn;En++)jn.insertAfter(Be(Wn),Wn);break}if(-1==fn)for(En=1;En<=Nn;En++)bn.insertBefore(Be(bn.cells[0]),bn.cells[0])}}function gt(){I(Jt,function(Ht,en){I(Ht,function(mn,Nn){var bn,fn,kn;if(ke(mn)&&(bn=G(mn=mn.elm,"colspan"),fn=G(mn,"rowspan"),bn>1||fn>1)){for(X(mn,"rowSpan",1),X(mn,"colSpan",1),kn=0;kn<bn-1;kn++)jn.insertAfter(Be(mn),mn);Ke(Nn,en,fn-1,bn)}})})}function it(Ht,en,mn){for(var Nn=[],bn=0;bn<Ht.length;bn++)(bn<en||bn>mn)&&Nn.push(Ht[bn]);return Nn}function Vt(Ht){return le.grep(Ht,function(en){return!1===en.real})}function dt(Ht){for(var en=[],mn=0;mn<Ht.length;mn++){var Nn=Ht[mn].elm;en[en.length-1]!==Nn&&en.push(Nn)}return en}function Ct(Ht){var en,mn,Nn,bn,fn,kn,En,Wn,Yn,hi;if(I(Jt,function(Fi,$i){if(I(Fi,function(li){if(ke(li)&&(kn=we(ve(fn=(li=li.elm).parentNode,!1)),en=$i,Ht))return!1}),Ht)return en===St}),en!==St){for(bn=0,hi=0;bn<Jt[0].length;bn+=hi)if(Jt[en][bn]&&(hi=G(mn=Jt[en][bn].elm,"colspan"),mn!=Nn)){if(Ht){if(en>0&&Jt[en-1][bn]&&(Yn=G(Wn=Jt[en-1][bn].elm,"rowSpan"))>1){X(Wn,"rowSpan",Yn+1);continue}}else if((Yn=G(mn,"rowspan"))>1){X(mn,"rowSpan",Yn+1);continue}En=Be(mn),X(En,"colSpan",mn.colSpan),kn.appendChild(En),Nn=mn}kn.hasChildNodes()&&(Ht?fn.parentNode.insertBefore(kn,fn):jn.insertAfter(kn,fn))}}function dn(Ht){var en,mn;I(Jt,function(Nn){if(I(Nn,function(bn,fn){if(ke(bn)&&(en=fn,Ht))return!1}),Ht)return en===St}),I(Jt,function(Nn,bn){var fn,kn,En;Nn[en]&&(fn=Nn[en].elm)!=mn&&(En=G(fn,"colspan"),kn=G(fn,"rowspan"),1==En?Ht?(fn.parentNode.insertBefore(Be(fn),fn),Ke(en,bn,kn-1,En)):(jn.insertAfter(Be(fn),fn),Ke(en,bn,kn-1,En)):X(fn,"colSpan",fn.colSpan+1),mn=fn)})}function Gt(Ht){var en=[];return I(Ht,function(mn){I(mn,function(Nn){en.push(Nn)})}),en}function Qn(Ht){var en;return I(Jt,function(mn,Nn){return I(mn,function(bn,fn){if(bn.elm==Ht)return en={x:fn,y:Nn},!1}),!en}),en}var Jt,_n,Dn,Gn,di=T.selection,jn=di.dom;B=B||jn.getParent(di.getStart(!0),"table"),pe(),(Y=Y||jn.getParent(di.getStart(!0),"th,td"))&&(Dn=Qn(Y),Gn=function zt(){var Ht,en;return Ht=en=0,I(Jt,function(mn,Nn){I(mn,function(bn,fn){var kn,En;ke(bn)&&(fn>Ht&&(Ht=fn),Nn>en&&(en=Nn),(bn=Jt[Nn][fn]).real&&((kn=bn.colspan-1)&&fn+kn>Ht&&(Ht=fn+kn),(En=bn.rowspan-1)&&Nn+En>en&&(en=Nn+En)))})}),{x:Ht,y:en}}(),Y=De(Dn.x,Dn.y)),le.extend(this,{deleteTable:function Ne(){var Ht=jn.createRng();se(B)||(Ht.setStartAfter(B),Ht.setEndAfter(B),di.setRng(Ht),jn.remove(B))},split:gt,merge:function pn(Ht,en,mn){var Nn,bn,fn,kn,En,Wn,Yn,hi,Fi,$i,li,pr,Ki;if(Ht?(kn=(bn=(Nn=Qn(Ht)).x)+(en-1),En=(fn=Nn.y)+(mn-1)):(Dn=Gn=null,I(Jt,function(Qi,eo){I(Qi,function(Bi,Hr){ke(Bi)&&(Dn||(Dn={x:Hr,y:eo}),Gn={x:Hr,y:eo})})}),Dn&&(bn=Dn.x,fn=Dn.y,kn=Gn.x,En=Gn.y)),hi=De(bn,fn),Fi=De(kn,En),hi&&Fi&&hi.part==Fi.part){gt(),pe(),pr=function xt(Ht,en,mn,Nn,bn){var fn=0;if(bn-mn<1)return 0;for(var kn=mn+1;kn<=bn;kn++){var En=it(he(Ht,kn),en,Nn),Wn=Vt(En);En.length===Wn.length&&(le.each(dt(Wn),function(Yn){L.setRowSpan(Yn,L.getRowSpan(Yn)-1)}),fn++)}return fn}(Jt,bn,fn,kn,En),Ki=function Yt(Ht,en,mn,Nn,bn){var fn=0;if(Nn-en<1)return 0;for(var kn=en+1;kn<=Nn;kn++){var En=it(be(Ht,kn),mn,bn),Wn=Vt(En);En.length===Wn.length&&(le.each(dt(Wn),function(Yn){L.setColSpan(Yn,L.getColSpan(Yn)-1)}),fn++)}return fn}(Jt,bn,fn,kn,En),hi=De(bn,fn).elm;var vr=kn-bn-Ki+1,ur=En-fn-pr+1;for(vr===_n&&ur===Jt.length&&(vr=1,ur=1),vr===_n&&ur>1&&(ur=1),X(hi,"colSpan",vr),X(hi,"rowSpan",ur),Yn=fn;Yn<=En;Yn++)for(Wn=bn;Wn<=kn;Wn++)Jt[Yn]&&Jt[Yn][Wn]&&(Ht=Jt[Yn][Wn].elm)!=hi&&($i=le.grep(Ht.childNodes),I($i,function(Qi){hi.appendChild(Qi)}),$i.length&&($i=le.grep(hi.childNodes),li=0,I($i,function(Qi){"BR"==Qi.nodeName&&li++<$i.length-1&&hi.removeChild(Qi)})),jn.remove(Ht));$e()}},insertRow:Ct,insertRows:function qt(Ht,en){en=en||ee().length||1;for(var mn=0;mn<en;mn++)Ct(Ht)},insertCol:dn,insertCols:function Pt(Ht,en){en=en||function Me(){var Ht=0;return I(Jt,function(en){if(I(en,function(mn){ke(mn)&&Ht++}),Ht)return!1}),Ht}()||1;for(var mn=0;mn<en;mn++)dn(Ht)},splitCols:function xn(Ht){if(Dn){var en=k.splitAt(Jt,Dn.x,Dn.y,Ht);le.each(en.cells,Le)}},deleteCols:function Sn(){var Ht=[];se(B)&&(1==Jt[0].length||function yn(Ht){return le.grep(Gt(Ht),ke)}(Jt).length==Gt(Jt).length)||(I(Jt,function(en){I(en,function(mn,Nn){ke(mn)&&-1===le.inArray(Ht,Nn)&&(I(Jt,function(bn){var fn,kn=bn[Nn].elm;(fn=G(kn,"colSpan"))>1?X(kn,"colSpan",fn-1):jn.remove(kn)}),Ht.push(Nn))})}),$e())},deleteRows:function Kn(){var en;en=ee(),se(B)&&en.length==B.rows.length||(I(en.reverse(),function(mn){!function Ht(mn){var Nn,bn;I(mn.cells,function(fn){var kn=G(fn,"rowSpan");kn>1&&(X(fn,"rowSpan",kn-1),Ke((Nn=Qn(fn)).x,Nn.y,1,1))}),Nn=Qn(mn.cells[0]),I(Jt[Nn.y],function(fn){var kn;(fn=fn.elm)!=bn&&((kn=G(fn,"rowSpan"))<=1?jn.remove(fn):X(fn,"rowSpan",kn-1),bn=fn)})}(mn)}),$e())},cutRows:function Un(){var Ht=ee();if(!se(B)||Ht.length!=B.rows.length)return jn.remove(Ht),$e(),Ht},copyRows:function zn(){var Ht=ee();return I(Ht,function(en,mn){Ht[mn]=ve(en,!0)}),Ht},pasteRows:function bi(Ht,en){var mn,Nn,bn;Ht&&(mn=k.splitAt(Jt,Dn.x,Dn.y,en),Nn=mn.row,le.each(mn.cells,Le),bn=le.map(Ht,function(fn){return fn.cloneNode(!0)}),en||bn.reverse(),I(bn,function(fn){var kn,En,Wn=fn.cells.length;for(we(fn),kn=0;kn<Wn;kn++)Le(En=fn.cells[kn]),X(En,"colSpan",1),X(En,"rowSpan",1);for(kn=Wn;kn<_n;kn++)fn.appendChild(Le(Be(fn.cells[Wn-1])));for(kn=_n;kn<Wn;kn++)jn.remove(fn.cells[kn]);en?Nn.parentNode.insertBefore(fn,Nn):jn.insertAfter(fn,Nn)}),ae())},getPos:Qn,setStartCell:function Ti(Ht){Dn=Qn(Ht)},setEndCell:function Et(Ht){var en,mn,Nn,bn,fn,kn,En,Wn,Yn,hi;if(Gn=Qn(Ht),Dn&&Gn){for(en=Math.min(Dn.x,Gn.x),mn=Math.min(Dn.y,Gn.y),fn=Nn=Math.max(Dn.x,Gn.x),kn=bn=Math.max(Dn.y,Gn.y),hi=mn;hi<=bn;hi++)for(Yn=en;Yn<=Nn;Yn++)(Ht=Jt[hi][Yn]).real&&((En=Ht.colspan-1)&&Yn+En>fn&&(fn=Yn+En),(Wn=Ht.rowspan-1)&&hi+Wn>kn&&(kn=hi+Wn));for(ae(),hi=mn;hi<=kn;hi++)for(Yn=en;Yn<=fn;Yn++)Jt[hi][Yn]&&jn.setAttrib(Jt[hi][Yn].elm,"data-mce-selected","1")}},moveRelIdx:function cn(Ht,en){var mn,Nn,bn;Nn=(mn=Qn(Ht)).y*_n+mn.x;do{if(!(bn=De((Nn+=en)%_n,Math.floor(Nn/_n))))break;if(bn.elm!=Ht)return di.select(bn.elm,!0),jn.isEmpty(bn.elm)&&di.collapse(!0),!0}while(bn.elm==Ht);return!1},refresh:pe})}}),xe("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(le,W,L,k,I){var G=k.each,X=I.getSpanVal;return function(T){function Y(){T.on("KeyDown",function(Le){var ve,De,he=T.dom;37!=Le.keyCode&&38!=Le.keyCode||(ve=T.selection.getRng(),(De=he.getParent(ve.startContainer,"table"))&&T.getBody().firstChild==De&&function we(Le,ve){var De,he=ve.ownerDocument,be=he.createRange();return be.setStartBefore(ve),be.setEnd(Le.endContainer,Le.endOffset),(De=he.createElement("body")).appendChild(be.cloneContents()),0===De.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(ve,De)&&((ve=he.createRng()).setStartBefore(De),ve.setEndBefore(De),T.selection.setRng(ve),Le.preventDefault()))})}function ae(){T.on("KeyDown SetContent VisualAid",function(){var we;for(we=T.getBody().lastChild;we;we=we.previousSibling)if(3==we.nodeType){if(we.nodeValue.length>0)break}else if(1==we.nodeType&&("BR"==we.tagName||!we.getAttribute("data-mce-bogus")))break;we&&"TABLE"==we.nodeName&&(T.settings.forced_root_block?T.dom.add(T.getBody(),T.settings.forced_root_block,T.settings.forced_root_block_attrs,L.ie&&L.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):T.dom.add(T.getBody(),"br",{"data-mce-bogus":"1"}))}),T.on("PreProcess",function(we){var Le=we.node.lastChild;Le&&("BR"==Le.nodeName||1==Le.childNodes.length&&("BR"==Le.firstChild.nodeName||"\xa0"==Le.firstChild.nodeValue))&&Le.previousSibling&&"TABLE"==Le.previousSibling.nodeName&&T.dom.remove(Le)})}(function ne(){function we(ve){T.selection.select(ve,!0),T.selection.collapse(!0)}function Le(ve){T.$(ve).empty(),I.paddCell(ve)}T.on("keydown",function(ve){var De,he,be,ke;if((ve.keyCode==le.DELETE||ve.keyCode==le.BACKSPACE)&&!ve.isDefaultPrevented()&&(De=T.dom.getParent(T.selection.getStart(),"table"))){if(he=T.dom.select("td,th",De),0===(be=k.grep(he,function(ee){return!!T.dom.getAttrib(ee,"data-mce-selected")})).length)return ke=T.dom.getParent(T.selection.getStart(),"td,th"),void(T.selection.isCollapsed()&&ke&&T.dom.isEmpty(ke)&&(ve.preventDefault(),Le(ke),we(ke)));ve.preventDefault(),T.undoManager.transact(function(){he.length==be.length?T.execCommand("mceTableDelete"):(k.each(be,Le),we(be[0]))})}})})(),function pe(){var Le=function(Ne,Be){var $e=T.selection.getRng(),Ke=Ne.ownerDocument.createTextNode("\xa0");$e.startOffset?Ne.insertBefore(Ke,Ne.firstChild):Ne.appendChild(Ke),Be&&(T.selection.select(Ke,!0),T.selection.collapse(!0))},De=function(Ne){return Ne.firstChild===Ne.lastChild&&Ne.firstChild},he=function(Ne){return Ne&&3===Ne.nodeType},be=function(Ne){var Be=De(Ne);return he(Be)&&1===Be.data.length?Be.data:null},ee=function(Ne){return T.dom.isEmpty(Ne)||Me(be(Ne))},Me=function(Ne){return"\xa0"===Ne};T.on("keydown",function(Ne){if(function(Ne){return(Ne.keyCode==le.DELETE||Ne.keyCode==le.BACKSPACE)&&!Ne.isDefaultPrevented()}(Ne)){var Be=T.dom.getParent(T.selection.getStart(),"caption");(function(Ne){return Ne&&"CAPTION"==Ne.nodeName&&"TABLE"==Ne.parentNode.nodeName})(Be)&&(L.ie&&(T.selection.isCollapsed()?function(Ne){var Be=De(Ne),$e=be(Ne);return Be&&!he(Be)||$e&&!Me($e)}(Be)&&Le(Be):(T.undoManager.transact(function(){T.execCommand("Delete"),ee(Be)&&Le(Be,!0)}),Ne.preventDefault())),ee(Be)&&Ne.preventDefault())}})}(),L.webkit&&(function B(){function we(Le){function ve(Yt,pn){var Ct=Yt?"previousSibling":"nextSibling",qt=T.dom.getParent(pn,"tr"),dn=qt[Ct];if(dn)return gt(0,pn,dn,Yt),Le.preventDefault(),!0;var Pt=T.dom.getParent(qt,"table"),yn=qt.parentNode,Gt=yn.nodeName.toLowerCase();if("tbody"===Gt||Gt===(Yt?"tfoot":"thead")){var Sn=function De(Yt,pn,Ct,qt){var dn=T.dom.select(">"+qt,pn),Pt=dn.indexOf(Ct);return Yt&&0===Pt||!Yt&&Pt===dn.length-1?function he(Yt,pn){var qt=T.dom.select(">"+(Yt?"thead":"tfoot"),pn);return 0!==qt.length?qt[0]:null}(Yt,pn):-1===Pt?dn["thead"===Ct.tagName.toLowerCase()?0:dn.length-1]:dn[Pt+(Yt?-1:1)]}(Yt,Pt,yn,"tbody");if(null!==Sn)return function be(Yt,pn,Ct){var qt=ee(pn,Yt);return qt&&gt(0,Ct,qt,Yt),Le.preventDefault(),!0}(Yt,Sn,pn)}return function ke(Yt,pn,Ct,qt){var dn=qt[Ct];if(dn)return Me(dn),!0;var Pt=T.dom.getParent(qt,"td,th");return Pt?ve(Yt,Pt):(Me(ee(pn,!Yt)),Le.preventDefault(),!1)}(Yt,qt,Ct,Pt)}function ee(Yt,pn){var Ct=Yt&&Yt[pn?"lastChild":"firstChild"];return Ct&&"BR"===Ct.nodeName?T.dom.getParent(Ct,"td,th"):Ct}function Me(Yt){T.selection.setCursorLocation(Yt,0)}function gt(Yt,pn,Ct,qt){var dn=function $e(Yt){for(var pn=0,Ct=Yt;Ct.previousSibling;)pn+=X(Ct=Ct.previousSibling,"colspan");return pn}(T.dom.getParent(pn,"td,th")),Pt=function Ke(Yt,pn){var Ct=0,qt=0;return G(Yt.children,function(dn,Pt){if(Ct+=X(dn,"colspan"),qt=Pt,Ct>pn)return!1}),qt}(Ct,dn),yn=Ct.childNodes[Pt];Me(ee(yn,qt)||yn)}var dt=Le.keyCode;if(function Ne(){return dt==le.UP||dt==le.DOWN}()&&function Be(Yt){var pn=Yt.selection.getNode();return null!==Yt.dom.getParent(pn,"tr")}(T)){var xt=T.selection.getNode();W.setEditorTimeout(T,function(){(function it(Yt){var pn=T.selection.getNode(),Ct=T.dom.getParent(pn,"td,th"),qt=T.dom.getParent(Yt,"td,th");return Ct&&Ct!==qt&&function Vt(Yt,pn){return T.dom.getParent(Yt,"TABLE")===T.dom.getParent(pn,"TABLE")}(Ct,qt)})(xt)&&ve(!Le.shiftKey&&dt===le.UP,xt)},0)}}T.on("KeyDown",function(Le){we(Le)})}(),function se(){function Le(){var ve=T.selection.getRng(),De=T.selection.getNode(),he=T.dom.getParent(ve.startContainer,"TD,TH");if(function we(ve,De,he,be){var ke,Be=ve.dom.getParent(De.startContainer,"TABLE");return Be&&(ke=Be.parentNode),3==De.startContainer.nodeType&&0===De.startOffset&&0===De.endOffset&&be&&("TR"==he.nodeName||he==ke)||("TD"==he.nodeName||"TH"==he.nodeName)&&!be}(T,ve,De,he)){he||(he=De);for(var be=he.lastChild;be.lastChild;)be=be.lastChild;3==be.nodeType&&(ve.setEnd(be,be.data.length),T.selection.setRng(ve))}}T.on("KeyDown",function(){Le()}),T.on("MouseDown",function(ve){2!=ve.button&&Le()})}()),L.gecko&&(Y(),ae()),L.ie>9&&(Y(),ae())}}),xe("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(le,W,L){return function(k,I){function G(De){k.getBody().style.webkitUserSelect="",(De||Le)&&(k.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),Le=!1)}function X(De,he){return!(!De||!he)&&De===we.getParent(he,"table")}function T(De){var he,be,ke=De.target;if(!ne&&!pe&&ke!==se&&(se=ke,ae&&Y)){if(be=we.getParent(ke,"td,th"),X(ae,be)||(be=we.getParent(ae,"td,th")),Y===be&&!Le)return;if(I(!0),X(ae,be)){De.preventDefault(),B||(B=new le(k,ae,Y),k.getBody().style.webkitUserSelect="none"),B.setEndCell(be),Le=!0,he=k.selection.getSel();try{he.removeAllRanges?he.removeAllRanges():he.empty()}catch{}}}}var B,Y,ae,se,ne,pe,we=k.dom,Le=!0,ve=function(){Y=B=ae=se=null,I(!1)};return k.on("SelectionChange",function(De){Le&&De.stopImmediatePropagation()},!0),k.on("MouseDown",function(De){2==De.button||ne||pe||(G(),Y=we.getParent(De.target,"td,th"),ae=we.getParent(Y,"table"))}),k.on("mouseover",T),k.on("remove",function(){we.unbind(k.getDoc(),"mouseover",T),G()}),k.on("MouseUp",function(){function De(Be,$e){var Ke=new W(Be,Be);do{if(3==Be.nodeType&&0!==L.trim(Be.nodeValue).length)return void($e?he.setStart(Be,0):he.setEnd(Be,Be.nodeValue.length));if("BR"==Be.nodeName)return void($e?he.setStartBefore(Be):he.setEndBefore(Be))}while(Be=$e?Ke.next():Ke.prev())}var he,be,ke,ee,Me,Ne=k.selection;if(Y){if(B&&(k.getBody().style.webkitUserSelect=""),(be=we.select("td[data-mce-selected],th[data-mce-selected]")).length>0){(he=we.createRng()).setStartBefore(ee=be[0]),he.setEndAfter(ee),De(ee,1),ke=new W(ee,we.getParent(be[0],"table"));do{if("TD"==ee.nodeName||"TH"==ee.nodeName){if(!we.getAttrib(ee,"data-mce-selected"))break;Me=ee}}while(ee=ke.next());De(Me),Ne.setRng(he)}k.nodeChanged(),ve()}}),k.on("KeyUp Drop SetContent",function(De){G("setcontent"==De.type),ve(),ne=!1}),k.on("ObjectResizeStart ObjectResized",function(De){ne="objectresized"!=De.type}),k.on("dragstart",function(){pe=!0}),k.on("drop dragend",function(){pe=!1}),{clear:G}}}),xe("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(le,W){var L=le.each;return function(k){function I(){var Le=k.settings.color_picker_callback;if(Le)return function(){var ve=this;Le.call(k,function(De){ve.value(De).fire("change")},ve.value())}}function G(Le){return{title:"Advanced",type:"form",defaults:{onchange:function(){se(Le,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:I()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:I()}]}]}}function X(Le){return Le?Le.replace(/px$/,""):""}function T(Le){return/^[0-9]+$/.test(Le)&&(Le+="px"),Le}function B(Le){L("left center right".split(" "),function(ve){k.formatter.remove("align"+ve,{},Le)})}function ae(Le,ve,De){return function he(be,ke){return ke=ke||[],le.each(be,function(ee){var Me={text:ee.text||ee.title};ee.menu?Me.menu=he(ee.menu):(Me.value=ee.value,ve&&ve(Me)),ke.push(Me)}),ke}(Le,De||[])}function se(Le,ve,De){var he=ve.toJSON(),be=Le.parseStyle(he.style);De?(ve.find("#borderColor").value(be["border-color"]||"")[0].fire("change"),ve.find("#backgroundColor").value(be["background-color"]||"")[0].fire("change")):(be["border-color"]=he.borderColor,be["background-color"]=he.backgroundColor),ve.find("#style").value(Le.serializeStyle(Le.parseStyle(Le.serializeStyle(be))))}function ne(Le,ve,De){var he=Le.parseStyle(Le.getAttrib(De,"style"));he["border-color"]&&(ve.borderColor=he["border-color"]),he["background-color"]&&(ve.backgroundColor=he["background-color"]),ve.style=Le.serializeStyle(he)}var we=this;we.tableProps=function(){we.table(!0)},we.table=function(Le){function ve(){function Ke(it,Vt,dt){if("TD"===it.tagName||"TH"===it.tagName)Be.setStyle(it,Vt,dt);else if(it.children)for(var xt=0;xt<it.children.length;xt++)Ke(it.children[xt],Vt,dt)}var gt;se(Be,this),!1===($e=le.extend($e,this.toJSON())).class&&delete $e.class,k.undoManager.transact(function(){if(he||(he=k.plugins.table.insertTable($e.cols||1,$e.rows||1)),k.dom.setAttribs(he,{style:$e.style,class:$e.class}),k.settings.table_style_by_css){if((Ne=[]).push({name:"border",value:$e.border}),Ne.push({name:"border-spacing",value:T($e.cellspacing)}),function pe(Le,ve,De){var he=Le.parseStyle(Le.getAttrib(ve,"style"));L(De,function(be){he[be.name]=be.value}),Le.setAttrib(ve,"style",Le.serializeStyle(Le.parseStyle(Le.serializeStyle(he))))}(Be,he,Ne),Be.setAttribs(he,{"data-mce-border-color":$e.borderColor,"data-mce-cell-padding":$e.cellpadding,"data-mce-border":$e.border}),he.children)for(var it=0;it<he.children.length;it++)Ke(he.children[it],"border",$e.border),Ke(he.children[it],"padding",T($e.cellpadding))}else k.dom.setAttribs(he,{border:$e.border,cellpadding:$e.cellpadding,cellspacing:$e.cellspacing});Be.getAttrib(he,"width")&&!k.settings.table_style_by_css?Be.setAttrib(he,"width",X($e.width)):Be.setStyle(he,"width",T($e.width)),Be.setStyle(he,"height",T($e.height)),(gt=Be.select("caption",he)[0])&&!$e.caption&&Be.remove(gt),!gt&&$e.caption&&((gt=Be.create("caption")).innerHTML=W.ie?"\xa0":'<br data-mce-bogus="1"/>',he.insertBefore(gt,he.firstChild)),B(he),$e.align&&k.formatter.apply("align"+$e.align,{},he),k.focus(),k.addVisual()})}function De(Ke,gt){return function it(xt,Yt){for(var pn=0;pn<Yt.length;pn++){var Ct=Be.getStyle(Yt[pn],gt);if(typeof xt>"u"&&(xt=Ct),xt!=Ct)return""}return xt}(undefined,k.dom.select("td,th",Ke))}var he,be,ke,ee,Me,Ne,Be=k.dom,$e={};!0===Le?(he=Be.getParent(k.selection.getStart(),"table"))&&($e={width:X(Be.getStyle(he,"width")||Be.getAttrib(he,"width")),height:X(Be.getStyle(he,"height")||Be.getAttrib(he,"height")),cellspacing:X(Be.getStyle(he,"border-spacing")||Be.getAttrib(he,"cellspacing")),cellpadding:Be.getAttrib(he,"data-mce-cell-padding")||Be.getAttrib(he,"cellpadding")||De(he,"padding"),border:Be.getAttrib(he,"data-mce-border")||Be.getAttrib(he,"border")||De(he,"border"),borderColor:Be.getAttrib(he,"data-mce-border-color"),caption:!!Be.select("caption",he)[0],class:Be.getAttrib(he,"class")},L("left center right".split(" "),function(Ke){k.formatter.matchNode(he,"align"+Ke)&&($e.align=Ke)})):(be={label:"Cols",name:"cols"},ke={label:"Rows",name:"rows"}),k.settings.table_class_list&&($e.class&&($e.class=$e.class.replace(/\s*mce\-item\-table\s*/g,"")),ee={name:"class",type:"listbox",label:"Class",values:ae(k.settings.table_class_list,function(Ke){Ke.value&&(Ke.textStyle=function(){return k.formatter.getCssText({block:"table",classes:[Ke.value]})})})}),Me={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==k.settings.table_appearance_options?[be,ke,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[be,ke,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},ee]},!1!==k.settings.table_advtab?(ne(Be,$e,he),k.windowManager.open({title:"Table properties",data:$e,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Me},G(Be)],onsubmit:ve})):k.windowManager.open({title:"Table properties",data:$e,body:Me,onsubmit:ve})},we.merge=function(Le,ve){k.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var De=this.toJSON();k.undoManager.transact(function(){Le.merge(ve,De.cols,De.rows)})}})},we.cell=function(){function Le(Be,$e,Ke){(1===Me.length||Ke)&&ee.setAttrib(Be,$e,Ke)}function ve(Be,$e,Ke){(1===Me.length||Ke)&&ee.setStyle(Be,$e,Ke)}function De(){se(ee,this),be=le.extend(be,this.toJSON()),k.undoManager.transact(function(){L(Me,function(Be){Le(Be,"scope",be.scope),Le(Be,"style",be.style),Le(Be,"class",be.class),ve(Be,"width",T(be.width)),ve(Be,"height",T(be.height)),be.type&&Be.nodeName.toLowerCase()!==be.type&&(Be=ee.rename(Be,be.type)),1===Me.length&&(B(Be),function Y(Le){L("top middle bottom".split(" "),function(ve){k.formatter.remove("valign"+ve,{},Le)})}(Be)),be.align&&k.formatter.apply("align"+be.align,{},Be),be.valign&&k.formatter.apply("valign"+be.valign,{},Be)}),k.focus()})}var he,be,ke,ee=k.dom,Me=[];if(Me=k.dom.select("td[data-mce-selected],th[data-mce-selected]"),he=k.dom.getParent(k.selection.getStart(),"td,th"),!Me.length&&he&&Me.push(he),he=he||Me[0]){Me.length>1?be={width:"",height:"",scope:"",class:"",align:"",style:"",type:he.nodeName.toLowerCase()}:((be={width:X(ee.getStyle(he,"width")||ee.getAttrib(he,"width")),height:X(ee.getStyle(he,"height")||ee.getAttrib(he,"height")),scope:ee.getAttrib(he,"scope"),class:ee.getAttrib(he,"class")}).type=he.nodeName.toLowerCase(),L("left center right".split(" "),function(Be){k.formatter.matchNode(he,"align"+Be)&&(be.align=Be)}),L("top middle bottom".split(" "),function(Be){k.formatter.matchNode(he,"valign"+Be)&&(be.valign=Be)}),ne(ee,be,he)),k.settings.table_cell_class_list&&(ke={name:"class",type:"listbox",label:"Class",values:ae(k.settings.table_cell_class_list,function(Be){Be.value&&(Be.textStyle=function(){return k.formatter.getCssText({block:"td",classes:[Be.value]})})})});var Ne={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},ke]};k.windowManager.open(!1!==k.settings.table_cell_advtab?{title:"Cell properties",bodyType:"tabpanel",data:be,body:[{title:"General",type:"form",items:Ne},G(ee)],onsubmit:De}:{title:"Cell properties",data:be,body:Ne,onsubmit:De})}},we.row=function(){function Le(Ke,gt,it){(1===$e.length||it)&&Be.setAttrib(Ke,gt,it)}function De(){var Ke,gt,it;se(Be,this),Me=le.extend(Me,this.toJSON()),k.undoManager.transact(function(){var Vt=Me.type;L($e,function(dt){Le(dt,"scope",Me.scope),Le(dt,"style",Me.style),Le(dt,"class",Me.class),function ve(Ke,gt,it){(1===$e.length||it)&&Be.setStyle(Ke,gt,it)}(dt,"height",T(Me.height)),Vt!==dt.parentNode.nodeName.toLowerCase()&&(Ke=Be.getParent(dt,"table"),gt=dt.parentNode,(it=Be.select(Vt,Ke)[0])||(it=Be.create(Vt),Ke.firstChild?Ke.insertBefore(it,Ke.firstChild):Ke.appendChild(it)),it.appendChild(dt),gt.hasChildNodes()||Be.remove(gt)),1===$e.length&&B(dt),Me.align&&k.formatter.apply("align"+Me.align,{},dt)}),k.focus()})}var he,be,ke,ee,Me,Ne,Be=k.dom,$e=[];he=k.dom.getParent(k.selection.getStart(),"table"),be=k.dom.getParent(k.selection.getStart(),"td,th"),L(he.rows,function(Ke){L(Ke.cells,function(gt){if(Be.getAttrib(gt,"data-mce-selected")||gt==be)return $e.push(Ke),!1})}),(ke=$e[0])&&($e.length>1?Me={height:"",scope:"",class:"",align:"",type:ke.parentNode.nodeName.toLowerCase()}:((Me={height:X(Be.getStyle(ke,"height")||Be.getAttrib(ke,"height")),scope:Be.getAttrib(ke,"scope"),class:Be.getAttrib(ke,"class")}).type=ke.parentNode.nodeName.toLowerCase(),L("left center right".split(" "),function(Ke){k.formatter.matchNode(ke,"align"+Ke)&&(Me.align=Ke)}),ne(Be,Me,ke)),k.settings.table_row_class_list&&(ee={name:"class",type:"listbox",label:"Class",values:ae(k.settings.table_row_class_list,function(Ke){Ke.value&&(Ke.textStyle=function(){return k.formatter.getCssText({block:"tr",classes:[Ke.value]})})})}),Ne={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},ee]},k.windowManager.open(!1!==k.settings.table_row_advtab?{title:"Row properties",data:Me,bodyType:"tabpanel",body:[{title:"General",type:"form",items:Ne},G(Be)],onsubmit:De}:{title:"Row properties",data:Me,body:Ne,onsubmit:De}))}}}),xe("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(le,W){var L;return function(k){function I(Ft,tn){return{index:Ft,y:k.dom.getPos(tn).y}}function G(Ft,tn){return{index:Ft,y:k.dom.getPos(tn).y+tn.offsetHeight}}function X(Ft,tn){return{index:Ft,x:k.dom.getPos(tn).x}}function T(Ft,tn){return{index:Ft,x:k.dom.getPos(tn).x+tn.offsetWidth}}function B(){return"rtl"===k.getBody().dir}function Y(){return k.inline}function ae(){return Y?k.getBody().ownerDocument.body:k.getBody()}function se(Ft,tn){return B()?T(Ft,tn):X(Ft,tn)}function ne(Ft,tn){return B()?X(Ft,tn):T(Ft,tn)}function we(Ft,tn){var Mn=k.dom.getStyle(Ft,tn,!0);return parseInt(Mn,10)}function Le(Ft){return we(Ft,"width")/we(Ft.parentElement,"width")*100}function he(Ft,tn,Mn){for(var vn=[],Rn=1;Rn<Mn.length;Rn++)vn.push(Ft(Rn-1,Mn[Rn].element));return vn.push(tn(Mn.length-1,Mn[Mn.length-1].element)),vn}function be(){var Ft=k.dom.select("."+Wn,ae());le.each(Ft,function(tn){k.dom.remove(tn)})}function ke(Ft){be(),dt(Ft)}function ee(Ft,tn,Mn,vn,Rn,Jn,ei,ti){var ii={"data-mce-bogus":"all",class:Wn+" "+Ft,unselectable:"on","data-mce-resize":!1,style:"cursor: "+tn+"; margin: 0; padding: 0; position: absolute; left: "+Mn+"px; top: "+vn+"px; height: "+Rn+"px; width: "+Jn+"px; "};return ii[ei]=ti,ii}function Be(Ft){return le.map(Ft.rows,function(tn){return{element:tn,cells:le.map(tn.cells,function(vn){var Rn=vn.hasAttribute("rowspan")?parseInt(vn.getAttribute("rowspan"),10):1,Jn=vn.hasAttribute("colspan")?parseInt(vn.getAttribute("colspan"),10):1;return{element:vn,rowspan:Rn,colspan:Jn}})}})}function $e(Ft){function tn(ui,_i){return ui+","+_i}var Jn={},ei=[],ti=0,ii=0;return le.each(Ft,function(ui,_i){var Ai=[];le.each(ui.cells,function(Ri){for(var er=0;Jn[tn(_i,er)]!==St;)er++;for(var Ui={element:Ri.element,colspan:Ri.colspan,rowspan:Ri.rowspan,rowIndex:_i,colIndex:er},Sr=0;Sr<Ri.colspan;Sr++)for(var Er=0;Er<Ri.rowspan;Er++){var Wr=_i+Er,Or=er+Sr;Jn[tn(Wr,Or)]=Ui,ti=Math.max(ti,Wr+1),ii=Math.max(ii,Or+1)}Ai.push(Ui)}),ei.push({element:ui.element,cells:Ai})}),{grid:{maxRows:ti,maxCols:ii},getAt:function Mn(ui,_i){return Jn[tn(ui,_i)]},getAllCells:function vn(){var ui=[];return le.each(ei,function(_i){ui=ui.concat(_i.cells)}),ui},getAllRows:function Rn(){return ei}}}function Ke(Ft,tn){for(var Mn=[],vn=Ft;vn<tn;vn++)Mn.push(vn);return Mn}function gt(Ft,tn,Mn){for(var vn,Rn=Ft(),Jn=0;Jn<Rn.length;Jn++)tn(Rn[Jn])&&(vn=Rn[Jn]);return vn||Mn()}function it(Ft){var tn=Ke(0,Ft.grid.maxCols),Mn=Ke(0,Ft.grid.maxRows);return le.map(tn,function(vn){return gt(function Rn(){for(var ti=[],ii=0;ii<Mn.length;ii++){var ui=Ft.getAt(ii,vn);ui&&ui.colIndex===vn&&ti.push(ui)}return ti},function Jn(ti){return 1===ti.colspan},function ei(){for(var ti,ii=0;ii<Mn.length;ii++)if(ti=Ft.getAt(ii,vn))return ti;return null})})}function Vt(Ft){var tn=Ke(0,Ft.grid.maxCols),Mn=Ke(0,Ft.grid.maxRows);return le.map(Mn,function(vn){return gt(function Rn(){for(var ti=[],ii=0;ii<tn.length;ii++){var ui=Ft.getAt(vn,ii);ui&&ui.rowIndex===vn&&ti.push(ui)}return ti},function Jn(ti){return 1===ti.rowspan},function ei(){return Ft.getAt(vn,0)})})}function dt(Ft){var Mn=$e(Be(Ft)),vn=Vt(Mn),Rn=it(Mn),Jn=k.dom.getPos(Ft),ei=vn.length>0?he(I,G,vn):[],ti=Rn.length>0?he(se,ne,Rn):[];(function Me(Ft,tn,Mn){le.each(Ft,function(vn){var Rn=Mn.x,Jn=vn.y-ur/2,ei=ur,ti=tn;k.dom.add(ae(),"div",ee(Yn,hi,Rn,Jn,ei,ti,Fi,vn.index))})})(ei,Ft.offsetWidth,Jn),function Ne(Ft,tn,Mn){le.each(Ft,function(vn){var Rn=vn.x-ur/2,Jn=Mn.y,ei=tn,ti=ur;k.dom.add(ae(),"div",ee(li,pr,Rn,Jn,ei,ti,Ki,vn.index))})}(ti,Ft.offsetHeight,Jn)}function xt(Ft,tn,Mn,vn){if(tn<0||tn>=Ft.length-1)return"";var Rn=Ft[tn];if(Rn)Rn={value:Rn,delta:0};else for(var Jn=Ft.slice(0,tn).reverse(),ei=0;ei<Jn.length;ei++)Jn[ei]&&(Rn={value:Jn[ei],delta:ei+1});var ti=Ft[tn+1];if(ti)ti={value:ti,delta:1};else for(var ii=Ft.slice(tn+1),ui=0;ui<ii.length;ui++)ii[ui]&&(ti={value:ii[ui],delta:ui+1});var _i=ti.delta-Rn.delta,Ai=Math.abs(ti.value-Rn.value)/_i;return Mn?Ai/we(vn,"width")*100:Ai}function Yt(Ft,tn){var Mn=k.dom.getStyle(Ft,tn);return Mn||(Mn=k.dom.getAttrib(Ft,tn)),Mn||(Mn=k.dom.getStyle(Ft,tn,!0)),Mn}function pn(Ft,tn,Mn){var vn=Yt(Ft,"width"),Rn=parseInt(vn,10),Jn=tn?function pe(Ft,tn){return we(Ft,"width")/we(tn,"width")*100}(Ft,Mn):we(Ft,"width");return(tn&&!Un(vn)||!tn&&!zn(vn))&&(Rn=0),!isNaN(Rn)&&Rn>0?Rn:Jn}function Ct(Ft,tn,Mn){for(var vn=it(Ft),Rn=le.map(vn,function(ui){return se(ui.colIndex,ui.element).x}),Jn=[],ei=0;ei<vn.length;ei++){var ii=(vn[ei].element.hasAttribute("colspan")?parseInt(vn[ei].element.getAttribute("colspan"),10):1)>1?xt(Rn,ei):pn(vn[ei].element,tn,Mn);Jn.push(ii=ii||Qi)}return Jn}function qt(Ft){var tn=Yt(Ft,"height"),Mn=parseInt(tn,10);return Un(tn)&&(Mn=0),!isNaN(Mn)&&Mn>0?Mn:we(Ft,"height")}function dn(Ft){for(var tn=Vt(Ft),Mn=le.map(tn,function(ti){return I(ti.rowIndex,ti.element).y}),vn=[],Rn=0;Rn<tn.length;Rn++){var ei=(tn[Rn].element.hasAttribute("rowspan")?parseInt(tn[Rn].element.getAttribute("rowspan"),10):1)>1?xt(Mn,Rn):qt(tn[Rn].element);vn.push(ei=ei||eo)}return vn}function Pt(Ft,tn,Mn,vn,Rn){function Jn(Ai){return le.map(Ai,function(){return 0})}function ti(Ai,Ri){var er,Ui=Jn(_i.slice(0,Ai)),Sr=Jn(_i.slice(Ri+1));if(Mn>=0){var Er=Math.max(vn,_i[Ri]-Mn);er=Ui.concat([Mn,Er-_i[Ri]]).concat(Sr)}else{var Wr=Math.max(vn,_i[Ai]+Mn);er=Ui.concat([Wr-_i[Ai],_i[Ai]-Wr]).concat(Sr)}return er}var _i=Ft.slice(0);return 0===Ft.length?[]:1===Ft.length?function ei(){return Rn?[100-_i[0]]:[Math.max(vn,_i[0]+Mn)-_i[0]]}():0===tn?ti(0,1):tn>0&&tn<Ft.length-1?ti(tn,tn+1):tn===Ft.length-1?function ii(Ai,Ri){var er,Ui=Jn(_i.slice(0,Ri));if(Mn>=0)er=Ui.concat([Mn]);else{var Sr=Math.max(vn,_i[Ri]+Mn);er=Ui.concat([Sr-_i[Ri]])}return er}(0,tn):[]}function yn(Ft,tn,Mn){for(var vn=0,Rn=Ft;Rn<tn;Rn++)vn+=Mn[Rn];return vn}function Gt(Ft,tn){var Mn=Ft.getAllCells();return le.map(Mn,function(vn){var Rn=yn(vn.colIndex,vn.colIndex+vn.colspan,tn);return{element:vn.element,width:Rn,colspan:vn.colspan}})}function Sn(Ft,tn){var Mn=Ft.getAllCells();return le.map(Mn,function(vn){var Rn=yn(vn.rowIndex,vn.rowIndex+vn.rowspan,tn);return{element:vn.element,height:Rn,rowspan:vn.rowspan}})}function Kn(Ft,tn){var Mn=Ft.getAllRows();return le.map(Mn,function(vn,Rn){return{element:vn.element,height:tn[Rn]}})}function Un(Ft){return Hr.test(Ft)}function zn(Ft){return Da.test(Ft)}function bi(Ft,tn,Mn){for(var ii=$e(Be(Ft)),ui=Un(Ft.width)||Un(Ft.style.width),_i=Ct(ii,ui,Ft),Ai=ui?function ve(Ft,tn){return tn/we(Ft,"width")*100}(Ft,tn):tn,Ri=Pt(_i,Mn,Ai,Qi,ui),er=[],Ui=0;Ui<Ri.length;Ui++)er.push(Ri[Ui]+_i[Ui]);var Sr=Gt(ii,er),Er=ui?"%":"px",Wr=ui?function Rn(){return Mn<ii.grid.maxCols-1?Le(Ft):Le(Ft)+function De(Ft,tn){return tn/we(Ft.parentElement,"width")*100}(Ft,tn)}():function Jn(){return Mn<ii.grid.maxCols-1?we(Ft,"width"):we(Ft,"width")+tn}();k.undoManager.transact(function(){(function vn(Or,oa){le.each(Or,function(To){k.dom.setStyle(To.element,"width",To.width+oa),k.dom.setAttrib(To.element,"width",null)})})(Sr,Er),function ei(Or,oa,To){Mn!=ii.grid.maxCols-1&&To||(k.dom.setStyle(Ft,"width",Or+oa),k.dom.setAttrib(Ft,"width",null))}(Wr,Er,ui)})}function Qn(Ft,tn,Mn){for(var Rn=$e(Be(Ft)),Jn=dn(Rn),ei=[],ti=0,ii=0;ii<Jn.length;ii++)ei.push(ii===Mn?tn+Jn[ii]:Jn[ii]),ti+=ti[ii];var ui=Sn(Rn,ei),_i=Kn(Rn,ei);k.undoManager.transact(function(){le.each(_i,function(Ai){k.dom.setStyle(Ai.element,"height",Ai.height+"px"),k.dom.setAttrib(Ai.element,"height",null)}),le.each(ui,function(Ai){k.dom.setStyle(Ai.element,"height",Ai.height+"px"),k.dom.setAttrib(Ai.element,"height",null)}),k.dom.setStyle(Ft,"height",ti+"px"),k.dom.setAttrib(Ft,"height",null)})}function xn(){if(k.dom.remove(bn),Nn){var Ft,tn;if(k.dom.removeClass(fn,Bi),Nn=!1,_n(fn)){var Mn=parseInt(k.dom.getAttrib(fn,vr),10),vn=k.dom.getPos(fn).x;Ft=parseInt(k.dom.getAttrib(fn,Ki),10),tn=B()?Mn-vn:vn-Mn,Math.abs(tn)>=1&&bi(L,tn,Ft)}else if(Dn(fn)){var Rn=parseInt(k.dom.getAttrib(fn,$i),10),Jn=k.dom.getPos(fn).y;Ft=parseInt(k.dom.getAttrib(fn,Fi),10),tn=Jn-Rn,Math.abs(tn)>=1&&Qn(L,tn,Ft)}ke(L),k.nodeChanged()}}function Jt(Ft,tn){bn=bn||function Et(){var Ft=document.createElement("div");return Ft.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),Ft.setAttribute("data-mce-bogus","all"),Ft}(),Nn=!0,k.dom.addClass(Ft,Bi),fn=Ft,function cn(Ft,tn){k.dom.bind(Ft,"mouseup",function(){xn()}),k.dom.bind(Ft,"mousemove",function(Mn){(function zt(){clearTimeout(mn)})(),Nn&&tn(Mn)}),k.dom.bind(Ft,"mouseout",function(){!function Ti(){mn=setTimeout(function(){xn()},200)}()})}(bn,tn),k.dom.add(ae(),bn)}function _n(Ft){return k.dom.hasClass(Ft,li)}function Dn(Ft){return k.dom.hasClass(Ft,Yn)}function Gn(Ft){var tn=Ft.clientX-(kn=kn!==St?kn:Ft.clientX);kn=Ft.clientX;var Mn=k.dom.getPos(fn).x;k.dom.setStyle(fn,"left",Mn+tn+"px")}function di(Ft){var tn=Ft.clientY-(En=En!==St?En:Ft.clientY);En=Ft.clientY;var Mn=k.dom.getPos(fn).y;k.dom.setStyle(fn,"top",Mn+tn+"px")}function en(Ft){var tn=Ft.target,Mn=k.getBody();if(k.$.contains(Mn,L)||L===Mn)if(_n(tn)){Ft.preventDefault();var vn=k.dom.getPos(tn).x;k.dom.setAttrib(tn,vr,vn),function jn(Ft){kn=St,Jt(Ft,Gn)}(tn)}else if(Dn(tn)){Ft.preventDefault();var Rn=k.dom.getPos(tn).y;k.dom.setAttrib(tn,$i,Rn),function Ht(Ft){En=St,Jt(Ft,di)}(tn)}else be()}var mn,Nn,bn,fn,kn,En,Wn="mce-resize-bar",Yn="mce-resize-bar-row",hi="row-resize",Fi="data-row",$i="data-initial-top",li="mce-resize-bar-col",pr="col-resize",Ki="data-col",vr="data-initial-left",ur=4,Qi=10,eo=10,Bi="mce-resize-bar-dragging",Hr=new RegExp(/(\d+(\.\d+)?%)/),Da=new RegExp(/px|em/);return k.on("init",function(){k.dom.bind(ae(),"mousedown",en)}),k.on("ObjectResized",function(Ft){var tn=Ft.target;if("TABLE"===tn.nodeName){var Mn=[];le.each(tn.rows,function(vn){le.each(vn.cells,function(Rn){var Jn=k.dom.getStyle(Rn,"width",!0);Mn.push({cell:Rn,width:Jn})})}),le.each(Mn,function(vn){k.dom.setStyle(vn.cell,"width",vn.width),k.dom.setAttrib(vn.cell,"width",null)})}}),k.on("mouseover",function(Ft){if(!Nn){var tn=k.dom.getParent(Ft.target,"table");("TABLE"===Ft.target.nodeName||tn)&&(L=tn,ke(tn))}}),k.on("keydown",function(Ft){switch(Ft.keyCode){case W.LEFT:case W.RIGHT:case W.UP:case W.DOWN:be()}}),k.on("remove",function(){be(),k.dom.unbind(ae(),"mousedown",en)}),{adjustWidth:bi,adjustHeight:Qn,clearBars:be,drawBars:dt,determineDeltas:Pt,getTableGrid:$e,getTableDetails:Be,getWidths:Ct,getPixelHeights:dn,isPercentageBasedSize:Un,isPixelBasedSize:zn,recalculateWidths:Gt,recalculateCellHeights:Sn,recalculateRowHeights:Kn}}}),xe("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(le,W,L,k,I,G,X,T,B){var ae=G.each;B.add("table",function Y(se){function ne(dt){return function(){se.execCommand(dt)}}function pe(dt,xt){var Yt,pn,Ct,qt;for(Ct='<table id="__mce"><tbody>',Yt=0;Yt<xt;Yt++){for(Ct+="<tr>",pn=0;pn<dt;pn++)Ct+="<td>"+(T.ie&&T.ie<10?"&nbsp;":"<br>")+"</td>";Ct+="</tr>"}return Ct+="</tbody></table>",se.undoManager.transact(function(){se.insertContent(Ct),qt=se.dom.get("__mce"),se.dom.setAttrib(qt,"id",null),se.$("tr",qt).each(function(dn,Pt){se.fire("newrow",{node:Pt}),se.$("th,td",Pt).each(function(yn,Gt){se.fire("newcell",{node:Gt})})}),se.dom.setAttribs(qt,se.settings.table_default_attributes||{}),se.dom.setStyles(qt,se.settings.table_default_styles||{})}),qt}function we(dt,xt,Yt){function pn(){var Ct,qt,dn,Pt={},yn=0;(Ct=(qt=se.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(Ct=se.selection.getStart()),Yt&&qt.length>0?(ae(qt,function(Gt){return Pt[Gt.parentNode.parentNode.nodeName]=1}),ae(Pt,function(Gt){yn+=Gt}),dn=1!==yn):dn=!se.dom.getParent(Ct,xt),dt.disabled(dn),se.selection.selectorChanged(xt,function(Gt){dt.disabled(!Gt)})}se.initialized?pn():se.on("init",pn)}function Le(){we(this,"table")}function ve(){we(this,"td,th")}function be(dt,xt,Yt){var pn,Ct,qt,dn,Pt,yn=Yt.getEl().getElementsByTagName("table")[0],Gt=Yt.isRtl()||"tl-tr"==Yt.parent().rel;for(yn.nextSibling.innerHTML=dt+1+" x "+(xt+1),Gt&&(dt=9-dt),Ct=0;Ct<10;Ct++)for(pn=0;pn<10;pn++)se.dom.toggleClass(dn=yn.rows[Ct].childNodes[pn].firstChild,"mce-active",Pt=(Gt?pn>=dt:pn<=dt)&&Ct<=xt),Pt&&(qt=dn);return qt.parentNode}function ee(dt){return se.dom.is(dt,"table")&&se.getBody().contains(dt)}var $e,Ke,gt=this,it=new k(se);!se.settings.object_resizing||!1===se.settings.table_resize_bars||!0!==se.settings.object_resizing&&"table"!==se.settings.object_resizing||(Ke=I(se)),se.addMenuItem("inserttable",!1===se.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:it.table}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(dt){dt.aria&&(this.parent().hideAll(),dt.stopImmediatePropagation(),it.table())},onshow:function(){be(0,0,this.menu.items()[0])},onhide:function(){var dt=this.menu.items()[0].getEl().getElementsByTagName("a");se.dom.removeClass(dt,"mce-active"),se.dom.addClass(dt[0],"mce-active")},menu:[{type:"container",html:function he(){var dt="";dt='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var xt=0;xt<10;xt++){dt+="<tr>";for(var Yt=0;Yt<10;Yt++)dt+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*xt+Yt)+'" href="#" data-mce-x="'+Yt+'" data-mce-y="'+xt+'"></a></td>';dt+="</tr>"}return(dt+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(dt){var xt,Yt,pn=dt.target;"A"==pn.tagName.toUpperCase()&&(xt=parseInt(pn.getAttribute("data-mce-x"),10),Yt=parseInt(pn.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(xt=9-xt),xt===this.lastX&&Yt===this.lastY||(be(xt,Yt,dt.control),this.lastX=xt,this.lastY=Yt))},onclick:function(dt){var xt=this;"A"==dt.target.tagName.toUpperCase()&&(dt.preventDefault(),dt.stopPropagation(),xt.parent().cancel(),se.undoManager.transact(function(){pe(xt.lastX+1,xt.lastY+1)}),se.addVisual())}}]}),se.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:Le,onclick:it.tableProps}),se.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:Le,cmd:"mceTableDelete"}),se.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:ne("mceTableCellProps"),onPostRender:ve},{text:"Merge cells",onclick:ne("mceTableMergeCells"),onPostRender:function De(){we(this,"td,th",!0)}},{text:"Split cell",onclick:ne("mceTableSplitCells"),onPostRender:ve}]}),se.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:ne("mceTableInsertRowBefore"),onPostRender:ve},{text:"Insert row after",onclick:ne("mceTableInsertRowAfter"),onPostRender:ve},{text:"Delete row",onclick:ne("mceTableDeleteRow"),onPostRender:ve},{text:"Row properties",onclick:ne("mceTableRowProps"),onPostRender:ve},{text:"-"},{text:"Cut row",onclick:ne("mceTableCutRow"),onPostRender:ve},{text:"Copy row",onclick:ne("mceTableCopyRow"),onPostRender:ve},{text:"Paste row before",onclick:ne("mceTablePasteRowBefore"),onPostRender:ve},{text:"Paste row after",onclick:ne("mceTablePasteRowAfter"),onPostRender:ve}]}),se.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:ne("mceTableInsertColBefore"),onPostRender:ve},{text:"Insert column after",onclick:ne("mceTableInsertColAfter"),onPostRender:ve},{text:"Delete column",onclick:ne("mceTableDeleteCol"),onPostRender:ve}]});var Vt=[];ae("inserttable tableprops deletetable | cell row column".split(" "),function(dt){Vt.push("|"==dt?{text:"-"}:se.menuItems[dt])}),se.addButton("table",{type:"menubutton",title:"Table",menu:Vt}),T.isIE||se.on("click",function(dt){"TABLE"===(dt=dt.target).nodeName&&(se.selection.select(dt),se.nodeChanged())}),gt.quirks=new W(se),se.on("Init",function(){gt.cellSelection=new L(se,function(dt){dt&&Ke&&Ke.clearBars()}),gt.resizeBars=Ke}),se.on("PreInit",function(){se.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(dt,xt){for(var Yt=dt.length;Yt--;)dt[Yt].attr(xt,null)})}),ae({mceTableSplitCells:function(dt){dt.split()},mceTableMergeCells:function(dt){var xt;xt=se.dom.getParent(se.selection.getStart(),"th,td"),se.dom.select("td[data-mce-selected],th[data-mce-selected]").length?dt.merge():it.merge(dt,xt)},mceTableInsertRowBefore:function(dt){dt.insertRows(!0)},mceTableInsertRowAfter:function(dt){dt.insertRows()},mceTableInsertColBefore:function(dt){dt.insertCols(!0)},mceTableInsertColAfter:function(dt){dt.insertCols()},mceTableDeleteCol:function(dt){dt.deleteCols()},mceTableDeleteRow:function(dt){dt.deleteRows()},mceTableCutRow:function(dt){$e=dt.cutRows()},mceTableCopyRow:function(dt){$e=dt.copyRows()},mceTablePasteRowBefore:function(dt){dt.pasteRows($e,!0)},mceTablePasteRowAfter:function(dt){dt.pasteRows($e)},mceSplitColsBefore:function(dt){dt.splitCols(!0)},mceSplitColsAfter:function(dt){dt.splitCols(!1)},mceTableDelete:function(dt){Ke&&Ke.clearBars(),dt.deleteTable()}},function(dt,xt){se.addCommand(xt,function(){var Yt=new le(se);Yt&&(dt(Yt),se.execCommand("mceRepaint"),gt.cellSelection.clear())})}),ae({mceInsertTable:it.table,mceTableProps:function(){it.table(!0)},mceTableRowProps:it.row,mceTableCellProps:it.cell},function(dt,xt){se.addCommand(xt,function(Yt,pn){dt(pn)})}),function ke(){se.addButton("tableprops",{title:"Table properties",onclick:it.tableProps,icon:"table"}),se.addButton("tabledelete",{title:"Delete table",onclick:ne("mceTableDelete")}),se.addButton("tablecellprops",{title:"Cell properties",onclick:ne("mceTableCellProps")}),se.addButton("tablemergecells",{title:"Merge cells",onclick:ne("mceTableMergeCells")}),se.addButton("tablesplitcells",{title:"Split cell",onclick:ne("mceTableSplitCells")}),se.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:ne("mceTableInsertRowBefore")}),se.addButton("tableinsertrowafter",{title:"Insert row after",onclick:ne("mceTableInsertRowAfter")}),se.addButton("tabledeleterow",{title:"Delete row",onclick:ne("mceTableDeleteRow")}),se.addButton("tablerowprops",{title:"Row properties",onclick:ne("mceTableRowProps")}),se.addButton("tablecutrow",{title:"Cut row",onclick:ne("mceTableCutRow")}),se.addButton("tablecopyrow",{title:"Copy row",onclick:ne("mceTableCopyRow")}),se.addButton("tablepasterowbefore",{title:"Paste row before",onclick:ne("mceTablePasteRowBefore")}),se.addButton("tablepasterowafter",{title:"Paste row after",onclick:ne("mceTablePasteRowAfter")}),se.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:ne("mceTableInsertColBefore")}),se.addButton("tableinsertcolafter",{title:"Insert column after",onclick:ne("mceTableInsertColAfter")}),se.addButton("tabledeletecol",{title:"Delete column",onclick:ne("mceTableDeleteCol")})}(),function Me(){var dt=se.settings.table_toolbar;""!==dt&&!1!==dt&&(dt||(dt="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),se.addContextToolbar(ee,dt))}(),!1!==se.settings.table_tab_navigation&&se.on("keydown",function(dt){var xt,Yt,pn;9==dt.keyCode&&(xt=se.dom.getParent(se.selection.getStart(),"th,td"))&&(dt.preventDefault(),Yt=new le(se),pn=dt.shiftKey?-1:1,se.undoManager.transact(function(){!Yt.moveRelIdx(xt,pn)&&pn>0&&(Yt.insertRow(),Yt.refresh(),Yt.moveRelIdx(xt,pn))}))}),gt.insertTable=pe,gt.setClipboardRows=function Be(dt){$e=dt},gt.getClipboardRows=function Ne(){return $e}})})}(window),function(Ze,St){"object"==typeof exports&&typeof module<"u"?St(exports):"function"==typeof define&&define.amd?define(["exports"],St):St(Ze.echarts={})}(this,function(Ze){"use strict";var e,t,n,i,o,a,Le,St=2311,In=function(){return St++},xe="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(t={},n=(e=navigator.userAgent).match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(e),n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),o&&(t.edge=!0,t.version=o[1]),a&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&11<=t.version),domSupported:typeof document<"u"}),qe={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},te={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},le=Object.prototype.toString,W=Array.prototype,L=W.forEach,k=W.filter,I=W.slice,G=W.map,X=W.reduce,T={};function B(e,t){"createCanvas"===e&&(Le=null),T[e]=t}function Y(e){if(null==e||"object"!=typeof e)return e;var t=e,n=le.call(e);if("[object Array]"===n){if(!Qn(e)){t=[];for(var i=0,o=e.length;i<o;i++)t[i]=Y(e[i])}}else if(te[n]){if(!Qn(e)){var a=e.constructor;if(e.constructor.from)t=a.from(e);else for(t=new a(e.length),i=0,o=e.length;i<o;i++)t[i]=Y(e[i])}}else if(!qe[n]&&!Qn(e)&&!Ct(e))for(var s in t={},e)e.hasOwnProperty(s)&&(t[s]=Y(e[s]));return t}function ae(e,t,n){if(!xt(t)||!xt(e))return n?Y(t):e;for(var i in t)if(t.hasOwnProperty(i)){var o=e[i],a=t[i];!xt(a)||!xt(o)||it(a)||it(o)||Ct(a)||Ct(o)||Yt(a)||Yt(o)||Qn(a)||Qn(o)?!n&&i in e||(e[i]=Y(t[i])):ae(o,a,n)}return e}function se(e,t){for(var n=e[0],i=1,o=e.length;i<o;i++)n=ae(n,e[i],t);return n}function ne(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function pe(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function we(){return T.createCanvas()}function ve(){return Le=Le||we().getContext("2d")}function De(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function he(e,t){var n=e.prototype;function i(){}for(var o in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(o)&&(e.prototype[o]=n[o]);(e.prototype.constructor=e).superClass=t}function be(e,t,n){pe(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)}function ke(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function ee(e,t,n){if(e&&t)if(e.forEach&&e.forEach===L)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function Me(e,t,n){if(e&&t){if(e.map&&e.map===G)return e.map(t,n);for(var i=[],o=0,a=e.length;o<a;o++)i.push(t.call(n,e[o],o,e));return i}}function Ne(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===X)return e.reduce(t,n,i);for(var o=0,a=e.length;o<a;o++)n=t.call(i,n,e[o],o,e);return n}}function Be(e,t,n){if(e&&t){if(e.filter&&e.filter===k)return e.filter(t,n);for(var i=[],o=0,a=e.length;o<a;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}}function $e(e,t,n){if(e&&t)for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i]}function Ke(e,t){var n=I.call(arguments,2);return function(){return e.apply(t,n.concat(I.call(arguments)))}}function gt(e){var t=I.call(arguments,1);return function(){return e.apply(this,t.concat(I.call(arguments)))}}function it(e){return"[object Array]"===le.call(e)}function Vt(e){return"function"==typeof e}function dt(e){return"[object String]"===le.call(e)}function xt(e){var t=typeof e;return"function"==t||!!e&&"object"==t}function Yt(e){return!!qe[le.call(e)]}function pn(e){return!!te[le.call(e)]}function Ct(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function qt(e){return e!=e}function dn(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function Pt(e,t){return e??t}function yn(e,t,n){return e??t??n}function Gt(){return Function.call.apply(I,arguments)}function Sn(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function Kn(e,t){if(!e)throw new Error(t)}function Un(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}T.createCanvas=function(){return document.createElement("canvas")};var zn="__ec_primitive__";function bi(e){e[zn]=!0}function Qn(e){return e[zn]}function Ti(e){var t=it(e);this.data={};var n=this;function i(o,a){t?n.set(o,a):n.set(a,o)}e instanceof Ti?e.each(i):e&&ee(e,i)}function zt(e){return new Ti(e)}function Et(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var o=e.length;for(i=0;i<t.length;i++)n[i+o]=t[i];return n}function cn(){}Ti.prototype={constructor:Ti,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=Ke(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}};var xn=(Object.freeze||Object)({$override:B,clone:Y,merge:ae,mergeAll:se,extend:ne,defaults:pe,createCanvas:we,getContext:ve,indexOf:De,inherits:he,mixin:be,isArrayLike:ke,each:ee,map:Me,reduce:Ne,filter:Be,find:$e,bind:Ke,curry:gt,isArray:it,isFunction:Vt,isString:dt,isObject:xt,isBuiltInObject:Yt,isTypedArray:pn,isDom:Ct,eqNaN:qt,retrieve:dn,retrieve2:Pt,retrieve3:yn,slice:Gt,normalizeCssArray:Sn,assert:Kn,trim:Un,setAsPrimitive:bi,isPrimitive:Qn,createHashMap:zt,concatArray:Et,noop:cn}),Jt=typeof Float32Array>"u"?Array:Float32Array;function _n(e,t){var n=new Jt(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function Dn(e,t){return e[0]=t[0],e[1]=t[1],e}function Gn(e){var t=new Jt(2);return t[0]=e[0],t[1]=e[1],t}function di(e,t,n){return e[0]=t,e[1]=n,e}function jn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Ht(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function en(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function mn(e){return Math.sqrt(bn(e))}function bn(e){return e[0]*e[0]+e[1]*e[1]}function kn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function En(e,t){var n=mn(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Wn(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Yn=Wn;function hi(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Fi=hi;function $i(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function li(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e}function pr(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Ki(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var vr=(Object.freeze||Object)({create:_n,copy:Dn,clone:Gn,set:di,add:jn,scaleAndAdd:Ht,sub:en,len:mn,length:mn,lenSquare:bn,lengthSquare:bn,mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:kn,normalize:En,distance:Wn,dist:Yn,distanceSquare:hi,distSquare:Fi,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:$i,applyTransform:li,min:pr,max:Ki});function ur(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function Qi(e,t){return{target:e,topTarget:t&&t.topTarget}}ur.prototype={constructor:ur,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&((this._draggingTarget=t).dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Qi(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,o=n-this._x,a=i-this._y;this._x=n,this._y=i,t.drift(o,a,e),this.dispatchToElement(Qi(t,e),"drag",e.event);var s=this.findHover(n,i,t).target,l=this._dropTarget;t!==(this._dropTarget=s)&&(l&&s!==l&&this.dispatchToElement(Qi(l,e),"dragleave",e.event),s&&s!==l&&this.dispatchToElement(Qi(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Qi(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Qi(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var eo=Array.prototype.slice,Bi=function(e){this._$handlers={},this._$eventProcessor=e};function Hr(e,t,n,i,o,a){var f,p,s=e._$handlers;if("function"==typeof n&&(o=i,i=n,n=null),!i||!t)return e;p=e._$eventProcessor,null!=(f=n)&&p&&p.normalizeQuery&&(f=p.normalizeQuery(f)),n=f,s[t]||(s[t]=[]);for(var l=0;l<s[t].length;l++)if(s[t][l].h===i)return e;var u={h:i,one:a,query:n,ctx:o||e,callAtLast:i.zrEventfulCallAtLast},c=s[t].length-1,d=s[t][c];return d&&d.callAtLast?s[t].splice(c,0,u):s[t].push(u),e}Bi.prototype={constructor:Bi,one:function(e,t,n,i){return Hr(this,e,t,n,i,!0)},on:function(e,t,n,i){return Hr(this,e,t,n,i,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],o=0,a=n[e].length;o<a;o++)n[e][o].h!==t&&i.push(n[e][o]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,o=i.length;3<o&&(i=eo.call(i,1));for(var a=t.length,s=0;s<a;){var l=t[s];if(n&&n.filter&&null!=l.query&&!n.filter(e,l.query))s++;else{switch(o){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,i[1]);break;case 3:l.h.call(l.ctx,i[1],i[2]);break;default:l.h.apply(l.ctx,i)}l.one?(t.splice(s,1),a--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,o=i.length;4<o&&(i=eo.call(i,1,i.length-1));for(var a=i[i.length-1],s=t.length,l=0;l<s;){var u=t[l];if(n&&n.filter&&null!=u.query&&!n.filter(e,u.query))l++;else{switch(o){case 1:u.h.call(a);break;case 2:u.h.call(a,i[1]);break;case 3:u.h.call(a,i[1],i[2]);break;default:u.h.apply(a,i)}u.one?(t.splice(l,1),s--):l++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};var Da=Math.log(2);function Ft(e,t,n,i,o,a){var s=i+"-"+o,l=e.length;if(a.hasOwnProperty(s))return a[s];if(1===t){var u=Math.round(Math.log((1<<l)-1&~o)/Da);return e[n][u]}for(var c=i|1<<n,d=n+1;i&1<<d;)d++;for(var h=0,f=0,p=0;f<l;f++){var m=1<<f;m&o||(h+=(p%2?-1:1)*e[n][f]*Ft(e,t-1,d,c,o|m,a),p++)}return a[s]=h}function tn(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},o=Ft(n,8,0,0,0,i);if(0!==o){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*Ft(n,7,0===s?1:0,1<<s,1<<l,i)/o*t[s];return function(u,c,d){var h=c*a[6]+d*a[7]+1;u[0]=(c*a[0]+d*a[1]+a[2])/h,u[1]=(c*a[3]+d*a[4]+a[5])/h}}}var Mn="___zrEVENTSAVED",vn=[];function Rn(e,t,n,i,o){if(t.getBoundingClientRect&&xe.domSupported&&!Jn(t)){var a=t[Mn]||(t[Mn]={}),s=function(l,u,c){for(var d=c?"invTrans":"trans",h=u[d],f=u.srcCoords,p=!0,m=[],S=[],x=0;x<4;x++){var V=l[x].getBoundingClientRect(),Q=2*x,K=V.left,ce=V.top;m.push(K,ce),p=p&&f&&K===f[Q]&&ce===f[1+Q],S.push(l[x].offsetLeft,l[x].offsetTop)}return p&&h?h:(u.srcCoords=m,u[d]=c?tn(S,m):tn(m,S))}(function(l,u){var c=u.markers;if(c)return c;c=u.markers=[];for(var d=["left","right"],h=["top","bottom"],f=0;f<4;f++){var p=document.createElement("div"),S=f%2,x=(f>>1)%2;p.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",d[S]+":0",h[x]+":0",d[1-S]+":auto",h[1-x]+":auto",""].join("!important;"),l.appendChild(p),c.push(p)}return c}(t,a),a,o);if(s)return s(e,n,i),!0}return!1}function Jn(e){return"CANVAS"===e.nodeName.toUpperCase()}var ei=typeof window<"u"&&!!window.addEventListener,ti=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ii=[];function ui(e,t,n,i){return n=n||{},i||!xe.canvasSupported?_i(e,t,n):xe.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):_i(e,t,n),n}function _i(e,t,n){if(xe.domSupported&&e.getBoundingClientRect){var i=t.clientX,o=t.clientY;if(Jn(e)){var a=e.getBoundingClientRect();return n.zrX=i-a.left,void(n.zrY=o-a.top)}if(Rn(ii,e,i,o))return n.zrX=ii[0],void(n.zrY=ii[1])}n.zrX=n.zrY=0}function Ai(e){return e||window.event}function Ri(e,t,n){if(null!=(t=Ai(t)).zrX)return t;var i=t.type;if(i&&0<=i.indexOf("touch")){var o="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];o&&ui(e,o,t,n)}else ui(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var a=t.button;return null==t.which&&void 0!==a&&ti.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function er(e,t,n,i){ei?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)}var Ui=ei?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function Sr(e){return 2===e.which||3===e.which}function Er(){this._track=[]}function Wr(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}Er.prototype={constructor:Er,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},a=0,s=i.length;a<s;a++){var l=i[a],u=ui(n,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(e){for(var t in Or)if(Or.hasOwnProperty(t)){var n=Or[t](this._track,e);if(n)return n}}};var Or={pinch:function(e,t){var l,n=e.length;if(n){var i=(e[n-1]||{}).points,o=(e[n-2]||{}).points||i;if(o&&1<o.length&&i&&1<i.length){var a=Wr(i)/Wr(o);isFinite(a)||(a=1),t.pinchScale=a;var s=[((l=i)[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},oa="silent";function To(){Ui(this.event)}function du(){}function aa(e,t,n,i){Bi.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new du,this.proxy=null,this._hovered={},ur.call(this),this.setHandlerProxy(n)}du.prototype.dispose=function(){};var ed=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];function td(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,o=e;o;){if(o.clipPath&&!o.clipPath.contain(t,n))return!1;o.silent&&(i=!0),o=o.parent}return!i||oa}return!1}function hu(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}aa.prototype={constructor:aa,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(ee(ed,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=hu(this,t,n),o=this._hovered,a=o.target;a&&!a.__zr&&(a=(o=this.findHover(o.x,o.y)).target);var s=this._hovered=i?{x:t,y:n}:this.findHover(t,n),l=s.target,u=this.proxy;u.setCursor&&u.setCursor(l?l.cursor:"default"),a&&l!==a&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(s,"mousemove",e),l&&l!==a&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&(n||this.trigger("globalout",{type:"globalout",event:e}))},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var l,u,i=(e=e||{}).target;if(!i||!i.silent){for(var o="on"+t,a={type:t,event:u=n,target:(l=e).target,topTarget:l.topTarget,cancelBubble:!1,offsetX:u.zrX,offsetY:u.zrY,gestureEvent:u.gestureEvent,pinchX:u.pinchX,pinchY:u.pinchY,pinchScale:u.pinchScale,wheelDelta:u.zrDelta,zrByTouch:u.zrByTouch,which:u.which,stop:To};i&&(i[o]&&(a.cancelBubble=i[o].call(i,a)),i.trigger(t,a),i=i.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(t,a),this.painter&&this.painter.eachOtherLayer(function(s){"function"==typeof s[o]&&s[o].call(s,a),s.trigger&&s.trigger(t,a)}))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),o={x:e,y:t},a=i.length-1;0<=a;a--){var s;if(i[a]!==n&&!i[a].ignore&&(s=td(i[a],e,t))&&(o.topTarget||(o.topTarget=i[a]),s!==oa)){o.target=i[a];break}}return o},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new Er);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var o=i.type;e.gestureEvent=o,this.dispatchToElement({target:i.target},o,i.event)}}},ee(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){aa.prototype[e]=function(t){var n,i,o=t.zrX,a=t.zrY,s=hu(this,o,a);if("mouseup"===e&&s||(i=(n=this.findHover(o,a)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||4<Yn(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),be(aa,Bi),be(aa,ur);var fu=typeof Float32Array>"u"?Array:Float32Array;function yr(){var e=new fu(6);return Bo(e),e}function Bo(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function sa(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ho(e,t,n){var o=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=o,e[2]=a,e[3]=s,e[4]=l,e[5]=u,e}function Mr(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Ao(e,t,n){var i=t[0],o=t[2],a=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),d=Math.cos(n);return e[0]=i*d+s*c,e[1]=-i*c+s*d,e[2]=o*d+l*c,e[3]=-o*c+d*l,e[4]=d*a+c*u,e[5]=d*u-c*a,e}function la(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e}function Na(e,t){var n=t[0],i=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=n*s-a*i;return u?(e[0]=s*(u=1/u),e[1]=-a*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*l-s*o)*u,e[5]=(a*o-n*l)*u,e):null}function pu(e){var t=yr();return sa(t,e),t}var nd=(Object.freeze||Object)({create:yr,identity:Bo,copy:sa,mul:ho,translate:Mr,rotate:Ao,scale:la,invert:Na,clone:pu}),sl=Bo;function zo(e){return 5e-5<e||e<-5e-5}var Tr=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},xr=Tr.prototype;xr.transform=null,xr.needLocalTransform=function(){return zo(this.rotation)||zo(this.position[0])||zo(this.position[1])||zo(this.scale[0]-1)||zo(this.scale[1]-1)};var fo=[];xr.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;if(n||t){i=i||yr(),n?this.getLocalTransform(i):sl(i),t&&(n?ho(i,e.transform,i):sa(i,e.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(fo);var a=fo[0]<0?-1:1,s=fo[1]<0?-1:1,l=((fo[0]-a)*o+a)/fo[0]||0,u=((fo[1]-s)*o+s)/fo[1]||0;i[0]*=l,i[1]*=l,i[2]*=u,i[3]*=u}this.invTransform=this.invTransform||yr(),Na(this.invTransform,i)}else i&&sl(i)},xr.getLocalTransform=function(e){return Tr.getLocalTransform(this,e)},xr.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},xr.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var ua=[],ds=yr();xr.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=this.position,o=this.scale;zo(t-1)&&(t=Math.sqrt(t)),zo(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),i[0]=e[4],i[1]=e[5],o[0]=t,o[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}},xr.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(ho(ua,e.invTransform,t),t=ua);var n=this.origin;n&&(n[0]||n[1])&&(ds[4]=n[0],ds[5]=n[1],ho(ua,t,ds),ua[4]-=n[0],ua[5]-=n[1],t=ua),this.setLocalTransform(t)}},xr.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1])):(e[0]=1,e[1]=1),e},xr.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&li(n,n,i),n},xr.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&li(n,n,i),n},Tr.getLocalTransform=function(e,t){sl(t=t||[]);var n=e.origin,i=e.scale||[1,1],o=e.rotation||0,a=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),la(t,t,i),o&&Ao(t,t,o),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=a[0],t[5]+=a[1],t};var ca={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)},bounceIn:function(e){return 1-ca.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*ca.bounceIn(2*e):.5*ca.bounceOut(2*e-1)+.5}};function ll(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function ul(){this.head=null,this.tail=null,this._len=0}ll.prototype={constructor:ll,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,o="string"==typeof i?ca[i]:i,a="function"==typeof o?o(n):n;return this.fire("frame",a),1===n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Pa=ul.prototype;function hs(e){this._list=new ul,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null}Pa.insert=function(e){var t=new gu(e);return this.insertEntry(t),t},Pa.insertEntry=function(e){this.head?((this.tail.next=e).prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},Pa.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},Pa.len=function(){return this._len},Pa.clear=function(){this.head=this.tail=null,this._len=0};var gu=function(e){this.value=e},fs=hs.prototype;fs.put=function(e,t){var n=this._list,i=this._map,o=null;if(null==i[e]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new gu(t),s.key=e,n.insertEntry(s),i[e]=s}return o},fs.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},fs.clear=function(){this._list.clear(),this._map={}};var mu={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Br(e){return(e=Math.round(e))<0?0:255<e?255:e}function da(e){return e<0?0:1<e?1:e}function cl(e){return e.length&&"%"===e.charAt(e.length-1)?Br(parseFloat(e)/100*255):Br(parseInt(e,10))}function ha(e){return e.length&&"%"===e.charAt(e.length-1)?da(parseFloat(e)/100):da(parseFloat(e))}function dl(e,t,n){return n<0?n+=1:1<n&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Io(e,t,n){return e+(t-e)*n}function Gr(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function ps(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var vu=new hs(20),gs=null;function fa(e,t){gs&&ps(gs,t),gs=vu.put(e,gs||t.slice())}function Ar(e,t){if(e){t=t||[];var n=vu.get(e);if(n)return ps(t,n);var i,o=(e+="").replace(/ /g,"").toLowerCase();if(o in mu)return ps(t,mu[o]),fa(e,t),t;if("#"===o.charAt(0))return 4===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=4095?(Gr(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),fa(e,t),t):void Gr(t,0,0,0,1):7===o.length?0<=(i=parseInt(o.substr(1),16))&&i<=16777215?(Gr(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),fa(e,t),t):void Gr(t,0,0,0,1):void 0;var a=o.indexOf("("),s=o.indexOf(")");if(-1!==a&&s+1===o.length){var l=o.substr(0,a),u=o.substr(a+1,s-(a+1)).split(","),c=1;switch(l){case"rgba":if(4!==u.length)return void Gr(t,0,0,0,1);c=ha(u.pop());case"rgb":return 3!==u.length?void Gr(t,0,0,0,1):(Gr(t,cl(u[0]),cl(u[1]),cl(u[2]),c),fa(e,t),t);case"hsla":return 4!==u.length?void Gr(t,0,0,0,1):(u[3]=ha(u[3]),hl(u,t),fa(e,t),t);case"hsl":return 3!==u.length?void Gr(t,0,0,0,1):(hl(u,t),fa(e,t),t);default:return}}Gr(t,0,0,0,1)}}function hl(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=ha(e[1]),o=ha(e[2]),a=o<=.5?o*(i+1):o+i-o*i,s=2*o-a;return Gr(t=t||[],Br(255*dl(s,a,n+1/3)),Br(255*dl(s,a,n)),Br(255*dl(s,a,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function yu(e,t){var n=Ar(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,255<n[i]?n[i]=255:e[i]<0&&(n[i]=0);return po(n,4===n.length?"rgba":"rgb")}}function ms(e){var t=Ar(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function pa(e,t,n){if(t&&t.length&&0<=e&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=t[o],l=t[a],u=i-o;return n[0]=Br(Io(s[0],l[0],u)),n[1]=Br(Io(s[1],l[1],u)),n[2]=Br(Io(s[2],l[2],u)),n[3]=da(Io(s[3],l[3],u)),n}}function pl(e,t,n){if(t&&t.length&&0<=e&&e<=1){var i=e*(t.length-1),o=Math.floor(i),a=Math.ceil(i),s=Ar(t[o]),l=Ar(t[a]),u=i-o,c=po([Br(Io(s[0],l[0],u)),Br(Io(s[1],l[1],u)),Br(Io(s[2],l[2],u)),da(Io(s[3],l[3],u))],"rgba");return n?{color:c,leftIndex:o,rightIndex:a,value:i}:c}}function Fo(e,t,n,i){if(e=Ar(e))return e=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,c=o[2]/255,d=Math.min(l,u,c),h=Math.max(l,u,c),f=h-d,p=(h+d)/2;if(0==f)s=a=0;else{s=p<.5?f/(h+d):f/(2-h-d);var m=((h-l)/6+f/2)/f,S=((h-u)/6+f/2)/f,x=((h-c)/6+f/2)/f;l===h?a=x-S:u===h?a=1/3+m-x:c===h&&(a=2/3+S-m),a<0&&(a+=1),1<a&&(a-=1)}var V=[360*a,s,p];return null!=o[3]&&V.push(o[3]),V}}(e),null!=t&&(e[0]=function(o){return(o=Math.round(o))<0?0:360<o?360:o}(t)),null!=n&&(e[1]=ha(n)),null!=i&&(e[2]=ha(i)),po(hl(e),"rgba")}function vs(e,t){if((e=Ar(e))&&null!=t)return e[3]=da(t),po(e,"rgba")}function po(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}var id=(Object.freeze||Object)({parse:Ar,lift:yu,toHex:ms,fastLerp:pa,fastMapToColor:pa,lerp:pl,mapToColor:pl,modifyHSL:Fo,modifyAlpha:vs,stringify:po}),gl=Array.prototype.slice;function rd(e,t){return e[t]}function od(e,t,n){e[t]=n}function ml(e,t,n){return(t-e)*n+e}function bu(e,t,n){return.5<n?t:e}function _u(e,t,n,i,o){var a=e.length;if(1===o)for(var s=0;s<a;s++)i[s]=ml(e[s],t[s],n);else{var l=a&&e[0].length;for(s=0;s<a;s++)for(var u=0;u<l;u++)i[s][u]=ml(e[s][u],t[s][u],n)}}function wu(e,t,n){var i=e.length,o=t.length;if(i!==o)if(o<i)e.length=o;else for(var a=i;a<o;a++)e.push(1===n?t[a]:gl.call(t[a]));var s=e[0]&&e[0].length;for(a=0;a<e.length;a++)if(1===n)isNaN(e[a])&&(e[a]=t[a]);else for(var l=0;l<s;l++)isNaN(e[a][l])&&(e[a][l]=t[a][l])}function Of(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(var o=0;o<i;o++)if(e[o]!==t[o])return!1}else{var a=e[0].length;for(o=0;o<i;o++)for(var s=0;s<a;s++)if(e[o][s]!==t[o][s])return!1}return!0}function me(e,t,n,i,o,a,s,l,u){var c=e.length;if(1===u)for(var d=0;d<c;d++)l[d]=ie(e[d],t[d],n[d],i[d],o,a,s);else{var h=e[0].length;for(d=0;d<c;d++)for(var f=0;f<h;f++)l[d][f]=ie(e[d][f],t[d][f],n[d][f],i[d][f],o,a,s)}}function ie(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function U(e){if(ke(e)){var t=e.length;if(ke(e[0])){for(var n=[],i=0;i<t;i++)n.push(gl.call(e[i]));return n}return gl.call(e)}return e}function z(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function C(e,t,n,i,o,a){var pt,ut,s=e._getter,l=e._setter,u="spline"===t,c=i.length;if(c){var d,h=ke(i[0].value),f=!1,p=!1,m=h?ke((ut=(pt=i)[pt.length-1].value)&&ut[0])?2:1:0;i.sort(function(pt,ut){return pt.time-ut.time}),d=i[c-1].time;for(var S=[],x=[],V=i[0].value,Q=!0,K=0;K<c;K++){S.push(i[K].time/d);var ce=i[K].value;if(h&&Of(ce,V,m)||!h&&ce===V||(Q=!1),"string"==typeof(V=ce)){var ue=Ar(ce);ue?(ce=ue,f=!0):p=!0}x.push(ce)}if(a||!Q){var de=x[c-1];for(K=0;K<c-1;K++)h?wu(x[K],de,m):!isNaN(x[K])||isNaN(de)||p||f||(x[K]=de);h&&wu(s(e._target,o),de,m);var ge,Ce,Pe,Fe,Ge,Qe=0,et=0;if(f)var ot=[0,0,0,0];var ht=new ll({target:e._target,life:d,loop:e._loop,delay:e._delay,onframe:function(pt,ut){var At;if(ut<0)At=0;else if(ut<et){for(At=Math.min(Qe+1,c-1);0<=At&&!(S[At]<=ut);At--);At=Math.min(At,c-2)}else{for(At=Qe;At<c&&!(S[At]>ut);At++);At=Math.min(At-1,c-2)}et=ut;var Zt=S[(Qe=At)+1]-S[At];if(0!=Zt)if(ge=(ut-S[At])/Zt,u)if(Pe=x[At],Ce=x[0===At?At:At-1],Fe=x[c-2<At?c-1:At+1],Ge=x[c-3<At?c-1:At+2],h)me(Ce,Pe,Fe,Ge,ge,ge*ge,ge*ge*ge,s(pt,o),m);else{if(f)nn=me(Ce,Pe,Fe,Ge,ge,ge*ge,ge*ge*ge,ot,1),nn=z(ot);else{if(p)return bu(Pe,Fe,ge);nn=ie(Ce,Pe,Fe,Ge,ge,ge*ge,ge*ge*ge)}l(pt,o,nn)}else if(h)_u(x[At],x[At+1],ge,s(pt,o),m);else{var nn;if(f)_u(x[At],x[At+1],ge,ot,1),nn=z(ot);else{if(p)return bu(x[At],x[At+1],ge);nn=ml(x[At],x[At+1],ge)}l(pt,o,nn)}},ondestroy:n});return t&&"spline"!==t&&(ht.easing=t),ht}}}function D(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||rd,this._setter=i||od,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}D.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(null==o)continue;0!==e&&n[i].push({time:0,value:U(o)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){function n(){--a||o._doneCallback()}var i,o=this,a=0;for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var l=C(this,e,n,this._tracks[s],s,t);l&&(this._clipList.push(l),a++,this.animation&&this.animation.addClip(l),i=l)}if(i){var u=i.onframe;i.onframe=function(c,d){u(c,d);for(var h=0;h<o._onframeList.length;h++)o._onframeList[h](c,d)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var o=t[i];e&&o.onframe(this._target,1),n&&n.removeClip(o)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var _=1;typeof window<"u"&&(_=Math.max(window.devicePixelRatio||1,1));var w=_;function j(){this.animators=[]}function E(e,t,n,i,o,a,s,l){dt(i)?(a=o,o=i,i=0):Vt(o)?(a=o,o="linear",i=0):Vt(i)?(a=i,i=0):n=Vt(n)?(a=n,500):n||500,e.stopAnimation(),function f(p,m,S,x,V,Q,K){var ce={},ue=0;for(var de in x)x.hasOwnProperty(de)&&(null!=S[de]?xt(x[de])&&!ke(x[de])?f(p,m?m+"."+de:de,S[de],x[de],V,Q,K):(K?(ce[de]=S[de],H(p,m,de,x[de])):ce[de]=x[de],ue++):null==x[de]||K||H(p,m,de,x[de]));0<ue&&p.animate(m,!1).when(V??500,ce).delay(Q||0)}(e,"",e,t,n,i,l);var u=e.animators.slice(),c=u.length;function d(){--c||a&&a()}c||a&&a();for(var h=0;h<u.length;h++)u[h].done(d).start(o,s)}function H(e,t,n,i){if(t){var o={};o[t]={},o[t][n]=i,e.attr(o)}else e.attr(n,i)}j.prototype={constructor:j,animate:function(e,t){var n,i=!1,o=this,a=this.__zr;if(e){var s=e.split("."),l=o;i="shape"===s[0];for(var u=0,c=s.length;u<c;u++)l=l&&l[s[u]];l&&(n=l)}else n=o;if(n){var d=o.animators,h=new D(n,t);return h.during(function(f){o.dirty(i)}).done(function(){d.splice(De(d,h),1)}),d.push(h),a&&a.animation.addAnimator(h),h}},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,o,a){E(this,e,t,n,i,o,a)},animateFrom:function(e,t,n,i,o,a){E(this,e,t,n,i,o,a,!0)}};var q=function(e){Tr.call(this,e),Bi.call(this,e),j.call(this,e),this.id=e.id||In()};q.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];(n=n||(this[e]=[]))[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(xt(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),(this.clipPath=e).__zr=t,(e.__clipTarget=this).dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},be(q,j),be(q,Tr),be(q,Bi);var O,$,F,re,N=li,R=Math.min,A=Math.max;function v(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}v.prototype={constructor:v,union:function(e){var t=R(e.x,this.x),n=R(e.y,this.y);this.width=A(e.x+e.width,this.x+this.width)-t,this.height=A(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:(O=[],$=[],F=[],re=[],function(e){if(e){O[0]=F[0]=this.x,O[1]=re[1]=this.y,$[0]=re[0]=this.x+this.width,$[1]=F[1]=this.y+this.height,N(O,O,e),N($,$,e),N(F,F,e),N(re,re,e),this.x=R(O[0],$[0],F[0],re[0]),this.y=R(O[1],$[1],F[1],re[1]);var t=A(O[0],$[0],F[0],re[0]),n=A(O[1],$[1],F[1],re[1]);this.width=t-this.x,this.height=n-this.y}}),calculateTransform:function(e){var t=e.width/this.width,n=e.height/this.height,i=yr();return Mr(i,i,[-this.x,-this.y]),la(i,i,[t,n]),Mr(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof v||(e=v.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new v(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},v.create=function(e){return new v(e.x,e.y,e.width,e.height)};var y=function(e){for(var t in q.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};y.prototype={constructor:y,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);0<=i&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e);var t=(e.parent=this).__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof y&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,o=De(i,e);return o<0||(i.splice(o,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof y&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof y&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++)e.call(t,n[i],i);return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof y&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof y&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new v(0,0,0,0),i=e||this._children,o=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(o);u?(n.copy(l),n.applyTransform(u),(t=t||n.clone()).union(n)):(t=t||l.clone()).union(l)}}return t||n}},he(y,q);var Z=32,oe=7;function J(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;!function(a,s,l){for(l--;s<l;){var u=a[s];a[s++]=a[l],a[l--]=u}}(e,t,o)}else for(;o<n&&0<=i(e[o],e[o-1]);)o++;return o-t}function fe(e,t,n,i,o){for(i===t&&i++;i<n;i++){for(var a,s=e[i],l=t,u=i;l<u;)o(s,e[a=l+u>>>1])<0?u=a:l=1+a;var c=i-l;switch(c){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;0<c;)e[l+c]=e[l+c-1],c--}e[l]=s}}function _e(e,t,n,i,o,a){var s=0,l=0,u=1;if(0<a(e,t[n+o])){for(l=i-o;u<l&&0<a(e,t[n+o+u]);)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l),s+=o,u+=o}else{for(l=o+1;u<l&&a(e,t[n+o-u])<=0;)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l);var c=s;s=o-u,u=o-c}for(s++;s<u;){var d=s+(u-s>>>1);0<a(e,t[n+d])?s=d+1:u=d}return u}function Ve(e,t,n,i,o,a){var s=0,l=0,u=1;if(a(e,t[n+o])<0){for(l=o+1;u<l&&a(e,t[n+o-u])<0;)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l);var c=s;s=o-u,u=o-c}else{for(l=i-o;u<l&&0<=a(e,t[n+o+u]);)(u=1+((s=u)<<1))<=0&&(u=l);l<u&&(u=l),s+=o,u+=o}for(s++;s<u;){var d=s+(u-s>>>1);a(e,t[n+d])<0?u=d:s=d+1}return u}function Ee(e,t){var n,i,o=oe,a=0,s=[];function l(u){var c=n[u],d=i[u],h=n[u+1],f=i[u+1];i[u]=d+f,u===a-3&&(n[u+1]=n[u+2],i[u+1]=i[u+2]),a--;var p=Ve(e[h],e,c,d,0,t);c+=p,0!=(d-=p)&&0!==(f=_e(e[c+d-1],e,h,f,f-1,t))&&(d<=f?function(m,S,x,V){var Q=0;for(Q=0;Q<S;Q++)s[Q]=e[m+Q];var K=0,ce=x,ue=m;if(e[ue++]=e[ce++],0!=--V){if(1===S){for(Q=0;Q<V;Q++)e[ue+Q]=e[ce+Q];return e[ue+V]=s[K]}for(var de,ge,Ce,Pe=o;;){ge=de=0,Ce=!1;do{if(t(e[ce],s[K])<0){if(e[ue++]=e[ce++],ge++,(de=0)==--V){Ce=!0;break}}else if(e[ue++]=s[K++],de++,ge=0,1==--S){Ce=!0;break}}while((de|ge)<Pe);if(Ce)break;do{if(0!==(de=Ve(e[ce],s,K,S,0,t))){for(Q=0;Q<de;Q++)e[ue+Q]=s[K+Q];if(ue+=de,K+=de,(S-=de)<=1){Ce=!0;break}}if(e[ue++]=e[ce++],0==--V){Ce=!0;break}if(0!==(ge=_e(s[K],e,ce,V,0,t))){for(Q=0;Q<ge;Q++)e[ue+Q]=e[ce+Q];if(ue+=ge,ce+=ge,0==(V-=ge)){Ce=!0;break}}if(e[ue++]=s[K++],1==--S){Ce=!0;break}Pe--}while(oe<=de||oe<=ge);if(Ce)break;Pe<0&&(Pe=0),Pe+=2}if((o=Pe)<1&&(o=1),1===S){for(Q=0;Q<V;Q++)e[ue+Q]=e[ce+Q];e[ue+V]=s[K]}else{if(0===S)throw new Error;for(Q=0;Q<S;Q++)e[ue+Q]=s[K+Q]}}else for(Q=0;Q<S;Q++)e[ue+Q]=s[K+Q]}(c,d,h,f):function(m,S,x,V){var Q=0;for(Q=0;Q<V;Q++)s[Q]=e[x+Q];var K=m+S-1,ce=V-1,ue=x+V-1,de=0,ge=0;if(e[ue--]=e[K--],0!=--S){if(1===V){for(ge=1+(ue-=S),de=1+(K-=S),Q=S-1;0<=Q;Q--)e[ge+Q]=e[de+Q];return e[ue]=s[ce]}for(var Ce=o;;){var Pe=0,Fe=0,Ge=!1;do{if(t(s[ce],e[K])<0){if(e[ue--]=e[K--],Pe++,(Fe=0)==--S){Ge=!0;break}}else if(e[ue--]=s[ce--],Fe++,Pe=0,1==--V){Ge=!0;break}}while((Pe|Fe)<Ce);if(Ge)break;do{if(0!=(Pe=S-Ve(s[ce],e,m,S,S-1,t))){for(S-=Pe,ge=1+(ue-=Pe),de=1+(K-=Pe),Q=Pe-1;0<=Q;Q--)e[ge+Q]=e[de+Q];if(0===S){Ge=!0;break}}if(e[ue--]=s[ce--],1==--V){Ge=!0;break}if(0!=(Fe=V-_e(e[K],s,0,V,V-1,t))){for(V-=Fe,ge=1+(ue-=Fe),de=1+(ce-=Fe),Q=0;Q<Fe;Q++)e[ge+Q]=s[de+Q];if(V<=1){Ge=!0;break}}if(e[ue--]=e[K--],0==--S){Ge=!0;break}Ce--}while(oe<=Pe||oe<=Fe);if(Ge)break;Ce<0&&(Ce=0),Ce+=2}if((o=Ce)<1&&(o=1),1===V){for(ge=1+(ue-=S),de=1+(K-=S),Q=S-1;0<=Q;Q--)e[ge+Q]=e[de+Q];e[ue]=s[ce]}else{if(0===V)throw new Error;for(de=ue-(V-1),Q=0;Q<V;Q++)e[de+Q]=s[Q]}}else for(de=ue-(V-1),Q=0;Q<V;Q++)e[de+Q]=s[Q]}(c,d,h,f))}n=[],i=[],this.mergeRuns=function(){for(;1<a;){var u=a-2;if(1<=u&&i[u-1]<=i[u]+i[u+1]||2<=u&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},this.forceMergeRuns=function(){for(;1<a;){var u=a-2;0<u&&i[u-1]<i[u+1]&&u--,l(u)}},this.pushRun=function(u,c){n[a]=u,i[a]=c,a+=1}}function Re(e,t,n,i){var o=(i=i||e.length)-(n=n||0);if(!(o<2)){var a=0;if(o<Z)fe(e,n,i,n+(a=J(e,n,i,t)),t);else{var s=new Ee(e,t),l=function(c){for(var d=0;Z<=c;)d|=1&c,c>>=1;return c+d}(o);do{if((a=J(e,n,i,t))<l){var u=o;l<u&&(u=l),fe(e,n,n+u,n+a,t),a=u}s.pushRun(n,a),s.mergeRuns(),o-=a,n+=a}while(0!==o);s.forceMergeRuns()}}}function ze(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function Oe(){this._roots=[],this._displayList=[],this._displayListLen=0}Oe.prototype={constructor:Oe,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,xe.canvasSupported&&Re(n,ze)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),o=(a=o).clipPath}if(e.isGroup){for(var s=e._children,l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty=!0),this._updateAndAddDisplayable(u,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof y&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof y&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var i=e.length;t<i;t++)this.delRoot(e[t])}else{var o=De(this._roots,e);0<=o&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof y&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ze};var je={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Ye=function(e,t,n){return je.hasOwnProperty(t)?n*e.dpr:n},ye={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Ie=9,He=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Xe=function(e){this.extendFrom(e,!1)};function nt(e,t,n){var i=null==t.x?0:t.x,o=null==t.x2?1:t.x2,a=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,o=o*n.width+n.x,a=a*n.height+n.y,s=s*n.height+n.y),i=isNaN(i)?0:i,o=isNaN(o)?1:o,a=isNaN(a)?0:a,s=isNaN(s)?0:s,e.createLinearGradient(i,a,o,s)}function Mt(e,t,n){var i=n.width,o=n.height,a=Math.min(i,o),s=null==t.x?.5:t.x,l=null==t.y?.5:t.y,u=null==t.r?.5:t.r;return t.global||(s=s*i+n.x,l=l*o+n.y,u*=a),e.createRadialGradient(s,l,0,s,l,u)}Xe.prototype={constructor:Xe,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var i=this,o=n&&n.style,a=!o||e.__attrCachedBy!==ye.STYLE_BIND;e.__attrCachedBy=ye.STYLE_BIND;for(var s=0;s<He.length;s++){var l=He[s],u=l[0];!a&&i[u]===o[u]||(e[u]=Ye(e,u,i[u]||l[1]))}!a&&i.fill===o.fill||(e.fillStyle=i.fill),!a&&i.stroke===o.stroke||(e.strokeStyle=i.stroke),!a&&i.opacity===o.opacity||(e.globalAlpha=null==i.opacity?1:i.opacity),!a&&i.blend===o.blend||(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(e.lineWidth=i.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&0<this.lineWidth},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=("radial"===t.type?Mt:nt)(e,t,n),o=t.colorStops,a=0;a<o.length;a++)i.addColorStop(o[a].offset,o[a].color);return i}};for(var Wt=Xe.prototype,Kt=0;Kt<He.length;Kt++){var un=He[Kt];un[0]in Wt||(Wt[un[0]]=un[1])}function Qt(e,t){this.image=e,this.repeat=t,this.type="pattern"}function tt(){return!1}function Ae(e,t,n){var i=we(),o=t.getWidth(),a=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",e)),i.width=o*n,i.height=a*n,i}function Se(e,t,n){var i;n=n||w,"string"==typeof e?i=Ae(e,t,n):xt(e)&&(e=(i=e).id),this.id=e;var o=(this.dom=i).style;o&&(i.onselectstart=tt,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n}Xe.getGradient=Wt.getGradient,Se.prototype={constructor:Se,__dirty:!0,__used:!(Qt.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=Ae("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),i.width=e*n,i.height=t*n,a&&(a.width=e*n,a.height=t*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(e,t){var n,i=this.dom,o=this.ctx,a=i.width,s=i.height,l=(t=t||this.clearColor,this.motionBlur&&!e),u=this.lastFrameAlpha,c=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,a/c,s/c)),o.clearRect(0,0,a,s),t&&"transparent"!==t&&(t.colorStops?(n=t.__canvasGradient||Xe.getGradient(o,t,{x:0,y:0,width:a,height:s}),t.__canvasGradient=n):t.image&&(n=Qt.prototype.getCanvasPattern.call(t,o)),o.save(),o.fillStyle=n||t,o.fillRect(0,0,a,s),o.restore()),l){var d=this.domBack;o.save(),o.globalAlpha=u,o.drawImage(d,0,0,a,s),o.restore()}}};var Ue=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},at=new hs(50);function vt(e){if("string"!=typeof e)return e;var t=at.get(e);return t&&t.image}function _t(e,t,n,i,o){if(e){if("string"!=typeof e)return e;if(t&&t.__zrImageSrc===e||!n)return t;var a=at.get(e),s={hostEl:n,cb:i,cbPayload:o};return a?Lt(t=a.image)||a.pending.push(s):((t=new Image).onload=t.onerror=ct,at.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}return t}function ct(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Lt(e){return e&&e.width&&e.height}var It={},Dt=0,Ot=5e3,Tn=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,qn="12px sans-serif",ri={};function pi(e,t){var n=e+":"+(t=t||qn);if(It[n])return It[n];for(var i,o,a=(e+"").split("\n"),s=0,l=0,u=a.length;l<u;l++)s=Math.max((i=a[l],o=t,ri.measureText(i,o)).width,s);return Ot<Dt&&(Dt=0,It={}),Dt++,It[n]=s}function ai(e,t,n,i,o,a,s,l){return s?(h=i,Q=(x=wn(e,{rich:s,truncate:l,font:t,textAlign:d=n,textPadding:o,textLineHeight:a})).outerHeight,new v(oi(0,V=x.outerWidth,d),ki(0,Q,h),V,Q)):function(u,c,d,h,f,p,m){var S=Ln(u,c,f,p,m),x=pi(u,c);f&&(x+=f[1]+f[3]);var V=S.outerHeight,ce=new v(oi(0,x,d),ki(0,V,h),x,V);return ce.lineHeight=S.lineHeight,ce}(e,t,n,i,o,a,l);var d,h,x,V,Q}function oi(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function ki(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function wi(e,t,n){var o=t.textDistance,a=n.x,s=n.y;o=o||0;var l=n.height,u=n.width,c=l/2,d="left",h="top";switch(t.textPosition){case"left":a-=o,s+=c,d="right",h="middle";break;case"right":a+=o+u,s+=c,h="middle";break;case"top":a+=u/2,s-=o,d="center",h="bottom";break;case"bottom":a+=u/2,s+=l+o,d="center";break;case"inside":a+=u/2,s+=c,d="center",h="middle";break;case"insideLeft":a+=o,s+=c,h="middle";break;case"insideRight":a+=u-o,s+=c,d="right",h="middle";break;case"insideTop":a+=u/2,s+=o,d="center";break;case"insideBottom":a+=u/2,s+=l-o,d="center",h="bottom";break;case"insideTopLeft":a+=o,s+=o;break;case"insideTopRight":a+=u-o,s+=o,d="right";break;case"insideBottomLeft":a+=o,s+=l-o,h="bottom";break;case"insideBottomRight":a+=u-o,s+=l-o,d="right",h="bottom"}return(e=e||{}).x=a,e.y=s,e.textAlign=d,e.textVerticalAlign=h,e}function Ci(e,t,n,i,o){if(!t)return"";var a=(e+"").split("\n");o=Ut(t,n,i,o);for(var s=0,l=a.length;s<l;s++)a[s]=ln(a[s],o);return a.join("\n")}function Ut(e,t,n,i){(i=ne({},i)).font=t,n=Pt(n,"..."),i.maxIterations=Pt(i.maxIterations,2);var o=i.minChar=Pt(i.minChar,0);i.cnCharWidth=pi("\u56fd",t);var a=i.ascCharWidth=pi("a",t);i.placeholder=Pt(i.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<o&&a<=s;l++)s-=a;var u=pi(n,t);return s<u&&(n="",u=0),s=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function ln(e,t){var n=t.containerWidth,i=t.font,o=t.contentWidth;if(!n)return"";var a=pi(e,i);if(a<=n)return e;for(var s=0;;s++){if(a<=o||s>=t.maxIterations){e+=t.ellipsis;break}var l=0===s?mt(e,o,t.ascCharWidth,t.cnCharWidth):0<a?Math.floor(e.length*o/a):0;a=pi(e=e.substr(0,l),i)}return""===e&&(e=t.placeholder),e}function mt(e,t,n,i){for(var o=0,a=0,s=e.length;a<s&&o<t;a++){var l=e.charCodeAt(a);o+=0<=l&&l<=127?n:i}return a}function Nt(e){return pi("\u56fd",e)}function Ln(e,t,n,i,o){null!=e&&(e+="");var a=Pt(i,Nt(t)),s=e?e.split("\n"):[],l=s.length*a,u=l,c=!0;if(n&&(u+=n[0]+n[2]),e&&o){c=!1;var d=o.outerHeight,h=o.outerWidth;if(null!=d&&d<u)e="",s=[];else if(null!=h)for(var f=Ut(h-(n?n[1]+n[3]:0),t,o.ellipsis,{minChar:o.minChar,placeholder:o.placeholder}),p=0,m=s.length;p<m;p++)s[p]=ln(s[p],f)}return{lines:s,height:l,outerHeight:u,lineHeight:a,canCacheByTextString:c}}function wn(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var i,o=Tn.lastIndex=0;null!=(i=Tn.exec(e));){var a=i.index;o<a&&Fn(n,e.substring(o,a)),Fn(n,i[2],i[1]),o=Tn.lastIndex}o<e.length&&Fn(n,e.substring(o,e.length));var s=n.lines,l=0,u=0,c=[],d=t.textPadding,h=t.truncate,f=h&&h.outerWidth,p=h&&h.outerHeight;d&&(null!=f&&(f-=d[1]+d[3]),null!=p&&(p-=d[0]+d[2]));for(var m=0;m<s.length;m++){for(var S=s[m],x=0,V=0,Q=0;Q<S.tokens.length;Q++){var K=(et=S.tokens[Q]).styleName&&t.rich[et.styleName]||{},ce=et.textPadding=K.textPadding,ue=et.font=K.font||t.font,de=et.textHeight=Pt(K.textHeight,Nt(ue));if(ce&&(de+=ce[0]+ce[2]),et.height=de,et.lineHeight=yn(K.textLineHeight,t.textLineHeight,de),et.textAlign=K&&K.textAlign||t.textAlign,et.textVerticalAlign=K&&K.textVerticalAlign||"middle",null!=p&&l+et.lineHeight>p)return{lines:[],width:0,height:0};et.textWidth=pi(et.text,ue);var ge=K.textWidth,Ce=null==ge||"auto"===ge;if("string"==typeof ge&&"%"===ge.charAt(ge.length-1))et.percentWidth=ge,c.push(et),ge=0;else{if(Ce){ge=et.textWidth;var Pe=K.textBackgroundColor,Fe=Pe&&Pe.image;Fe&&Lt(Fe=vt(Fe))&&(ge=Math.max(ge,Fe.width*de/Fe.height))}var Ge=ce?ce[1]+ce[3]:0;ge+=Ge;var Qe=null!=f?f-V:null;null!=Qe&&Qe<ge&&(!Ce||Qe<Ge?(et.text="",et.textWidth=ge=0):(et.text=Ci(et.text,Qe-Ge,ue,h.ellipsis,{minChar:h.minChar}),et.textWidth=pi(et.text,ue),ge=et.textWidth+Ge))}V+=et.width=ge,K&&(x=Math.max(x,et.lineHeight))}S.width=V,l+=S.lineHeight=x,u=Math.max(u,V)}for(n.outerWidth=n.width=Pt(t.textWidth,u),n.outerHeight=n.height=Pt(t.textHeight,l),d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]),m=0;m<c.length;m++){var et,ot=(et=c[m]).percentWidth;et.width=parseInt(ot,10)/100*u}return n}function Fn(e,t,n){for(var i=""===t,o=t.split("\n"),a=e.lines,s=0;s<o.length;s++){var l=o[s],u={styleName:n,text:l,isLineHolder:!l&&!i};if(s)a.push({tokens:[u]});else{var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,d=c.length;1===d&&c[0].isLineHolder?c[0]=u:!l&&d&&!i||c.push(u)}}}function rt(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&Un(t)||e.textFont||e.font}function ft(e,t){var n,i,o,a,s,l=t.x,u=t.y,c=t.width,d=t.height,h=t.r;c<0&&(l+=c,c=-c),d<0&&(u+=d,d=-d),"number"==typeof h?n=i=o=a=h:h instanceof Array?1===h.length?n=i=o=a=h[0]:2===h.length?(n=o=h[0],i=a=h[1]):3===h.length?(n=h[0],i=a=h[1],o=h[2]):(n=h[0],i=h[1],o=h[2],a=h[3]):n=i=o=a=0,c<n+i&&(n*=c/(s=n+i),i*=c/s),c<o+a&&(o*=c/(s=o+a),a*=c/s),d<i+o&&(i*=d/(s=i+o),o*=d/s),d<n+a&&(n*=d/(s=n+a),a*=d/s),e.moveTo(l+n,u),e.lineTo(l+c-i,u),0!==i&&e.arc(l+c-i,u+i,i,-Math.PI/2,0),e.lineTo(l+c,u+d-o),0!==o&&e.arc(l+c-o,u+d-o,o,0,Math.PI/2),e.lineTo(l+a,u+d),0!==a&&e.arc(l+a,u+d-a,a,Math.PI/2,Math.PI),e.lineTo(l,u+n),0!==n&&e.arc(l+n,u+n,n,Math.PI,1.5*Math.PI)}ri.measureText=function(e,t){var n=ve();return n.font=t||qn,n.measureText(e)};var Te=qn,We={left:1,right:1,center:1},st={top:1,bottom:1,middle:1},yt=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Bt={},wt={};function Je(e){return Tt(e),ee(e.rich,Tt),e}function Tt(e){if(e){e.font=rt(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||We[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||st[n]?n:"top",e.textPadding&&(e.textPadding=Sn(e.textPadding))}}function kt(e,t,n,i,o,a){i.rich?function(s,l,u,c,d,h){h!==Ie&&(l.__attrCachedBy=ye.NONE);var f=s.__textCotentBlock;f&&!s.__dirtyText||(f=s.__textCotentBlock=wn(u,c)),function(p,m,S,x,V){var Q=S.width,K=S.outerWidth,ce=S.outerHeight,ue=x.textPadding,de=rn(wt,p,x,V),ge=de.baseX,Ce=de.baseY,Pe=de.textAlign,Fe=de.textVerticalAlign;an(m,x,V,ge,Ce);var Ge=oi(ge,K,Pe),Qe=ki(Ce,ce,Fe),et=Ge,ot=Qe;ue&&(et+=ue[3],ot+=ue[0]);var ht=et+Q;Rt(x)&&bt(p,m,x,Ge,Qe,K,ce);for(var pt=0;pt<S.lines.length;pt++){for(var ut,At=S.lines[pt],Zt=At.tokens,nn=Zt.length,jt=At.lineHeight,gn=At.width,Cn=0,Vn=et,sn=ht,Bn=nn-1;Cn<nn&&(!(ut=Zt[Cn]).textAlign||"left"===ut.textAlign);)lt(p,m,ut,x,jt,ot,Vn,"left"),gn-=ut.width,Vn+=ut.width,Cn++;for(;0<=Bn&&"right"===(ut=Zt[Bn]).textAlign;)lt(p,m,ut,x,jt,ot,sn,"right"),gn-=ut.width,sn-=ut.width,Bn--;for(Vn+=(Q-(Vn-et)-(ht-sn)-gn)/2;Cn<=Bn;)lt(p,m,ut=Zt[Cn],x,jt,ot,Vn+ut.width/2,"center"),Vn+=ut.width,Cn++;ot+=jt}}(s,l,f,c,d)}(e,t,n,i,o,a):function(s,l,u,c,d,h){var f,p=Rt(c),m=!1,S=l.__attrCachedBy===ye.PLAIN_TEXT;h!==Ie?(h&&(f=h.style,m=!p&&S&&f),l.__attrCachedBy=p?ye.NONE:ye.PLAIN_TEXT):S&&(l.__attrCachedBy=ye.NONE);var x=c.font||Te;m&&x===(f.font||Te)||(l.font=x);var V=s.__computedFont;s.__styleFont!==x&&(s.__styleFont=x,V=s.__computedFont=l.font);var Q=c.textPadding,ce=s.__textCotentBlock;ce&&!s.__dirtyText||(ce=s.__textCotentBlock=Ln(u,V,Q,c.textLineHeight,c.truncate));var ue=ce.outerHeight,de=ce.lines,ge=ce.lineHeight,Ce=rn(wt,s,c,d),Pe=Ce.baseX,Fe=Ce.baseY,Ge=Ce.textAlign||"left",Qe=Ce.textVerticalAlign;an(l,c,d,Pe,Fe);var et=ki(Fe,ue,Qe),ot=Pe,ht=et;if(p||Q){var pt=pi(u,V);Q&&(pt+=Q[1]+Q[3]);var ut=oi(Pe,pt,Ge);p&&bt(s,l,c,ut,et,pt,ue),Q&&(ot=Zn(Pe,Ge,Q),ht+=Q[0])}l.textAlign=Ge,l.textBaseline="middle",l.globalAlpha=c.opacity||1;for(var At=0;At<yt.length;At++){var Zt=yt[At],nn=Zt[0],jt=Zt[1],gn=c[nn];m&&gn===f[nn]||(l[jt]=Ye(l,jt,gn||Zt[2]))}ht+=ge/2;var Cn=c.textStrokeWidth,sn=!m||Cn!==(m?f.textStrokeWidth:null),Bn=!m||sn||c.textStroke!==f.textStroke,Hn=on(c.textStroke,Cn),Xn=hn(c.textFill);if(Hn&&(sn&&(l.lineWidth=Cn),Bn&&(l.strokeStyle=Hn)),Xn&&(m&&c.textFill===f.textFill||(l.fillStyle=Xn)),1===de.length)Hn&&l.strokeText(de[0],ot,ht),Xn&&l.fillText(de[0],ot,ht);else for(At=0;At<de.length;At++)Hn&&l.strokeText(de[At],ot,ht),Xn&&l.fillText(de[At],ot,ht),ht+=ge}(e,t,n,i,o,a)}function an(e,t,n,i,o){if(n&&t.textRotation){var a=t.textOrigin;"center"===a?(i=n.width/2+n.x,o=n.height/2+n.y):a&&(i=a[0]+n.x,o=a[1]+n.y),e.translate(i,o),e.rotate(-t.textRotation),e.translate(-i,-o)}}function lt(e,t,n,i,o,a,s,l){var u=i.rich[n.styleName]||{};u.text=n.text;var c=n.textVerticalAlign,d=a+o/2;"top"===c?d=a+n.height/2:"bottom"===c&&(d=a+o-n.height/2),!n.isLineHolder&&Rt(u)&&bt(e,t,u,"right"===l?s-n.width:"center"===l?s-n.width/2:s,d-n.height/2,n.width,n.height);var h=n.textPadding;h&&(s=Zn(s,l,h),d-=n.height/2-h[2]-n.textHeight/2),$t(t,"shadowBlur",yn(u.textShadowBlur,i.textShadowBlur,0)),$t(t,"shadowColor",u.textShadowColor||i.textShadowColor||"transparent"),$t(t,"shadowOffsetX",yn(u.textShadowOffsetX,i.textShadowOffsetX,0)),$t(t,"shadowOffsetY",yn(u.textShadowOffsetY,i.textShadowOffsetY,0)),$t(t,"textAlign",l),$t(t,"textBaseline","middle"),$t(t,"font",n.font||Te);var f=on(u.textStroke||i.textStroke,m),p=hn(u.textFill||i.textFill),m=Pt(u.textStrokeWidth,i.textStrokeWidth);f&&($t(t,"lineWidth",m),$t(t,"strokeStyle",f),t.strokeText(n.text,s,d)),p&&($t(t,"fillStyle",p),t.fillText(n.text,s,d))}function Rt(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function bt(e,t,n,i,o,a,s){var l=n.textBackgroundColor,u=n.textBorderWidth,c=n.textBorderColor,d=dt(l);if($t(t,"shadowBlur",n.textBoxShadowBlur||0),$t(t,"shadowColor",n.textBoxShadowColor||"transparent"),$t(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),$t(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),d||u&&c){t.beginPath();var h=n.textBorderRadius;h?ft(t,{x:i,y:o,width:a,height:s,r:h}):t.rect(i,o,a,s),t.closePath()}if(d)if($t(t,"fillStyle",l),null!=n.fillOpacity){var f=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=f}else t.fill();else if(xt(l)){var p=l.image;(p=_t(p,null,e,Xt,l))&&Lt(p)&&t.drawImage(p,i,o,a,s)}u&&c&&($t(t,"lineWidth",u),$t(t,"strokeStyle",c),null!=n.strokeOpacity?(f=t.globalAlpha,t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=f):t.stroke())}function Xt(e,t){t.image=e}function rn(e,t,n,i){var o=n.x||0,a=n.y||0,s=n.textAlign,l=n.textVerticalAlign;if(i){var u=n.textPosition;if(u instanceof Array)o=i.x+Pn(u[0],i.width),a=i.y+Pn(u[1],i.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(Bt,n,i):wi(Bt,n,i);o=c.x,a=c.y,s=s||c.textAlign,l=l||c.textVerticalAlign}var d=n.textOffset;d&&(o+=d[0],a+=d[1])}return(e=e||{}).baseX=o,e.baseY=a,e.textAlign=s,e.textVerticalAlign=l,e}function $t(e,t,n){return e[t]=Ye(e,t,n),e[t]}function on(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function hn(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Pn(e,t){return"string"==typeof e?0<=e.lastIndexOf("%")?parseFloat(e)/100*t:parseFloat(e):e}function Zn(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function On(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function ci(){}var Di=new v;function ni(e){for(var t in q.call(this,e=e||{}),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new Xe(e.style,this),this._rect=null,this.__clipPaths=null}function gi(e){ni.call(this,e)}ni.prototype={constructor:ni,type:"displayable",__dirty:!0,invisible:!(ci.prototype={constructor:ci,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&Je(n);var i=n.text;if(null!=i&&(i+=""),On(i,n)){e.save();var o=this.transform;n.transformText?this.setTransform(e):o&&(Di.copy(t),Di.applyTransform(o),t=Di),kt(this,e,i,n,t,Ie),e.restore()}}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?q.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new Xe(e,this),this.dirty(!1),this},calculateTextPosition:null},he(ni,q),be(ni,ci),gi.prototype={constructor:gi,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var o=this._image=_t(i,this._image,this,this.onload);if(o&&Lt(o)){var a=n.x||0,s=n.y||0,l=n.width,u=n.height,c=o.width/o.height;if(null==l&&null!=u?l=u*c:null==u&&null!=l?u=l/c:null==l&&null==u&&(l=o.width,u=o.height),this.setTransform(e),n.sWidth&&n.sHeight){var d=n.sx||0,h=n.sy||0;e.drawImage(o,d,h,n.sWidth,n.sHeight,a,s,l,u)}else if(n.sx&&n.sy){var f=l-(d=n.sx),p=u-(h=n.sy);e.drawImage(o,d,h,f,p,a,s,l,u)}else e.drawImage(o,a,s,l,u);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new v(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},he(gi,ni);var Ji=314159;function gr(e){return parseInt(e,10)}var Oi=new v(0,0,0,0),ji=new v(0,0,0,0);function Ur(e,t,n){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=ne({},n||{}),this.dpr=n.devicePixelRatio||w,this._singleCanvas=i;var o=(this.root=e).style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var h,f,p,a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var l=e.width,u=e.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,e.width=l*this.dpr,e.height=u*this.dpr,this._width=l,this._height=u;var c=new Se(e,this,this.dpr);c.__builtin__=!0,c.initContext(),(s[Ji]=c).zlevel=Ji,a.push(Ji),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=(h=this._width,f=this._height,(p=document.createElement("div")).style.cssText=["position:relative","width:"+h+"px","height:"+f+"px","padding:0","margin:0","border-width:0"].join(";")+";",p);e.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]}function ad(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,Bi.call(this)}Ur.prototype={constructor:Ur,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var a=this._layers[n[i]];!a.__builtin__&&a.refresh&&a.refresh(0===i?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return(n.__from=e).__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var n=this._hoverElements,i=De(n,e.__hoverMir);0<=i&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){Re(e,this.storage.displayableSortFunc);var i={};(n=n||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var o=0;o<t;){var a=e[o],s=a.__from;s&&s.__zr?(o++,s.invisible||(a.transform=s.transform,a.invTransform=s.invTransform,a.__clipPaths=s.__clipPaths,this._doPaintEl(a,n,!0,i))):(e.splice(o,1),s.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var o=this;Ue(function(){o._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(Ji).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++)(l=this._layers[this._zlevelList[i]]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||t)&&n.push(l);for(var a=!0,s=0;s<n.length;s++){var l,u=(l=n[s]).ctx,c={};u.save();var d=t?l.__startIndex:l.__drawIndex,h=!t&&l.incremental&&Date.now,f=h&&Date.now(),p=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,p);else if(d===l.__startIndex){var m=e[d];m.incremental&&m.notClear&&!t||l.clear(!1,p)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=l.__startIndex);for(var S=d;S<l.__endIndex;S++){var x=e[S];if(this._doPaintEl(x,l,t,c),x.__dirty=x.__dirtyText=!1,h&&15<Date.now()-f)break}l.__drawIndex=S,l.__drawIndex<l.__endIndex&&(a=!1),c.prevElClipPaths&&u.restore(),u.restore()}return xe.wxa&&ee(this._layers,function(V){V&&V.ctx&&V.ctx.draw&&V.ctx.draw()}),a},_doPaintEl:function(e,t,n,i){var u,c,d,o=t.ctx,a=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!a||a[0]||a[3])&&(!e.culling||(c=this._width,d=this._height,Oi.copy((u=e).getBoundingRect()),u.transform&&Oi.applyTransform(u.transform),ji.width=c,ji.height=d,Oi.intersect(ji)))){var s=e.__clipPaths,l=i.prevElClipPaths;l&&!function(u,c){if(u===c)return!1;if(!u||!c||u.length!==c.length)return!0;for(var d=0;d<u.length;d++)if(u[d]!==c[d])return!0;return!1}(s,l)||(l&&(o.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(o.save(),function(u,c){for(var d=0;d<u.length;d++){var h=u[d];h.setTransform(c),c.beginPath(),h.buildPath(c,h.shape),c.clip(),h.restoreTransform(c)}}(s,o),i.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(o),e.brush(o,i.prevEl||null),(i.prevEl=e).afterBrush&&e.afterBrush(o)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Ji);var n=this._layers[e];return n||((n=new Se("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?ae(n,this._layerConfig[e],!0):this._layerConfig[e-.01]&&ae(n,this._layerConfig[e-.01],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var c,n=this._layers,i=this._zlevelList,o=i.length,a=null,s=-1,l=this._domRoot;if(n[e]);else if((c=t)&&(c.__builtin__||"function"==typeof c.resize&&"function"==typeof c.refresh)){if(0<o&&e>i[0]){for(s=0;s<o-1&&!(i[s]<e&&i[s+1]>e);s++);a=n[i[s]]}if(i.splice(s+1,0,e),!(n[e]=t).virtual)if(a){var u=a.dom;u.nextSibling?l.insertBefore(t.dom,u.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}},eachLayer:function(e,t){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)e.call(t,this._layers[n=o[i]],n)},eachBuiltinLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,o,a=this._zlevelList;for(o=0;o<a.length;o++)(n=this._layers[i=a[o]]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(c){o&&(o.__endIndex!==c&&(o.__dirty=!0),o.__endIndex=c)}if(this.eachBuiltinLayer(function(c,d){c.__dirty=c.__used=!1}),this._singleCanvas)for(var n=1;n<e.length;n++)if((s=e[n]).zlevel!==e[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var i,o=null,a=0;for(n=0;n<e.length;n++){var s,l,u=(s=e[n]).zlevel;i!==u&&(i=u,a=0),s.incremental?((l=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(u+(0<a?.01:0),this._needsManuallyCompositing),l!==o&&(l.__used=!0,l.__startIndex!==n&&(l.__dirty=!0),l.__startIndex=n,l.__drawIndex=l.incremental?-1:n,t(n),o=l),s.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=n))}t(n),this.eachBuiltinLayer(function(c,d){!c.__used&&0<c.getElementCount()&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?ae(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(o===e||o===e+.01)&&ae(this._layers[o],n[e],!0)}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(De(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);ee(this._progressiveLayers,function(a){a.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(Ji).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[Ji].dom;var t=new Se("image",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,o=t.ctx;this.eachLayer(function(c){c.__builtin__?o.drawImage(c.dom,0,0,n,i):c.renderToCanvas&&(t.ctx.save(),c.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var a={},s=this.storage.getDisplayList(!0),l=0;l<s.length;l++)this._doPaintEl(s[l],t,!0,a);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||gr(l[n])||gr(s.style[n]))-(gr(l[o])||0)-(gr(l[a])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=e.getBoundingRect(),a=e.style,s=a.shadowBlur*t,l=a.shadowOffsetX*t,u=a.shadowOffsetY*t,c=a.hasStroke()?a.lineWidth:0,d=Math.max(c/2,s-l),h=Math.max(c/2,l+s),f=Math.max(c/2,s-u),p=Math.max(c/2,u+s),m=o.width+d+h,S=o.height+f+p;n.width=m*t,n.height=S*t,i.scale(t,t),i.clearRect(0,0,m,S),i.dpr=t;var x={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[d-o.x,f-o.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var V=new gi({style:{x:0,y:0,image:n}});return null!=x.position&&(V.position=e.position=x.position),null!=x.rotation&&(V.rotation=e.rotation=x.rotation),null!=x.scale&&(V.scale=e.scale=x.scale),V}},ad.prototype={constructor:ad,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=De(this._clips,e);0<=t&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,o=[],a=[],s=0;s<i;s++){var l=n[s],u=l.step(e,t);u&&(o.push(u),a.push(l))}for(s=0;s<i;)n[s]._needsRemove?(n[s]=n[i-1],n.pop(),i--):s++;for(i=o.length,s=0;s<i;s++)a[s].fire(o[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,Ue(function t(){e._running&&(Ue(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var n=new D(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},be(ad,Bi);var C0,S0,Bf=xe.domSupported,zf=(S0={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:C0=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:Me(C0,function(e){var t=e.replace("mouse","pointer");return S0.hasOwnProperty(t)?t:e})}),M0={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function T0(e){return"mousewheel"===e&&xe.browser.firefox?"DOMMouseScroll":e}function Ff(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Vf(e){e&&(e.zrByTouch=!0)}function A0(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}function I0(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Hf=I0.prototype;Hf.stopPropagation=Hf.stopImmediatePropagation=Hf.preventDefault=cn;var ko={mousedown:function(e){e=Ri(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Ri(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||Uf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Ri(this.dom,e),Uf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Ri(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout"),e.zrIsToLocalDOM=A0(this,e.toElement||e.relatedTarget),this.trigger("mouseout",e)},touchstart:function(e){Vf(e=Ri(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),ko.mousemove.call(this,e),ko.mousedown.call(this,e)},touchmove:function(e){Vf(e=Ri(this.dom,e)),this.handler.processGesture(e,"change"),ko.mousemove.call(this,e)},touchend:function(e){Vf(e=Ri(this.dom,e)),this.handler.processGesture(e,"end"),ko.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&ko.click.call(this,e)},pointerdown:function(e){ko.mousedown.call(this,e)},pointermove:function(e){Ff(e)||ko.mousemove.call(this,e)},pointerup:function(e){ko.mouseup.call(this,e)},pointerout:function(e){Ff(e)||ko.mouseout.call(this,e)}};ee(["click","mousewheel","dblclick","contextmenu"],function(e){ko[e]=function(t){t=Ri(this.dom,t),this.trigger(e,t)}});var Wf={pointermove:function(e){Ff(e)||Wf.mousemove.call(this,e)},pointerup:function(e){Wf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Uf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function sd(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,er(e.domTarget,T0(t),n,i)}function Gf(e){var t,n,i,a=e.mounted;for(var s in a)a.hasOwnProperty(s)&&(t=e.domTarget,n=T0(s),i=a[s],ei?t.removeEventListener(n,i,e.listenerOpts[s]):t.detachEvent("on"+n,i));e.mounted={}}function Uf(e,t){if(e._mayPointerCapture=null,Bf&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?function H2(e,t){function n(i){sd(t,i,function(o){o=Ai(o),A0(e,o.target)||(o=function(a,s){return Ri(a.dom,new I0(a,s),!0)}(e,o),t.domHandlers[i].call(e,o))},{capture:!0})}xe.pointerEventsSupported?ee(M0.pointer,n):xe.touchEventsSupported||ee(M0.mouse,n)}(e,n):Gf(n)}}function k0(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function jf(e,t){Bi.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new k0(e,ko),Bf&&(this._globalHandlerScope=new k0(document,Wf)),this._pointerCapturing=!1,this._mayPointerCapture=null,function V2(e,t){var n=t.domHandlers;xe.pointerEventsSupported?ee(zf.pointer,function(i){sd(t,i,function(o){n[i].call(e,o)})}):(xe.touchEventsSupported&&ee(zf.touch,function(i){sd(t,i,function(o){n[i].call(e,o),function(a){a.touching=!0,null!=a.touchTimer&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}(t)})}),ee(zf.mouse,function(i){sd(t,i,function(o){o=Ai(o),t.touching||n[i].call(e,o)})}))}(this,this._localHandlerScope)}var D0=jf.prototype;D0.dispose=function(){Gf(this._localHandlerScope),Bf&&Gf(this._globalHandlerScope)},D0.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},be(jf,Bi);var W2=!xe.canvasSupported,ld={canvas:Ur},ys={};function qf(e,t){var n=new Xf(In(),e,t);return ys[n.id]=n}function Yf(e,t){ld[e]=t}var Xf=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,o=new Oe,a=n.renderer;if(W2){if(!ld.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&ld[a]||(a="canvas");var s=new ld[a](t,o,n,e);this.storage=o,this.painter=s;var l=xe.node||xe.worker?null:new jf(s.getViewportRoot(),s.root);this.handler=new aa(o,s,l,s.root),this.animation=new ad({stage:{update:Ke(this.flush,this)}}),this.animation.start();var u=o.delFromStorage,c=o.addToStorage;o.delFromStorage=function(d){u.call(o,d),d&&d.removeSelfFromZr(i)},o.addToStorage=function(d){c.call(o,d),d.addSelfToZr(i)}};Xf.prototype={constructor:Xf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(e){delete ys[e]}(this.id)}};var G2=(Object.freeze||Object)({version:"4.3.2",init:qf,dispose:function(e){if(e)e.dispose();else{for(var t in ys)ys.hasOwnProperty(t)&&ys[t].dispose();ys={}}return this},getInstance:function(e){return ys[e]},registerPainter:Yf}),vl=ee,yl=xt,U2=it,N0="series\0";function br(e){return e instanceof Array?e:null==e?[]:[e]}function xs(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,o=n.length;i<o;i++){var a=n[i];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var P0=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Cu(e){return!yl(e)||U2(e)||e instanceof Date?e:e.value}function Zf(e,t){t=(t||[]).slice();var n=Me(e||[],function(i,o){return{exist:i}});return vl(t,function(i,o){if(yl(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&null!=i.id&&n[a].exist.id===i.id+"")return n[a].option=i,void(t[o]=null);for(a=0;a<n.length;a++){var s=n[a].exist;if(!(n[a].option||null!=s.id&&null!=i.id||null==i.name||ud(i)||ud(s)||s.name!==i.name+""))return n[a].option=i,void(t[o]=null)}}}),vl(t,function(i,o){if(yl(i)){for(var a=0;a<n.length;a++)if(!n[a].option&&!ud(n[a].exist)&&null==i.id){n[a].option=i;break}a>=n.length&&n.push({option:i})}}),n}function L0(e){var t=zt();vl(e,function(n,i){var o=n.exist;o&&t.set(o.id,n)}),vl(e,function(n,i){var o=n.option;Kn(!o||null==o.id||!t.get(o.id)||t.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&t.set(o.id,n),n.keyInfo||(n.keyInfo={})}),vl(e,function(n,i){var o=n.exist,a=n.option,s=n.keyInfo;if(yl(a)){if(s.name=null!=a.name?a.name+"":o?o.name:N0+i,o)s.id=o.id;else if(null!=a.id)s.id=a.id+"";else for(var l=0;s.id="\0"+s.name+"\0"+l++,t.get(s.id););t.set(s.id,n)}})}function $f(e){var t=e.name;return!(!t||!t.indexOf(N0))}function ud(e){return yl(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function cd(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?it(t.dataIndex)?Me(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?it(t.name)?Me(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name):void 0}function jr(){var e="__\0ec_inner_"+j2+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var j2=0;function dd(e,t,n){if(dt(t)){var i={};i[t+"Index"]=0,t=i}var o=n&&n.defaultMainType;!o||Kf(t,o+"Index")||Kf(t,o+"Id")||Kf(t,o+"Name")||(t[o+"Index"]=0);var a={};return vl(t,function(s,l){if(s=t[l],"dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||null==s||"index"===d&&"none"===s||n&&n.includeMainTypes&&De(n.includeMainTypes,c)<0)){var h={mainType:c};"index"===d&&"all"===s||(h[d]=s);var f=e.queryComponents(h);a[c+"Models"]=f,a[c+"Model"]=f[0]}}else a[l]=s}),a}function Kf(e,t){return e&&e.hasOwnProperty(t)}function R0(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function E0(e){return"auto"===e?xe.domSupported?"html":"richText":e||"html"}function Jf(e,t){var n=zt(),i=[];return ee(e,function(o){var a=t(o);(n.get(a)||(i.push(a),n.set(a,[]))).push(o)}),{keys:i,buckets:n}}var q2=".",bs="___EC__COMPONENT__CONTAINER___";function La(e){var t={main:"",sub:""};return e&&(e=e.split(q2),t.main=e[0]||"",t.sub=e[1]||""),t}function Su(e){(e.$constructor=e).extend=function(t){function n(){t.$constructor?t.$constructor.apply(this,arguments):i.apply(this,arguments)}var i=this;return ne(n.prototype,t),n.extend=this.extend,n.superCall=X2,n.superApply=Z2,he(n,this),n.superClass=i,n}}var Y2=0;function hd(e){var t=["__\0is_clz",Y2++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!(!n||!n[t])}}function X2(e,t){var n=Gt(arguments,2);return this.superClass.prototype[t].apply(e,n)}function Z2(e,t,n){return this.superClass.prototype[t].apply(e,n)}function fd(e,t){t=t||{};var n={};if(e.registerClass=function(o,a){return a&&(Kn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(s=a),'componentType "'+s+'" illegal'),(a=La(a)).sub?a.sub!==bs&&((function(s){var l=n[s.main];return l&&l[bs]||((l=n[s.main]={})[bs]=!0),l}(a))[a.sub]=o):n[a.main]=o),o;var s},e.getClass=function(o,a,s){var l=n[o];if(l&&l[bs]&&(l=a?l[a]:null),s&&!l)throw new Error(a?"Component "+o+"."+(a||"")+" not exists. Load it first.":o+".type should be specified.");return l},e.getClassesByMainType=function(o){o=La(o);var a=[],s=n[o.main];return s&&s[bs]?ee(s,function(l,u){u!==bs&&a.push(l)}):a.push(s),a},e.hasClass=function(o){return o=La(o),!!n[o.main]},e.getAllClassMainTypes=function(){var o=[];return ee(n,function(a,s){o.push(s)}),o},e.hasSubTypes=function(o){o=La(o);var a=n[o.main];return a&&a[bs]},e.parseClassType=La,t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(o){var a=i.call(this,o);return e.registerClass(a,o.type)})}return e}function xl(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,i,o){for(var a={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&0<=De(i,l)||o&&De(o,l)<0)){var u=n.getShallow(l);null!=u&&(a[e[s][0]]=u)}}return a}}var $2=xl([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),K2={getLineStyle:function(e){var t=$2(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[i,i]:[n,n])}},J2=xl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Q2={getAreaStyle:function(e,t){return J2(this,e,t)}},pd=Math.pow,Ra=Math.sqrt,gd=1e-8,O0=1e-4,B0=Ra(3),md=1/3,Vo=_n(),go=_n(),bl=_n();function Ea(e){return-gd<e&&e<gd}function z0(e){return gd<e||e<-gd}function zr(e,t,n,i,o){var a=1-o;return a*a*(a*e+3*o*t)+o*o*(o*i+3*a*n)}function F0(e,t,n,i,o){var a=1-o;return 3*(((t-e)*a+2*(n-t)*o)*a+(i-n)*o*o)}function V0(e,t,n,i,o){var a=6*n-12*t+6*e,s=9*t+3*i-3*e-9*n,l=3*t-3*e,u=0;if(Ea(s))z0(a)&&0<=(d=-l/a)&&d<=1&&(o[u++]=d);else{var c=a*a-4*s*l;if(Ea(c))o[0]=-a/(2*s);else if(0<c){var d,h=Ra(c),f=(-a-h)/(2*s);0<=(d=(-a+h)/(2*s))&&d<=1&&(o[u++]=d),0<=f&&f<=1&&(o[u++]=f)}}return u}function H0(e,t,n,i,o,a){var s=(t-e)*o+e,l=(n-t)*o+t,u=(i-n)*o+n,c=(l-s)*o+s,d=(u-l)*o+l,h=(d-c)*o+c;a[0]=e,a[1]=s,a[2]=c,a[3]=h,a[4]=h,a[5]=d,a[6]=u,a[7]=i}function Ir(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function Qf(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function W0(e,t,n){var i=e+n-2*t;return 0==i?.5:(e-t)/i}function ep(e,t,n,i,o){var a=(t-e)*i+e,s=(n-t)*i+t,l=(s-a)*i+a;o[0]=e,o[1]=a,o[2]=l,o[3]=l,o[4]=s,o[5]=n}var qr=Math.min,Yr=Math.max,tp=Math.sin,np=Math.cos,_s=2*Math.PI,vd=_n(),yd=_n(),xd=_n();function Mu(e,t,n){if(0!==e.length){var i,o=e[0],a=o[0],s=o[0],l=o[1],u=o[1];for(i=1;i<e.length;i++)a=qr(a,(o=e[i])[0]),s=Yr(s,o[0]),l=qr(l,o[1]),u=Yr(u,o[1]);t[0]=a,t[1]=l,n[0]=s,n[1]=u}}function G0(e,t,n,i,o,a){o[0]=qr(e,n),o[1]=qr(t,i),a[0]=Yr(e,n),a[1]=Yr(t,i)}var U0=[],j0=[];function eM(e,t,n,i,o,a,s,l,u,c){var d,h=V0,f=zr,p=h(e,n,o,s,U0);for(u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0,d=0;d<p;d++){var m=f(e,n,o,s,U0[d]);u[0]=qr(m,u[0]),c[0]=Yr(m,c[0])}for(p=h(t,i,a,l,j0),d=0;d<p;d++){var S=f(t,i,a,l,j0[d]);u[1]=qr(S,u[1]),c[1]=Yr(S,c[1])}u[0]=qr(e,u[0]),c[0]=Yr(e,c[0]),u[0]=qr(s,u[0]),c[0]=Yr(s,c[0]),u[1]=qr(t,u[1]),c[1]=Yr(t,c[1]),u[1]=qr(l,u[1]),c[1]=Yr(l,c[1])}function tM(e,t,n,i,o,a,s,l,u){var c=pr,d=Ki,h=Math.abs(o-a);if(h%_s<1e-4&&1e-4<h)return l[0]=e-n,l[1]=t-i,u[0]=e+n,void(u[1]=t+i);if(vd[0]=np(o)*n+e,vd[1]=tp(o)*i+t,yd[0]=np(a)*n+e,yd[1]=tp(a)*i+t,c(l,vd,yd),d(u,vd,yd),(o%=_s)<0&&(o+=_s),(a%=_s)<0&&(a+=_s),a<o&&!s?a+=_s:o<a&&s&&(o+=_s),s){var f=a;a=o,o=f}for(var p=0;p<a;p+=Math.PI/2)o<p&&(xd[0]=np(p)*n+e,xd[1]=tp(p)*i+t,c(l,xd,l),d(u,xd,u))}var tr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ho=[],Oa=[],Wo=[],Go=[],q0=Math.min,Y0=Math.max,Tu=Math.cos,Au=Math.sin,bd=Math.sqrt,_l=Math.abs,ip=typeof Float32Array<"u",Xr=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};function Ba(e,t,n,i,o,a,s){if(0===o)return!1;var u,l=o;if(t+l<s&&i+l<s||s<t-l&&s<i-l||e+l<a&&n+l<a||a<e-l&&a<n-l)return!1;if(e===n)return Math.abs(a-e)<=l/2;var c=(u=(t-i)/(e-n))*a-s+(e*i-n*t)/(e-n);return c*c/(u*u+1)<=l/2*l/2}function nM(e,t,n,i,o,a,s,l,u,c,d){if(0===u)return!1;var h=u;return!(t+h<d&&i+h<d&&a+h<d&&l+h<d||d<t-h&&d<i-h&&d<a-h&&d<l-h||e+h<c&&n+h<c&&o+h<c&&s+h<c||c<e-h&&c<n-h&&c<o-h&&c<s-h)&&function(f,p,m,S,x,V,Q,K,ce,ue,de){var ge,Ce,Pe,Fe,Ge,Qe=.005,et=1/0;Vo[0]=ce,Vo[1]=ue;for(var ot=0;ot<1;ot+=.05)go[0]=zr(f,m,x,Q,ot),go[1]=zr(p,S,V,K,ot),(Fe=Fi(Vo,go))<et&&(ge=ot,et=Fe);et=1/0;for(var ht=0;ht<32&&!(Qe<O0);ht++)Pe=ge+Qe,go[0]=zr(f,m,x,Q,Ce=ge-Qe),go[1]=zr(p,S,V,K,Ce),Fe=Fi(go,Vo),0<=Ce&&Fe<et?(ge=Ce,et=Fe):(bl[0]=zr(f,m,x,Q,Pe),bl[1]=zr(p,S,V,K,Pe),Ge=Fi(bl,Vo),Pe<=1&&Ge<et?(ge=Pe,et=Ge):Qe*=.5);return Ra(et)}(e,t,n,i,o,a,s,l,c,d)<=h/2}function X0(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;return!(t+c<u&&i+c<u&&a+c<u||u<t-c&&u<i-c&&u<a-c||e+c<l&&n+c<l&&o+c<l||l<e-c&&l<n-c&&l<o-c)&&function(d,h,f,p,m,S,x,V,Q){var K,ce=.005,ue=1/0;Vo[0]=x,Vo[1]=V;for(var de=0;de<1;de+=.05)go[0]=Ir(d,f,m,de),go[1]=Ir(h,p,S,de),(Fe=Fi(Vo,go))<ue&&(K=de,ue=Fe);ue=1/0;for(var ge=0;ge<32&&!(ce<O0);ge++){var Ce=K-ce,Pe=K+ce;go[0]=Ir(d,f,m,Ce),go[1]=Ir(h,p,S,Ce);var Fe=Fi(go,Vo);if(0<=Ce&&Fe<ue)K=Ce,ue=Fe;else{bl[0]=Ir(d,f,m,Pe),bl[1]=Ir(h,p,S,Pe);var Ge=Fi(bl,Vo);Pe<=1&&Ge<ue?(K=Pe,ue=Ge):ce*=.5}}return Ra(ue)}(e,t,n,i,o,a,l,u)<=c/2}Xr.prototype={constructor:Xr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){this._ux=_l((n=n||0)/w/e)||0,this._uy=_l(n/w/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return(this._ctx=e)&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(tr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=_l(e-this._xi)>this._ux||_l(t-this._yi)>this._uy||this._len<5;return this.addData(tr.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,o,a){return this.addData(tr.C,e,t,n,i,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,o,a):this._ctx.bezierCurveTo(e,t,n,i,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(e,t,n,i){return this.addData(tr.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,o,a){return this.addData(tr.A,e,t,n,n,i,o-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,i,o,a),this._xi=Tu(o)*n+e,this._yi=Au(o)*n+t,this},arcTo:function(e,t,n,i,o){return this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(tr.R,e,t,n,i),this},closePath:function(){this.addData(tr.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;for(var t=this._dashIdx=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!ip||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,o=0;o<t;o++)n+=e[o].len();for(ip&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),o=0;o<t;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,o=this._dashSum,a=this._dashOffset,s=this._lineDash,l=this._ctx,u=this._xi,c=this._yi,d=e-u,h=t-c,f=bd(d*d+h*h),p=u,m=c,S=s.length;for(a<0&&(a=o+a),p-=(a%=o)*(d/=f),m-=a*(h/=f);0<d&&p<=e||d<0&&e<=p||0===d&&(0<h&&m<=t||h<0&&t<=m);)p+=d*(n=s[i=this._dashIdx]),m+=h*n,this._dashIdx=(i+1)%S,0<d&&p<u||d<0&&u<p||0<h&&m<c||h<0&&c<m||l[i%2?"moveTo":"lineTo"](0<=d?q0(p,e):Y0(p,e),0<=h?q0(m,t):Y0(m,t));this._dashOffset=-bd((d=p-e)*d+(h=m-t)*h)},_dashedBezierTo:function(e,t,n,i,o,a){var s,l,u,c,d,h=this._dashSum,f=this._dashOffset,p=this._lineDash,m=this._ctx,S=this._xi,x=this._yi,V=zr,Q=0,K=this._dashIdx,ce=p.length,ue=0;for(f<0&&(f=h+f),f%=h,s=0;s<1;s+=.1)l=V(S,e,n,o,s+.1)-V(S,e,n,o,s),u=V(x,t,i,a,s+.1)-V(x,t,i,a,s),Q+=bd(l*l+u*u);for(;K<ce&&!(f<(ue+=p[K]));K++);for(s=(ue-f)/Q;s<=1;)c=V(S,e,n,o,s),d=V(x,t,i,a,s),K%2?m.moveTo(c,d):m.lineTo(c,d),s+=p[K]/Q,K=(K+1)%ce;K%2!=0&&m.lineTo(o,a),this._dashOffset=-bd((l=o-c)*l+(u=a-d)*u)},_dashedQuadraticTo:function(e,t,n,i){var o=n,a=i;n=(n+2*e)/3,i=(i+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,n,i,o,a)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,ip&&(this.data=new Float32Array(e)))},getBoundingRect:function(){Ho[0]=Ho[1]=Wo[0]=Wo[1]=Number.MAX_VALUE,Oa[0]=Oa[1]=Go[0]=Go[1]=-Number.MAX_VALUE;for(var e,t,n,i,o,a,s,l,u,c,d,h,f,p,m=this.data,S=0,x=0,V=0,Q=0,K=0;K<m.length;){var ce=m[K++];switch(1===K&&(V=S=m[K],Q=x=m[K+1]),ce){case tr.M:S=V=m[K++],x=Q=m[K++],Wo[0]=V,Wo[1]=Q,Go[0]=V,Go[1]=Q;break;case tr.L:G0(S,x,m[K],m[K+1],Wo,Go),S=m[K++],x=m[K++];break;case tr.C:eM(S,x,m[K++],m[K++],m[K++],m[K++],m[K],m[K+1],Wo,Go),S=m[K++],x=m[K++];break;case tr.Q:t=x,n=m[K++],i=m[K++],a=m[K+1],s=Wo,l=Go,c=u=void 0,c=Ir,d=Yr(qr((u=W0)(e=S,n,o=m[K]),1),0),h=Yr(qr(u(t,i,a),1),0),f=c(e,n,o,d),p=c(t,i,a,h),s[0]=qr(e,o,f),s[1]=qr(t,a,p),l[0]=Yr(e,o,f),l[1]=Yr(t,a,p),S=m[K++],x=m[K++];break;case tr.A:var ue=m[K++],de=m[K++],ge=m[K++],Ce=m[K++],Pe=m[K++],Fe=m[K++]+Pe;K+=1;var Ge=1-m[K++];1===K&&(V=Tu(Pe)*ge+ue,Q=Au(Pe)*Ce+de),tM(ue,de,ge,Ce,Pe,Fe,Ge,Wo,Go),S=Tu(Fe)*ge+ue,x=Au(Fe)*Ce+de;break;case tr.R:G0(V=S=m[K++],Q=x=m[K++],V+m[K++],Q+m[K++],Wo,Go);break;case tr.Z:S=V,x=Q}pr(Ho,Ho,Wo),Ki(Oa,Oa,Go)}return 0===K&&(Ho[0]=Ho[1]=Oa[0]=Oa[1]=0),new v(Ho[0],Ho[1],Oa[0]-Ho[0],Oa[1]-Ho[1])},rebuildPath:function(e){for(var t,n,i,o,a,s,l=this.data,u=this._ux,c=this._uy,d=this._len,h=0;h<d;){var f=l[h++];switch(1===h&&(t=i=l[h],n=o=l[h+1]),f){case tr.M:t=i=l[h++],n=o=l[h++],e.moveTo(i,o);break;case tr.L:a=l[h++],s=l[h++],(_l(a-i)>u||_l(s-o)>c||h===d-1)&&(e.lineTo(a,s),i=a,o=s);break;case tr.C:e.bezierCurveTo(l[h++],l[h++],l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case tr.Q:e.quadraticCurveTo(l[h++],l[h++],l[h++],l[h++]),i=l[h-2],o=l[h-1];break;case tr.A:var p=l[h++],m=l[h++],S=l[h++],x=l[h++],V=l[h++],Q=l[h++],K=l[h++],ce=l[h++],ue=x<S?S:x,de=x<S?1:S/x,ge=x<S?x/S:1,Ce=V+Q;.001<Math.abs(S-x)?(e.translate(p,m),e.rotate(K),e.scale(de,ge),e.arc(0,0,ue,V,Ce,1-ce),e.scale(1/de,1/ge),e.rotate(-K),e.translate(-p,-m)):e.arc(p,m,ue,V,Ce,1-ce),1===h&&(t=Tu(V)*S+p,n=Au(V)*x+m),i=Tu(Ce)*S+p,o=Au(Ce)*x+m;break;case tr.R:t=i=l[h],n=o=l[h+1],e.rect(l[h++],l[h++],l[h++],l[h++]);break;case tr.Z:e.closePath(),i=t,o=n}}}},Xr.CMD=tr;var Z0=2*Math.PI;function za(e){return(e%=Z0)<0&&(e+=Z0),e}var Iu=2*Math.PI;function iM(e,t,n,i,o,a,s,l,u){if(0===s)return!1;var c=s;l-=e,u-=t;var d=Math.sqrt(l*l+u*u);if(n<d-c||d+c<n)return!1;if(Math.abs(i-o)%Iu<1e-4)return!0;if(a){var h=i;i=za(o),o=za(h)}else i=za(i),o=za(o);o<i&&(o+=Iu);var f=Math.atan2(u,l);return f<0&&(f+=Iu),i<=f&&f<=o||i<=f+Iu&&f+Iu<=o}function ga(e,t,n,i,o,a){if(t<a&&i<a||a<t&&a<i||i===t)return 0;var s=i<t?1:-1,l=(a-t)/(i-t);1!=l&&0!=l||(s=i<t?.5:-.5);var u=l*(n-e)+e;return u===o?1/0:o<u?s:0}var Fa=Xr.CMD,wl=2*Math.PI,rM=1e-4,Fr=[-1,-1,-1],mo=[-1,-1];function oM(e,t,n,i,o,a,s,l,u,c){if(t<c&&i<c&&a<c&&l<c||c<t&&c<i&&c<a&&c<l)return 0;var d,h=function(K,ce,ue,de,ge,Ce){var Pe=de+3*(ce-ue)-K,Fe=3*(ue-2*ce+K),Ge=3*(ce-K),Qe=K-ge,et=Fe*Fe-3*Pe*Ge,ot=Fe*Ge-9*Pe*Qe,ht=Ge*Ge-3*Fe*Qe,pt=0;if(Ea(et)&&Ea(ot))Ea(Fe)?Ce[0]=0:0<=(Hn=-Ge/Fe)&&Hn<=1&&(Ce[pt++]=Hn);else{var ut=ot*ot-4*et*ht;if(Ea(ut)){var At=ot/et,Zt=-At/2;0<=(Hn=-Fe/Pe+At)&&Hn<=1&&(Ce[pt++]=Hn),0<=Zt&&Zt<=1&&(Ce[pt++]=Zt)}else if(0<ut){var nn=Ra(ut),jt=et*Fe+1.5*Pe*(-ot+nn),gn=et*Fe+1.5*Pe*(-ot-nn);0<=(Hn=(-Fe-((jt=jt<0?-pd(-jt,md):pd(jt,md))+(gn=gn<0?-pd(-gn,md):pd(gn,md))))/(3*Pe))&&Hn<=1&&(Ce[pt++]=Hn)}else{var Cn=(2*et*Fe-3*Pe*ot)/(2*Ra(et*et*et)),Vn=Math.acos(Cn)/3,sn=Ra(et),Bn=Math.cos(Vn),Hn=(-Fe-2*sn*Bn)/(3*Pe),Xn=(Zt=(-Fe+sn*(Bn+B0*Math.sin(Vn)))/(3*Pe),(-Fe+sn*(Bn-B0*Math.sin(Vn)))/(3*Pe));0<=Hn&&Hn<=1&&(Ce[pt++]=Hn),0<=Zt&&Zt<=1&&(Ce[pt++]=Zt),0<=Xn&&Xn<=1&&(Ce[pt++]=Xn)}}return pt}(t,i,a,l,c,Fr);if(0===h)return 0;for(var f,p,m=0,S=-1,x=0;x<h;x++){var V=Fr[x],Q=0===V||1===V?.5:1;zr(e,n,o,s,V)<u||(S<0&&(S=V0(t,i,a,l,mo),mo[1]<mo[0]&&1<S&&(d=mo[0],mo[0]=mo[1],mo[1]=d),f=zr(t,i,a,l,mo[0]),1<S&&(p=zr(t,i,a,l,mo[1]))),m+=2===S?V<mo[0]?f<t?Q:-Q:V<mo[1]?p<f?Q:-Q:l<p?Q:-Q:V<mo[0]?f<t?Q:-Q:l<f?Q:-Q)}return m}function aM(e,t,n,i,o,a,s,l){if(t<l&&i<l&&a<l||l<t&&l<i&&l<a)return 0;var u=function(m,S,x,V,Q){var K=m-2*S+x,ce=2*(S-m),ue=m-V,de=0;if(Ea(K))z0(ce)&&0<=(Ce=-ue/ce)&&Ce<=1&&(Q[de++]=Ce);else{var ge=ce*ce-4*K*ue;if(Ea(ge))0<=(Ce=-ce/(2*K))&&Ce<=1&&(Q[de++]=Ce);else if(0<ge){var Ce,Pe=Ra(ge),Fe=(-ce-Pe)/(2*K);0<=(Ce=(-ce+Pe)/(2*K))&&Ce<=1&&(Q[de++]=Ce),0<=Fe&&Fe<=1&&(Q[de++]=Fe)}}return de}(t,i,a,l,Fr);if(0===u)return 0;var c=W0(t,i,a);if(0<=c&&c<=1){for(var d=0,h=Ir(t,i,a,c),f=0;f<u;f++){var p=0===Fr[f]||1===Fr[f]?.5:1;Ir(e,n,o,Fr[f])<s||(d+=Fr[f]<c?h<t?p:-p:a<h?p:-p)}return d}return p=0===Fr[0]||1===Fr[0]?.5:1,Ir(e,n,o,Fr[0])<s?0:a<t?p:-p}function sM(e,t,n,i,o,a,s,l){if(n<(l-=t)||l<-n)return 0;var u=Math.sqrt(n*n-l*l);Fr[0]=-u,Fr[1]=u;var c=Math.abs(i-o);if(c<1e-4)return 0;if(c%wl<1e-4){o=wl;var d=a?1:-1;return s>=Fr[i=0]+e&&s<=Fr[1]+e?d:0}a?(u=i,i=za(o),o=za(u)):(i=za(i),o=za(o)),o<i&&(o+=wl);for(var h=0,f=0;f<2;f++){var p=Fr[f];if(s<p+e){var m=Math.atan2(l,p);d=a?1:-1,m<0&&(m=wl+m),(i<=m&&m<=o||i<=m+wl&&m+wl<=o)&&(m>Math.PI/2&&m<1.5*Math.PI&&(d=-d),h+=d)}}return h}function $0(e,t,n,i,o){for(var a=0,s=0,l=0,u=0,c=0,d=0;d<e.length;){var h=e[d++];switch(h===Fa.M&&1<d&&(n||(a+=ga(s,l,u,c,i,o))),1===d&&(u=s=e[d],c=l=e[d+1]),h){case Fa.M:s=u=e[d++],l=c=e[d++];break;case Fa.L:if(n){if(Ba(s,l,e[d],e[d+1],t,i,o))return!0}else a+=ga(s,l,e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case Fa.C:if(n){if(nM(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=oM(s,l,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case Fa.Q:if(n){if(X0(s,l,e[d++],e[d++],e[d],e[d+1],t,i,o))return!0}else a+=aM(s,l,e[d++],e[d++],e[d],e[d+1],i,o)||0;s=e[d++],l=e[d++];break;case Fa.A:var f=e[d++],p=e[d++],m=e[d++],S=e[d++],x=e[d++],V=e[d++];d+=1;var Q=1-e[d++],K=Math.cos(x)*m+f,ce=Math.sin(x)*S+p;1<d?a+=ga(s,l,K,ce,i,o):(u=K,c=ce);var ue=(i-f)*S/m+f;if(n){if(iM(f,p,S,x,x+V,Q,t,ue,o))return!0}else a+=sM(f,p,S,x,x+V,Q,ue,o);s=Math.cos(x+V)*m+f,l=Math.sin(x+V)*S+p;break;case Fa.R:if(u=s=e[d++],c=l=e[d++],K=u+e[d++],ce=c+e[d++],n){if(Ba(u,c,K,c,t,i,o)||Ba(K,c,K,ce,t,i,o)||Ba(K,ce,u,ce,t,i,o)||Ba(u,ce,u,c,t,i,o))return!0}else a+=ga(K,c,K,ce,i,o),a+=ga(u,ce,u,c,i,o);break;case Fa.Z:if(n){if(Ba(s,l,u,c,t,i,o))return!0}else a+=ga(s,l,u,c,i,o);s=u,l=c}}return n||Math.abs(l-c)<rM||(a+=ga(s,l,u,c,i,o)||0),0!==a}var K0=Qt.prototype.getCanvasPattern,rp=Math.abs,lM=new Xr(!0);function mi(e){ni.call(this,e),this.path=null}function J0(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}mi.prototype={constructor:mi,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n,i=this.style,o=this.path||lM,a=i.hasStroke(),s=i.hasFill(),l=i.fill,u=i.stroke,c=s&&!!l.colorStops,d=a&&!!u.colorStops,h=s&&!!l.image,f=a&&!!u.image;i.bind(e,this,t),this.setTransform(e),this.__dirty&&(c&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(e,l,n)),d&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(e,u,n))),c?e.fillStyle=this._fillGradient:h&&(e.fillStyle=K0.call(l,e)),d?e.strokeStyle=this._strokeGradient:f&&(e.strokeStyle=K0.call(u,e));var p=i.lineDash,m=i.lineDashOffset,S=!!e.setLineDash,x=this.getGlobalScale();if(o.setScale(x[0],x[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!S&&a?(o.beginPath(e),p&&!S&&(o.setLineDash(p),o.setLineDashOffset(m)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s)if(null!=i.fillOpacity){var V=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,o.fill(e),e.globalAlpha=V}else o.fill(e);p&&S&&(e.setLineDash(p),e.lineDashOffset=m),a&&(null!=i.strokeOpacity?(V=e.globalAlpha,e.globalAlpha=i.strokeOpacity*i.opacity,o.stroke(e),e.globalAlpha=V):o.stroke(e)),p&&S&&e.setLineDash([]),null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new Xr},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i=i||(this.path=new Xr),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<s&&(o.width+=a/s,o.height+=a/s,o.x-=a/s/2,o.y-=a/s/2)}return o}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),o=this.style;if(i.contain(e=n[0],t=n[1])){var a=this.path.data;if(o.hasStroke()){var s=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(1e-10<l&&(o.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),$0(a,s/l,!0,e,t)))return!0}if(o.hasFill())return $0(a,0,!1,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):ni.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(xt(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&1e-10<rp(e[0]-1)&&1e-10<rp(e[3]-1)?Math.sqrt(rp(e[0]*e[3]-e[2]*e[1])):1}},mi.extend=function(e){function t(i){mi.call(this,i),e.style&&this.style.extendFrom(e.style,!1);var o=e.shape;if(o){this.shape=this.shape||{};var a=this.shape;for(var s in o)!a.hasOwnProperty(s)&&o.hasOwnProperty(s)&&(a[s]=o[s])}e.init&&e.init.call(this,i)}for(var n in he(t,mi),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},he(mi,ni);var Cl=Xr.CMD,uM=[[],[],[]],Q0=Math.sqrt,cM=Math.atan2,dM=function(e,t){var n,i,o,a,s,l=e.data,u=Cl.M,c=Cl.C,d=Cl.L,h=Cl.R,f=Cl.A,p=Cl.Q;for(a=o=0;o<l.length;){switch(n=l[o++],a=o,i=0,n){case u:case d:i=1;break;case c:i=3;break;case p:i=2;break;case f:var m=t[4],S=t[5],x=Q0(t[0]*t[0]+t[1]*t[1]),V=Q0(t[2]*t[2]+t[3]*t[3]),Q=cM(-t[1]/V,t[0]/x);l[o]*=x,l[o++]+=m,l[o]*=V,l[o++]+=S,l[o++]*=x,l[o++]*=V,l[o++]+=Q,l[o++]+=Q,a=o+=2;break;case h:K[0]=l[o++],K[1]=l[o++],li(K,K,t),l[a++]=K[0],l[a++]=K[1],K[0]+=l[o++],K[1]+=l[o++],li(K,K,t),l[a++]=K[0],l[a++]=K[1]}for(s=0;s<i;s++){var K;(K=uM[s])[0]=l[o++],K[1]=l[o++],li(K,K,t),l[a++]=K[0],l[a++]=K[1]}}},op=Math.sqrt,_d=Math.sin,wd=Math.cos,Cd=Math.PI,ap=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(J0(e)*J0(t))},ey=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(ap(e,t))};function ty(e,t,n,i,o,a,s,l,u,c,d){var h=u*(Cd/180),f=wd(h)*(e-n)/2+_d(h)*(t-i)/2,p=-1*_d(h)*(e-n)/2+wd(h)*(t-i)/2,m=f*f/(s*s)+p*p/(l*l);1<m&&(s*=op(m),l*=op(m));var S=(o===a?-1:1)*op((s*s*(l*l)-s*s*(p*p)-l*l*(f*f))/(s*s*(p*p)+l*l*(f*f)))||0,x=S*s*p/l,V=S*-l*f/s,Q=(e+n)/2+wd(h)*x-_d(h)*V,K=(t+i)/2+_d(h)*x+wd(h)*V,ce=ey([1,0],[(f-x)/s,(p-V)/l]),ue=[(f-x)/s,(p-V)/l],de=[(-1*f-x)/s,(-1*p-V)/l],ge=ey(ue,de);ap(ue,de)<=-1&&(ge=Cd),1<=ap(ue,de)&&(ge=0),0===a&&0<ge&&(ge-=2*Cd),1===a&&ge<0&&(ge+=2*Cd),d.addData(c,Q,K,s,l,ce,ge,h,a)}var hM=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,fM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ny(e,t){var n=function(i){if(!i)return new Xr;for(var o,a=0,s=0,l=a,u=s,c=new Xr,d=Xr.CMD,h=i.match(hM),f=0;f<h.length;f++){for(var p,m=h[f],S=m.charAt(0),x=m.match(fM)||[],V=x.length,Q=0;Q<V;Q++)x[Q]=parseFloat(x[Q]);for(var K=0;K<V;){var ce,ue,de,ge,Ce,Pe,Fe,Ge=a,Qe=s;switch(S){case"l":a+=x[K++],s+=x[K++],c.addData(p=d.L,a,s);break;case"L":a=x[K++],s=x[K++],c.addData(p=d.L,a,s);break;case"m":a+=x[K++],s+=x[K++],c.addData(p=d.M,a,s),l=a,u=s,S="l";break;case"M":a=x[K++],s=x[K++],c.addData(p=d.M,a,s),l=a,u=s,S="L";break;case"h":a+=x[K++],c.addData(p=d.L,a,s);break;case"H":a=x[K++],c.addData(p=d.L,a,s);break;case"v":s+=x[K++],c.addData(p=d.L,a,s);break;case"V":s=x[K++],c.addData(p=d.L,a,s);break;case"C":c.addData(p=d.C,x[K++],x[K++],x[K++],x[K++],x[K++],x[K++]),a=x[K-2],s=x[K-1];break;case"c":c.addData(p=d.C,x[K++]+a,x[K++]+s,x[K++]+a,x[K++]+s,x[K++]+a,x[K++]+s),a+=x[K-2],s+=x[K-1];break;case"S":ce=a,ue=s;var et=c.len(),ot=c.data;o===d.C&&(ce+=a-ot[et-4],ue+=s-ot[et-3]),Ge=x[K++],Qe=x[K++],a=x[K++],s=x[K++],c.addData(p=d.C,ce,ue,Ge,Qe,a,s);break;case"s":ce=a,ue=s,et=c.len(),ot=c.data,o===d.C&&(ce+=a-ot[et-4],ue+=s-ot[et-3]),Ge=a+x[K++],Qe=s+x[K++],a+=x[K++],s+=x[K++],c.addData(p=d.C,ce,ue,Ge,Qe,a,s);break;case"Q":Ge=x[K++],Qe=x[K++],a=x[K++],s=x[K++],c.addData(p=d.Q,Ge,Qe,a,s);break;case"q":Ge=x[K++]+a,Qe=x[K++]+s,a+=x[K++],s+=x[K++],c.addData(p=d.Q,Ge,Qe,a,s);break;case"T":ce=a,ue=s,et=c.len(),ot=c.data,o===d.Q&&(ce+=a-ot[et-4],ue+=s-ot[et-3]),a=x[K++],s=x[K++],c.addData(p=d.Q,ce,ue,a,s);break;case"t":ce=a,ue=s,et=c.len(),ot=c.data,o===d.Q&&(ce+=a-ot[et-4],ue+=s-ot[et-3]),a+=x[K++],s+=x[K++],c.addData(p=d.Q,ce,ue,a,s);break;case"A":de=x[K++],ge=x[K++],Ce=x[K++],Pe=x[K++],Fe=x[K++],ty(Ge=a,Qe=s,a=x[K++],s=x[K++],Pe,Fe,de,ge,Ce,p=d.A,c);break;case"a":de=x[K++],ge=x[K++],Ce=x[K++],Pe=x[K++],Fe=x[K++],ty(Ge=a,Qe=s,a+=x[K++],s+=x[K++],Pe,Fe,de,ge,Ce,p=d.A,c)}}"z"!==S&&"Z"!==S||(c.addData(p=d.Z),a=l,s=u),o=p}return c.toStatic(),c}(e);return(t=t||{}).buildPath=function(i){if(i.setData)i.setData(n.data),(o=i.getContext())&&i.rebuildPath(o);else{var o=i;n.rebuildPath(o)}},t.applyTransform=function(i){dM(n,i),this.dirty(!0)},t}function iy(e,t){return new mi(ny(e,t))}var fi=function(e){ni.call(this,e)};function sp(e){return xe.browser.ie&&11<=xe.browser.version?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var u=0;u<Va.length;u++)Va[u][2]=i[Va[u][0]],i[Va[u][0]]=Va[u][1];t=!0;break}}if(e.apply(this,arguments),t)for(u=0;u<Va.length;u++)i[Va[u][0]]=Va[u][2]}:e}fi.prototype={constructor:fi,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&Je(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),On(i,n)?(this.setTransform(e),kt(this,e,i,n,null,t),this.restoreTransform(e)):e.__attrCachedBy=ye.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Je(e),!this._rect){var t=e.text;null!=t?t+="":t="";var n=ai(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,on(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},he(fi,ni);var Uo=mi.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),Va=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Do=mi.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:sp(mi.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=t.startAngle,l=t.endAngle,u=t.clockwise,c=Math.cos(s),d=Math.sin(s);e.moveTo(c*o+n,d*o+i),e.lineTo(c*a+n,d*a+i),e.arc(n,i,a,s,l,!u),e.lineTo(Math.cos(l)*o+n,Math.sin(l)*o+i),0!==o&&e.arc(n,i,o,l,s,u),e.closePath()}}),Sd=mi.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,o,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,o,!0)}});function ry(e,t,n,i,o,a,s){var l=.5*(n-e),u=.5*(i-t);return(2*(t-n)+l+u)*s+(-3*(t-n)-2*l-u)*a+l*o+t}function oy(e,t,n){var i=t.points,o=t.smooth;if(i&&2<=i.length){if(o&&"spline"!==o){var a=function(f,p,m,S){var x,V,Q,K,ce=[],ue=[],de=[],ge=[];if(S){Q=[1/0,1/0],K=[-1/0,-1/0];for(var Ce=0,Pe=f.length;Ce<Pe;Ce++)pr(Q,Q,f[Ce]),Ki(K,K,f[Ce]);pr(Q,Q,S[0]),Ki(K,K,S[1])}for(Ce=0,Pe=f.length;Ce<Pe;Ce++){var Fe=f[Ce];if(m)x=f[Ce?Ce-1:Pe-1],V=f[(Ce+1)%Pe];else{if(0===Ce||Ce===Pe-1){ce.push(Gn(f[Ce]));continue}x=f[Ce-1],V=f[Ce+1]}en(ue,V,x),kn(ue,ue,p);var Ge=Wn(Fe,x),Qe=Wn(Fe,V),et=Ge+Qe;0!==et&&(Ge/=et,Qe/=et),kn(de,ue,-Ge),kn(ge,ue,Qe);var ot=jn([],Fe,de),ht=jn([],Fe,ge);S&&(Ki(ot,ot,Q),pr(ot,ot,K),Ki(ht,ht,Q),pr(ht,ht,K)),ce.push(ot),ce.push(ht)}return m&&ce.push(ce.shift()),ce}(i,o,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,l=0;l<(n?s:s-1);l++){var u=a[2*l],c=a[2*l+1],d=i[(l+1)%s];e.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===o&&(i=function(f,p){for(var m=f.length,S=[],x=0,V=1;V<m;V++)x+=Wn(f[V-1],f[V]);var Q=x/2;for(Q=Q<m?m:Q,V=0;V<Q;V++){var K,ce,ue,de=V/(Q-1)*(p?m:m-1),ge=Math.floor(de),Ce=de-ge,Pe=f[ge%m];ue=p?(K=f[(ge-1+m)%m],ce=f[(ge+1)%m],f[(ge+2)%m]):(K=f[0===ge?ge:ge-1],ce=f[m-2<ge?m-1:ge+1],f[m-3<ge?m-1:ge+2]);var Fe=Ce*Ce,Ge=Ce*Fe;S.push([ry(K[0],Pe[0],ce[0],ue[0],Ce,Fe,Ge),ry(K[1],Pe[1],ce[1],ue[1],Ce,Fe,Ge)])}return S}(i,n)),e.moveTo(i[0][0],i[0][1]),l=1;for(var h=i.length;l<h;l++)e.lineTo(i[l][0],i[l][1])}n&&e.closePath()}}var Zr=mi.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){oy(e,t,!0)}}),vo=mi.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){oy(e,t,!1)}}),Sl=Math.round;function ay(e,t,n){if(t){var i=t.x1,o=t.x2,a=t.y1,s=t.y2;e.x1=i,e.x2=o,e.y1=a,e.y2=s;var l=n&&n.lineWidth;l&&(Sl(2*i)===Sl(2*o)&&(e.x1=e.x2=ws(i,l,!0)),Sl(2*a)===Sl(2*s)&&(e.y1=e.y2=ws(a,l,!0)))}}function sy(e,t,n){if(t){var i=t.x,o=t.y,a=t.width,s=t.height;e.x=i,e.y=o,e.width=a,e.height=s;var l=n&&n.lineWidth;l&&(e.x=ws(i,l,!0),e.y=ws(o,l,!0),e.width=Math.max(ws(i+a,l,!1)-e.x,0===a?0:1),e.height=Math.max(ws(o+s,l,!1)-e.y,0===s?0:1))}}function ws(e,t,n){if(!t)return e;var i=Sl(2*e);return(i+Sl(t))%2==0?i/2:(i+(n?1:-1))/2}var Cs={},Si=mi.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,i,o,a;this.subPixelOptimize?(sy(Cs,t,this.style),n=Cs.x,i=Cs.y,o=Cs.width,a=Cs.height,Cs.r=t.r,t=Cs):(n=t.x,i=t.y,o=t.width,a=t.height),t.r?ft(e,t):e.rect(n,i,o,a),e.closePath()}}),ku={},_r=mi.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,i,o,a;a=this.subPixelOptimize?(ay(ku,t,this.style),n=ku.x1,i=ku.y1,o=ku.x2,ku.y2):(n=t.x1,i=t.y1,o=t.x2,t.y2);var s=t.percent;0!==s&&(e.moveTo(n,i),s<1&&(o=n*(1-s)+o*s,a=i*(1-s)+a*s),e.lineTo(o,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),$r=[];function ly(e,t,n){return null===e.cpx2||null===e.cpy2?[(n?F0:zr)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?F0:zr)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Qf:Ir)(e.x1,e.cpx1,e.x2,t),(n?Qf:Ir)(e.y1,e.cpy1,e.y2,t)]}function jo(e){this.colorStops=e||[]}var Md=mi.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.cpx1,l=t.cpy1,u=t.cpx2,c=t.cpy2,d=t.percent;0!==d&&(e.moveTo(n,i),null==u||null==c?(d<1&&(ep(n,s,o,d,$r),s=$r[1],o=$r[2],ep(i,l,a,d,$r),l=$r[1],a=$r[2]),e.quadraticCurveTo(s,l,o,a)):(d<1&&(H0(n,s,u,o,d,$r),s=$r[1],u=$r[2],o=$r[3],H0(i,l,c,a,d,$r),l=$r[1],c=$r[2],a=$r[3]),e.bezierCurveTo(s,l,u,c,o,a)))},pointAt:function(e){return ly(this.shape,e,!1)},tangentAt:function(e){var t=ly(this.shape,e,!0);return En(t,t)}}),lp=mi.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e.moveTo(u*o+n,c*o+i),e.arc(n,i,o,a,s,!l)}}),uy=mi.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),mi.prototype.getBoundingRect.call(this)}});function Ss(e,t,n,i,o,a){this.x=e??0,this.y=t??0,this.x2=n??1,this.y2=i??0,this.type="linear",this.global=a||!1,jo.call(this,o)}function Td(e,t,n,i,o){this.x=e??.5,this.y=t??.5,this.r=n??.5,this.type="radial",this.global=o||!1,jo.call(this,i)}function to(e){ni.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}jo.prototype={constructor:jo,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},Ss.prototype={constructor:Ss},he(Ss,jo),Td.prototype={constructor:Td},he(Td,jo),to.prototype.incremental=!0,to.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},to.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},to.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},to.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},to.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},to.prototype.brush=function(e,t){for(var n=this._cursor;n<this._displayables.length;n++)(i=this._displayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e);for(this._cursor=n,n=0;n<this._temporaryDisplayables.length;n++){var i;(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var pM=[];to.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new v(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(pM)),e.union(i)}this._rect=e}return this._rect},to.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(e,t))return!0;return!1},he(to,ni);var Ad=Math.max,Id=Math.min,kd={},Du=1,cy={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},dy="emphasis",hy="normal",fy=1,py={},up={};function yo(e){return mi.extend(e)}function qo(e,t){up[e]=t}function cp(e){if(up.hasOwnProperty(e))return up[e]}function Dd(e,t,n,i){var o=iy(e,t);return n&&("center"===i&&(n=my(n,o.getBoundingRect())),vy(o,n)),o}function gy(e,t,n){var i=new gi({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(o){"center"===n&&i.setStyle(my(t,{width:o.width,height:o.height}))}});return i}function my(e,t){var n,i=t.width/t.height,o=e.height*i;return n=o<=e.width?e.height:(o=e.width)/i,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-n/2,width:o,height:n}}var xo=function(e,t){for(var n=[],i=e.length,o=0;o<i;o++){var a=e[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var s=new mi(t);return s.createPathProxy(),s.buildPath=function(l){l.appendPath(n);var u=l.getContext();u&&l.rebuildPath(u)},s};function vy(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}var Nd=ws;function yy(e){return null!=e&&"none"!==e}var xy=zt(),by=0;function dp(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var n=e.__zr,i=e.useHoverLayer&&n&&"canvas"===n.painter.type;if(e.__highlighted=i?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var o=e,a=e.style;i&&(a=(o=n.addHover(e)).style),Rd(a),i||function(s){if(s.__hoverStlDirty){s.__hoverStlDirty=!1;var l=s.__hoverStl;if(l){var u=s.__cachedNormalStl={};s.__cachedNormalZ2=s.z2;var c=s.style;for(var d in l)null!=l[d]&&(u[d]=c[d]);u.fill=c.fill,u.stroke=c.stroke}else s.__cachedNormalStl=s.__cachedNormalZ2=null}}(o),a.extendFrom(t),_y(a,t,"fill"),_y(a,t,"stroke"),Lu(a),i||(e.dirty(!1),e.z2+=Du)}}}function _y(e,t,n){!yy(t[n])&&yy(e[n])&&(e[n]=function(i){if("string"!=typeof i)return i;var o=xy.get(i);return o||(o=yu(i,-.1),by<1e4&&(xy.set(i,o),by++)),o}(e[n]))}function hp(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var n=e.style,i=e.__cachedNormalStl;i&&(Rd(n),e.setStyle(i),Lu(n));var o=e.__cachedNormalZ2;null!=o&&e.z2-o===Du&&(e.z2=o)}}function Nu(e,t,n){var i,o=hy,a=hy;e.__highlighted&&(o=dy,i=!0),t(e,n),e.__highlighted&&(a=dy,i=!0),e.isGroup&&e.traverse(function(s){s.isGroup||t(s,n)}),i&&e.__highDownOnUpdate&&e.__highDownOnUpdate(o,a)}function Pu(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,hp(e),dp(e))}function gM(e){wy(this,e)||this.__highByOuter||Nu(this,dp)}function mM(e){wy(this,e)||this.__highByOuter||Nu(this,hp)}function vM(e){this.__highByOuter|=1<<(e||0),Nu(this,dp)}function yM(e){(this.__highByOuter&=~(1<<(e||0)))||Nu(this,hp)}function wy(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Vi(e,t){Ms(e,!0),Nu(e,Pu,t)}function Ms(e,t){var n=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var i=n?"off":"on";e[i]("mouseover",gM)[i]("mouseout",mM),e[i]("emphasis",vM)[i]("normal",yM),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function Pd(e){return!(!e||!e.__highDownDispatcher)}function Cy(e){var t=py[e];return null==t&&fy<=32&&(t=py[e]=fy++),t}function no(e,t,n,i,o,a,s){var l,u=(o=o||kd).labelFetcher,c=o.labelDataIndex,d=o.labelDimIndex,h=o.labelProp,f=n.getShallow("show"),p=i.getShallow("show");(f||p)&&(u&&(l=u.getFormattedLabel(c,"normal",null,d,h)),null==l&&(l=Vt(o.defaultText)?o.defaultText(c,o):o.defaultText));var m=f?l:null,S=p?Pt(u?u.getFormattedLabel(c,"emphasis",null,d,h):null,l):null;null==m&&null==S||(qi(e,n,a,o),qi(t,i,s,o,!0)),e.text=m,t.text=S}function fp(e,t,n){var i=e.style;t&&(Rd(i),e.setStyle(t),Lu(i)),i=e.__hoverStl,n&&i&&(Rd(i),ne(i,n),Lu(i))}function qi(e,t,n,i,o){return Sy(e,t,i,o),n&&ne(e,n),e}function Sy(e,t,n,i){if((n=n||kd).isRectText){var o;n.getTextPosition?o=n.getTextPosition(t,i):"outside"===(o=t.getShallow("position")||(i?null:"inside"))&&(o="top"),e.textPosition=o,e.textOffset=t.getShallow("offset");var a=t.getShallow("rotate");null!=a&&(a*=Math.PI/180),e.textRotation=a,e.textDistance=Pt(t.getShallow("distance"),i?null:5)}var s,l=t.ecModel,u=l&&l.option.textStyle,c=function(f){for(var p;f&&f!==f.ecModel;){var m=(f.option||kd).rich;if(m)for(var S in p=p||{},m)m.hasOwnProperty(S)&&(p[S]=1);f=f.parentModel}return p}(t);if(c)for(var d in s={},c)if(c.hasOwnProperty(d)){var h=t.getModel(["rich",d]);My(s[d]={},h,u,n,i)}return e.rich=s,My(e,t,u,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function My(e,t,n,i,o,a){n=!o&&n||kd,e.textFill=Ld(t.getShallow("color"),i)||n.color,e.textStroke=Ld(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=Pt(t.getShallow("textBorderWidth"),n.textBorderWidth),o||(a&&(e.insideRollbackOpt=i,Lu(e)),null==e.textFill&&(e.textFill=i.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),a&&i.disableBox||(e.textBackgroundColor=Ld(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=Ld(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Ld(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Lu(e){var t,n=e.textPosition,i=e.insideRollbackOpt;if(i&&null==e.textFill){var o=i.autoColor,s=i.useInsideStyle,l=!1!==s&&(!0===s||i.isRectText&&n&&"string"==typeof n&&0<=n.indexOf("inside")),u=!l&&null!=o;(l||u)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),l&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=o,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),u&&(e.textFill=o)}e.insideRollback=t}function Rd(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function pp(e,t){var n=t&&t.getModel("textStyle");return Un([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Ty(e,t,n,i,o,a){if("function"==typeof o&&(a=o,o=null),i&&i.isAnimationEnabled()){var s=e?"Update":"",l=i.getShallow("animationDuration"+s),u=i.getShallow("animationEasing"+s),c=i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(o,i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null)),"function"==typeof l&&(l=l(o)),0<l?t.animateTo(n,l,c||0,u,a,!!a):(t.stopAnimation(),t.attr(n),a&&a())}else t.stopAnimation(),t.attr(n),a&&a()}function si(e,t,n,i,o){Ty(!0,e,t,n,i,o)}function kr(e,t,n,i,o){Ty(!1,e,t,n,i,o)}function Ts(e,t){for(var n=Bo([]);e&&e!==t;)ho(n,e.getLocalTransform(),n),e=e.parent;return n}function Yo(e,t,n){return t&&!ke(t)&&(t=Tr.getLocalTransform(t)),n&&(t=Na([],t)),li([],e,t)}function gp(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-i:"right"===e?i:0,"top"===e?-o:"bottom"===e?o:0];return a=Yo(a,t,n),Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function Ed(e,t,n,i){if(e&&t){var o,a=(o={},e.traverse(function(l){!l.isGroup&&l.anid&&(o[l.anid]=l)}),o);t.traverse(function(l){if(!l.isGroup&&l.anid){var u=a[l.anid];if(u){var c=s(l);l.attr(s(u)),si(l,c,n,l.dataIndex)}}})}function s(l){var u={position:Gn(l.position),rotation:l.rotation};return l.shape&&(u.shape=ne({},l.shape)),u}}function Ay(e,t){return Me(e,function(n){var i=n[0];i=Ad(i,t.x),i=Id(i,t.x+t.width);var o=n[1];return o=Ad(o,t.y),[i,o=Id(o,t.y+t.height)]})}function Ml(e,t,n){var i=(t=ne({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),pe(i,n),new gi(t)):Dd(e.replace("path://",""),t,n,"center")}function Ru(e,t,n,i,o){for(var a=0,s=o[o.length-1];a<o.length;a++){var l=o[a];if(Iy(e,t,n,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function Iy(e,t,n,i,o,a,s,l){var V,u=n-e,c=i-t,d=s-o,h=l-a,f=mp(d,h,u,c);if((V=f)<=1e-6&&-1e-6<=V)return!1;var p=e-o,m=t-a,S=mp(p,m,u,c)/f;if(S<0||1<S)return!1;var x=mp(p,m,d,h)/f;return!(x<0||1<x)}function mp(e,t,n,i){return e*i-n*t}qo("circle",Uo),qo("sector",Do),qo("ring",Sd),qo("polygon",Zr),qo("polyline",vo),qo("rect",Si),qo("line",_r),qo("bezierCurve",Md),qo("arc",lp);var ma=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Du,CACHED_LABEL_STYLE_PROPERTIES:cy,extendShape:yo,extendPath:function(e,t){return function(n,i){return mi.extend(ny(n,i))}(e,t)},registerShape:qo,getShapeClass:cp,makePath:Dd,makeImage:gy,mergePath:xo,resizePath:vy,subPixelOptimizeLine:function(e){return ay(e.shape,e.shape,e.style),e},subPixelOptimizeRect:function(e){return sy(e.shape,e.shape,e.style),e},subPixelOptimize:Nd,setElementHoverStyle:Pu,setHoverStyle:Vi,setAsHighDownDispatcher:Ms,isHighDownDispatcher:Pd,getHighlightDigit:Cy,setLabelStyle:no,modifyLabelStyle:fp,setTextStyle:qi,setText:function(e,t,n){var i,o={isRectText:!0};!1===n?i=!0:o.autoColor=n,Sy(e,t,o,i)},getFont:pp,updateProps:si,initProps:kr,getTransform:Ts,applyTransform:Yo,transformDirection:gp,groupTransition:Ed,clipPointsByRect:Ay,clipRectByRect:function(e,t){var n=Ad(e.x,t.x),i=Id(e.x+e.width,t.x+t.width),o=Ad(e.y,t.y),a=Id(e.y+e.height,t.y+t.height);if(n<=i&&o<=a)return{x:n,y:o,width:i-n,height:a-o}},createIcon:Ml,linePolygonIntersect:Ru,lineLineIntersect:Iy,Group:y,Image:gi,Text:fi,Circle:Uo,Sector:Do,Ring:Sd,Polygon:Zr,Polyline:vo,Rect:Si,Line:_r,BezierCurve:Md,Arc:lp,IncrementalDisplayable:to,CompoundPath:uy,LinearGradient:Ss,RadialGradient:Td,BoundingRect:v}),xM=["textStyle","color"],bM={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(xM):null)},getFont:function(){return pp({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return ai(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},_M=xl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),wM={getItemStyle:function(e,t){var n=_M(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},Od=be,ky=jr();function vi(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function Dy(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&"object"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function vp(e,t){var n=ky(e).getParent;return n?n.call(e,t):e.parentModel}vi.prototype={constructor:vi,init:null,mergeOption:function(e){ae(this.option,e,!0)},get:function(e,t){return null==e?this.option:Dy(this.option,this.parsePath(e),!t&&vp(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],o=!t&&vp(this,e);return null==i&&o&&(i=o.getShallow(e)),i},getModel:function(e,t){var n;return new vi(null==e?this.option:Dy(this.option,e=this.parsePath(e)),t=t||(n=vp(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(Y(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){ky(this).getParent=e},isAnimationEnabled:function(){if(!xe.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Su(vi),hd(vi),Od(vi,K2),Od(vi,Q2),Od(vi,bM),Od(vi,wM);var CM=0;function Eu(e){return[e||"",CM++,Math.random().toFixed(5)].join("_")}var Ny=1e-4;function Hi(e,t,n,i){var o=t[1]-t[0],a=n[1]-n[0];if(0==o)return 0==a?n[0]:(n[0]+n[1])/2;if(i)if(0<o){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/o*a+n[0]}function An(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function(n){return n.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function sr(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function As(e){return e.sort(function(t,n){return t-n}),e}function Py(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Bd(e){var t=e.toString(),n=t.indexOf("e");if(0<n){var i=+t.slice(n+1);return i<0?-i:0}var o=t.indexOf(".");return o<0?0:t.length-1-o}function yp(e,t){var n=Math.log,i=Math.LN10,o=Math.floor(n(e[1]-e[0])/i),a=Math.round(n(Math.abs(t[1]-t[0]))/i),s=Math.min(Math.max(-o+a,0),20);return isFinite(s)?s:20}function Ly(e,t,n){if(!e[t])return 0;var i=Ne(e,function(m,S){return m+(isNaN(S)?0:S)},0);if(0===i)return 0;for(var o=Math.pow(10,n),a=Me(e,function(m){return(isNaN(m)?0:m)/i*o*100}),s=100*o,l=Me(a,function(m){return Math.floor(m)}),u=Ne(l,function(m,S){return m+S},0),c=Me(a,function(m,S){return m-l[S]});u<s;){for(var d=Number.NEGATIVE_INFINITY,h=null,f=0,p=c.length;f<p;++f)c[f]>d&&(d=c[f],h=f);++l[h],c[h]=0,++u}return l[t]/o}var xp=9007199254740991;function bp(e){var t=2*Math.PI;return(e%t+t)%t}function Ou(e){return-Ny<e&&e<Ny}var SM=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Bu(e){if(e instanceof Date)return e;if("string"!=typeof e)return null==e?new Date(NaN):new Date(Math.round(e));var t=SM.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}function Ry(e){return Math.pow(10,_p(e))}function _p(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return 10<=e/Math.pow(10,t)&&t++,t}function wp(e,t){var n=_p(e),i=Math.pow(10,n),o=e/i;return e=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,-20<=n?+e.toFixed(n<0?-n:0):e}function Cp(e){e.sort(function(l,u){return function c(d,h,f){return d.interval[f]<h.interval[f]||d.interval[f]===h.interval[f]&&(d.close[f]-h.close[f]==(f?-1:1)||!f&&c(d,h,1))}(l,u,0)?-1:1});for(var t=-1/0,n=1,i=0;i<e.length;){for(var o=e[i].interval,a=e[i].close,s=0;s<2;s++)o[s]<=t&&(o[s]=t,a[s]=s?1:1-n),t=o[s],n=a[s];o[0]===o[1]&&a[0]*a[1]!=1?e.splice(i,1):i++}return e}function Ey(e){return 0<=e-parseFloat(e)}var MM=(Object.freeze||Object)({linearMap:Hi,parsePercent:An,round:sr,asc:As,getPrecision:Py,getPrecisionSafe:Bd,getPixelPrecision:yp,getPercentWithPrecision:Ly,MAX_SAFE_INTEGER:xp,remRadian:bp,isRadianAroundZero:Ou,parseDate:Bu,quantity:Ry,quantityExponent:_p,nice:wp,quantile:function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),o=+e[i-1],a=n-i;return a?o+a*(e[i]-o):o},reformIntervals:Cp,isNumeric:Ey});function Ha(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<e.length?"."+e[1]:"")}function Oy(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Is=Sn,TM=/([&<>"'])/g,AM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Wi(e){return null==e?"":(e+"").replace(TM,function(t,n){return AM[n]})}function Sp(e,t){return"{"+e+(t??"")+"}"}var By=["a","b","c","d","e","f","g"];function Mp(e,t,n){it(t)||(t=[t]);var i=t.length;if(!i)return"";for(var o=t[0].$vars||[],a=0;a<o.length;a++){var s=By[a];e=e.replace(Sp(s),Sp(s,0))}for(var l=0;l<i;l++)for(var u=0;u<o.length;u++){var c=t[l][o[u]];e=e.replace(Sp(By[u],l),n?Wi(c):c)}return e}function zy(e,t,n){return ee(t,function(i,o){e=e.replace("{"+o+"}",n?Wi(i):i)}),e}function zd(e,t){var n=(e=dt(e)?{color:e,extraCssText:t}:e||{}).color,o=(t=e.extraCssText,e.renderMode||"html"),a=e.markerId||"X";return n?"html"===o?"subItem"===e.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Wi(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Wi(n)+";"+(t||"")+'"></span>':{renderMode:o,content:"{marker"+a+"|}  ",style:{color:n}}:""}function Tl(e,t){return"0000".substr(0,t-(e+="").length)+e}function Tp(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=Bu(t),o=n?"UTC":"",a=i["get"+o+"FullYear"](),s=i["get"+o+"Month"]()+1,l=i["get"+o+"Date"](),u=i["get"+o+"Hours"](),c=i["get"+o+"Minutes"](),d=i["get"+o+"Seconds"](),h=i["get"+o+"Milliseconds"]();return e.replace("MM",Tl(s,2)).replace("M",s).replace("yyyy",a).replace("yy",a%100).replace("dd",Tl(l,2)).replace("d",l).replace("hh",Tl(u,2)).replace("h",u).replace("mm",Tl(c,2)).replace("m",c).replace("ss",Tl(d,2)).replace("s",d).replace("SSS",Tl(h,3))}function Fd(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}var Fy=Ci;function zu(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)}var IM=(Object.freeze||Object)({addCommas:Ha,toCamelCase:Oy,normalizeCssArray:Is,encodeHTML:Wi,formatTpl:Mp,formatTplSimple:zy,getTooltipMarker:zd,formatTime:Tp,capitalFirst:Fd,truncateText:Fy,getTextBoundingRect:function(e){return ai(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)},getTextRect:function(e,t,n,i,o,a,s,l){return ai(e,t,n,i,o,l,a,s)},windowOpen:zu}),Vd=ee,Vy=["left","right","top","bottom","width","height"],ks=[["width","left","right"],["height","top","bottom"]];function Ap(e,t,n,i,o){var a=0,s=0;null==i&&(i=1/0),null==o&&(o=1/0);var l=0;t.eachChild(function(u,c){var d,h,f=u.position,p=u.getBoundingRect(),m=t.childAt(c+1),S=m&&m.getBoundingRect();if("horizontal"===e){var x=p.width+(S?-S.x+p.x:0);l=i<(d=a+x)||u.newline?(a=0,d=x,s+=l+n,p.height):Math.max(l,p.height)}else{var V=p.height+(S?-S.y+p.y:0);l=o<(h=s+V)||u.newline?(a+=l+n,s=0,h=V,p.width):Math.max(l,p.width)}u.newline||(f[0]=a,f[1]=s,"horizontal"===e?a=d+n:s=h+n)})}var Ds=Ap;function nr(e,t,n){n=Is(n||0);var i=t.width,o=t.height,a=An(e.left,i),s=An(e.top,o),l=An(e.right,i),u=An(e.bottom,o),c=An(e.width,i),d=An(e.height,o),h=n[2]+n[0],f=n[1]+n[3],p=e.aspect;switch(isNaN(c)&&(c=i-l-f-a),isNaN(d)&&(d=o-u-h-s),null!=p&&(isNaN(c)&&isNaN(d)&&(i/o<p?c=.8*i:d=.8*o),isNaN(c)&&(c=p*d),isNaN(d)&&(d=c/p)),isNaN(a)&&(a=i-l-c-f),isNaN(s)&&(s=o-u-d-h),e.left||e.right){case"center":a=i/2-c/2-n[3];break;case"right":a=i-c-f}switch(e.top||e.bottom){case"middle":case"center":s=o/2-d/2-n[0];break;case"bottom":s=o-d-h}a=a||0,s=s||0,isNaN(c)&&(c=i-f-a-(l||0)),isNaN(d)&&(d=o-h-s-(u||0));var m=new v(a+n[3],s+n[0],c,d);return m.margin=n,m}function Hd(e,t,n,i,o){var a=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(a||s){var u;if("raw"===l)u="group"===e.type?new v(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();(u=u.clone()).applyTransform(c)}t=nr(pe({width:u.width,height:u.height},t),n,i);var d=e.position,h=a?t.x-u.x:0,f=s?t.y-u.y:0;e.attr("position","raw"===l?[h,f]:[d[0]+h,d[1]+f])}}function Wa(e,t,n){xt(n)||(n={});var i=n.ignoreSize;it(i)||(i=[i,i]);var o=s(ks[0],0),a=s(ks[1],1);function s(d,h){var f={},p=0,m={},S=0;if(Vd(d,function(Q){m[Q]=e[Q]}),Vd(d,function(Q){l(t,Q)&&(f[Q]=m[Q]=t[Q]),u(f,Q)&&p++,u(m,Q)&&S++}),i[h])return u(t,d[1])?m[d[2]]=null:u(t,d[2])&&(m[d[1]]=null),m;if(2!==S&&p){if(2<=p)return f;for(var x=0;x<d.length;x++){var V=d[x];if(!l(f,V)&&l(e,V)){f[V]=e[V];break}}return f}return m}function l(d,h){return d.hasOwnProperty(h)}function u(d,h){return null!=d[h]&&"auto"!==d[h]}function c(d,h,f){Vd(d,function(p){h[p]=f[p]})}c(ks[0],e,o),c(ks[1],e,a)}function Al(e){return Hy({},e)}function Hy(e,t){return t&&e&&Vd(Vy,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}gt(Ap,"vertical"),gt(Ap,"horizontal");var Ip,Wd,Wy,kM=jr(),Mi=vi.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){vi.call(this,e,t,n,i),this.uid=Eu("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?Al(e):{};ae(e,t.getTheme().get(this.mainType)),ae(e,this.getDefaultOption()),n&&Wa(e,i,n)},mergeOption:function(e,t){ae(this.option,e,!0);var n=this.layoutMode;n&&Wa(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=kM(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var o={},a=t.length-1;0<=a;a--)o=ae(o,t[a],!0);e.defaultOption=o}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});function Gy(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}fd(Mi,{registerWhenExtend:!0}),Wd={},(Ip=Mi).registerSubTypeDefaulter=function(e,t){e=La(e),Wd[e.main]=t},Ip.determineSubType=function(e,t){var n=t.type;if(!n){var i=La(e).main;Ip.hasSubTypes(e)&&Wd[i]&&(n=Wd[i](t))}return n},Wy=function(e){var t=[];return ee(Mi.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=Me(t,function(n){return La(n).main}),"dataset"!==e&&De(t,"dataset")<=0&&t.unshift("dataset"),t},Mi.topologicalTravel=function(e,t,n,i){if(e.length){var o=(m={},S=[],ee(p=t,function(x){var K,ce,ue,V=Gy(m,x),Q=(K=V.originalDeps=Wy(x),ce=p,ue=[],ee(K,function(de){0<=De(ce,de)&&ue.push(de)}),ue);V.entryCount=Q.length,0===V.entryCount&&S.push(x),ee(Q,function(K){De(V.predecessor,K)<0&&V.predecessor.push(K);var ce=Gy(m,K);De(ce.successor,K)<0&&ce.successor.push(x)})}),{graph:m,noEntryList:S}),a=o.graph,s=o.noEntryList,l={};for(ee(e,function(p){l[p]=!0});s.length;){var u=s.pop(),c=a[u],d=!!l[u];d&&(n.call(i,u,c.originalDeps.slice()),delete l[u]),ee(c.successor,d?f:h)}ee(l,function(){throw new Error("Circle dependency may exists")})}var p,m,S;function h(p){a[p].entryCount--,0===a[p].entryCount&&s.push(p)}function f(p){l[p]=!0,h(p)}},be(Mi,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var Uy="";typeof navigator<"u"&&(Uy=navigator.platform||"");var DM={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Uy.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},kp=jr(),Dp={clearColorPalette:function(){kp(this).colorIdx=0,kp(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=kp(t=t||this),o=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(e))return a[e];var s=br(this.get("color",!0)),l=this.get("colorLayer",!0),u=null!=n&&l?function(d,h){for(var f=d.length,p=0;p<f;p++)if(d[p].length>h)return d[p];return d[f-1]}(l,n):s;if((u=u||s)&&u.length){var c=u[o];return e&&(a[e]=c),i.colorIdx=(o+1)%u.length,c}}},Ns="original",Fu="arrayRows",Vu="objectRows",Hu="keyedColumns",jy="unknown",Gd="typedArray",qy="column",Np="row";function No(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===Hu?{}:[]),this.sourceFormat=e.sourceFormat||jy,this.seriesLayoutBy=e.seriesLayoutBy||qy,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&zt(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}No.seriesDataToSource=function(e){return new No({data:e,sourceFormat:pn(e)?Gd:Ns,fromDataset:!1})},hd(No);var Dr={Must:1,Might:2,Not:3},Il=jr();function Yy(e){var t=e.option,n=t.data,i=pn(n)?Gd:Ns,o=!1,a=t.seriesLayoutBy,s=t.sourceHeader,l=t.dimensions,u=Lp(e);if(u){var c=u.option;n=c.source,i=Il(u).sourceFormat,o=!0,a=a||c.seriesLayoutBy,null==s&&(s=c.sourceHeader),l=l||c.dimensions}var d=function(h,f,p,m,S){if(!h)return{dimensionsDefine:Xy(S)};var x,V;if(f===Fu)"auto"===m||null==m?Zy(function(K){null!=K&&"-"!==K&&(dt(K)?null==V&&(V=1):V=0)},p,h,10):V=m?1:0,S||1!==V||(S=[],Zy(function(K,ce){S[ce]=K??""},p,h)),x=S?S.length:p===Np?h.length:h[0]?h[0].length:null;else if(f===Vu)S=S||function(K){for(var ce,ue=0;ue<K.length&&!(ce=K[ue++]););if(ce){var de=[];return ee(ce,function(ge,Ce){de.push(Ce)}),de}}(h);else if(f===Hu)S||(S=[],ee(h,function(K,ce){S.push(ce)}));else if(f===Ns){var Q=Cu(h[0]);x=it(Q)&&Q.length||1}return{startIndex:V,dimensionsDefine:Xy(S),dimensionsDetectCount:x}}(n,i,a,s,l);Il(e).source=new No({data:n,fromDataset:o,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:d.dimensionsDefine,startIndex:d.startIndex,dimensionsDetectCount:d.dimensionsDetectCount,encodeDefine:t.encode})}function Xy(e){if(e){var t=zt();return Me(e,function(n,i){if(null==(n=ne({},xt(n)?n:{name:n})).name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var o=t.get(n.name);return o?n.name+="-"+o.count++:t.set(n.name,{count:1}),n})}}function Zy(e,t,n,i){if(null==i&&(i=1/0),t===Np)for(var o=0;o<n.length&&o<i;o++)e(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<i;o++)e(a[o],o)}}function $y(e,t,n){var i={},o=Lp(t);if(!o||!e)return i;var a,s,l=[],u=[],d=Il(t.ecModel).datasetMap,h=o.uid+"_"+n.seriesLayoutBy;ee(e=e.slice(),function(S,x){xt(S)||(e[x]={name:S}),"ordinal"===S.type&&null==a&&(s=m(e[a=x])),i[S.name]=[]});var f=d.get(h)||d.set(h,{categoryWayDim:s,valueWayDim:0});function p(S,x,V){for(var Q=0;Q<V;Q++)S.push(x+Q)}function m(S){var x=S.dimsDef;return x?x.length:1}return ee(e,function(S,x){var V=S.name,Q=m(S);if(null==a){var K=f.valueWayDim;p(i[V],K,Q),p(u,K,Q),f.valueWayDim+=Q}else a===x?(p(i[V],0,Q),p(l,0,Q)):(p(i[V],K=f.categoryWayDim,Q),p(u,K,Q),f.categoryWayDim+=Q)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function Pp(e,t,n){var i={};if(!Lp(e))return i;var o,a=t.sourceFormat,s=t.dimensionsDefine;a!==Vu&&a!==Hu||ee(s,function(c,d){"name"===(xt(c)?c.name:c)&&(o=d)});var l=function(){for(var c={},d={},h=[],f=0,p=Math.min(5,n);f<p;f++){var m=Ky(t.data,a,t.seriesLayoutBy,s,t.startIndex,f);h.push(m);var S=m===Dr.Not;if(S&&null==c.v&&f!==o&&(c.v=f),null!=c.n&&c.n!==c.v&&(S||h[c.n]!==Dr.Not)||(c.n=f),x(c)&&h[c.n]!==Dr.Not)return c;S||(m===Dr.Might&&null==d.v&&f!==o&&(d.v=f),null!=d.n&&d.n!==d.v||(d.n=f))}function x(V){return null!=V.v&&null!=V.n}return x(c)?c:x(d)?d:null}();if(l){i.value=l.v;var u=o??l.n;i.itemName=[u],i.seriesName=[u]}return i}function Lp(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function Ky(e,t,n,i,o,a){var s,l,u;if(pn(e))return Dr.Not;if(i){var c=i[a];xt(c)?(l=c.name,u=c.type):dt(c)&&(l=c)}if(null!=u)return"ordinal"===u?Dr.Must:Dr.Not;if(t===Fu)if(n===Np){for(var d=e[a],h=0;h<(d||[]).length&&h<5;h++)if(null!=(s=S(d[o+h])))return s}else for(h=0;h<e.length&&h<5;h++){var f=e[o+h];if(f&&null!=(s=S(f[a])))return s}else if(t===Vu){if(!l)return Dr.Not;for(h=0;h<e.length&&h<5;h++)if((p=e[h])&&null!=(s=S(p[l])))return s}else if(t===Hu){if(!l||!(d=e[l])||pn(d))return Dr.Not;for(h=0;h<d.length&&h<5;h++)if(null!=(s=S(d[h])))return s}else if(t===Ns)for(h=0;h<e.length&&h<5;h++){var p,m=Cu(p=e[h]);if(!it(m))return Dr.Not;if(null!=(s=S(m[a])))return s}function S(x){var V=dt(x);return null!=x&&isFinite(x)&&""!==x?V?Dr.Might:Dr.Not:V&&"-"!==x?Dr.Must:void 0}return Dr.Not}var Rp="\0_ec_inner",Ep=vi.extend({init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new vi(n),this._optionManager=i},setOption:function(e,t){Kn(!(Rp in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(i)):function(s){var l,c;this.option={},this.option[Rp]=1,this._componentsMap=zt({series:[]}),c=(l=s).color&&!l.colorLayer,ee(this._theme.option,function(d,h){"colorLayer"===h&&c||Mi.hasClass(h)||("object"==typeof d?l[h]=l[h]?ae(l[h],d,!1):Y(d):null==l[h]&&(l[h]=d))}),ae(s,DM,!1),this.mergeOption(s)}.call(this,i),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var a=n.getMediaOption(this,this._api);a.length&&ee(a,function(s){this.mergeOption(s,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];(function(o){Il(o).datasetMap=zt()})(this),ee(e,function(o,a){null!=o&&(Mi.hasClass(a)?a&&i.push(a):t[a]=null==t[a]?Y(o):ae(t[a],o,!0))}),Mi.topologicalTravel(i,Mi.getAllClassMainTypes(),function(o,a){var s=br(e[o]),l=Zf(n.get(o),s);L0(l),ee(l,function(c,d){var p,m,h=c.option;xt(h)&&(c.keyInfo.mainType=o,c.keyInfo.subType=(m=c.exist,(p=h).type?p.type:m?m.subType:Mi.determineSubType(o,p)))});var u=function(c,d){it(d)||(d=d?[d]:[]);var h={};return ee(d,function(f){h[f]=(c.get(f)||[]).slice()}),h}(n,a);t[o]=[],n.set(o,[]),ee(l,function(c,d){var h=c.exist,f=c.option;if(Kn(xt(f)||h,"Empty component definition"),f){var p=Mi.getClass(o,c.keyInfo.subType,!0);if(h&&h.constructor===p)h.name=c.keyInfo.name,h.mergeOption(f,this),h.optionUpdated(f,!1);else{var m=ne({dependentModels:u,componentIndex:d},c.keyInfo);ne(h=new p(f,this,this,m),m),h.init(f,this,this,m),h.optionUpdated(null,!0)}}else h.mergeOption({},this),h.optionUpdated({},!1);n.get(o)[d]=h,t[o][d]=h.option},this),"series"===o&&Op(this,n.get("series"))},this),this._seriesIndicesMap=zt(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Y(this.option);return ee(e,function(t,n){if(Mi.hasClass(n)){for(var i=(t=br(t)).length-1;0<=i;i--)ud(t[i])&&t.splice(i,1);e[n]=t}}),delete e[Rp],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,o=e.id,a=e.name,s=this._componentsMap.get(t);if(!s||!s.length)return[];if(null!=i)it(i)||(i=[i]),n=Be(Me(i,function(c){return s[c]}),function(c){return!!c});else if(null!=o){var l=it(o);n=Be(s,function(c){return l&&0<=De(o,c.id)||!l&&c.id===o})}else if(null!=a){var u=it(a);n=Be(s,function(c){return u&&0<=De(a,c.name)||!u&&c.name===a})}else n=s.slice();return Jy(n,e)},findComponents:function(e){var t,n,i,o,a,l=e.mainType,u=(n=l+"Index",i=l+"Id",o=l+"Name",!(t=e.query)||null==t[n]&&null==t[i]&&null==t[o]?null:{mainType:l,index:t[n],id:t[i],name:t[o]});return a=Jy(u?this.queryComponents(u):this._componentsMap.get(l),e),e.filter?Be(a,e.filter):a},eachComponent:function(e,t,n){var i=this._componentsMap;"function"==typeof e?(n=t,t=e,i.each(function(o,a){ee(o,function(s,l){t.call(n,a,s,l)})})):dt(e)?ee(i.get(e),t,n):xt(e)&&ee(this.findComponents(e),t,n)},getSeriesByName:function(e){return Be(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return Be(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){ee(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){ee(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){ee(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===e&&t.call(n,o,i)},this)},eachRawSeriesByType:function(e,t,n){return ee(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Op(this,Be(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;Op(this,t.get("series"));var n=[];t.each(function(i,o){n.push(o)}),Mi.topologicalTravel(n,Mi.getAllClassMainTypes(),function(i,o){ee(t.get(i),function(a){"series"===i&&function(s,l){if(l){var u=l.seiresIndex,c=l.seriesId,d=l.seriesName;return null!=u&&s.componentIndex!==u||null!=c&&s.id!==c||null!=d&&s.name!==d}}(a,e)||a.restoreData()})})}});function Op(e,t){e._seriesIndicesMap=zt(e._seriesIndices=Me(t,function(n){return n.componentIndex})||[])}function Jy(e,t){return t.hasOwnProperty("subType")?Be(e,function(n){return n.subType===t.subType}):e}be(Ep,Dp);var NM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Qy(e){ee(NM,function(t){this[t]=Ke(e[t],e)},this)}var Bp={};function Nr(){this._coordinateSystems=[]}Nr.prototype={constructor:Nr,create:function(e,t){var n=[];ee(Bp,function(i,o){var a=i.create(e,t);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(e,t){ee(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Nr.register=function(e,t){Bp[e]=t},Nr.get=function(e){return Bp[e]};var Ud=ee,Ps=Y,jd=Me,e1=ae,PM=/^(min|max)?(.+)$/;function zp(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function LM(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return ee(e,function(a,s){var d,h,f,l=s.match(PM);if(l&&l[1]&&l[2]){var u=l[1],c=l[2].toLowerCase();d=i[c],h=a,!("min"===(f=u)?h<=d:"max"===f?d<=h:d===h)&&(o=!1)}}),o}zp.prototype={constructor:zp,setOption:function(e,t){e&&ee(br(e.series),function(o){o&&o.data&&pn(o.data)&&bi(o.data)}),e=Ps(e);var n=this._optionBackup,i=function(o,a,s){var l,u,c=[],d=[],h=o.timeline;return o.baseOption&&(u=o.baseOption),(h||o.options)&&(u=u||{},c=(o.options||[]).slice()),o.media&&(u=u||{},Ud(o.media,function(p){p&&p.option&&(p.query?d.push(p):l=l||p)})),(u=u||o).timeline||(u.timeline=h),Ud([u].concat(c).concat(Me(d,function(p){return p.option})),function(p){Ud(a,function(m){m(p,s)})}),{baseOption:u,timelineOptions:c,mediaDefault:l,mediaList:d}}.call(this,e,t,!n);this._newBaseOption=i.baseOption,n?(function(o,a){Ud(a=a||{},function(s,l){if(null!=s){var u=o[l];if(Mi.hasClass(l)){s=br(s);var c=Zf(u=br(u),s);o[l]=jd(c,function(d){return d.option&&d.exist?e1(d.exist,d.option,!0):d.exist||d.option})}else o[l]=e1(u,s,!0)}})}(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=jd(t.timelineOptions,Ps),this._mediaList=jd(t.mediaList,Ps),this._mediaDefault=Ps(t.mediaDefault),this._currentMediaIndices=[],Ps(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Ps(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var d,t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,u=i.length;l<u;l++)LM(i[l].query,t,n)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&(d=this._currentMediaIndices,!(a.join(",")===d.join(",")))&&(s=jd(a,function(c){return Ps(-1===c?o.option:i[c].option)})),this._currentMediaIndices=a,s}};var Po=ee,Wu=xt,t1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Fp(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=t1.length;n<i;n++){var o=t1[n],a=t.normal,s=t.emphasis;a&&a[o]&&(e[o]=e[o]||{},e[o].normal?ae(e[o].normal,a[o]):e[o].normal=a[o],a[o]=null),s&&s[o]&&(e[o]=e[o]||{},e[o].emphasis?ae(e[o].emphasis,s[o]):e[o].emphasis=s[o],s[o]=null)}}function Pr(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,o=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,pe(e[t],i)):e[t]=i),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o)}}function Gu(e){Pr(e,"itemStyle"),Pr(e,"lineStyle"),Pr(e,"areaStyle"),Pr(e,"label"),Pr(e,"labelLine"),Pr(e,"upperLabel"),Pr(e,"edgeLabel")}function ir(e,t){var n=Wu(e)&&e[t],i=Wu(n)&&n.textStyle;if(i)for(var o=0,a=P0.length;o<a;o++)i.hasOwnProperty(t=P0[o])&&(n[t]=i[t])}function bo(e){e&&(Gu(e),ir(e,"label"),e.emphasis&&ir(e.emphasis,"label"))}function va(e){return it(e)?e:e?[e]:[]}function n1(e){return(it(e)?e[0]:e)||{}}function i1(e){ee(EM,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var EM=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],OM=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],r1=function(e,t){(function RM(e,t){Po(va(e.series),function(i){Wu(i)&&function(o){if(Wu(o)){Fp(o),Gu(o),ir(o,"label"),ir(o,"upperLabel"),ir(o,"edgeLabel"),o.emphasis&&(ir(o.emphasis,"label"),ir(o.emphasis,"upperLabel"),ir(o.emphasis,"edgeLabel")),(s=o.markPoint)&&(Fp(s),bo(s)),(l=o.markLine)&&(Fp(l),bo(l));var a=o.markArea;a&&bo(a);var s,l,u=o.data;if("graph"===o.type){u=u||o.nodes;var c=o.links||o.edges;if(c&&!pn(c))for(var d=0;d<c.length;d++)bo(c[d]);ee(o.categories,function(p){Gu(p)})}if(u&&!pn(u))for(d=0;d<u.length;d++)bo(u[d]);if((s=o.markPoint)&&s.data){var h=s.data;for(d=0;d<h.length;d++)bo(h[d])}if((l=o.markLine)&&l.data){var f=l.data;for(d=0;d<f.length;d++)it(f[d])?(bo(f[d][0]),bo(f[d][1])):bo(f[d])}"gauge"===o.type?(ir(o,"axisLabel"),ir(o,"title"),ir(o,"detail")):"treemap"===o.type?(Pr(o.breadcrumb,"itemStyle"),ee(o.levels,function(p){Gu(p)})):"tree"===o.type&&Gu(o.leaves)}}(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Po(n,function(i){Po(va(e[i]),function(o){o&&(ir(o,"axisLabel"),ir(o.axisPointer,"label"))})}),Po(va(e.parallel),function(i){var o=i&&i.parallelAxisDefault;ir(o,"axisLabel"),ir(o&&o.axisPointer,"label")}),Po(va(e.calendar),function(i){Pr(i,"itemStyle"),ir(i,"dayLabel"),ir(i,"monthLabel"),ir(i,"yearLabel")}),Po(va(e.radar),function(i){ir(i,"name")}),Po(va(e.geo),function(i){Wu(i)&&(bo(i),Po(va(i.regions),function(o){bo(o)}))}),Po(va(e.timeline),function(i){bo(i),Pr(i,"label"),Pr(i,"itemStyle"),Pr(i,"controlStyle",!0);var o=i.data;it(o)&&ee(o,function(a){xt(a)&&(Pr(a,"label"),Pr(a,"itemStyle"))})}),Po(va(e.toolbox),function(i){Pr(i,"iconStyle"),Po(i.feature,function(o){Pr(o,"iconStyle")})}),ir(n1(e.axisPointer),"label"),ir(n1(e.tooltip).axisPointer,"label")})(e,t),e.series=br(e.series),ee(e.series,function(n){if(xt(n)){var i=n.type;if("line"===i)null!=n.clipOverflow&&(n.clip=n.clipOverflow);else if("pie"===i||"gauge"===i)null!=n.clockWise&&(n.clockwise=n.clockWise);else if("gauge"===i){var o=function(a,s){s=s.split(",");for(var l=a,u=0;u<s.length&&null!=(l=l&&l[s[u]]);u++);return l}(n,"pointer.color");null!=o&&function(a,s,l,u){s=s.split(",");for(var c,d=a,h=0;h<s.length-1;h++)null==d[c=s[h]]&&(d[c]={}),d=d[c];null!=d[s[h]]||(d[s[h]]=l)}(n,"itemStyle.color",o)}i1(n)}}),e.dataRange&&(e.visualMap=e.dataRange),ee(OM,function(n){var i=e[n];i&&(it(i)||(i=[i]),ee(i,function(o){i1(o)}))})};function BM(e){ee(e,function(t,n){var i=[],o=[NaN,NaN],s=t.data,l=t.isStackedByIndex,u=s.map([t.stackResultDimension,t.stackedOverDimension],function(c,d,h){var f,p,m=s.get(t.stackedDimension,h);if(isNaN(m))return o;l?p=s.getRawIndex(h):f=s.get(t.stackedByDimension,h);for(var S=NaN,x=n-1;0<=x;x--){var V=e[x];if(l||(p=V.data.rawIndexOf(V.stackedByDimension,f)),0<=p){var Q=V.data.getByRawIndex(V.stackResultDimension,p);if(0<=m&&0<Q||m<=0&&Q<0){m+=Q,S=Q;break}}}return i[0]=m,i[1]=S,i});s.hostModel.setData(u),t.data=u})}function o1(e,t){No.isInstance(e)||(e=No.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===Gd&&(this._offset=0,this._dimSize=t,this._data=n),ne(this,zM[i===Fu?i+"_"+e.seriesLayoutBy:i])}var Vp=o1.prototype;Vp.pure=!1;var zM={arrayRows_column:{pure:Vp.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Hp},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var o=n[i];t.push(o?o[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:a1,getItem:s1,appendData:Hp},keyedColumns:{pure:!0,count:function(){var t=this._data[this._source.dimensionsDefine[0].name];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var o=this._data[n[i].name];t.push(o?o[e]:null)}return t},appendData:function(e){var t=this._data;ee(e,function(n,i){for(var o=t[i]||(t[i]=[]),a=0;a<(n||[]).length;a++)o.push(n[a])})}},original:{count:a1,getItem:s1,appendData:Hp},typedArray:{persistent:!(Vp.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){t=t||[];for(var n=this._dimSize*(e-=this._offset),i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function a1(){return this._data.length}function s1(e){return this._data[e]}function Hp(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var FM={arrayRows:Wp,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:Wp,original:function(e,t,n,i){var o=Cu(e);return null!=n&&o instanceof Array?o[n]:o},typedArray:Wp};function Wp(e,t,n,i){return null!=n?e[n]:e}var l1={arrayRows:u1,objectRows:function(e,t,n,i){return Gp(e[t],this._dimensionInfos[t])},keyedColumns:u1,original:function(e,t,n,i){var o=e&&(null==e.value?e:e.value);return!this._rawData.pure&&function(a){return yl(a)&&!(a instanceof Array)}(e)&&(this.hasItemOption=!0),Gp(o instanceof Array?o[i]:o,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}};function u1(e,t,n,i){return Gp(e[i],this._dimensionInfos[t])}function Gp(e,t){var n=t&&t.type;if("ordinal"!==n)return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Bu(e)),null==e||""===e?NaN:+e;var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}function Ls(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var o,a,s=e.getProvider().getSource().sourceFormat,l=e.getDimensionInfo(n);return l&&(o=l.name,a=l.index),FM[s](i,t,a,o)}}}function c1(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===Ns||i===Vu){var o=e.getRawDataItem(t);return i!==Ns||xt(o)||(o=null),o?o[n]:void 0}}}var VM=/\{@(.+?)\}/g,Up={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),o=n.getRawIndex(e),a=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"color"),u=n.getItemVisual(e,"borderColor"),c=this.ecModel.getComponent("tooltip"),d=E0(c&&c.get("renderMode")),h=this.mainType,f="series"===h,p=n.userOutput;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:o,data:s,dataType:t,value:i,color:l,borderColor:u,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:zd({color:l,renderMode:d}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,o){t=t||"normal";var a=this.getData(n),s=a.getItemModel(e),l=this.getDataParams(e,n);null!=i&&l.value instanceof Array&&(l.value=l.value[i]);var u=s.get("normal"===t?[o||"label","formatter"]:[t,o||"label","formatter"]);return"function"==typeof u?(l.status=t,l.dimensionIndex=i,u(l)):"string"==typeof u?Mp(u,l).replace(VM,function(c,d){var h=d.length;return"["===d.charAt(0)&&"]"===d.charAt(h-1)&&(d=+d.slice(1,h-1)),Ls(a,e,d)}):void 0},getRawValue:function(e,t){return Ls(this.getData(t),e)},formatTooltip:function(){}};function Uu(e){return new d1(e)}function d1(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}var Ga=d1.prototype;Ga.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var a,s=d(this._modBy),l=this._modDataCount||0,u=d(e&&e.modBy),c=e&&e.modDataCount||0;function d(V){return 1<=V||(V=1),V}s===u&&l===c||(t="reset"),!this._dirty&&"reset"!==t||(this._dirty=!1,a=function(V,Q){var K,ce;V._dueIndex=V._outputDueEnd=V._dueEnd=0,V._settedOutputEnd=null,!Q&&V._reset&&((K=V._reset(V.context))&&K.progress&&(ce=K.forceFirstProgress,K=K.progress),it(K)&&!K.length&&(K=null)),V._progress=K,V._modBy=V._modDataCount=null;var ue=V._downstream;return ue&&ue.dirty(),ce}(this,i)),this._modBy=u,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(a||f<p)){var m=this._progress;if(it(m))for(var S=0;S<m.length;S++)p1(this,m[S],f,p,u,c);else p1(this,m,f,p,u,c)}this._dueIndex=p,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var jp,Ua,qd,Yd,qp,h1,f1=h1={reset:function(e,t,n,i){Ua=e,jp=t,qd=n,Yd=i,qp=Math.ceil(Yd/qd),h1.next=1<qd&&0<Yd?WM:HM}};function HM(){return Ua<jp?Ua++:null}function WM(){var e=Ua%qp*qd+Math.ceil(Ua/qp),t=jp<=Ua?null:e<Yd?e:Ua;return Ua++,t}function p1(e,t,n,i,o,a){f1.reset(n,i,o,a),e._callingProgress=t,e._callingProgress({start:n,end:i,count:i-n,next:f1.next},e.context)}Ga.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Ga.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Ga.pipe=function(e){this._downstream===e&&!this._dirty||((this._downstream=e)._upstream=this,e.dirty())},Ga.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Ga.getUpstream=function(){return this._upstream},Ga.getDownstream=function(){return this._downstream},Ga.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var ju=jr(),Yi=Mi.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Uu({count:GM,reset:UM}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),Yy(this);var o=this.getInitialData(e,n);m1(o,this),this.dataTask.context.data=o,ju(this).dataBeforeProcessed=o,g1(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?Al(e):{},o=this.subType;Mi.hasClass(o)&&(o+="Series"),ae(e,t.getTheme().get(this.subType)),ae(e,this.getDefaultOption()),xs(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Wa(e,i,n)},mergeOption:function(e,t){e=ae(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Wa(this.option,e,n),Yy(this);var i=this.getInitialData(e,t);m1(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,ju(this).dataBeforeProcessed=i,g1(this)},fillDataTextStyle:function(e){if(e&&!pn(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&xs(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=Yp(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return ju(this).data},setData:function(e){var t=Yp(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}ju(this).data=e},getSource:function(){return function(e){return Il(e).source}(this)},getRawData:function(){return ju(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,i){var o=this,a="html"===(i=i||"html")?"<br/>":"\n",s="richText"===i,l={},u=0,d=this.getData(),h=d.mapDimension("defaultedTooltip",!0),f=h.length,p=this.getRawValue(e),m=it(p),S=d.getItemVisual(e,"color");xt(S)&&S.colorStops&&(S=(S.colorStops[0]||{}).color),S=S||"transparent";var x=(1<f||m&&!f?function(de){var ge=Ne(de,function(Qe,et,ot){var ht=d.getDimensionInfo(ot);return Qe|(ht&&!1!==ht.tooltip&&null!=ht.displayName)},0),Ce=[];function Pe(Qe,et){var ot=d.getDimensionInfo(et);if(ot&&!1!==ot.otherDims.tooltip){var ht=ot.type,pt="sub"+o.seriesIndex+"at"+u,ut=zd({color:S,type:"subItem",renderMode:i,markerId:pt}),Zt=(ge?("string"==typeof ut?ut:ut.content)+Wi(ot.displayName||"-")+": ":"")+Wi("ordinal"===ht?Qe+"":"time"===ht?t?"":Tp("yyyy/MM/dd hh:mm:ss",Qe):Ha(Qe));Zt&&Ce.push(Zt),s&&(l[pt]=S,++u)}}h.length?ee(h,function(Qe){Pe(Ls(d,e,Qe),Qe)}):ee(de,Pe);var Fe=ge?s?"\n":"<br/>":"",Ge=Fe+Ce.join(Fe||", ");return{renderMode:i,content:Ge,style:l}}(p):function c(de){return{renderMode:i,content:Wi(Ha(de)),style:l}}(f?Ls(d,e,h[0]):m?p[0]:p)).content,V=o.seriesIndex+"at"+u,Q=zd({color:S,type:"item",renderMode:i,markerId:V});l[V]=S,++u;var K=d.getName(e),ce=this.name;$f(this)||(ce=""),ce=ce?Wi(ce)+(t?": ":a):"";var ue="string"==typeof Q?Q:Q.content;return{html:t?ue+ce+x:ce+ue+(K?Wi(K)+": "+x:x),markers:l}},isAnimationEnabled:function(){if(xe.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel;return Dp.getColorFromPalette.call(this,e,t,n)||i.getColorFromPalette(e,t,n)},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function g1(e){var t=e.name;$f(e)||(e.name=function(n){var i=n.getRawData(),o=i.mapDimension("seriesName",!0),a=[];return ee(o,function(s){var l=i.getDimensionInfo(s);l.displayName&&a.push(l.displayName)}),a.join(" ")}(e)||t)}function GM(e){return e.model.getRawData().count()}function UM(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),jM}function jM(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function m1(e,t){ee(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,gt(qM,t))})}function qM(e){var t=Yp(e);t&&t.setOutputEnd(this.count())}function Yp(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(e.uid))}return i}}be(Yi,Up),be(Yi,Dp);var Xo=function(){this.group=new y,this.uid=Eu("viewComponent")};Xo.prototype={constructor:Xo,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){},filterForExposedEvent:null};var Xp=Xo.prototype;function kl(){var e=jr();return function(t){var n=e(t),i=t.pipelineContext,o=n.large,a=n.progressiveRender,s=n.large=i&&i.large,l=n.progressiveRender=i&&i.progressiveRender;return!!(o^s||a^l)&&"reset"}}Xp.updateView=Xp.updateLayout=Xp.updateVisual=function(e,t,n,i){},Su(Xo),fd(Xo,{registerWhenExtend:!0});var v1=jr(),YM=kl();function mr(){this.group=new y,this.uid=Eu("viewChart"),this.renderTask=Uu({plan:XM,reset:ZM}),this.renderTask.context={view:this}}var Zp=mr.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){y1(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){y1(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function $p(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!Pd(e)))for(var i=0,o=e.childCount();i<o;i++)$p(e.childAt(i),t,n)}function y1(e,t,n){var i=cd(e,t),o=t&&null!=t.highlightKey?Cy(t.highlightKey):null;null!=i?ee(br(i),function(a){$p(e.getItemGraphicEl(a),n,o)}):e.eachItemGraphicEl(function(a){$p(a,n,o)})}function XM(e){return YM(e.model)}function ZM(e){var t=e.model,n=e.ecModel,i=e.api,o=e.payload,a=t.pipelineContext.progressiveRender,s=e.view,l=o&&v1(o).updateMethod,u=a?"incrementalPrepareRender":l&&s[l]?l:"render";return"render"!==u&&s[u](t,n,i,o),$M[u]}Zp.updateView=Zp.updateLayout=Zp.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},Su(mr),fd(mr,{registerWhenExtend:!0}),mr.markUpdateMethod=function(e,t){v1(e).updateMethod=t};var $M={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Xd="\0__throttleOriginMethod",x1="\0__throttleRate",b1="\0__throttleType";function Zd(e,t,n){var i,o,a,s,l,u=0,c=0,d=null;function h(){c=(new Date).getTime(),d=null,e.apply(a,s||[])}function f(){i=(new Date).getTime(),a=this,s=arguments;var p=l||t,m=l||n;l=null,o=i-(m?u:c)-p,clearTimeout(d),m?d=setTimeout(h,p):0<=o?h():d=setTimeout(h,-o),u=i}return t=t||0,f.clear=function(){d&&(clearTimeout(d),d=null)},f.debounceNextCall=function(p){l=p},f}function qu(e,t,n,i){var o=e[t];if(o){var a=o[Xd]||o;if(o[x1]!==n||o[b1]!==i){if(null==n||!i)return e[t]=a;(o=e[t]=Zd(a,n,"debounce"===i))[Xd]=a,o[b1]=i,o[x1]=n}return o}}function _1(e,t){var n=e[t];n&&n[Xd]&&(e[t]=n[Xd])}var KM={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i),a=!Vt(o)||o instanceof jo?null:o;o&&!a||(o=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",o);var s=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),l=e.get(s);if(n.setVisual("borderColor",l),!t.isSeriesFiltered(e))return a&&n.each(function(u){n.setItemVisual(u,"color",a(e.getDataParams(u)))}),{dataEach:n.hasItemOption?function(u,c){var d=u.getItemModel(c),h=d.get(i,!0),f=d.get(s,!0);null!=h&&u.setItemVisual(c,"color",h),null!=f&&u.setItemVisual(c,"borderColor",f)}:null}}},ya={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},JM=function(e,t){var f,n=t.getModel("aria");if(n.get("show"))if(n.get("description"))e.setAttribute("aria-label",n.get("description"));else{var i=0;t.eachSeries(function(f,p){++i},this);var o,a=n.get("data.maxCount")||10,s=n.get("series.maxCount")||10,l=Math.min(i,s);if(!(i<1)){var u=((f=t.getModel("title").option)&&f.length&&(f=f[0]),f&&f.text);o=u?d(h("general.withTitle"),{title:u}):h("general.withoutTitle");var c=[];o+=d(h(1<i?"series.multiple.prefix":"series.single.prefix"),{seriesCount:i}),t.eachSeries(function(f,p){if(p<l){var m,S=f.get("name"),x="series."+(1<i?"multiple":"single")+".";m=d(m=h(S?x+"withName":x+"withoutName"),{seriesId:f.seriesIndex,seriesName:f.get("name"),seriesType:(de=f.subType,ya.series.typeNames[de]||"\u81ea\u5b9a\u4e49\u56fe")});var V=f.getData();(window.data=V).count()>a?m+=d(h("data.partialData"),{displayCnt:a}):m+=h("data.allData");for(var Q=[],K=0;K<V.count();K++)if(K<a){var ce=V.getName(K),ue=Ls(V,K);Q.push(d(h(ce?"data.withName":"data.withoutName"),{name:ce,value:ue}))}m+=Q.join(h("data.separator.middle"))+h("data.separator.end"),c.push(m)}var de}),o+=c.join(h("series.multiple.separator.middle"))+h("series.multiple.separator.end"),e.setAttribute("aria-label",o)}}function d(f,p){if("string"!=typeof f)return f;var m=f;return ee(p,function(S,x){m=m.replace(new RegExp("\\{\\s*"+x+"\\s*\\}","g"),S)}),m}function h(f){var p=n.get(f);if(null!=p)return p;for(var m=f.split("."),S=ya.aria,x=0;x<m.length;++x)S=S[m[x]];return S}},$d=Math.PI;function Kd(e,t,n,i){this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i),this._stageTaskMap=zt()}var _o=Kd.prototype;function w1(e,t,n,i,o){var a;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}o=o||{},ee(t,function(l,u){if(!o.visualType||o.visualType===l.visualType){var c=e._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var f,p=h.agentStubMap;p.each(function(S){s(o,S)&&(S.dirty(),f=!0)}),f&&h.dirty(),C1(h,i);var m=e.getPerformArgs(h,o.block);p.each(function(S){S.perform(m)}),a|=h.perform(m)}else d&&d.each(function(S,x){s(o,S)&&S.dirty();var V=e.getPerformArgs(S,o.block);V.skip=!l.performRawSeries&&n.isSeriesFiltered(S.context.model),C1(S,i),a|=S.perform(V)})}}),e.unfinished|=a}_o.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},_o.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,o=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,a=i&&i.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},_o.getPipeline=function(e){return this._pipelineMap.get(e)},_o.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,a=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:s,large:a}},_o.restorePipelines=function(e){var t=this,n=t._pipelineMap=zt();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;n.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),Jd(t,i,i.dataTask)})},_o.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;ee(this._allHandlers,function(i){var o=e.get(i.uid)||e.set(i.uid,[]);i.reset&&function(a,s,l,u,c){var d=l.seriesTaskMap||(l.seriesTaskMap=zt()),h=s.seriesType,f=s.getTargetSeries;function p(S){var x=S.uid,V=d.get(x)||d.set(x,Uu({plan:iT,reset:rT,count:aT}));V.context={model:S,ecModel:u,api:c,useClearVisual:s.isVisual&&!s.isLayout,plan:s.plan,reset:s.reset,scheduler:a},Jd(a,S,V)}s.createOnAllSeries?u.eachRawSeries(p):h?u.eachRawSeriesByType(h,p):f&&f(u,c).each(p);var m=a._pipelineMap;d.each(function(S,x){m.get(x)||(S.dispose(),d.removeKey(x))})}(this,i,o,t,n),i.overallReset&&function(a,s,l,u,c){var d=l.overallTask=l.overallTask||Uu({reset:QM});d.context={ecModel:u,api:c,overallReset:s.overallReset,scheduler:a};var h=d.agentStubMap=d.agentStubMap||zt(),f=s.seriesType,p=s.getTargetSeries,m=!0,S=s.modifyOutputEnd;function x(Q){var K=Q.uid,ce=h.get(K);ce||(ce=h.set(K,Uu({reset:eT,onDirty:nT})),d.dirty()),ce.context={model:Q,overallProgress:m,modifyOutputEnd:S},ce.agent=d,ce.__block=m,Jd(a,Q,ce)}f?u.eachRawSeriesByType(f,x):p?p(u,c).each(x):(m=!1,ee(u.getSeries(),x));var V=a._pipelineMap;h.each(function(Q,K){V.get(K)||(Q.dispose(),d.dirty(),h.removeKey(K))})}(this,i,o,t,n)},this)},_o.prepareView=function(e,t,n,i){var o=e.renderTask,a=o.context;a.model=t,a.ecModel=n,a.api=i,o.__block=!e.incrementalPrepareRender,Jd(this,t,o)},_o.performDataProcessorTasks=function(e,t){w1(this,this._dataProcessorHandlers,e,t,{block:!0})},_o.performVisualTasks=function(e,t,n){w1(this,this._visualHandlers,e,t,n)},_o.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t},_o.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var C1=_o.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function QM(e){e.overallReset(e.ecModel,e.api,e.payload)}function eT(e,t){return e.overallProgress&&tT}function tT(){this.agent.dirty(),this.getDownstream().dirty()}function nT(){this.agent&&this.agent.dirty()}function iT(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function rT(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=br(e.reset(e.model,e.ecModel,e.api,e.payload));return 1<t.length?Me(t,function(n,i){return S1(i)}):oT}var oT=S1(0);function S1(e){return function(t,n){var i=n.data,o=n.resetDefines[e];if(o&&o.dataEach)for(var a=t.start;a<t.end;a++)o.dataEach(i,a);else o&&o.progress&&o.progress(t,i)}}function aT(e){return e.data.count()}function Jd(e,t,n){var o=e._pipelineMap.get(t.uid);o.head||(o.head=n),o.tail&&o.tail.pipe(n),(o.tail=n).__idxInPipeline=o.count++,n.__pipeline=o}Kd.wrapStageHandler=function(e,t){return Vt(e)&&(e={overallReset:e,seriesType:function(n){Qd=null;try{n(Yu,M1)}catch{}return Qd}(e)}),e.uid=Eu("stageHandler"),t&&(e.visualType=t),e};var Qd,Yu={},M1={};function T1(e,t){for(var n in t.prototype)e[n]=cn}function eh(){return{axisLine:{lineStyle:{color:wr}},axisTick:{lineStyle:{color:wr}},axisLabel:{textStyle:{color:wr}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:wr}}}}T1(Yu,Ep),T1(M1,Qy),Yu.eachSeriesByType=Yu.eachRawSeriesByType=function(e){Qd=e},Yu.eachComponent=function(e){"series"===e.mainType&&e.subType&&(Qd=e.subType)};var A1=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],sT={color:A1,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],A1]},wr="#eee",Kp=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],I1={color:Kp,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:wr},crossStyle:{color:wr},label:{color:"#000"}}},legend:{textStyle:{color:wr}},textStyle:{color:wr},title:{textStyle:{color:wr}},toolbox:{iconStyle:{normal:{borderColor:wr}}},dataZoom:{textStyle:{color:wr}},visualMap:{textStyle:{color:wr}},timeline:{lineStyle:{color:wr},itemStyle:{normal:{color:Kp[1]}},label:{normal:{textStyle:{color:wr}}},controlStyle:{normal:{color:wr,borderColor:wr}}},timeAxis:eh(),logAxis:eh(),valueAxis:eh(),categoryAxis:eh(),line:{symbol:"circle"},graph:{color:Kp},gauge:{title:{textStyle:{color:wr}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};I1.categoryAxis.splitLine.show=!1,Mi.extend({type:"dataset",defaultOption:{seriesLayoutBy:qy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(e){var t=e.option.source,n=jy;if(pn(t))n=Gd;else if(it(t)){0===t.length&&(n=Fu);for(var i=0,o=t.length;i<o;i++){var a=t[i];if(null!=a){if(it(a)){n=Fu;break}if(xt(a)){n=Vu;break}}}}else if(xt(t)){for(var s in t)if(t.hasOwnProperty(s)&&ke(t[s])){n=Hu;break}}else if(null!=t)throw new Error("Invalid data");Il(e).sourceFormat=n}(this)}}),Xo.extend({type:"dataset"});var lT=mi.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.rx,a=t.ry,s=.5522848*o,l=.5522848*a;e.moveTo(n-o,i),e.bezierCurveTo(n-o,i-l,n-s,i-a,n,i-a),e.bezierCurveTo(n+s,i-a,n+o,i-l,n+o,i),e.bezierCurveTo(n+o,i+l,n+s,i+a,n,i+a),e.bezierCurveTo(n-s,i+a,n-o,i+l,n-o,i),e.closePath()}}),ja=/[\s,]+/;function k1(e){for(dt(e)&&(e=(new DOMParser).parseFromString(e,"text/xml")),9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function th(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}th.prototype.parse=function(e,t){t=t||{};var n=k1(e);if(!n)throw new Error("Illegal svg");var i=new y;this._root=i;var o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),io(n,i,null,!0);for(var l,u,c=n.firstChild;c;)this._parseNode(c,i),c=c.nextSibling;if(o){var d=Un(o).split(ja);4<=d.length&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=a&&null!=s&&(u=L1(l,a,s),!t.ignoreViewBox)){var h=i;(i=new y).add(h),h.scale=u.scale.slice(),h.position=u.position.slice()}return t.ignoreRootClip||null==a||null==s||i.setClipPath(new Si({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u}},th.prototype._parseNode=function(e,t){var n,i,o=e.nodeName.toLowerCase();if("defs"===o?this._isDefine=!0:"text"===o&&(this._isText=!0),this._isDefine){if(i=cT[o]){var a=i.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=a)}}else(i=uT[o])&&(n=i.call(this,e,t),t.add(n));for(var l=e.firstChild;l;)1===l.nodeType&&this._parseNode(l,n),3===l.nodeType&&this._isText&&this._parseText(l,n),l=l.nextSibling;"defs"===o?this._isDefine=!1:"text"===o&&(this._isText=!1)},th.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var o=new fi({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});wo(t,o),io(e,o,this._defs);var a=o.style.fontSize;a&&a<9&&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=a/9,o.scale[1]*=a/9);var s=o.getBoundingRect();return this._textX+=s.width,t.add(o),o};var uT={g:function(e,t){var n=new y;return wo(t,n),io(e,n,this._defs),n},rect:function(e,t){var n=new Si;return wo(t,n),io(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new Uo;return wo(t,n),io(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new _r;return wo(t,n),io(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new lT;return wo(t,n),io(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n=n&&D1(n);var i=new Zr({shape:{points:n||[]}});return wo(t,i),io(e,i,this._defs),i},polyline:function(e,t){var n=new mi;wo(t,n),io(e,n,this._defs);var i=e.getAttribute("points");return i=i&&D1(i),new vo({shape:{points:i||[]}})},image:function(e,t){var n=new gi;return wo(t,n),io(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,i=e.getAttribute("y")||0,o=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(a);var s=new y;return wo(t,s),io(e,s,this._defs),s},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var o=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0,s=new y;return wo(t,s),io(e,s,this._defs),this._textX+=o,this._textY+=a,s},path:function(e,t){var n=iy(e.getAttribute("d")||"");return wo(t,n),io(e,n,this._defs),n}},cT={lineargradient:function(e){var a=new Ss(parseInt(e.getAttribute("x1")||0,10),parseInt(e.getAttribute("y1")||0,10),parseInt(e.getAttribute("x2")||10,10),parseInt(e.getAttribute("y2")||0,10));return function(s,l){for(var u=s.firstChild;u;){if(1===u.nodeType){var c=u.getAttribute("offset");c=0<c.indexOf("%")?parseInt(c,10)/100:c?parseFloat(c):0;var d=u.getAttribute("stop-color")||"#000000";l.addColorStop(c,d)}u=u.nextSibling}}(e,a),a},radialgradient:function(e){}};function wo(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),pe(t.__inheritedStyle,e.__inheritedStyle))}function D1(e){for(var t=Un(e).split(ja),n=[],i=0;i<t.length;i+=2){var o=parseFloat(t[i]),a=parseFloat(t[i+1]);n.push([o,a])}return n}var Dl={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function io(e,t,n,i){var o=t.__inheritedStyle||{},a="text"===t.type;if(1===e.nodeType&&(function(h,f){var p=h.getAttribute("transform");if(p){p=p.replace(/,/g," ");var m=null,S=[];p.replace(hT,function(K,ce,ue){S.push(ce,ue)});for(var x=S.length-1;0<x;x-=2){var V=S[x],Q=S[x-1];switch(m=m||yr(),Q){case"translate":V=Un(V).split(ja),Mr(m,m,[parseFloat(V[0]),parseFloat(V[1]||0)]);break;case"scale":V=Un(V).split(ja),la(m,m,[parseFloat(V[0]),parseFloat(V[1]||V[0])]);break;case"rotate":V=Un(V).split(ja),Ao(m,m,parseFloat(V[0]));break;case"skew":V=Un(V).split(ja),console.warn("Skew transform is not supported yet");break;case"matrix":V=Un(V).split(ja),m[0]=parseFloat(V[0]),m[1]=parseFloat(V[1]),m[2]=parseFloat(V[2]),m[3]=parseFloat(V[3]),m[4]=parseFloat(V[4]),m[5]=parseFloat(V[5])}}f.setLocalTransform(m)}}(e,t),ne(o,function(h){var f=h.getAttribute("style"),p={};if(!f)return p;var m,S={};for(P1.lastIndex=0;null!=(m=P1.exec(f));)S[m[1]]=m[2];for(var x in Dl)Dl.hasOwnProperty(x)&&null!=S[x]&&(p[Dl[x]]=S[x]);return p}(e)),!i))for(var s in Dl)if(Dl.hasOwnProperty(s)){var l=e.getAttribute(s);null!=l&&(o[Dl[s]]=l)}var u=a?"textFill":"fill",c=a?"textStroke":"stroke";t.style=t.style||new Xe;var d=t.style;null!=o.fill&&d.set(u,N1(o.fill,n)),null!=o.stroke&&d.set(c,N1(o.stroke,n)),ee(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){null!=o[h]&&d.set("lineWidth"===h&&a?"textStrokeWidth":h,parseFloat(o[h]))}),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),ee(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(h){null!=o[h]&&d.set(h,o[h])}),o.lineDash&&(t.style.lineDash=Un(o.lineDash).split(ja)),d[c]&&"none"!==d[c]&&(t[c]=!0),t.__inheritedStyle=o}var dT=/url\(\s*#(.*?)\)/;function N1(e,t){var n=t&&e&&e.match(dT);return n?t[Un(n[1])]:e}var hT=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,P1=/([^\s:;]+)\s*:\s*([^:;]+)/g;function L1(e,t,n){var a=Math.min(t/e.width,n/e.height);return{scale:[a,a],position:[-(e.x+e.width/2)*a+t/2,-(e.y+e.height/2)*a+n/2]}}var R1=zt(),nh={registerMap:function(e,t,n){var i;return ee(i=it(t)?t:t.svg?[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),[{type:"geoJSON",source:t,specialAreas:n}]),function(o){var a=o.type;"geoJson"===a&&(a=o.type="geoJSON"),(0,fT[a])(o)}),R1.set(e,i)},retrieveMap:function(e){return R1.get(e)}},fT={geoJSON:function(e){var t=e.source;e.geoJSON=dt(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=k1(e.source)}},pT=Kn,cr=ee,gT=Vt,Xu=xt,Jp=Mi.parseClassType,Zo={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},$o="__flagInMainProcess",qa="__optionUpdated",E1=/^[a-zA-Z0-9_]+$/;function Nl(e,t){return function(n,i,o){!t&&this._disposed||(n=n&&n.toLowerCase(),Bi.prototype[e].call(this,n,i,o))}}function Zu(){Bi.call(this)}function $u(e,t,n){n=n||{},"string"==typeof t&&(t=j1[t]),this._dom=e;var i=this._zr=qf(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=Zd(Ke(i.flush,i),17),(t=Y(t))&&r1(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Nr;var s,l,o=this._api=(l=(s=this)._coordSysMgr,ne(new Qy(s),{getCoordinateSystems:Ke(l.getCoordinateSystems,l),getComponentByElement:function(u){for(;u;){var c=u.__ecComponentInfo;if(null!=c)return s._model.getComponent(c.mainType,c.index);u=u.parent}}}));function a(s,l){return s.__prio-l.__prio}Re(sh,a),Re(ig,a),this._scheduler=new Kd(this,o,ig,sh),Bi.call(this,this._ecEventProcessor=new ng),this._messageCenter=new Zu,this._initEvents(),this.resize=Ke(this.resize,this),this._pendingActions=[],i.animation.on("frame",this._onframe,this),function(s,l){s.on("rendered",function(){l.trigger("rendered"),!s.animation.isFinished()||l[qa]||l._scheduler.unfinished||l._pendingActions.length||l.trigger("finished")})}(i,this),bi(this)}Zu.prototype.on=Nl("on",!0),Zu.prototype.off=Nl("off",!0),Zu.prototype.one=Nl("one",!0),be(Zu,Bi);var Ni=$u.prototype;function O1(e,t,n){if(!this._disposed){var i,o=this._model,a=this._coordSysMgr.getCoordinateSystems();t=dd(o,t);for(var s=0;s<a.length;s++){var l=a[s];if(l[e]&&null!=(i=l[e](o,t,n)))return i}}}Ni._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[qa]){var t=this[qa].silent;this[$o]=!0,Ku(this),Ya.update.call(this),this[$o]=!1,this[qa]=!1,ih.call(this,t),rh.call(this,t)}else if(e.unfinished){var n=1,i=this._model;e.unfinished=!1;do{var a=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),z1(this,i),e.performVisualTasks(i),eg(this,this._model,0,"remain"),n-=+new Date-a}while(0<n&&e.unfinished);e.unfinished||this._zr.flush()}}},Ni.getDom=function(){return this._dom},Ni.getZr=function(){return this._zr},Ni.setOption=function(e,t,n){if(!this._disposed){var i;if(Xu(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[$o]=!0,!this._model||t){var o=new zp(this._api),a=this._theme,s=this._model=new Ep;s.scheduler=this._scheduler,s.init(null,null,a,o)}this._model.setOption(e,G1),n?(this[qa]={silent:i},this[$o]=!1):(Ku(this),Ya.update.call(this),this._zr.flush(),this[qa]=!1,this[$o]=!1,ih.call(this,i),rh.call(this,i))}},Ni.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Ni.getModel=function(){return this._model},Ni.getOption=function(){return this._model&&this._model.getOption()},Ni.getWidth=function(){return this._zr.getWidth()},Ni.getHeight=function(){return this._zr.getHeight()},Ni.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Ni.getRenderedCanvas=function(e){if(xe.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},Ni.getSvgDataURL=function(){if(xe.svgSupported){var e=this._zr;return ee(e.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),e.painter.toDataURL()}},Ni.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],o=this;cr(t,function(s){n.eachComponent({mainType:s},function(l){var u=o._componentsMap[l.__viewId];u.group.ignore||(i.push(u),u.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return cr(i,function(s){s.group.ignore=!1}),a}},Ni.getConnectedDataURL=function(e){if(!this._disposed&&xe.canvasSupported){var t="svg"===e.type,n=this.group,i=Math.min,o=Math.max;if(lh[n]){var a=1/0,s=1/0,l=-1/0,u=-1/0,c=[],d=e&&e.pixelRatio||1;ee(Rs,function(x,V){if(x.group===n){var Q=t?x.getZr().painter.getSvgDom().innerHTML:x.getRenderedCanvas(Y(e)),K=x.getDom().getBoundingClientRect();a=i(K.left,a),s=i(K.top,s),l=o(K.right,l),u=o(K.bottom,u),c.push({dom:Q,left:K.left,top:K.top})}});var h=(l*=d)-(a*=d),f=(u*=d)-(s*=d),p=we(),m=qf(p,{renderer:t?"svg":"canvas"});if(m.resize({width:h,height:f}),t){var S="";return cr(c,function(x){S+='<g transform="translate('+(x.left-a)+","+(x.top-s)+')">'+x.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=S,e.connectedBackgroundColor&&m.painter.setBackgroundColor(e.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}return e.connectedBackgroundColor&&m.add(new Si({shape:{x:0,y:0,width:h,height:f},style:{fill:e.connectedBackgroundColor}})),cr(c,function(x){var V=new gi({style:{x:x.left*d-a,y:x.top*d-s,image:x.dom}});m.add(V)}),m.refreshImmediately(),p.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},Ni.convertToPixel=gt(O1,"convertToPixel"),Ni.convertFromPixel=gt(O1,"convertFromPixel"),Ni.containPixel=function(e,t){var n;if(!this._disposed)return ee(e=dd(this._model,e),function(i,o){0<=o.indexOf("Models")&&ee(i,function(a){var s=a.coordinateSystem;if(s&&s.containPoint)n|=!!s.containPoint(t);else if("seriesModels"===o){var l=this._chartsMap[a.__viewId];l&&l.containPoint&&(n|=l.containPoint(t,a))}},this)},this),!!n},Ni.getVisual=function(e,t){var n=(e=dd(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),i=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?n.indexOfRawIndex(e.dataIndex):null;return null!=i?n.getItemVisual(i,t):n.getVisual(t)},Ni.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},Ni.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var Ya={prepareAndUpdate:function(e){Ku(this),Ya.update.call(this,e)},update:function(e){var t=this._model,n=this._api,i=this._zr,o=this._coordSysMgr,a=this._scheduler;if(t){a.restoreData(t,e),a.performSeriesTasks(t),o.create(t,n),a.performDataProcessorTasks(t,e),z1(this,t),o.update(t,n),Qp(t),a.performVisualTasks(t,e),H1(this,t,n,e);var s=t.get("backgroundColor")||"transparent";if(xe.canvasSupported)i.setBackgroundColor(s);else{var l=Ar(s);s=po(l,"rgb"),0===l[3]&&(s="transparent")}tg(t,n)}},updateTransform:function(e){var t=this._model,n=this,i=this._api;if(t){var o=[];t.eachComponent(function(s,l){var u=n.getViewOfComponentModel(l);if(u&&u.__alive)if(u.updateTransform){var c=u.updateTransform(l,t,i,e);c&&c.update&&o.push(u)}else o.push(u)});var a=zt();t.eachSeries(function(s){var l=n._chartsMap[s.__viewId];if(l.updateTransform){var u=l.updateTransform(s,t,i,e);u&&u.update&&a.set(s.uid,1)}else a.set(s.uid,1)}),Qp(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:a}),eg(n,t,0,e,a),tg(t,this._api)}},updateView:function(e){var t=this._model;t&&(mr.markUpdateMethod(e,"updateView"),Qp(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),H1(this,this._model,this._api,e),tg(t,this._api))},updateVisual:function(e){Ya.update.call(this,e)},updateLayout:function(e){Ya.update.call(this,e)}};function Ku(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),V1(e,"component",t,n),V1(e,"chart",t,n),n.plan()}function B1(e,t,n,i,o){var a=e._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};o&&(l.subType=o);var u=n.excludeSeriesId;null!=u&&(u=zt(br(u))),a&&a.eachComponent(l,function(d){u&&null!=u.get(d.id)||c(e["series"===i?"_chartsMap":"_componentsMap"][d.__viewId])},e)}else cr(e._componentsViews.concat(e._chartsViews),c);function c(d){d&&d.__alive&&d[t]&&d[t](d.__model,a,e._api,n)}}function z1(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(o){i.updateStreamModes(o,n[o.__viewId])})}function F1(e,t){var n=e.type,i=e.escapeConnect,o=oh[n],a=o.actionInfo,s=(a.update||"update").split(":"),l=s.pop();s=null!=s[0]&&Jp(s[0]),this[$o]=!0;var u=[e],c=!1;e.batch&&(c=!0,u=Me(e.batch,function(p){return(p=pe(ne({},p),e)).batch=null,p}));var d,h=[],f="highlight"===n||"downplay"===n;cr(u,function(p){(d=(d=o.action(p,this._model,this._api))||ne({},p)).type=a.event||d.type,h.push(d),f?B1(this,l,p,"series"):s&&B1(this,l,p,s.main,s.sub)},this),"none"===l||f||s||(this[qa]?(Ku(this),Ya.update.call(this,e),this[qa]=!1):Ya[l].call(this,e)),d=c?{type:a.event||n,escapeConnect:i,batch:h}:h[0],this[$o]=!1,t||this._messageCenter.trigger(d.type,d)}function ih(e){for(var t=this._pendingActions;t.length;){var n=t.shift();F1.call(this,n,e)}}function rh(e){e||this.trigger("updated")}function V1(e,t,n,i){for(var o="component"===t,a=o?e._componentsViews:e._chartsViews,s=o?e._componentsMap:e._chartsMap,l=e._zr,u=e._api,c=0;c<a.length;c++)a[c].__alive=!1;function d(f){var p="_ec_"+f.id+"_"+f.type,m=s[p];if(!m){var S=Jp(f.type);(m=new(o?Xo.getClass(S.main,S.sub):mr.getClass(S.sub))).init(n,u),s[p]=m,a.push(m),l.add(m.group)}f.__viewId=m.__id=p,m.__alive=!0,m.__model=f,m.group.__ecComponentInfo={mainType:f.mainType,index:f.componentIndex},o||i.prepareView(m,f,n,u)}for(o?n.eachComponent(function(f,p){"series"!==f&&d(p)}):n.eachSeries(d),c=0;c<a.length;){var h=a[c];h.__alive?c++:(o||h.renderTask.dispose(),l.remove(h.group),h.dispose(n,u),a.splice(c,1),delete s[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Qp(e){e.clearColorPalette(),e.eachSeries(function(t){t.clearColorPalette()})}function H1(e,t,n,i){(function(o,a,s,l,u){cr(o._componentsViews,function(c){var d=c.__model;c.render(d,a,s,l),W1(d,c)})})(e,t,n,i),cr(e._chartsViews,function(o){o.__alive=!1}),eg(e,t,0,i),cr(e._chartsViews,function(o){o.__alive||o.remove(t,n)})}function eg(e,t,n,i,o){var a,l,u,d,s=e._scheduler;t.eachSeries(function(l){var u=e._chartsMap[l.__viewId];u.__alive=!0;var h,f,c=u.renderTask;s.updatePayload(c,i),o&&o.get(l.uid)&&c.dirty(),a|=c.perform(s.getPerformArgs(c)),u.group.silent=!!l.get("silent"),W1(l,u),h=u,f=l.get("blendMode")||null,h.group.traverse(function(p){p.isGroup||p.style.blend!==f&&p.setStyle("blend",f),p.eachPendingDisplayable&&p.eachPendingDisplayable(function(m){m.setStyle("blend",f)})})}),s.unfinished|=a,u=t,d=0,(l=e)._zr.storage.traverse(function(h){d++}),d>u.get("hoverLayerThreshold")&&!xe.node&&u.eachSeries(function(h){if(!h.preventUsingHoverLayer){var f=l._chartsMap[h.__viewId];f.__alive&&f.group.traverse(function(p){p.useHoverLayer=!0})}}),JM(e._zr.dom,t)}function tg(e,t){cr(U1,function(n){n(e,t)})}Ni.resize=function(e){if(!this._disposed){this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[$o]=!0,n&&Ku(this),Ya.update.call(this),this[$o]=!1,ih.call(this,i),rh.call(this,i)}}},Ni.showLoading=function(e,t){if(!this._disposed&&(Xu(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),rg[e])){var n=rg[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},Ni.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},Ni.makeActionFromEvent=function(e){var t=ne({},e);return t.type=ah[e.type],t},Ni.dispatchAction=function(e,t){this._disposed||(Xu(t)||(t={silent:!!t}),oh[e.type]&&this._model&&(this[$o]?this._pendingActions.push(e):(F1.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&xe.browser.weChat&&this._throttledZrFlush(),ih.call(this,t.silent),rh.call(this,t.silent))))},Ni.appendData=function(e){if(!this._disposed){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0}},Ni.on=Nl("on",!1),Ni.off=Nl("off",!1),Ni.one=Nl("one",!1);var mT=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function W1(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(o){"group"!==o.type&&(null!=n&&(o.z=n),null!=i&&(o.zlevel=i))})}function ng(){}Ni._initEvents=function(){cr(mT,function(e){function t(n){var i,o=this.getModel(),a=n.target;if("globalout"===e)i={};else if(a&&null!=a.dataIndex){var s=a.dataModel||o.getSeriesByIndex(a.seriesIndex);i=s&&s.getDataParams(a.dataIndex,a.dataType,a)||{}}else a&&a.eventData&&(i=ne({},a.eventData));if(i){var l=i.componentType,u=i.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",u=i.seriesIndex);var c=l&&null!=u&&o.getComponent(l,u),d=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];i.event=n,i.type=e,this._ecEventProcessor.eventInfo={targetEl:a,packedEvent:i,model:c,view:d},this.trigger(e,i)}}t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)},this),cr(ah,function(e,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)},Ni.isDisposed=function(){return this._disposed},Ni.clear=function(){this._disposed||this.setOption({series:[]},!0)},Ni.dispose=function(){if(!this._disposed){this._disposed=!0,R0(this.getDom(),og,"");var e=this._api,t=this._model;cr(this._componentsViews,function(n){n.dispose(t,e)}),cr(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Rs[this.id]}},be($u,Bi),ng.prototype={constructor:ng,normalizeQuery:function(e){var t={},n={},i={};if(dt(e)){var o=Jp(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};ee(e,function(l,u){for(var c=!1,d=0;d<a.length;d++){var h=a[d],f=u.lastIndexOf(h);if(0<f&&f===u.length-h.length){var p=u.slice(0,f);"data"!==p&&(t.mainType=p,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},filter:function(e,t,n){var i=this.eventInfo;if(!i)return!0;var o=i.targetEl,a=i.packedEvent,s=i.model,l=i.view;if(!s||!l)return!0;var u=t.cptQuery,c=t.dataQuery;return d(u,s,"mainType")&&d(u,s,"subType")&&d(u,s,"index","componentIndex")&&d(u,s,"name")&&d(u,s,"id")&&d(c,a,"name")&&d(c,a,"dataIndex")&&d(c,a,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(e,t.otherQuery,o,a));function d(h,f,p,m){return null==h[p]||f[m||p]===h[p]}},afterTrigger:function(){this.eventInfo=null}};var oh={},ah={},ig=[],G1=[],U1=[],sh=[],j1={},rg={},Rs={},lh={},vT=new Date-0,yT=new Date-0,og="_echarts_instance_";function q1(e){lh[e]=!1}var xT=q1;function ag(e){return Rs[function(t,n){return t.getAttribute?t.getAttribute(n):t[n]}(e,og)]}function sg(e,t){j1[e]=t}function Cr(e){G1.push(e)}function ro(e,t){ug(ig,e,t,1e3)}function yi(e,t,n){"function"==typeof t&&(n=t,t="");var i=Xu(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,pT(E1.test(i)&&E1.test(t)),oh[i]||(oh[i]={action:n,actionInfo:e}),ah[t]=i}function lg(e,t){Nr.register(e,t)}function Xi(e,t){ug(sh,e,t,1e3,"layout")}function zi(e,t){ug(sh,e,t,3e3,"visual")}function ug(e,t,n,i,o){(gT(t)||Xu(t))&&(n=t,t=i);var a=Kd.wrapStageHandler(n,o);return a.__prio=t,a.__raw=n,e.push(a),a}function Y1(e,t){rg[e]=t}function oo(e){return Mi.extend(e)}function dr(e){return Xo.extend(e)}function uh(e){return Yi.extend(e)}function Kr(e){return mr.extend(e)}function X1(e){return e}function xa(e,t,n,i,o){this._old=e,this._new=t,this._oldKeyGetter=n||X1,this._newKeyGetter=i||X1,this.context=o}function Z1(e,t,n,i,o){for(var a=0;a<e.length;a++){var s="_ec_"+o[i](e[a],a),l=t[s];null==l?(n.push(s),t[s]=a):(l.length||(t[s]=l=[l]),l.push(a))}}zi(2e3,KM),Cr(r1),ro(900,function(e){var t=zt();e.eachSeries(function(n){var i=n.get("stack");if(i){var o=t.get(i)||t.set(i,[]),a=n.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;o.length&&a.setCalculationInfo("stackedOnSeries",o[o.length-1].seriesModel),o.push(s)}}),t.each(BM)}),Y1("default",function(e,t){pe(t=t||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new y,i=new Si({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var o=t.fontSize+" sans-serif",a=new Si({style:{fill:"none",text:t.text,font:o,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(a),t.showSpinner){var s=new lp({shape:{startAngle:-$d/2,endAngle:-$d/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*$d/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:3*$d/2}).delay(300).start("circularInOut"),n.add(s)}return n.resize=function(){var l=pi(t.text,o),u=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-2*u-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner?0:l/2),d=e.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:d}),a.setShape({x:c-u,y:d-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}),yi({type:"highlight",event:"highlight",update:"highlight"},cn),yi({type:"downplay",event:"downplay",update:"downplay"},cn),sg("light",sT),sg("dark",I1),xa.prototype={constructor:xa,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],o=[];for(Z1(e,{},i,"_oldKeyGetter",this),Z1(t,n,o,"_newKeyGetter",this),a=0;a<e.length;a++)null!=(l=n[s=i[a]])?((c=l.length)?(1===c&&(n[s]=null),l=l.shift()):n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var s=o[a];if(n.hasOwnProperty(s)){var l;if(null==(l=n[s]))continue;if(l.length)for(var u=0,c=l.length;u<c;u++)this._add&&this._add(l[u]);else this._add&&this._add(l)}}}};var $1=zt(["tooltip","label","itemName","itemId","seriesName"]);function cg(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function ch(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function Ju(e){null!=e&&ne(this,e),this.otherDims={}}var dh=xt,Qu="undefined",bT={float:typeof Float64Array==Qu?Array:Float64Array,int:typeof Int32Array==Qu?Array:Int32Array,ordinal:Array,number:Array,time:Array},_T=typeof Uint32Array==Qu?Array:Uint32Array,wT=typeof Int32Array==Qu?Array:Int32Array,CT=typeof Uint16Array==Qu?Array:Uint16Array;function hh(e){return 65535<e._rawCount?_T:CT}var ST=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],MT=["_extent","_approximateExtent","_rawExtent"];function K1(e,t){ee(ST.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,ee(MT,function(n){e[n]=Y(t[n])}),e._calculationInfo=ne(t._calculationInfo)}var hr=function(e,t){e=e||["x","y"];for(var n={},i=[],o={},a=0;a<e.length;a++){var s=e[a];dt(s)?s=new Ju({name:s}):s instanceof Ju||(s=new Ju(s));var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},i.push(l),(n[l]=s).index=a,s.createInvertedIndices&&(o[l]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(u){var c={},d=c.encode={},h=zt(),f=[],p=[],m=c.userOutput={dimensionNames:u.dimensions.slice(),encode:{}};ee(u.dimensions,function(K){var ge,ce=u.getDimensionInfo(K),ue=ce.coordDim;if(ue){var de=ce.coordDimIndex;cg(d,ue)[de]=K,ce.isExtraCoord||(h.set(ue,1),!("ordinal"===(ge=ce.type)||"time"===ge)&&(f[0]=K),cg(m.encode,ue)[de]=ce.index),ce.defaultTooltip&&p.push(K)}$1.each(function(ge,Ce){var Pe=cg(d,Ce),Fe=ce.otherDims[Ce];null!=Fe&&!1!==Fe&&(Pe[Fe]=ce.name)})});var S=[],x={};h.each(function(K,ce){var ue=d[ce];x[ce]=ue[0],S=S.concat(ue)}),c.dataDimsOnCoord=S,c.encodeFirstDimNotExtra=x;var V=d.label;V&&V.length&&(f=V.slice());var Q=d.tooltip;return Q&&Q.length?p=Q.slice():p.length||(p=f.slice()),d.defaultedLabel=f,d.defaultedTooltip=p,c}(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},$n=hr.prototype;function J1(e,t,n,i,o){var a=bT[t.type],s=i-1,l=t.name,u=e[l][s];if(u&&u.length<n){for(var c=new a(Math.min(o-s*n,n)),d=0;d<u.length;d++)c[d]=u[d];e[l][s]=c}for(var h=i*n;h<o;h+=n)e[l].push(new a(Math.min(o-h,n)))}function Q1(e){var t=e._invertedIndicesMap;ee(t,function(n,i){var o=e._dimensionInfos[i].ordinalMeta;if(o){n=t[i]=new wT(o.categories.length);for(var a=0;a<n.length;a++)n[a]=-1;for(a=0;a<e._count;a++)n[e.get(i,a)]=a}})}function ex(e,t,n){var i;if(null!=t){var o=e._chunkSize,a=Math.floor(n/o),l=e.dimensions[t],u=e._storage[l][a];if(u){i=u[n%o];var c=e._dimensionInfos[l].ordinalMeta;c&&c.categories.length&&(i=c.categories[i])}}return i}function ec(e){return e}function tc(e){return e<this._count&&0<=e?this._indices[e]:-1}function dg(e,t){var n=e._idList[t];return null==n&&(n=ex(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n}function hg(e){return it(e)||(e=[e]),e}function tx(e,t){var n=e.dimensions,i=new hr(Me(n,e.getDimensionInfo,e),e.hostModel);K1(i,e);for(var o=i._storage={},a=e._storage,s=0;s<n.length;s++){var l=n[s];a[l]&&(0<=De(t,l)?(o[l]=TT(a[l]),i._rawExtent[l]=[1/0,-1/0],i._extent[l]=null):o[l]=a[l])}return i}function TT(e){for(var t,n,i=new Array(e.length),o=0;o<e.length;o++)i[o]=(n=void 0,(n=(t=e[o]).constructor)===Array?t.slice():new n(t));return i}function AT(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType}function nx(e,t,n){No.isInstance(t)||(t=No.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var i=(n.dimsDef||[]).slice(),o=zt(),a=zt(),s=[],l=function(de,ge,Ce,Pe){var Fe=Math.max(de.dimensionsDetectCount||1,ge.length,Ce.length,Pe||0);return ee(ge,function(Ge){var Qe=Ge.dimsDef;Qe&&(Fe=Math.max(Fe,Qe.length))}),Fe}(t,e,i,n.dimCount),u=0;u<l;u++){var c=i[u]=ne({},xt(i[u])?i[u]:{name:i[u]}),d=c.name,h=s[u]=new Ju;null!=d&&null==o.get(d)&&(h.name=h.displayName=d,o.set(d,u)),null!=c.type&&(h.type=c.type),null!=c.displayName&&(h.displayName=c.displayName)}var f=n.encodeDef;!f&&n.encodeDefaulter&&(f=n.encodeDefaulter(t,l)),(f=zt(f)).each(function(de,ge){if(1===(de=br(de).slice()).length&&!dt(de[0])&&de[0]<0)f.set(ge,!1);else{var Ce=f.set(ge,[]);ee(de,function(Pe,Fe){dt(Pe)&&(Pe=o.get(Pe)),null!=Pe&&Pe<l&&(Ce[Fe]=Pe,m(s[Pe],ge,Fe))})}});var p=0;function m(de,ge,Ce){null!=$1.get(ge)?de.otherDims[ge]=Ce:(de.coordDim=ge,de.coordDimIndex=Ce,a.set(ge,!0))}ee(e,function(de,ge){var Ce,Pe,Fe;if(dt(de))Ce=de,de={};else{Ce=de.name;var Ge=de.ordinalMeta;de.ordinalMeta=null,(de=Y(de)).ordinalMeta=Ge,Pe=de.dimsDef,Fe=de.otherDims,de.name=de.coordDim=de.coordDimIndex=de.dimsDef=de.otherDims=null}if(!1!==(Qe=f.get(Ce))){var Qe;if(!(Qe=br(Qe)).length)for(var et=0;et<(Pe&&Pe.length||1);et++){for(;p<s.length&&null!=s[p].coordDim;)p++;p<s.length&&Qe.push(p++)}ee(Qe,function(ot,ht){var pt=s[ot];if(m(pe(pt,de),Ce,ht),null==pt.name&&Pe){var ut=Pe[ht];xt(ut)||(ut={name:ut}),pt.name=pt.displayName=ut.name,pt.defaultTooltip=ut.defaultTooltip}Fe&&pe(pt.otherDims,Fe)})}});var S=n.generateCoord,x=n.generateCoordCount,V=null!=x;x=S?x||1:0;for(var Q,ce=S||"value",ue=0;ue<l;ue++)null==(h=s[ue]=s[ue]||new Ju).coordDim&&(h.coordDim=ix(ce,a,V),h.coordDimIndex=0,(!S||x<=0)&&(h.isExtraCoord=!0),x--),null==h.name&&(h.name=ix(h.coordDim,o)),null==h.type&&(Ky((Q=t).data,Q.sourceFormat,Q.seriesLayoutBy,Q.dimensionsDefine,Q.startIndex,ue)===Dr.Must||h.isExtraCoord&&(null!=h.otherDims.itemName||null!=h.otherDims.seriesName))&&(h.type="ordinal");return s}function ix(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}$n.type="list",$n.hasItemOption=!0,$n.getDimension=function(e){return"number"!=typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},$n.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},$n.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},$n.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return!0===t?(i||[]).slice():i&&i[t]},$n.initData=function(e,t,n){(No.isInstance(e)||ke(e))&&(e=new o1(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=l1[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l1.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},$n.getProvider=function(){return this._rawData},$n.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},$n.appendValues=function(e,t){for(var n=this._chunkSize,i=this._storage,o=this.dimensions,a=o.length,s=this._rawExtent,l=this.count(),u=l+Math.max(e.length,t?t.length:0),c=this._chunkCount,d=0;d<a;d++)s[V=o[d]]||(s[V]=[1/0,-1/0]),i[V]||(i[V]=[]),J1(i,this._dimensionInfos[V],n,c,u),this._chunkCount=i[V].length;for(var h=new Array(a),f=l;f<u;f++){for(var p=f-l,m=Math.floor(f/n),S=f%n,x=0;x<a;x++){var V=o[x],Q=this._dimValueGetterArrayRows(e[p]||h,V,p,x);i[V][m][S]=Q;var K=s[V];Q<K[0]&&(K[0]=Q),Q>K[1]&&(K[1]=Q)}t&&(this._nameList[f]=t[p])}this._rawCount=this._count=u,this._extent={},Q1(this)},$n._initDataFromProvider=function(e,t){if(!(t<=e)){for(var n,i=this._chunkSize,o=this._rawData,a=this._storage,s=this.dimensions,l=s.length,u=this._dimensionInfos,c=this._nameList,d=this._idList,h=this._rawExtent,f=this._nameRepeatCount={},p=this._chunkCount,m=0;m<l;m++){h[ue=s[m]]||(h[ue]=[1/0,-1/0]);var S=u[ue];0===S.otherDims.itemName&&(n=this._nameDimIdx=m),0===S.otherDims.itemId&&(this._idDimIdx=m),a[ue]||(a[ue]=[]),J1(a,S,i,p,t),this._chunkCount=a[ue].length}for(var x=new Array(l),V=e;V<t;V++){x=o.getItem(V,x);for(var Q=Math.floor(V/i),K=V%i,ce=0;ce<l;ce++){var ue,de=a[ue=s[ce]][Q],ge=this._dimValueGetter(x,ue,V,ce);de[K]=ge;var Ce=h[ue];ge<Ce[0]&&(Ce[0]=ge),ge>Ce[1]&&(Ce[1]=ge)}if(!o.pure){var Pe=c[V];if(x&&null==Pe)if(null!=x.name)c[V]=Pe=x.name;else if(null!=n){var Fe=s[n],Ge=a[Fe][Q];if(Ge){Pe=Ge[K];var Qe=u[Fe].ordinalMeta;Qe&&Qe.categories.length&&(Pe=Qe.categories[Pe])}}var et=null==x?null:x.id;null==et&&null!=Pe&&(f[Pe]=f[Pe]||0,0<f[et=Pe]&&(et+="__ec__"+f[Pe]),f[Pe]++),null!=et&&(d[V]=et)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent={},Q1(this)}},$n.count=function(){return this._count},$n.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,n=this._count;if(t===Array){o=new t(n);for(var i=0;i<n;i++)o[i]=e[i]}else o=new t(e.buffer,0,n)}else{var o=new(t=hh(this))(this.count());for(i=0;i<o.length;i++)o[i]=i}return o},$n.get=function(e,t){if(!(0<=t&&t<this._count))return NaN;var n=this._storage;if(!n[e])return NaN;t=this.getRawIndex(t);var i=Math.floor(t/this._chunkSize);return n[e][i][t%this._chunkSize]},$n.getByRawIndex=function(e,t){if(!(0<=t&&t<this._rawCount))return NaN;var n=this._storage[e];return n?n[Math.floor(t/this._chunkSize)][t%this._chunkSize]:NaN},$n._getFast=function(e,t){var n=Math.floor(t/this._chunkSize);return this._storage[e][n][t%this._chunkSize]},$n.getValues=function(e,t){var n=[];it(e)||(t=e,e=this.dimensions);for(var i=0,o=e.length;i<o;i++)n.push(this.get(e[i],t));return n},$n.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},$n.getDataExtent=function(e){e=this.getDimension(e);var n=[1/0,-1/0];if(!this._storage[e])return n;var i,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var a=(i=n)[0],s=i[1],l=0;l<o;l++){var u=this._getFast(e,this.getRawIndex(l));u<a&&(a=u),s<u&&(s=u)}return this._extent[e]=[a,s]},$n.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},$n.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},$n.getCalculationInfo=function(e){return this._calculationInfo[e]},$n.setCalculationInfo=function(e,t){dh(e)?ne(this._calculationInfo,e):this._calculationInfo[e]=t},$n.getSum=function(e){var t=0;if(this._storage[e])for(var n=0,i=this.count();n<i;n++){var o=this.get(e,n);isNaN(o)||(t+=o)}return t},$n.getMedian=function(e){var t=[];this.each(e,function(o,a){isNaN(o)||t.push(o)});var n=[].concat(t).sort(function(o,a){return o-a}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},$n.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},$n.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},$n.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(t[a]<e)i=1+a;else{if(!(t[a]>e))return a;o=a-1}}return-1},$n.indicesOfNearest=function(e,t,n){var i=[];if(!this._storage[e])return i;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,u=this.count();l<u;l++){var c=t-this.get(e,l),d=Math.abs(c);d<=n&&((d<o||d===o&&0<=c&&a<0)&&(o=d,a=c,s=0),c===a&&(i[s++]=l))}return i.length=s,i},$n.getRawIndex=ec,$n.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++)t.push(this.get(this.dimensions[n],e));return t},$n.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||ex(this,this._nameDimIdx,t)||""},$n.getId=function(e){return dg(this,this.getRawIndex(e))},$n.each=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this;for(var o=(e=Me(hg(e),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:t.call(n,a);break;case 1:t.call(n,this.get(e[0],a),a);break;case 2:t.call(n,this.get(e[0],a),this.get(e[1],a),a);break;default:for(var s=0,l=[];s<o;s++)l[s]=this.get(e[s],a);l[s]=a,t.apply(n,l)}}},$n.filterSelf=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this,e=Me(hg(e),this.getDimension,this);for(var o=this.count(),a=new(hh(this))(o),s=[],l=e.length,u=0,c=e[0],d=0;d<o;d++){var h,f=this.getRawIndex(d);if(0===l)h=t.call(n,d);else if(1===l){var p=this._getFast(c,f);h=t.call(n,p,d)}else{for(var m=0;m<l;m++)s[m]=this._getFast(c,f);s[m]=d,h=t.apply(n,s)}h&&(a[u++]=f)}return u<o&&(this._indices=a),this._count=u,this._extent={},this.getRawIndex=this._indices?tc:ec,this}},$n.selectRange=function(e){if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=t.length;if(i){var o=this.count(),a=new(hh(this))(o),s=0,l=t[0],u=e[l][0],c=e[l][1],d=!1;if(!this._indices){var h=0;if(1===i){for(var f=this._storage[t[0]],p=0;p<this._chunkCount;p++)for(var m=f[p],S=Math.min(this._count-p*this._chunkSize,this._chunkSize),x=0;x<S;x++)(u<=(ue=m[x])&&ue<=c||isNaN(ue))&&(a[s++]=h),h++;d=!0}else if(2===i){f=this._storage[l];var V=this._storage[t[1]],Q=e[t[1]][0],K=e[t[1]][1];for(p=0;p<this._chunkCount;p++){m=f[p];var ce=V[p];for(S=Math.min(this._count-p*this._chunkSize,this._chunkSize),x=0;x<S;x++){var ue=m[x],de=ce[x];(u<=ue&&ue<=c||isNaN(ue))&&(Q<=de&&de<=K||isNaN(de))&&(a[s++]=h),h++}}d=!0}}if(!d)if(1===i)for(x=0;x<o;x++){var ge=this.getRawIndex(x);(u<=(ue=this._getFast(l,ge))&&ue<=c||isNaN(ue))&&(a[s++]=ge)}else for(x=0;x<o;x++){var Ce=!0;for(ge=this.getRawIndex(x),p=0;p<i;p++){var Pe=t[p];((ue=this._getFast(n,ge))<e[Pe][0]||ue>e[Pe][1])&&(Ce=!1)}Ce&&(a[s++]=this.getRawIndex(x))}return s<o&&(this._indices=a),this._count=s,this._extent={},this.getRawIndex=this._indices?tc:ec,this}}},$n.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},n=n||i||this),o},$n.map=function(e,t,n,i){n=n||i||this;var o=tx(this,e=Me(hg(e),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?tc:ec;for(var a=o._storage,s=[],l=this._chunkSize,u=e.length,c=this.count(),d=[],h=o._rawExtent,f=0;f<c;f++){for(var p=0;p<u;p++)d[p]=this.get(e[p],f);d[u]=f;var m=t&&t.apply(n,d);if(null!=m){"object"!=typeof m&&(s[0]=m,m=s);for(var S=this.getRawIndex(f),x=Math.floor(S/l),V=S%l,Q=0;Q<m.length;Q++){var K=e[Q],ce=m[Q],ue=h[K],de=a[K];de&&(de[x][V]=ce),ce<ue[0]&&(ue[0]=ce),ce>ue[1]&&(ue[1]=ce)}}}return o},$n.downSample=function(e,t,n,i){for(var o=tx(this,[e]),a=o._storage,s=[],l=Math.floor(1/t),u=a[e],c=this.count(),d=this._chunkSize,h=o._rawExtent[e],f=new(hh(this))(c),p=0,m=0;m<c;m+=l){c-m<l&&(s.length=l=c-m);for(var S=0;S<l;S++){var x=this.getRawIndex(m+S),V=Math.floor(x/d);s[S]=u[V][x%d]}var K=n(s),ce=this.getRawIndex(Math.min(m+i(s,K)||0,c-1)),ue=ce%d;(u[Math.floor(ce/d)][ue]=K)<h[0]&&(h[0]=K),K>h[1]&&(h[1]=K),f[p++]=ce}return o._count=p,o._indices=f,o.getRawIndex=tc,o},$n.getItemModel=function(e){var t=this.hostModel;return new vi(this.getRawDataItem(e),t,t&&t.ecModel)},$n.diff=function(e){var t=this;return new xa(e?e.getIndices():[],this.getIndices(),function(n){return dg(e,n)},function(n){return dg(t,n)})},$n.getVisual=function(e){var t=this._visual;return t&&t[e]},$n.setVisual=function(e,t){if(dh(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},$n.setLayout=function(e,t){if(dh(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},$n.getLayout=function(e){return this._layout[e]},$n.getItemLayout=function(e){return this._itemLayouts[e]},$n.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?ne(this._itemLayouts[e]||{},t):t},$n.clearItemLayouts=function(){this._itemLayouts.length=0},$n.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],o=i&&i[t];return null!=o||n?o:this.getVisual(t)},$n.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},o=this.hasItemVisual;if(this._itemVisuals[e]=i,dh(t))for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a],o[a]=!0);else i[t]=n,o[t]=!0},$n.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}},$n.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(AT,t)),this._graphicEls[e]=t},$n.getItemGraphicEl=function(e){return this._graphicEls[e]},$n.eachItemGraphicEl=function(e,t){ee(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},$n.cloneShallow=function(e){if(!e){var t=Me(this.dimensions,this.getDimensionInfo,this);e=new hr(t,this.hostModel)}return e._storage=this._storage,K1(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?tc:ec,e},$n.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(Gt(arguments)))})},$n.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],$n.CHANGABLE_METHODS=["filterSelf","selectRange"];var Pl=function(e,t){return nx((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};function IT(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=zt(),this.categoryAxisMap=zt(),this.firstCategoryDimIndex=null}var kT={cartesian2d:function(e,t,n,i){var o=e.getReferringComponents("xAxis")[0],a=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),Ll(o)&&(i.set("x",o),t.firstCategoryDimIndex=0),Ll(a)&&(i.set("y",a),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var o=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",o),Ll(o)&&(i.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var o=e.getReferringComponents("polar")[0],a=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",s),Ll(a)&&(i.set("radius",a),t.firstCategoryDimIndex=0),Ll(s)&&(i.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var o=e.ecModel,a=o.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();ee(a.parallelAxisIndex,function(l,u){var c=o.getComponent("parallelAxis",l),d=s[u];n.set(d,c),Ll(c)&&null==t.firstCategoryDimIndex&&(i.set(d,c),t.firstCategoryDimIndex=u)})}};function Ll(e){return"category"===e.get("type")}function rx(e,t,n){var i,o,a,s,l=(n=n||{}).byIndex,u=n.stackedCoordDimension,c=!(!e||!e.get("stack"));if(ee(t,function(p,m){dt(p)&&(t[m]=p={name:p}),c&&!p.isExtraCoord&&(l||i||!p.ordinalMeta||(i=p),o||"ordinal"===p.type||"time"===p.type||u&&u!==p.coordDim||(o=p))}),!o||l||i||(l=!0),o){a="__\0ecstackresult",s="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var d=o.coordDim,h=o.type,f=0;ee(t,function(p){p.coordDim===d&&f++}),t.push({name:a,coordDim:d,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0}),f++,t.push({name:s,coordDim:s,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:i&&i.name,isStackedByIndex:l,stackedOverDimension:s,stackResultDimension:a}}function ba(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function nc(e,t){return ba(e,t)?e.getCalculationInfo("stackResultDimension"):t}function _a(e,t,n){n=n||{},No.isInstance(e)||(e=No.seriesDataToSource(e));var i,o=t.get("coordinateSystem"),a=Nr.get(o),s=function(p){var m=p.get("coordinateSystem"),S=new IT(m),x=kT[m];if(x)return x(p,S,S.axisMap,S.categoryAxisMap),S}(t);s&&(i=Me(s.coordSysDims,function(p){var m={name:p},S=s.axisMap.get(p);if(S){var x=S.get("type");m.type=ch(x)}return m})),i=i||a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"];var l,u,c=Pl(e,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?gt($y,i,t):null});s&&ee(c,function(p,m){var x=s.categoryAxisMap.get(p.coordDim);x&&(null==l&&(l=m),p.ordinalMeta=x.getOrdinalMeta()),null!=p.otherDims.itemName&&(u=!0)}),u||null==l||(c[l].otherDims.itemName=0);var d=rx(t,c),h=new hr(c,t);h.setCalculationInfo(d);var f=null!=l&&function(p){if(p.sourceFormat===Ns){var m=function(S){for(var x=0;x<S.length&&null==S[x];)x++;return S[x]}(p.data||[]);return null!=m&&!it(Cu(m))}}(e)?function(p,m,S,x){return x===l?S:this.defaultDimValueGetter(p,m,S,x)}:null;return h.hasItemOption=!1,h.initData(e,null,f),h}function rr(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function ic(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}rr.prototype.parse=function(e){return e},rr.prototype.getSetting=function(e){return this._setting[e]},rr.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},rr.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},rr.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},rr.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},rr.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},rr.prototype.getExtent=function(){return this._extent.slice()},rr.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},rr.prototype.isBlank=function(){return this._isBlank},rr.prototype.setBlank=function(e){this._isBlank=e},rr.prototype.getLabel=null,Su(rr),fd(rr,{registerWhenExtend:!0}),ic.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Me(n,DT);return new ic({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var ox=ic.prototype;function ax(e){return e._map||(e._map=zt(e.categories))}function DT(e){return xt(e)&&null!=e.value?e.value:e+""}ox.getOrdinal=function(e){return ax(this).get(e)},ox.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var i=ax(this);return null==(t=i.get(e))&&(n?(this.categories[t=this.categories.length]=e,i.set(e,t)):t=NaN),t};var fg=rr.prototype,pg=rr.extend({type:"ordinal",init:function(e,t){e&&!it(e)||(e=new ic({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),fg.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return fg.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(fg.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:cn,niceExtent:cn});pg.create=function(){return new pg};var sx=sr;function lx(e){return Bd(e)+2}function ux(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function cx(e,t){isFinite(e[0])||(e[0]=t[0]),isFinite(e[1])||(e[1]=t[1]),ux(e,0,t),ux(e,1,t),e[0]>e[1]&&(e[0]=e[1])}var Rl=sr,Ko=rr.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),Ko.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=lx(e)},getTicks:function(e){var t=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,a=[];if(!t)return a;n[0]<i[0]&&a.push(e?Rl(i[0]-t,o):n[0]);for(var s=i[0];s<=i[1]&&(a.push(s),(s=Rl(s+t,o))!==a[a.length-1]);)if(1e4<a.length)return[];var l=a.length?a[a.length-1]:i[1];return n[1]>l&&a.push(e?Rl(l+t,o):n[1]),a},getMinorTicks:function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<t.length;o++){for(var s=t[o-1],l=0,u=[],c=(t[o]-s)/e;l<e-1;){var d=sr(s+(l+1)*c);d>i[0]&&d<i[1]&&u.push(d),l++}n.push(u)}return n},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=Bd(e)||0:"auto"===n&&(n=this._intervalPrecision),Ha(e=Rl(e,n,!0))},niceTicks:function(e,t,n){e=e||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=function(s,l,u,c){var d={},f=d.interval=wp((s[1]-s[0])/l,!0);null!=u&&f<u&&(f=d.interval=u),null!=c&&c<f&&(f=d.interval=c);var p=d.intervalPrecision=lx(f);return cx(d.niceTickExtent=[sx(Math.ceil(s[0]/f)*f,p),sx(Math.floor(s[1]/f)*f,p)],s),d}(i,e,t,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=Rl(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=Rl(Math.ceil(t[1]/o)*o))}});Ko.create=function(){return new Ko};var gg="__ec_stack_",mg=typeof Float32Array<"u"?Float32Array:Array;function vg(e){return e.get("stack")||gg+e.seriesIndex}function yg(e){return e.dim+e.index}function dx(e,t){var n=[];return t.eachSeriesByType(e,function(i){gx(i)&&!mx(i)&&n.push(i)}),n}function xg(e){var t=function(i){var o={};ee(i,function(h){var f=h.coordinateSystem.getBaseAxis();if("time"===f.type||"value"===f.type)for(var p=h.getData(),m=f.dim+"_"+f.index,S=p.mapDimension(f.dim),x=0,V=p.count();x<V;++x){var Q=p.get(S,x);o[m]?o[m].push(Q):o[m]=[Q]}});var a=[];for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];if(l){l.sort(function(h,f){return h-f});for(var u=null,c=1;c<l.length;++c){var d=l[c]-l[c-1];0<d&&(u=null===u?d:Math.min(u,d))}a[s]=u}}return a}(e),n=[];return ee(e,function(i){var o,a=i.coordinateSystem.getBaseAxis(),s=a.getExtent();if("category"===a.type)o=a.getBandWidth();else if("value"===a.type||"time"===a.type){var u=t[a.dim+"_"+a.index],c=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),h=Math.abs(d[1]-d[0]);o=u?c/h*u:c}else{var f=i.getData();o=Math.abs(s[1]-s[0])/f.count()}var p=An(i.get("barWidth"),o),m=An(i.get("barMaxWidth"),o),S=An(i.get("barMinWidth")||1,o),x=i.get("barGap"),V=i.get("barCategoryGap");n.push({bandWidth:o,barWidth:p,barMaxWidth:m,barMinWidth:S,barGap:x,barCategoryGap:V,axisKey:yg(a),stackId:vg(i)})}),hx(n)}function hx(e){var t={};ee(e,function(i,o){var a=i.axisKey,s=i.bandWidth,l=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=l.stacks;t[a]=l;var c=i.stackId;u[c]||l.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var d=i.barWidth;d&&!u[c].width&&(u[c].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var h=i.barMaxWidth;h&&(u[c].maxWidth=h);var f=i.barMinWidth;f&&(u[c].minWidth=f);var p=i.barGap;null!=p&&(l.gap=p);var m=i.barCategoryGap;null!=m&&(l.categoryGap=m)});var n={};return ee(t,function(i,o){n[o]={};var a=i.stacks,s=i.bandWidth,l=An(i.categoryGap,s),u=An(i.gap,1),c=i.remainedWidth,d=i.autoWidthCount,h=(c-l)/(d+(d-1)*u);h=Math.max(h,0),ee(a,function(S){var x=S.maxWidth,V=S.minWidth;if(S.width)Q=S.width,x&&(Q=Math.min(Q,x)),V&&(Q=Math.max(Q,V)),S.width=Q,c-=Q+u*Q,d--;else{var Q=h;x&&x<Q&&(Q=Math.min(x,c)),V&&Q<V&&(Q=V),Q!==h&&(S.width=Q,c-=Q+u*Q,d--)}}),h=(c-l)/(d+(d-1)*u),h=Math.max(h,0);var f,p=0;ee(a,function(S,x){S.width||(S.width=h),p+=(f=S).width*(1+u)}),f&&(p-=f.width*u);var m=-p/2;ee(a,function(S,x){n[o][x]=n[o][x]||{bandWidth:s,offset:m,width:S.width},m+=S.width*(1+u)})}),n}function fx(e,t,n){if(e&&t){var i=e[yg(t)];return null!=i&&null!=n&&(i=i[vg(n)]),i}}function px(e,t){var n=dx(e,t),i=xg(n),o={};ee(n,function(a){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),c=vg(a),d=i[yg(u)][c],h=d.offset,f=d.width,p=l.getOtherAxis(u),m=a.get("barMinHeight")||0;o[c]=o[c]||[],s.setLayout({bandWidth:d.bandWidth,offset:h,size:f});for(var S=s.mapDimension(p.dim),x=s.mapDimension(u.dim),V=ba(s,S),Q=p.isHorizontal(),K=vx(0,p),ce=0,ue=s.count();ce<ue;ce++){var de,ge,Ce,Pe,Fe,Ge=s.get(S,ce),Qe=s.get(x,ce),et=0<=Ge?"p":"n",ot=K;V&&(o[c][Qe]||(o[c][Qe]={p:K,n:K}),ot=o[c][Qe][et]),Q?(de=ot,ge=(Fe=l.dataToPoint([Ge,Qe]))[1]+h,Ce=Fe[0]-K,Pe=f,Math.abs(Ce)<m&&(Ce=(Ce<0?-1:1)*m),isNaN(Ce)||V&&(o[c][Qe][et]+=Ce)):(de=(Fe=l.dataToPoint([Qe,Ge]))[0]+h,ge=ot,Ce=f,Pe=Fe[1]-K,Math.abs(Pe)<m&&(Pe=(Pe<=0?-1:1)*m),isNaN(Pe)||V&&(o[c][Qe][et]+=Pe)),s.setItemLayout(ce,{x:de,y:ge,width:Ce,height:Pe})}},this)}var NT={seriesType:"bar",plan:kl(),reset:function(e){if(gx(e)&&mx(e)){var t=e.getData(),n=e.coordinateSystem,i=n.grid.getRect(),o=n.getBaseAxis(),a=n.getOtherAxis(o),s=t.mapDimension(a.dim),l=t.mapDimension(o.dim),u=a.isHorizontal(),c=u?0:1,d=fx(xg([e]),o,e).width;return.5<d||(d=.5),{progress:function(h,f){for(var p,m=h.count,S=new mg(2*m),x=new mg(2*m),V=new mg(m),Q=[],K=[],ce=0,ue=0;null!=(p=h.next());)K[c]=f.get(s,p),K[1-c]=f.get(l,p),Q=n.dataToPoint(K,null,Q),x[ce]=u?i.x+i.width:Q[0],S[ce++]=Q[0],x[ce]=u?Q[1]:i.y+i.height,S[ce++]=Q[1],V[ue++]=p;f.setLayout({largePoints:S,largeDataIndices:V,largeBackgroundPoints:x,barWidth:d,valueAxisStart:vx(0,a),backgroundStart:u?i.x:i.y,valueAxisHorizontal:u})}}}}};function gx(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function mx(e){return e.pipelineContext&&e.pipelineContext.large}function vx(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var PT=Ko.prototype,yx=Math.ceil,xx=Math.floor,lr=864e5,bg=Ko.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return Tp(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=lr,t[1]+=lr),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-lr}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=sr(xx(t[0]/i)*i)),e.fixMax||(t[1]=sr(yx(t[1]/i)*i))},niceTicks:function(e,t,n){var i=this._extent,o=i[1]-i[0],a=o/(e=e||10);null!=t&&a<t&&(a=t),null!=n&&n<a&&(a=n);var s=_g.length,l=function(f,p,m,S){for(;m<S;){var x=m+S>>>1;f[x][1]<p?m=1+x:S=x}return m}(_g,a,0,s),u=_g[Math.min(l,s-1)],c=u[1];"year"===u[0]&&(c*=wp(o/c/e,!0));var d=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,h=[Math.round(yx((i[0]-d)/c)*c+d),Math.round(xx((i[1]-d)/c)*c+d)];cx(h,i),this._stepLvl=u,this._interval=c,this._niceExtent=h},parse:function(e){return+Bu(e)}});ee(["contain","normalize"],function(e){bg.prototype[e]=function(t){return PT[e].call(this,this.parse(t))}});var _g=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",lr],["MM-dd\nyyyy",2*lr],["MM-dd\nyyyy",3*lr],["MM-dd\nyyyy",4*lr],["MM-dd\nyyyy",5*lr],["MM-dd\nyyyy",6*lr],["week",7*lr],["MM-dd\nyyyy",864e6],["week",14*lr],["week",21*lr],["month",31*lr],["week",42*lr],["month",62*lr],["week",70*lr],["quarter",95*lr],["month",31*lr*4],["month",13392e6],["half-year",16416e6],["month",31*lr*8],["month",26784e6],["year",380*lr]];bg.create=function(e){return new bg({useUTC:e.ecModel.get("useUTC")})};var ph=rr.prototype,rc=Ko.prototype,LT=Bd,RT=sr,ET=Math.floor,OT=Math.ceil,gh=Math.pow,Jo=Math.log,mh=rr.extend({type:"log",base:10,$constructor:function(){rr.apply(this,arguments),this._originalScale=new Ko},getTicks:function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return Me(rc.getTicks.call(this,e),function(o){var a=sr(gh(this.base,o));return a=o===n[0]&&t.__fixMin?vh(a,i[0]):a,o===n[1]&&t.__fixMax?vh(a,i[1]):a},this)},getMinorTicks:rc.getMinorTicks,getLabel:rc.getLabel,scale:function(e){return e=ph.scale.call(this,e),gh(this.base,e)},setExtent:function(e,t){var n=this.base;e=Jo(e)/Jo(n),t=Jo(t)/Jo(n),rc.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=ph.getExtent.call(this);t[0]=gh(e,t[0]),t[1]=gh(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=vh(t[0],i[0])),n.__fixMax&&(t[1]=vh(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Jo(e[0])/Jo(t),e[1]=Jo(e[1])/Jo(t),ph.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n==1/0||n<=0)){var i=Ry(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;var o=[sr(OT(t[0]/i)*i),sr(ET(t[1]/i)*i)];this._interval=i,this._niceExtent=o}},niceExtent:function(e){rc.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function vh(e,t){return RT(e,LT(t))}function _x(e,t){var n,i,o,a=e.type,s=t.getMin(),l=t.getMax(),u=e.getExtent();"ordinal"===a?n=t.getCategories().length:(it(i=t.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=An(i[0],1),i[1]=An(i[1],1),o=u[1]-u[0]||Math.abs(u[0])),"dataMin"===s?s=u[0]:"function"==typeof s&&(s=s({min:u[0],max:u[1]})),"dataMax"===l?l=u[1]:"function"==typeof l&&(l=l({min:u[0],max:u[1]}));var c=null!=s,d=null!=l;null==s&&(s="ordinal"===a?n?0:NaN:u[0]-i[0]*o),null==l&&(l="ordinal"===a?n?n-1:NaN:u[1]+i[1]*o),null!=s&&isFinite(s)||(s=NaN),null!=l&&isFinite(l)||(l=NaN),e.setBlank(qt(s)||qt(l)||"ordinal"===a&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(0<s&&0<l&&!c&&(s=0),s<0&&l<0&&!d&&(l=0));var h=t.ecModel;if(h&&"time"===a){var f,p=dx("bar",h);if(ee(p,function(x){f|=x.getBaseAxis()===t.axis}),f){var m=xg(p),S=function(x,V,Q,K){var ce=Q.axis.getExtent(),ue=ce[1]-ce[0],de=fx(K,Q.axis);if(void 0===de)return{min:x,max:V};var ge=1/0;ee(de,function(Qe){ge=Math.min(Qe.offset,ge)});var Ce=-1/0;ee(de,function(Qe){Ce=Math.max(Qe.offset+Qe.width,Ce)}),ge=Math.abs(ge),Ce=Math.abs(Ce);var Pe=ge+Ce,Fe=V-x,Ge=Fe/(1-(ge+Ce)/ue)-Fe;return{min:x-=ge/Pe*Ge,max:V+=Ce/Pe*Ge}}(s,l,t,m);s=S.min,l=S.max}}return{extent:[s,l],fixMin:c,fixMax:d}}function Xa(e,t){var n=_x(e,t),i=n.extent,o=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var a=e.type;e.setExtent(i[0],i[1]),e.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===a||"time"===a?t.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?t.get("maxInterval"):null});var s=t.get("interval");null!=s&&e.setInterval&&e.setInterval(s)}function El(e,t){if(t=t||e.get("type"))switch(t){case"category":return new pg(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new Ko;default:return(rr.getClass(t)||Ko).create(e)}}function oc(e){var t,n=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof n?(t=n,n=function(o){return o=e.scale.getLabel(o),t.replace("{value}",o??"")}):"function"==typeof n?function(o,a){return null!=i&&(a=o-i),n(wg(e,o),a)}:function(o){return e.scale.getLabel(o)}}function wg(e,t){return"category"===e.type?e.scale.getLabel(t):t}function Cg(e){return e.get("interval")??"auto"}function Cx(e){return"category"===e.type&&0===Cg(e.getLabelModel())}ee(["contain","normalize"],function(e){mh.prototype[e]=function(t){return t=Jo(t)/Jo(this.base),ph[e].call(this,t)}}),mh.create=function(){return new mh};var Es={getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!qt(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!qt(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:cn,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},BT=yo({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i+a),e.lineTo(n-o,i+a),e.closePath()}}),zT=yo({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+o,i),e.lineTo(n,i+a),e.lineTo(n-o,i),e.closePath()}}),FT=yo({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width/5*3,a=Math.max(o,t.height),s=o/2,l=s*s/(a-s),u=i-a+s+l,c=Math.asin(l/s),d=Math.cos(c)*s,h=Math.sin(c),f=Math.cos(c),p=.6*s,m=.7*s;e.moveTo(n-d,u+l),e.arc(n,u,s,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(n+d-h*p,u+l+f*p,n,i-m,n,i),e.bezierCurveTo(n,i-m,n-d+h*p,u+l+f*p,n-d,u+l),e.closePath()}}),VT=yo({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,o=t.x,a=t.y,s=t.width/3*2;e.moveTo(o,a),e.lineTo(o+s,a+n),e.lineTo(o,a+n/4*3),e.lineTo(o-s,a+n),e.lineTo(o,a),e.closePath()}}),HT={line:function(e,t,n,i,o){o.x1=e,o.y1=t+i/2,o.x2=e+n,o.y2=t+i/2},rect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i},roundRect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(e,t,n,i,o){var a=Math.min(n,i);o.x=e,o.y=t,o.width=a,o.height=a},circle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.r=Math.min(n,i)/2},diamond:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i},pin:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},arrow:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},triangle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i}},Sg={};ee({line:_r,rect:Si,roundRect:Si,square:Si,circle:Uo,diamond:zT,pin:FT,arrow:VT,triangle:BT},function(e,t){Sg[t]=new e});var WT=yo({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=wi(e,t,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var o=Sg[i];o=o||Sg[i="rect"],HT[i](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n)}}});function GT(e,t){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function ao(e,t,n,i,o,a,s){var l,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(l=0===e.indexOf("image://")?gy(e.slice(8),new v(t,n,i,o),s?"center":"cover"):0===e.indexOf("path://")?Dd(e.slice(7),{},new v(t,n,i,o),s?"center":"cover"):new WT({shape:{symbolType:e,x:t,y:n,width:i,height:o}})).__isEmptyBrush=u,l.setColor=GT,l.setColor(a),l}var jT=(Object.freeze||Object)({createList:function(e){return _a(e.getSource(),e)},getLayoutRect:nr,dataStack:{isDimensionStacked:ba,enableDataStack:rx,getStackedDimension:nc},createScale:function(e,t){var n=t;vi.isInstance(t)||be(n=new vi(t),Es);var i=El(n);return i.setExtent(e[0],e[1]),Xa(i,n),i},mixinAxisModelCommonMethods:function(e){be(e,Es)},completeDimensions:nx,createDimensions:Pl,createSymbol:ao}),qT=1e-8;function Sx(e,t){return Math.abs(e-t)<qT}function Os(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var a=1;a<e.length;a++){var s=e[a];i+=ga(o[0],o[1],s[0],s[1],t,n),o=s}var l=e[0];return Sx(o[0],l[0])&&Sx(o[1],l[1])||(i+=ga(o[0],o[1],l[0],l[1],t,n)),0!==i}function ac(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}function Mx(e,t,n){for(var i=[],o=t[0],a=t[1],s=0;s<e.length;s+=2){var l=e.charCodeAt(s)-64,u=e.charCodeAt(s+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),o=l+=o,a=u+=a,i.push([l/n,u/n])}return i}function Mg(e,t){return function(n){if(n.UTF8Encoding){var i=n.UTF8Scale;null==i&&(i=1024);for(var o=n.features,a=0;a<o.length;a++)for(var s=o[a].geometry,l=s.coordinates,u=s.encodeOffsets,c=0;c<l.length;c++){var d=l[c];if("Polygon"===s.type)l[c]=Mx(d,u[c],i);else if("MultiPolygon"===s.type)for(var h=0;h<d.length;h++)d[h]=Mx(d[h],u[c][h],i)}n.UTF8Encoding=!1}}(e),Me(Be(e.features,function(n){return n.geometry&&n.properties&&0<n.geometry.coordinates.length}),function(n){var i=n.properties,o=n.geometry,a=o.coordinates,s=[];"Polygon"===o.type&&s.push({type:"polygon",exterior:a[0],interiors:a.slice(1)}),"MultiPolygon"===o.type&&ee(a,function(u){u[0]&&s.push({type:"polygon",exterior:u[0],interiors:u.slice(1)})});var l=new ac(i[t||"name"],s,i.cp);return l.properties=i,l})}ac.prototype={constructor:ac,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],o=[],a=[],s=this.geometries,l=0;l<s.length;l++)"polygon"===s[l].type&&(Mu(s[l].exterior,o,a),pr(n,n,o),Ki(i,i,a));return 0===l&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new v(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++)if("polygon"===n[i].type){var s=n[i].interiors;if(Os(n[i].exterior,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(Os(s[l]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=o.width/o.height;n?i=i||n/a:n=a*i;for(var s=new v(e,t,n,i),l=o.calculateTransform(s),u=this.geometries,c=0;c<u.length;c++)if("polygon"===u[c].type){for(var d=u[c].exterior,h=u[c].interiors,f=0;f<d.length;f++)li(d[f],d[f],l);for(var p=0;p<(h?h.length:0);p++)for(f=0;f<h[p].length;f++)li(h[p][f],h[p][f],l)}(o=this._rect).copy(s),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new ac(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var sc=jr();function Tx(e,t){var n,s,i=Ax(e,"labels"),o=Cg(t);return Ix(i,o)||kx(i,o,{labels:Vt(o)?Nx(e,o):Dx(e,n="auto"===o?(s=e,sc(s).autoInterval??(sc(s).autoInterval=s.calculateCategoryInterval())):o),labelCategoryInterval:n})}function Ax(e,t){return sc(e)[t]||(sc(e)[t]=[])}function Ix(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function kx(e,t,n){return e.push({key:t,value:n}),n}function Dx(e,t,n){var i=oc(e),o=e.scale,a=o.getExtent(),s=e.getLabelModel(),l=[],u=Math.max((t||0)+1,1),c=a[0],d=o.count();0!==c&&1<u&&2<d/u&&(c=Math.round(Math.ceil(c/u)*u));var h=Cx(e),f=s.get("showMinLabel")||h,p=s.get("showMaxLabel")||h;f&&c!==a[0]&&S(a[0]);for(var m=c;m<=a[1];m+=u)S(m);function S(x){l.push(n?x:{formattedLabel:i(x),rawLabel:o.getLabel(x),tickValue:x})}return p&&m-u!==a[1]&&S(a[1]),l}function Nx(e,t,n){var i=e.scale,o=oc(e),a=[];return ee(i.getTicks(),function(s){var l=i.getLabel(s);t(s,l)&&a.push(n?s:{formattedLabel:o(s),rawLabel:l,tickValue:s})}),a}var Px=[0,1],or=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function Lx(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}or.prototype={constructor:or,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n<=e&&e<=i},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return yp(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Lx(n=n.slice(),i.count()),Hi(e,Px,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Lx(n=n.slice(),i.count());var o=Hi(e,n,Px,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=Me(function XT(e,t){return"category"===e.type?function(n,i){var o,a,s=Ax(n,"ticks"),l=Cg(i),u=Ix(s,l);if(u)return u;if(i.get("show")&&!n.scale.isBlank()||(o=[]),Vt(l))o=Nx(n,l,!0);else if("auto"===l){var c=Tx(n,n.getLabelModel());a=c.labelCategoryInterval,o=Me(c.labels,function(d){return d.tickValue})}else o=Dx(n,a=l,!0);return kx(s,l,{ticks:o,tickCategoryInterval:a})}(e,t):{ticks:e.scale.getTicks()}}(this,t).ticks,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this);return function(i,o,a,s){var l=o.length;if(i.onBand&&!a&&l){var u,d=i.getExtent();if(1===l)o[0].coord=d[0],u=o[1]={coord:d[0]};else{var f=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);ee(o,function(x){x.coord-=f/2});var p=i.scale.getExtent();o.push(u={coord:o[l-1].coord+f*(1+p[1]-o[l-1].tickValue)})}var m=d[0]>d[1];S(o[0].coord,d[0])&&(s?o[0].coord=d[0]:o.shift()),s&&S(d[0],o[0].coord)&&o.unshift({coord:d[0]}),S(d[1],u.coord)&&(s?u.coord=d[1]:o.pop()),s&&S(u.coord,d[1])&&o.push({coord:d[1]})}function S(x,V){return x=sr(x),V=sr(V),m?V<x:x<V}}(this,n,t.get("alignWithLabel"),e.clamp),n},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return 0<e&&e<100||(e=5),Me(this.scale.getMinorTicks(e),function(t){return Me(t,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this)},this)},getViewLabels:function(){return function YT(e){return"category"===e.type?function(t){var n=t.getLabelModel(),i=Tx(t,n);return!n.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(e):function(t){var n=t.scale.getTicks(),i=oc(t);return{labels:Me(n,function(o,a){return{formattedLabel:i(o,a),rawLabel:t.scale.getLabel(o),tickValue:o}})}}(e)}(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(e){var Ce,Pe,t=(Pe=(Ce=e).getLabelModel(),{axisRotate:Ce.getRotate?Ce.getRotate():Ce.isHorizontal&&!Ce.isHorizontal()?90:0,labelRotate:Pe.get("rotate")||0,font:Pe.getFont()}),n=oc(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;40<s&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],c=e.dataToCoord(u+1)-e.dataToCoord(u),d=Math.abs(c*Math.cos(i)),h=Math.abs(c*Math.sin(i)),f=0,p=0;u<=a[1];u+=l){var S,x=ai(n(u),t.font,"center","top");S=1.3*x.height,f=Math.max(f,1.3*x.width,7),p=Math.max(p,S,7)}var V=f/d,Q=p/h;isNaN(V)&&(V=1/0),isNaN(Q)&&(Q=1/0);var K=Math.max(0,Math.floor(Math.min(V,Q))),ce=sc(e.model),ue=e.getExtent(),de=ce.lastAutoInterval,ge=ce.lastTickCount;return null!=de&&null!=ge&&Math.abs(de-K)<=1&&Math.abs(ge-s)<=1&&K<de&&ce.axisExtend0===ue[0]&&ce.axisExtend1===ue[1]?K=de:(ce.lastTickCount=s,ce.lastAutoInterval=K,ce.axisExtend0=ue[0],ce.axisExtend1=ue[1]),K}(this)}};var ZT=Mg,Rx={};ee(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){Rx[e]=xn[e]});var Ex={};function yh(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return Ls(e,t,n[0]);if(i){for(var o=[],a=0;a<n.length;a++){var s=Ls(e,t,n[a]);o.push(s)}return o.join(" ")}}function Za(e,t,n){y.call(this),this.updateData(e,t,n)}ee(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){Ex[e]=ma[e]}),Yi.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return _a(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Lo=Za.prototype,$T=Za.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function Tg(e){return[e[0]/2,e[1]/2]}function KT(e,t){this.parent.drift(e,t)}Lo._createSymbol=function(e,t,n,i,o){this.removeAll();var a=ao(e,-1,-1,2,2,t.getItemVisual(n,"color"),o);a.attr({z2:100,culling:!0,scale:Tg(i)}),a.drift=KT,this._symbolType=e,this.add(a)},Lo.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},Lo.getSymbolPath=function(){return this.childAt(0)},Lo.getScale=function(){return this.childAt(0).scale},Lo.highlight=function(){this.childAt(0).trigger("emphasis")},Lo.downplay=function(){this.childAt(0).trigger("normal")},Lo.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},Lo.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},Lo.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,a=$T(e,t),s=i!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(i,e,t,a,l)}else(u=this.childAt(0)).silent=!1,si(u,{scale:Tg(a)},o,t);if(this._updateCommon(e,t,a,n),s){var u=this.childAt(0),c=n&&n.fadeIn,d={scale:u.scale.slice()};c&&(d.style={opacity:u.style.opacity}),u.scale=[0,0],c&&(u.style.opacity=0),kr(u,d,o,t)}this._seriesModel=o};var JT=["itemStyle"],QT=["emphasis","itemStyle"],eA=["label"],tA=["emphasis","label"];function nA(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var n=this.__symbolOriginalScale,i=n[1]/n[0],o={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function Ol(e){this.group=new y,this._symbolCtor=e||Za}Lo._updateCommon=function(e,t,n,i){var o=this.childAt(0),a=e.hostModel,s=e.getItemVisual(t,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var l=i&&i.itemStyle,u=i&&i.hoverItemStyle,c=i&&i.symbolOffset,d=i&&i.labelModel,h=i&&i.hoverLabelModel,f=i&&i.hoverAnimation,p=i&&i.cursorStyle;if(!i||e.hasItemOption){var m=i&&i.itemModel?i.itemModel:e.getItemModel(t);l=m.getModel(JT).getItemStyle(["color"]),u=m.getModel(QT).getItemStyle(),c=m.getShallow("symbolOffset"),d=m.getModel(eA),h=m.getModel(tA),f=m.getShallow("hoverAnimation"),p=m.getShallow("cursor")}else u=ne({},u);var S=o.style,x=e.getItemVisual(t,"symbolRotate");o.attr("rotation",(x||0)*Math.PI/180||0),c&&o.attr("position",[An(c[0],n[0]),An(c[1],n[1])]),p&&o.attr("cursor",p),o.setColor(s,i&&i.symbolInnerColor),o.setStyle(l);var V=e.getItemVisual(t,"opacity");null!=V&&(S.opacity=V);var Q=e.getItemVisual(t,"liftZ"),K=o.__z2Origin;null!=Q?null==K&&(o.__z2Origin=o.z2,o.z2+=Q):null!=K&&(o.z2=K,o.__z2Origin=null);var ce=i&&i.useNameLabel;no(S,u,d,h,{labelFetcher:a,labelDataIndex:t,defaultText:function(ue,de){return ce?e.getName(ue):yh(e,ue)},isRectText:!0,autoColor:s}),o.__symbolOriginalScale=Tg(n),o.hoverStyle=u,o.highDownOnUpdate=f&&a.isAnimationEnabled()?nA:null,Vi(o)},Lo.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,t&&t.keepLabel||(n.style.text=null),si(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},he(Za,y);var Bl=Ol.prototype;function Ag(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function Ox(e){return null==e||xt(e)||(e={isIgnore:e}),e||{}}function Bx(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Ig(e,t,n){var i,S,x,V,o=e.getBaseAxis(),a=e.getOtherAxis(o),s=(S=n,x=0,V=a.scale.getExtent(),"start"===S?x=V[0]:"end"===S?x=V[1]:0<V[0]?x=V[0]:V[1]<0&&(x=V[1]),x),l=o.dim,u=a.dim,c=t.mapDimension(u),d=t.mapDimension(l),h="x"===u||"radius"===u?1:0,f=Me(e.dimensions,function(m){return t.mapDimension(m)}),p=t.getCalculationInfo("stackResultDimension");return(i|=ba(t,f[0]))&&(f[0]=p),(i|=ba(t,f[1]))&&(f[1]=p),{dataDimsForPoint:f,valueStart:s,valueAxisDim:u,baseAxisDim:l,stacked:!!i,valueDim:c,baseDim:d,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function kg(e,t,n,i){var o=NaN;e.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=e.valueStart);var a=e.baseDataOffset,s=[];return s[a]=n.get(e.baseDim,i),s[1-a]=o,t.dataToPoint(s)}Bl.updateData=function(e,t){t=Ox(t);var n=this.group,i=e.hostModel,o=this._data,a=this._symbolCtor,s=Bx(e);o||n.removeAll(),e.diff(o).add(function(l){var u=e.getItemLayout(l);if(Ag(e,u,l,t)){var c=new a(e,l,s);c.attr("position",u),e.setItemGraphicEl(l,c),n.add(c)}}).update(function(l,u){var c=o.getItemGraphicEl(u),d=e.getItemLayout(l);Ag(e,d,l,t)?(c?(c.updateData(e,l,s),si(c,{position:d},i)):(c=new a(e,l)).attr("position",d),n.add(c),e.setItemGraphicEl(l,c)):n.remove(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&u.fadeOut(function(){n.remove(u)})}).execute(),this._data=e},Bl.isPersistent=function(){return!0},Bl.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},Bl.incrementalPrepareUpdate=function(e){this._seriesScope=Bx(e),this._data=null,this.group.removeAll()},Bl.incrementalUpdate=function(e,t,n){function i(l){l.isGroup||(l.incremental=l.useHoverLayer=!0)}n=Ox(n);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(Ag(t,a,o,n)){var s=new this._symbolCtor(t,o,this._seriesScope);s.traverse(i),s.attr("position",a),this.group.add(s),t.setItemGraphicEl(o,s)}}},Bl.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)})}):t.removeAll()};var zx=pr,Fx=Ki,Vx=Ht,xh=Dn,Dg=[],Co=[],So=[];function wa(e){return isNaN(e[0])||isNaN(e[1])}function Ng(e,t,n,i,o,a,s,l,u,c){return"none"!==c&&c?function(d,h,f,p,m,S,x,V,Q,K,ce){for(var ue=0,de=f,ge=0;ge<p;ge++){var Ce=h[de];if(m<=de||de<0)break;if(wa(Ce)){if(ce){de+=S;continue}break}if(de===f)d[0<S?"moveTo":"lineTo"](Ce[0],Ce[1]);else if(0<Q){var Pe=h[ue],Fe="y"===K?1:0,Ge=(Ce[Fe]-Pe[Fe])*Q;xh(Co,Pe),Co[Fe]=Pe[Fe]+Ge,xh(So,Ce),So[Fe]=Ce[Fe]-Ge,d.bezierCurveTo(Co[0],Co[1],So[0],So[1],Ce[0],Ce[1])}else d.lineTo(Ce[0],Ce[1]);ue=de,de+=S}return ge}.apply(this,arguments):function(d,h,f,p,m,S,x,V,Q,K,ce){for(var ue=0,de=f,ge=0;ge<p;ge++){var Ce=h[de];if(m<=de||de<0)break;if(wa(Ce)){if(ce){de+=S;continue}break}if(de===f)d[0<S?"moveTo":"lineTo"](Ce[0],Ce[1]),xh(Co,Ce);else if(0<Q){var Pe=de+S,Fe=h[Pe];if(ce)for(;Fe&&wa(h[Pe]);)Fe=h[Pe+=S];var Ge=.5,Qe=h[ue];if(!(Fe=h[Pe])||wa(Fe))xh(So,Ce);else{var et,ot;if(wa(Fe)&&!ce&&(Fe=Ce),en(Dg,Fe,Qe),"x"===K||"y"===K){var ht="x"===K?0:1;et=Math.abs(Ce[ht]-Qe[ht]),ot=Math.abs(Ce[ht]-Fe[ht])}else et=Yn(Ce,Qe),ot=Yn(Ce,Fe);Vx(So,Ce,Dg,-Q*(1-(Ge=ot/(ot+et))))}zx(Co,Co,V),Fx(Co,Co,x),zx(So,So,V),Fx(So,So,x),d.bezierCurveTo(Co[0],Co[1],So[0],So[1],Ce[0],Ce[1]),Vx(Co,Ce,Dg,Q*Ge)}else d.lineTo(Ce[0],Ce[1]);ue=de,de+=S}return ge}.apply(this,arguments)}function Pg(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var o=0;o<e.length;o++){var a=e[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:t?n:i,max:t?i:n}}var iA=mi.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:sp(mi.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,o=n.length,a=Pg(n,t.smoothConstraint);if(t.connectNulls){for(;0<o&&wa(n[o-1]);o--);for(;i<o&&wa(n[i]);i++);}for(;i<o;)i+=Ng(e,n,i,o,o,1,a.min,a.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Hx=mi.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:sp(mi.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,o=0,a=n.length,s=t.smoothMonotone,l=Pg(n,t.smoothConstraint),u=Pg(i,t.smoothConstraint);if(t.connectNulls){for(;0<a&&wa(n[a-1]);a--);for(;o<a&&wa(n[o]);o++);}for(;o<a;){var c=Ng(e,n,o,a,a,1,l.min,l.max,t.smooth,s,t.connectNulls);Ng(e,i,o+c-1,c,a,-1,u.min,u.max,t.stackedOnSmooth,s,t.connectNulls),o+=c+1,e.closePath()}}});function Wx(e,t,n){var i=e.getArea(),o=e.getBaseAxis().isHorizontal(),a=i.x,s=i.y,l=i.width,u=i.height,c=n.get("lineStyle.width")||2;a-=c/2,s-=c/2,l+=c,u+=c,a=Math.floor(a),l=Math.round(l);var d=new Si({shape:{x:a,y:s,width:l,height:u}});return t&&(d.shape[o?"width":"height"]=0,kr(d,{shape:{width:l,height:u}},n)),d}function Gx(e,t,n){var i=e.getArea(),o=new Do({shape:{cx:sr(e.cx,1),cy:sr(e.cy,1),r0:sr(i.r0,1),r:sr(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&(o.shape.endAngle=i.startAngle,kr(o,{shape:{endAngle:i.endAngle}},n)),o}function bh(e,t,n){return e?"polar"===e.type?Gx(e,t,n):"cartesian2d"===e.type?Wx(e,t,n):null:null}function Ux(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function jx(e,t){var n=[],i=[],o=[],a=[];return Mu(e,n,i),Mu(t,o,a),Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function qx(e){return"number"==typeof e?e:e?.5:0}function $a(e,t,n){for(var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],s=0;s<e.length-1;s++){var l=e[s+1],u=e[s];a.push(u);var c=[];switch(n){case"end":c[o]=l[o],c[1-o]=u[1-o],a.push(c);break;case"middle":var h=[];c[o]=h[o]=(u[o]+l[o])/2,c[1-o]=u[1-o],h[1-o]=l[1-o],a.push(c),a.push(h);break;default:c[o]=u[o],c[1-o]=l[1-o],a.push(c)}}return e[s]&&a.push(e[s]),a}function Yx(e,t,n){if("cartesian2d"!==e.type)return Gx(e,t,n);var i=e.getBaseAxis().isHorizontal(),o=Wx(e,t,n);if(!n.get("clip",!0)){var a=o.shape,s=Math.max(a.width,a.height);i?(a.y-=s,a.height+=2*s):(a.x-=s,a.width+=2*s)}return o}function Bs(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(i,o,a){var s=i.getData(),l=i.get("symbol"),u=i.get("symbolSize"),c=i.get("symbolKeepAspect"),d=i.get("symbolRotate"),h=Vt(l),f=Vt(u),p=Vt(d),m=h||f||p,S=!h&&l?l:t;if(s.setVisual({legendSymbol:n||S,symbol:S,symbolSize:f?null:u,symbolKeepAspect:c,symbolRotate:d}),!o.isSeriesFiltered(i))return{dataEach:s.hasItemOption||m?function(V,Q){if(m){var K=i.getRawValue(Q),ce=i.getDataParams(Q);h&&V.setItemVisual(Q,"symbol",l(K,ce)),f&&V.setItemVisual(Q,"symbolSize",u(K,ce)),p&&V.setItemVisual(Q,"symbolRotate",d(K,ce))}if(V.hasItemOption){var ue=V.getItemModel(Q),de=ue.getShallow("symbol",!0),ge=ue.getShallow("symbolSize",!0),Ce=ue.getShallow("symbolRotate",!0),Pe=ue.getShallow("symbolKeepAspect",!0);null!=de&&V.setItemVisual(Q,"symbol",de),null!=ge&&V.setItemVisual(Q,"symbolSize",ge),null!=Ce&&V.setItemVisual(Q,"symbolRotate",Ce),null!=Pe&&V.setItemVisual(Q,"symbolKeepAspect",Pe)}}:null}}}}function lc(e){return{seriesType:e,plan:kl(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,o=t.pipelineContext.large;if(i){var a=Me(i.dimensions,function(u){return n.mapDimension(u)}).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");return ba(n,a[0])&&(a[0]=l),ba(n,a[1])&&(a[1]=l),s&&{progress:function(u,c){for(var h=o&&new Float32Array((u.end-u.start)*s),f=u.start,p=0,m=[],S=[];f<u.end;f++){var x;if(1===s){var V=c.get(a[0],f);x=!isNaN(V)&&i.dataToPoint(V,null,S)}else{V=m[0]=c.get(a[0],f);var Q=m[1]=c.get(a[1],f);x=!isNaN(V)&&!isNaN(Q)&&i.dataToPoint(m,null,S)}o?(h[p++]=x?x[0]:NaN,h[p++]=x?x[1]:NaN):c.setItemLayout(f,x&&x.slice()||[NaN,NaN])}o&&c.setLayout("symbolPoints",h)}}}}}}function oA(e,t){return Math.round(e.length/2)}mr.extend({type:"line",init:function(){var e=new y,t=new Ol;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=a.mapArray(a.getItemLayout),c="polar"===i.type,d=this._coordSys,h=this._symbolDraw,f=this._polyline,p=this._polygon,m=this._lineGroup,S=e.get("animation"),x=!l.isEmpty(),V=l.get("origin"),Q=function(Qe,et,ot){if(!ot.valueDim)return[];for(var ht=[],pt=0,ut=et.count();pt<ut;pt++)ht.push(kg(ot,Qe,et,pt));return ht}(i,a,Ig(i,a,V)),K=e.get("showSymbol"),ce=K&&!c&&function rA(e,t,n){var i=e.get("showAllSymbol"),o="auto"===i;if(!i||o){var a=n.getAxesByScale("ordinal")[0];if(a&&(!o||!function(u,c){var d=u.getExtent(),h=Math.abs(d[1]-d[0])/u.scale.count();isNaN(h)&&(h=0);for(var f=c.count(),p=Math.max(1,Math.round(f/5)),m=0;m<f;m+=p)if(1.5*Za.getSymbolSize(c,m)[u.isHorizontal()?1:0]>h)return!1;return!0}(a,t))){var s=t.mapDimension(a.dim),l={};return ee(a.getViewLabels(),function(u){l[u.tickValue]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}(e,a,i),ue=this._data;ue&&ue.eachItemGraphicEl(function(Qe,et){Qe.__temp&&(o.remove(Qe),ue.setItemGraphicEl(et,null))}),K||h.remove(),o.add(m);var de,ge=!c&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(de=i.getArea()).width?(de.x-=.1,de.y-=.1,de.width+=.2,de.height+=.2):de.r0&&(de.r0-=.5,de.r1+=.5)),this._clipShapeForSymbol=de,f&&d.type===i.type&&ge===this._step?(x&&!p?p=this._newPolygon(u,Q,i,S):p&&!x&&(m.remove(p),p=this._polygon=null),m.setClipPath(Yx(i,!1,e)),K&&h.updateData(a,{isIgnore:ce,clipShape:de}),a.eachItemGraphicEl(function(Qe){Qe.stopAnimation(!0)}),Ux(this._stackedOnPoints,Q)&&Ux(this._points,u)||(S?this._updateAnimation(a,Q,i,n,ge,V):(ge&&(u=$a(u,i,ge),Q=$a(Q,i,ge)),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:Q})))):(K&&h.updateData(a,{isIgnore:ce,clipShape:de}),ge&&(u=$a(u,i,ge),Q=$a(Q,i,ge)),f=this._newPolyline(u,i,S),x&&(p=this._newPolygon(u,Q,i,S)),m.setClipPath(Yx(i,!0,e)));var Ce=function(Qe,et){var ot=Qe.getVisual("visualMeta");if(ot&&ot.length&&Qe.count()&&"cartesian2d"===et.type){for(var ht,pt,ut=ot.length-1;0<=ut;ut--){var nn=Qe.getDimensionInfo(Qe.dimensions[ot[ut].dimension]);if("x"===(ht=nn&&nn.coordDim)||"y"===ht){pt=ot[ut];break}}if(pt){var jt=et.getAxis(ht),gn=Me(pt.stops,function(Ii){return{coord:jt.toGlobalCoord(jt.dataToCoord(Ii.value)),color:Ii.color}}),Cn=gn.length,Vn=pt.outerColors.slice();Cn&&gn[0].coord>gn[Cn-1].coord&&(gn.reverse(),Vn.reverse());var sn=gn[0].coord-10,Bn=gn[Cn-1].coord+10,Hn=Bn-sn;if(Hn<.001)return"transparent";ee(gn,function(Ii){Ii.offset=(Ii.coord-sn)/Hn}),gn.push({offset:Cn?gn[Cn-1].offset:.5,color:Vn[1]||"transparent"}),gn.unshift({offset:Cn?gn[0].offset:.5,color:Vn[0]||"transparent"});var Xn=new Ss(0,0,0,0,gn,!0);return Xn[ht]=sn,Xn[ht+"2"]=Bn,Xn}}}(a,i)||a.getVisual("color");f.useStyle(pe(s.getLineStyle(),{fill:"none",stroke:Ce,lineJoin:"bevel"}));var Pe=e.get("smooth");if(Pe=qx(e.get("smooth")),f.setShape({smooth:Pe,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),p){var Fe=a.getCalculationInfo("stackedOnSeries"),Ge=0;p.useStyle(pe(l.getAreaStyle(),{fill:Ce,opacity:.7,lineJoin:"bevel"})),Fe&&(Ge=qx(Fe.get("smooth"))),p.setShape({smooth:Pe,stackedOnSmooth:Ge,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=i,this._stackedOnPoints=Q,this._points=u,this._step=ge,this._valueOrigin=V},dispose:function(){},highlight:function(e,t,n,i){var o=e.getData(),a=cd(o,i);if(!(a instanceof Array)&&null!=a&&0<=a){var s=o.getItemGraphicEl(a);if(!s){var l=o.getItemLayout(a);if(!l||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l[0],l[1]))return;(s=new Za(o,a)).position=l,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,o.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else mr.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var o=e.getData(),a=cd(o,i);if(null!=a&&0<=a){var s=o.getItemGraphicEl(a);s&&(s.__temp?(o.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else mr.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new iA({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Hx({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n},_updateAnimation:function(e,t,n,i,o,a){var s=this._polyline,l=this._polygon,u=e.hostModel,c=function(Q,K,ce,ue,de,ge,Ce,Pe){for(var Fe=function(Vr,Rr){var ka=[];return Rr.diff(Vr).add(function(cs){ka.push({cmd:"+",idx:cs})}).update(function(cs,Jc){ka.push({cmd:"=",idx:Jc,idx1:cs})}).remove(function(cs){ka.push({cmd:"-",idx:cs})}).execute(),ka}(Q,K),Ge=[],Qe=[],et=[],ot=[],ht=[],pt=[],ut=[],At=Ig(de,K,Ce),Zt=Ig(ge,Q,Pe),nn=0;nn<Fe.length;nn++){var jt=Fe[nn],gn=!0;switch(jt.cmd){case"=":var Cn=Q.getItemLayout(jt.idx),Vn=K.getItemLayout(jt.idx1);(isNaN(Cn[0])||isNaN(Cn[1]))&&(Cn=Vn.slice()),Ge.push(Cn),Qe.push(Vn),et.push(ce[jt.idx]),ot.push(ue[jt.idx1]),ut.push(K.getRawIndex(jt.idx1));break;case"+":var sn=jt.idx;Ge.push(de.dataToPoint([K.get(At.dataDimsForPoint[0],sn),K.get(At.dataDimsForPoint[1],sn)])),Qe.push(K.getItemLayout(sn).slice()),et.push(kg(At,de,K,sn)),ot.push(ue[sn]),ut.push(K.getRawIndex(sn));break;case"-":var Bn=Q.getRawIndex(sn=jt.idx);Bn!==sn?(Ge.push(Q.getItemLayout(sn)),Qe.push(ge.dataToPoint([Q.get(Zt.dataDimsForPoint[0],sn),Q.get(Zt.dataDimsForPoint[1],sn)])),et.push(ce[sn]),ot.push(kg(Zt,ge,Q,sn)),ut.push(Bn)):gn=!1}gn&&(ht.push(jt),pt.push(pt.length))}pt.sort(function(Vr,Rr){return ut[Vr]-ut[Rr]});var Hn=[],Xn=[],Ii=[],xi=[],Li=[];for(nn=0;nn<pt.length;nn++)Hn[nn]=Ge[sn=pt[nn]],Xn[nn]=Qe[sn],Ii[nn]=et[sn],xi[nn]=ot[sn],Li[nn]=ht[sn];return{current:Hn,next:Xn,stackedOnCurrent:Ii,stackedOnNext:xi,status:Li}}(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,a),d=c.current,h=c.stackedOnCurrent,f=c.next,p=c.stackedOnNext;if(o&&(d=$a(c.current,n,o),h=$a(c.stackedOnCurrent,n,o),f=$a(c.next,n,o),p=$a(c.stackedOnNext,n,o)),3e3<jx(d,f)||l&&3e3<jx(h,p))return s.setShape({points:f}),void(l&&l.setShape({points:f,stackedOnPoints:p}));s.shape.__points=c.current,s.shape.points=d,si(s,{shape:{points:f}},u),l&&(l.setShape({points:d,stackedOnPoints:h}),si(l,{shape:{points:f,stackedOnPoints:p}},u));for(var m=[],S=c.status,x=0;x<S.length;x++)if("="===S[x].cmd){var V=e.getItemGraphicEl(S[x].idx1);V&&m.push({el:V,ptIdx:x})}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var Q=0;Q<m.length;Q++)m[Q].el.attr("position",s.shape.__points[m[Q].ptIdx])})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(t.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var aA={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}};function sA(e){return this._axes[e]}function _h(e){this._axes={},this._dimList=[],this.name=e||""}function uc(e){_h.call(this,e)}function wh(e,t,n,i,o){or.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom"}_h.prototype={constructor:_h,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return Me(this._dimList,sA,this)},getAxesByScale:function(e){return e=e.toLowerCase(),Be(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o];i[a]=this._axes[a][t](e[a])}return i}},uc.prototype={constructor:uc,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),o=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=o.toGlobalCoord(o.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent(),s=n.parse(e[0]),l=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]);return new v(n,i,Math.max(e[0],e[1])-n,Math.max(t[0],t[1])-i)}},he(uc,_h),wh.prototype={constructor:wh,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},he(wh,or);var Xx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Ka={};function zl(e,t,n,i){ee(lA,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(a,s){var l=this.layoutMode,u=l?Al(a):{};ae(a,s.getTheme().get(o+"Axis")),ae(a,this.getDefaultOption()),a.type=n(e,a),l&&Wa(a,u,l)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=ic.createByAxisModel(this))},getCategories:function(a){var s=this.option;if("category"===s.type)return a?s.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:se([{},Ka[o+"Axis"],i],!0)})}),Mi.registerSubTypeDefaulter(e+"Axis",gt(n,e))}Ka.categoryAxis=ae({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Xx),Ka.valueAxis=ae({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Xx),Ka.timeAxis=pe({scale:!0,min:"dataMin",max:"dataMax"},Ka.valueAxis),Ka.logAxis=pe({scale:!0,logBase:10},Ka.valueAxis);var lA=["value","category","time","log"],Fl=Mi.extend({type:"cartesian2dAxis",axis:null,init:function(){Fl.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Fl.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Fl.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function Zx(e,t){return t.type||(t.data?"category":"value")}ae(Fl.prototype,Es);var $x={offset:0};function Lg(e,t){return e.getCoordSysModel()===t}function Vl(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}zl("x",Fl,Zx,$x),zl("y",Fl,Zx,$x),Mi.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Lr=Vl.prototype;function Kx(e,t,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=e[t],s=n.model,l=s.get("axisLine.onZero"),u=s.get("axisLine.onZeroAxisIndex");if(l){if(null!=u)Jx(a[u])&&(o=a[u]);else for(var c in a)if(a.hasOwnProperty(c)&&Jx(a[c])&&!i[d(a[c])]){o=a[c];break}o&&(i[d(o)]=!0)}function d(h){return h.dim+"_"+h.index}}function Jx(e){return e&&"category"!==e.type&&"time"!==e.type&&function(t){var n=t.scale.getExtent(),i=n[0],o=n[1];return!(0<i&&0<o||i<0&&o<0)}(e)}Lr.type="grid",Lr.axisPointerEnabled=!0,Lr.getRect=function(){return this._rect},Lr.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),ee(n.x,function(o){Xa(o.scale,o.model)}),ee(n.y,function(o){Xa(o.scale,o.model)});var i={};ee(n.x,function(o){Kx(n,"y",o,i)}),ee(n.y,function(o){Kx(n,"x",o,i)}),this.resize(this.model,t)},Lr.resize=function(e,t,n){var i=nr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=i;var o=this._axesList;function a(){ee(o,function(s){var d,h,f,p,l=s.isHorizontal(),u=l?[0,i.width]:[0,i.height],c=s.inverse?1:0;s.setExtent(u[c],u[1-c]),h=l?i.x:i.y,f=(d=s).getExtent(),p=f[0]+f[1],d.toGlobalCoord="x"===d.dim?function(m){return m+h}:function(m){return p-m+h},d.toLocalCoord="x"===d.dim?function(m){return m-h}:function(m){return p-m+h}})}a(),!n&&e.get("containLabel")&&(ee(o,function(s){if(!s.model.get("axisLabel.inside")){var l=function(d){var f=d.scale;if(d.model.get("axisLabel.show")&&!f.isBlank()){var p,m,S="category"===d.type,x=f.getExtent();m=S?f.count():(p=f.getTicks()).length;var V,Q,ce,ue,de,ge,Ce,Pe,Fe=d.getLabelModel(),Ge=oc(d),Qe=1;40<m&&(Qe=Math.ceil(m/40));for(var et=0;et<m;et+=Qe){var ot=Ge(p?p[et]:x[0]+et),pt=(Q=Fe.getTextRect(ot),ce=(Fe.get("rotate")||0)*Math.PI/180,ge=(ue=Q.plain()).height,Ce=(de=ue.width)*Math.abs(Math.cos(ce))+Math.abs(ge*Math.sin(ce)),Pe=de*Math.abs(Math.sin(ce))+Math.abs(ge*Math.cos(ce)),new v(ue.x,ue.y,Ce,Pe));V?V.union(pt):V=pt}return V}}(s);if(l){var u=s.isHorizontal()?"height":"width",c=s.model.get("axisLabel.margin");i[u]-=l[u]+c,"top"===s.position?i.y+=l.height+c:"left"===s.position&&(i.x+=l.width+c)}}}),a())},Lr.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},Lr.getAxes=function(){return this._axesList.slice()},Lr.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];xt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},Lr.getCartesians=function(){return this._coordsList.slice()},Lr.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},Lr.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},Lr._findConvertTarget=function(e,t){var n,i,o=t.seriesModel,a=t.xAxisModel||o&&o.getReferringComponents("xAxis")[0],s=t.yAxisModel||o&&o.getReferringComponents("yAxis")[0],l=t.gridModel;return o?De(this._coordsList,n=o.coordinateSystem)<0&&(n=null):a&&s?n=this.getCartesian(a.componentIndex,s.componentIndex):a?i=this.getAxis("x",a.componentIndex):s?i=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},Lr.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},Lr._initCartesian=function(e,t,n){var i={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);function s(l){return function(u,c){if(Lg(u,e)){var d=u.get("position");"x"===l?"top"!==d&&"bottom"!==d&&(d=i.bottom?"top":"bottom"):"left"!==d&&"right"!==d&&(d=i.left?"right":"left"),i[d]=!0;var h=new wh(l,El(u),[0,0],u.get("type"),d);h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),(u.axis=h).model=u,h.grid=this,h.index=c,this._axesList.push(h),o[l][c]=h,a[l]++}}}ee((this._axesMap=o).x,function(l,u){ee(o.y,function(c,d){var h="x"+u+"y"+d,f=new uc(h);f.grid=this,f.model=e,this._coordsMap[h]=f,this._coordsList.push(f),f.addAxis(l),f.addAxis(c)},this)},this)},Lr._updateScale=function(e,t){function n(i,o){ee(i.mapDimension(o.dim,!0),function(a){o.scale.unionExtentFromData(i,nc(i,a))})}ee(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(i){if(eb(i)){var o=Qx(i),a=o[0],s=o[1];if(!Lg(a,t)||!Lg(s,t))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),d=l.getAxis("y");"list"===u.type&&(n(u,c),n(u,d))}},this)},Lr.getTooltipAxes=function(e){var t=[],n=[];return ee(this.getCartesians(),function(i){var o=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),a=i.getOtherAxis(o);De(t,o)<0&&t.push(o),De(n,a)<0&&n.push(a)}),{baseAxes:t,otherAxes:n}};var uA=["xAxis","yAxis"];function Qx(e){return Me(uA,function(t){return e.getReferringComponents(t)[0]})}function eb(e){return"cartesian2d"===e.get("coordinateSystem")}function Jr(e,t){this.opt=t,this.axisModel=e,pe(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new y;var n=new y({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n}Vl.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,o){var a=new Vl(i,e,t);a.name="grid_"+o,a.resize(i,t,!0),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if(eb(i)){var o=Qx(i),a=o[0],s=o[1],l=a.getCoordSysModel().coordinateSystem;i.coordinateSystem=l.getCartesian(a.componentIndex,s.componentIndex)}}),n},Vl.dimensions=Vl.prototype.dimensions=uc.prototype.dimensions,Nr.register("cartesian2d",Vl);var Ja=Math.PI;Jr.prototype={constructor:Jr,hasBuilder:function(e){return!!tb[e]},add:function(e){tb[e].call(this)},getGroup:function(){return this.group}};var tb={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],a=[n[1],0];i&&(li(o,o,i),li(a,a,i));var s=ne({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new _r({anid:"line",subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:s,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var l=t.get("axisLine.symbol"),u=t.get("axisLine.symbolSize"),c=t.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var d=u[0],h=u[1];ee([{rotate:e.rotation+Math.PI/2,offset:c[0],r:0},{rotate:e.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],function(f,p){if("none"!==l[p]&&null!=l[p]){var m=ao(l[p],-d/2,-h/2,d,h,s.stroke,!0),S=f.r+f.offset,x=[o[0]+S*Math.cos(e.rotation),o[1]-S*Math.sin(e.rotation)];m.attr({rotation:f.rotate,position:x,silent:!0,z2:11}),this.group.add(m)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(i,o,a){var s=o.axis,l=o.getModel("axisTick");if(l.get("show")&&!s.scale.isBlank()){for(var u=l.getModel("lineStyle"),c=a.tickDirection*l.get("length"),d=sb(s.getTicksCoords(),i._transform,c,pe(u.getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")}),"ticks"),h=0;h<d.length;h++)i.group.add(d[h]);return d}}(this,e,t);(function(i,o,a){if(!Cx(i.axis)){var s=i.get("axisLabel.showMinLabel"),l=i.get("axisLabel.showMaxLabel"),u=(o=o||[])[0],c=o[1],d=o[o.length-1],h=o[o.length-2],f=(a=a||[])[0],p=a[1],m=a[a.length-1],S=a[a.length-2];!1===s?(Mo(u),Mo(f)):ob(u,c)&&(s?(Mo(c),Mo(p)):(Mo(u),Mo(f))),!1===l?(Mo(d),Mo(m)):ob(h,d)&&(l?(Mo(h),Mo(S)):(Mo(d),Mo(m)))}})(e,function(i,o,a){var s=o.axis;if(dn(a.axisLabelShow,o.get("axisLabel.show"))&&!s.scale.isBlank()){var l=o.getModel("axisLabel"),u=l.get("margin"),c=s.getViewLabels(),d=(dn(a.labelRotate,l.get("rotate"))||0)*Ja/180,h=ib(a.rotation,d,a.labelDirection),f=o.getCategories&&o.getCategories(!0),p=[],m=rb(o),S=o.get("triggerEvent");return ee(c,function(x,V){var Q=x.tickValue,K=x.formattedLabel,ce=x.rawLabel,ue=l;f&&f[Q]&&f[Q].textStyle&&(ue=new vi(f[Q].textStyle,l,o.ecModel));var de=ue.getTextColor()||o.get("axisLine.lineStyle.color"),ge=[s.dataToCoord(Q),a.labelOffset+a.labelDirection*u],Ce=new fi({anid:"label_"+Q,position:ge,rotation:h.rotation,silent:m,z2:10});qi(Ce.style,ue,{text:K,textAlign:ue.getShallow("align",!0)||h.textAlign,textVerticalAlign:ue.getShallow("verticalAlign",!0)||ue.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"==typeof de?de("category"===s.type?ce:"value"===s.type?Q+"":Q,V):de}),S&&(Ce.eventData=nb(o),Ce.eventData.targetType="axisLabel",Ce.eventData.value=ce),i._dumbGroup.add(Ce),Ce.updateTransform(),p.push(Ce),i.group.add(Ce),Ce.decomposeTransform()}),p}}(this,e,t),n),function(i,o,a){var s=o.axis,l=o.getModel("minorTick");if(l.get("show")&&!s.scale.isBlank()){var u=s.getMinorTicksCoords();if(u.length)for(var c=l.getModel("lineStyle"),d=a.tickDirection*l.get("length"),h=pe(c.getLineStyle(),pe(o.getModel("axisTick").getLineStyle(),{stroke:o.get("axisLine.lineStyle.color")})),f=0;f<u.length;f++)for(var p=sb(u[f],i._transform,d,h,"minorticks_"+f),m=0;m<p.length;m++)i.group.add(p[m])}}(this,e,t)},axisName:function(){var ge,Pe,Ge,Qe,et,ot,e=this.opt,t=this.axisModel,n=dn(e.axisName,t.get("name"));if(n){var i,o,a=t.get("nameLocation"),s=e.nameDirection,l=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,c=this.axisModel.axis.getExtent(),d=c[0]>c[1]?-1:1,h=["start"===a?c[0]-d*u:"end"===a?c[1]+d*u:(c[0]+c[1])/2,ab(a)?e.labelOffset+s*u:0],f=t.get("nameRotate");null!=f&&(f=f*Ja/180),ab(a)?i=ib(e.rotation,f??e.rotation,s):(ge=a,Pe=c,Qe=bp((f||0)-e.rotation),et=Pe[0]>Pe[1],ot="start"===ge&&!et||"start"!==ge&&et,i={rotation:Qe,textAlign:Ou(Qe-Ja/2)?(Ge=ot?"bottom":"top","center"):Ou(Qe-1.5*Ja)?(Ge=ot?"top":"bottom","center"):(Ge="middle",Qe<1.5*Ja&&Ja/2<Qe?ot?"left":"right":ot?"right":"left"),textVerticalAlign:Ge},null!=(o=e.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(i.rotation)),isFinite(o)||(o=null)));var p=l.getFont(),m=t.get("nameTruncate",!0)||{},S=m.ellipsis,x=dn(e.nameTruncateMaxWidth,m.maxWidth,o),V=null!=S&&null!=x?Fy(n,x,p,S,{minChar:2,placeholder:m.placeholder}):n,Q=t.get("tooltip",!0),K=t.mainType,ce={componentType:K,name:n,$vars:["name"]};ce[K+"Index"]=t.componentIndex;var ue=new fi({anid:"name",__fullText:n,__truncatedText:V,position:h,rotation:i.rotation,silent:rb(t),z2:1,tooltip:Q&&Q.show?ne({content:n,formatter:function(){return n},formatterParams:ce},Q):null});qi(ue.style,l,{text:V,textFont:p,textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:l.get("align")||i.textAlign,textVerticalAlign:l.get("verticalAlign")||i.textVerticalAlign}),t.get("triggerEvent")&&(ue.eventData=nb(t),ue.eventData.targetType="axisName",ue.eventData.name=n),this._dumbGroup.add(ue),ue.updateTransform(),this.group.add(ue),ue.decomposeTransform()}}},nb=Jr.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},ib=Jr.innerTextLayout=function(e,t,n){var i,o=bp(t-e);return{rotation:o,textAlign:Ou(o)?(i=0<n?"top":"bottom","center"):Ou(o-Ja)?(i=0<n?"bottom":"top","center"):(i="middle",0<o&&o<Ja?0<n?"right":"left":0<n?"left":"right"),textVerticalAlign:i}},rb=Jr.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function Mo(e){e&&(e.ignore=!0)}function ob(e,t){var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i){var o=Bo([]);return Ao(o,o,-e.rotation),n.applyTransform(ho([],o,e.getLocalTransform())),i.applyTransform(ho([],o,t.getLocalTransform())),n.intersect(i)}}function ab(e){return"middle"===e||"center"===e}function sb(e,t,n,i,o){for(var a=[],s=[],l=[],u=0;u<e.length;u++){var c=e[u].coord;s[0]=c,l[s[1]=0]=c,l[1]=n,t&&(li(s,s,t),li(l,l,t));var d=new _r({anid:o+"_"+e[u].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,silent:!0});a.push(d)}return a}var Hl=ee,Rg=gt;function Eg(e,t){return"all"===e||it(e)&&0<=De(e,t)||e===t}function Og(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[cc(e)]}function Bg(e){return!!e.get("handle.show")}function cc(e){return e.type+"||"+e.id}var so=dr({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&function(o){var a=Og(o);if(a){var s=a.axisPointerModel,l=a.axis.scale,u=s.option,c=s.get("status"),d=s.get("value");null!=d&&(d=l.parse(d));var h=Bg(s);null==c&&(u.status=h?"show":"hide");var f=l.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==d||d>f[1])&&(d=f[1]),d<f[0]&&(d=f[0]),u.value=d,h&&(u.status=a.axis.scale.isBlank()?"hide":"show")}}(e),so.superApply(this,"render",arguments),lb(this,e,0,n,0,!0)},updateAxisPointer:function(e,t,n,i,o){lb(this,e,0,n,0,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),so.superApply(this,"remove",arguments)},dispose:function(e,t){ub(this,t),so.superApply(this,"dispose",arguments)}});function lb(e,t,n,i,o,a){var c,s=so.getAxisPointerClass(e.axisPointerClass);if(s){var l=(c=Og(t))&&c.axisPointerModel;l?(e._axisPointer||(e._axisPointer=new s)).render(t,l,i,a):ub(e,i)}}function ub(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}var cb=[];function zg(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,a={},s=o.getAxesOnZeroOf()[0],l=o.position,u=s?"onZero":l,c=o.dim,d=i.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,m="x"===c?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(s){var S=s.toGlobalCoord(s.dataToCoord(0));m[f.onZero]=Math.max(Math.min(S,m[1]),m[0])}a.position=["y"===c?m[f[u]]:h[0],"x"===c?m[f[u]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?m[f[l]]-m[f.onZero]:0,t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),dn(n.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var x=t.get("axisLabel.rotate");return a.labelRotate="top"===u?-x:x,a.z2=1,a}function db(e,t,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=i.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var d=l.length,h=e.__splitAreaColors,f=zt(),p=0;if(h)for(var m=0;m<c.length;m++){var S=h.get(c[m].tickValue);if(null!=S){p=(S+(d-1)*m)%d;break}}var x=o.toGlobalCoord(c[0].coord),V=s.getAreaStyle();for(l=it(l)?l:[l],m=1;m<c.length;m++){var Q,K,ce,ue,de=o.toGlobalCoord(c[m].coord);x=o.isHorizontal()?(K=u.y,ue=u.height,(Q=x)+(ce=de-Q)):(Q=u.x,ce=u.width,(K=x)+(ue=de-K));var ge=c[m-1].tickValue;null!=ge&&f.set(ge,p),t.add(new Si({anid:null!=ge?"area_"+ge:null,shape:{x:Q,y:K,width:ce,height:ue},style:pe({fill:l[p]},V),silent:!0})),p=(p+1)%d}e.__splitAreaColors=f}}}function hb(e){e.__splitAreaColors=null}so.registerAxisPointerClass=function(e,t){cb[e]=t},so.getAxisPointerClass=function(e){return e&&cb[e]};var dA=["axisLine","axisTickLabel","axisName"],hA=["splitArea","splitLine","minorSplitLine"],Fg=so.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new y,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=zg(a,e),l=new Jr(e,s);ee(dA,l.add,l),this._axisGroup.add(l.getGroup()),ee(hA,function(u){e.get(u+".show")&&this["_"+u](e,a)},this),Ed(o,this._axisGroup,e),Fg.superCall(this,"render",e,t,n,i)}},remove:function(){hb(this)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),a=o.get("color");a=it(a)?a:[a];for(var s=t.coordinateSystem.getRect(),l=n.isHorizontal(),u=0,c=n.getTicksCoords({tickModel:i}),d=[],h=[],f=o.getLineStyle(),p=0;p<c.length;p++){var m=n.toGlobalCoord(c[p].coord);l?(d[0]=m,d[1]=s.y,h[0]=m,h[1]=s.y+s.height):(d[0]=s.x,d[1]=m,h[0]=s.x+s.width,h[1]=m);var S=u++%a.length;this._axisGroup.add(new _r({anid:null!=c[p].tickValue?"line_"+c[p].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:pe({stroke:a[S]},f),silent:!0}))}}},_minorSplitLine:function(e,t){var n=e.axis,i=e.getModel("minorSplitLine").getModel("lineStyle"),o=t.coordinateSystem.getRect(),a=n.isHorizontal(),s=n.getMinorTicksCoords();if(s.length)for(var l=[],u=[],c=i.getLineStyle(),d=0;d<s.length;d++)for(var h=0;h<s[d].length;h++){var f=n.toGlobalCoord(s[d][h].coord);a?(l[0]=f,l[1]=o.y,u[0]=f,u[1]=o.y+o.height):(l[0]=o.x,l[1]=f,u[0]=o.x+o.width,u[1]=f),this._axisGroup.add(new _r({anid:"minor_line_"+s[d][h].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:c,silent:!0}))}},_splitArea:function(e,t){db(this,this._axisGroup,e,t)}});Fg.extend({type:"xAxis"}),Fg.extend({type:"yAxis"}),dr({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Si({shape:e.coordinateSystem.getRect(),style:pe({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),Cr(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),zi(Bs("line","circle","line")),Xi(lc("line")),ro(Zo.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(e,t,n){var i=e.getData(),o=e.get("sampling"),a=e.coordinateSystem;if("cartesian2d"===a.type&&o){var s,l=a.getBaseAxis(),u=a.getOtherAxis(l),c=l.getExtent(),d=Math.abs(c[1]-c[0]),h=Math.round(i.count()/d);1<h&&("string"==typeof o?s=aA[o]:"function"==typeof o&&(s=o),s&&e.setData(i.downSample(i.mapDimension(u.dim),1/h,s,oA)))}}});var fb=Yi.extend({type:"series.__base_bar__",getInitialData:function(e,t){return _a(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),o=i.getLayout("offset"),a=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=o+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});function pb(e,t,n,i,o,a){no(e,t,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:a,defaultText:yh(o.getData(),a),isRectText:!0,autoColor:i}),gb(e),gb(t)}function gb(e,t){"outside"===e.textPosition&&(e.textPosition=t)}fb.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return e<t&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var fA=xl([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),pA={getBarItemStyle:function(e){var t=fA(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},gA=yo({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),a=Math.max(t.r,0),s=.5*(a-o),l=o+s,u=t.startAngle,c=t.endAngle,d=t.clockwise,h=Math.cos(u),f=Math.sin(u),p=Math.cos(c),m=Math.sin(c);(d?c-u<2*Math.PI:u-c<2*Math.PI)&&(e.moveTo(h*o+n,f*o+i),e.arc(h*l+n,f*l+i,s,-Math.PI+u,u,!d)),e.arc(n,i,a,u,c,!d),e.moveTo(p*a+n,m*a+i),e.arc(p*l+n,m*l+i,s,c-2*Math.PI,c-Math.PI,!d),0!==o&&(e.arc(n,i,o,c,u,d),e.moveTo(h*o+n,m*o+i)),e.closePath()}}),mA=["itemStyle","barBorderWidth"],Ch=[0,0];ne(vi.prototype,pA),Kr({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,n){var i,o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?i=u.isHorizontal():"polar"===l.type&&(i="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=e.get("clip",!0),h=function(ue,de){var ge=ue.getArea&&ue.getArea();if("cartesian2d"===ue.type){var Ce=ue.getBaseAxis();if("category"!==Ce.type||!Ce.onBand){var Pe=de.getLayout("bandWidth");Ce.isHorizontal()?(ge.x-=Pe,ge.width+=2*Pe):(ge.y-=Pe,ge.height+=2*Pe)}}return ge}(l,a);function f(ue){var Ce,de=Sh[l.type](a,ue),ge=new("polar"===(Ce=l).type?Do:Si)({shape:Sb(i,de,Ce),silent:!0,z2:0});return ge.useStyle(S.getBarItemStyle()),"cartesian2d"===l.type&&ge.setShape("r",x),V[ue]=ge}o.removeClipPath();var p=e.get("roundCap",!0),m=e.get("showBackground",!0),S=e.getModel("backgroundStyle"),x=S.get("barBorderRadius")||0,V=[],Q=this._backgroundEls||[];a.diff(s).add(function(ue){var de=a.getItemModel(ue),ge=Sh[l.type](a,ue,de);if(m&&f(ue),a.hasValue(ue)){if(d&&mb[l.type](h,ge))return void o.remove(Ce);var Ce=vb[l.type](ue,ge,i,c,!1,p);a.setItemGraphicEl(ue,Ce),o.add(Ce),bb(Ce,a,ue,de,ge,e,0,"polar"===l.type)}}).update(function(ue,de){var ge=a.getItemModel(ue),Ce=Sh[l.type](a,ue,ge);if(m){var Pe;0===Q.length?Pe=f(de):((Pe=Q[de]).useStyle(S.getBarItemStyle()),"cartesian2d"===l.type&&Pe.setShape("r",x),V[ue]=Pe);var Fe=Sh[l.type](a,ue);si(Pe,{shape:Sb(i,Fe,l)},c,ue)}var Ge=s.getItemGraphicEl(de);if(a.hasValue(ue)){if(d&&mb[l.type](h,Ce))return void o.remove(Ge);Ge?si(Ge,{shape:Ce},c,ue):Ge=vb[l.type](ue,Ce,i,c,!0,p),a.setItemGraphicEl(ue,Ge),o.add(Ge),bb(Ge,a,ue,ge,Ce,e,0,"polar"===l.type)}else o.remove(Ge)}).remove(function(ue){var de=s.getItemGraphicEl(ue);"cartesian2d"===l.type?de&&yb(ue,c,de):de&&xb(ue,c,de)}).execute();var K=this._backgroundGroup||(this._backgroundGroup=new y);K.removeAll();for(var ce=0;ce<V.length;++ce)K.add(V[ce]);o.add(K),this._backgroundEls=V,this._data=a},_renderLarge:function(e,t,n){this._clear(),wb(e,this.group);var i=e.get("clip",!0)?bh(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),wb(t,this.group,!0)},dispose:cn,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){"sector"===i.type?xb(i.dataIndex,e,i):yb(i.dataIndex,e,i)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var Vg=Math.max,Hg=Math.min,mb={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var o=Vg(t.x,e.x),a=Hg(t.x+t.width,e.x+e.width),s=Vg(t.y,e.y),l=Hg(t.y+t.height,e.y+e.height);t.x=o,t.y=s,t.width=a-o,t.height=l-s;var u=t.width<0||t.height<0;return n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}i=Hg(t.r,e.r);var o=Vg(t.r0,e.r0),a=(t.r=i)-(t.r0=o)<0;return n<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},vb={cartesian2d:function(e,t,n,i,o){var a=new Si({shape:ne({},t),z2:1});if(a.name="item",i){var s=n?"height":"width",l={};a.shape[s]=0,l[s]=t[s],ma[o?"updateProps":"initProps"](a,{shape:l},i,e)}return a},polar:function(e,t,n,i,o,a){var l=new(!n&&a?gA:Do)({shape:pe({clockwise:t.startAngle<t.endAngle},t),z2:1});if(l.name="item",i){var u=n?"r":"endAngle",c={};l.shape[u]=n?0:t.startAngle,c[u]=t[u],ma[o?"updateProps":"initProps"](l,{shape:c},i,e)}return l}};function yb(e,t,n){n.style.text=null,si(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function xb(e,t,n){n.style.text=null,si(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}var Sh={cartesian2d:function(e,t,n){var u,c,d,h,i=e.getItemLayout(t),o=n?(u=i,c=n.get(mA)||0,d=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),h=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height),Math.min(c,d,h)):0,a=0<i.width?1:-1,s=0<i.height?1:-1;return{x:i.x+a*o/2,y:i.y+s*o/2,width:i.width-a*o,height:i.height-s*o}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function Wg(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function bb(e,t,n,i,o,a,s,l){var u=t.getItemVisual(n,"color"),c=t.getItemVisual(n,"opacity"),d=t.getVisual("borderColor"),h=i.getModel("itemStyle"),f=i.getModel("emphasis.itemStyle").getBarItemStyle();l||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(pe({stroke:Wg(o)?"none":d,fill:Wg(o)?"none":u,opacity:c},h.getBarItemStyle()));var p=i.getShallow("cursor");p&&e.attr("cursor",p),l||pb(e.style,f,i,u,a,n),Wg(o)&&(f.fill=f.stroke="none"),Vi(e,f)}var _b=mi.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,i=this.__startPoint,o=this.__baseDimIdx,a=0;a<n.length;a+=2)i[o]=n[a+o],e.moveTo(i[0],i[1]),e.lineTo(n[a],n[a+1])}});function wb(e,t,n){var i=e.getData(),o=[],a=i.getLayout("valueAxisHorizontal")?1:0;o[1-a]=i.getLayout("valueAxisStart");var p,m,S,x,V,s=i.getLayout("largeDataIndices"),l=i.getLayout("barWidth"),u=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var c=i.getLayout("largeBackgroundPoints"),d=[];d[1-a]=i.getLayout("backgroundStart");var h=new _b({shape:{points:c},incremental:!!n,__startPoint:d,__baseDimIdx:a,__largeDataIndices:s,__barWidth:l,silent:!0,z2:0});p=h,S=i,x=(m=u).get("borderColor")||m.get("color"),V=m.getItemStyle(["color","borderColor"]),p.useStyle(V),p.style.fill=null,p.style.stroke=x,p.style.lineWidth=S.getLayout("barWidth"),t.add(h)}var f=new _b({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:o,__baseDimIdx:a,__largeDataIndices:s,__barWidth:l});t.add(f),function(p,m,S){var x=S.getVisual("borderColor")||S.getVisual("color"),V=m.getModel("itemStyle").getItemStyle(["color","borderColor"]);p.useStyle(V),p.style.fill=null,p.style.stroke=x,p.style.lineWidth=S.getLayout("barWidth")}(f,e,i),f.seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",Cb),f.on("mousemove",Cb))}var Cb=Zd(function(e){var t=function(n,i,o){var a=n.__baseDimIdx,s=1-a,l=n.shape.points,u=n.__largeDataIndices,c=Math.abs(n.__barWidth/2),d=n.__startPoint[s];Ch[0]=i,Ch[1]=o;for(var h=Ch[a],f=Ch[1-a],p=h-c,m=h+c,S=0,x=l.length/2;S<x;S++){var V=2*S,Q=l[V+a],K=l[V+s];if(p<=Q&&Q<=m&&(d<=K?d<=f&&f<=K:K<=f&&f<=d))return u[S]}return-1}(this,e.offsetX,e.offsetY);this.dataIndex=0<=t?t:null},30,!1);function Sb(e,t,n){var i,o="polar"===n.type;return i=o?n.getArea():n.grid.getRect(),o?{cx:i.cx,cy:i.cy,r0:e?i.r0:t.r0,r:e?i.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:i.x,y:e?i.y:t.y,width:e?t.width:i.width,height:e?i.height:t.height}}function Wl(e,t,n){t=it(t)&&{coordDimensions:t}||ne({},t);var i=e.getSource(),o=Pl(i,t),a=new hr(o,e);return a.initData(i,n),a}Xi(Zo.VISUAL.LAYOUT,gt(px,"bar")),Xi(Zo.VISUAL.PROGRESSIVE_LAYOUT,NT),zi({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}});var Gg={updateSelectedMap:function(e){this._targetList=it(e)?e.slice():[],this._selectTargetMap=Ne(e||[],function(t,n){return t.set(n.name,n),t},zt())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(i){i.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};function dc(e,t){this.getAllNames=function(){var n=t();return n.mapArray(n.getName)},this.containName=function(n){return 0<=t().indexOfName(n)},this.indexOfName=function(n){return e().indexOfName(n)},this.getItemVisual=function(n,i){return e().getItemVisual(n,i)}}var Mh=uh({type:"series.pie",init:function(e){Mh.superApply(this,"init",arguments),this.legendVisualProvider=new dc(Ke(this.getData,this),Ke(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){Mh.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return Wl(this,{coordDimensions:["value"],encodeDefaulter:gt(Pp,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],i=0,o=e.count();i<o;i++)n.push({name:e.getName(i),value:e.get(t,i),selected:c1(e,i,"selected")});return n},getDataParams:function(e){var t=this.getData(),n=Mh.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),function(o){i.push(o)}),n.percent=Ly(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){xs(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});function vA(e,t,n,i){var o=t.getData(),s=o.getName(this.dataIndex),l=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),o.each(function(u){Mb(o.getItemGraphicEl(u),o.getItemLayout(u),t.isSelected(o.getName(u)),l,n)})}function Mb(e,t,n,i,o){var a=(t.startAngle+t.endAngle)/2,s=n?i:0,l=[Math.cos(a)*s,Math.sin(a)*s];o?e.animate().when(200,{position:l}).start("bounceOut"):e.attr("position",l)}function Ug(e,t){y.call(this);var n=new Do({z2:2}),i=new vo,o=new fi;this.add(n),this.add(i),this.add(o),this.updateData(e,t,!0)}be(Mh,Gg);var Tb=Ug.prototype;function Ab(e,t){ee(t,function(n){n.update="updateView",yi(n,function(i,o){var a={};return o.eachComponent({mainType:"series",subType:e,query:i},function(s){s[n.method]&&s[n.method](i.name,i.dataIndex);var l=s.getData();l.each(function(u){var c=l.getName(u);a[c]=s.isSelected(c)||!1})}),{name:i.name,selected:a,seriesId:i.seriesId}})})}function Th(e){return{getTargetSeries:function(t){var n={},i=zt();return t.eachSeriesByType(e,function(o){o.__paletteScope=n,i.set(o.uid,o)}),i},reset:function(t,n){var i=t.getRawData(),o={},a=t.getData();a.each(function(s){var l=a.getRawIndex(s);o[l]=s}),i.each(function(s){var l,u=o[s],c=null!=u&&a.getItemVisual(u,"color",!0),d=null!=u&&a.getItemVisual(u,"borderColor",!0);if(c&&d||(l=i.getItemModel(s)),!c){var h=l.get("itemStyle.color")||t.getColorFromPalette(i.getName(s)||s+"",t.__paletteScope,i.count());null!=u&&a.setItemVisual(u,"color",h)}if(!d){var f=l.get("itemStyle.borderColor");null!=u&&a.setItemVisual(u,"borderColor",f)}})}}}Tb.updateData=function(e,t,n){var i=this.childAt(0),o=this.childAt(1),a=this.childAt(2),s=e.hostModel,l=e.getItemModel(t),u=e.getItemLayout(t),c=ne({},u);c.label=null;var d=s.getShallow("animationTypeUpdate");n?(i.setShape(c),"scale"===s.getShallow("animationType")?(i.shape.r=u.r0,kr(i,{shape:{r:u.r}},s,t)):(i.shape.endAngle=u.startAngle,si(i,{shape:{endAngle:u.endAngle}},s,t))):"expansion"===d?i.setShape(c):si(i,{shape:c},s,t);var h=e.getItemVisual(t,"color");i.useStyle(pe({lineJoin:"bevel",fill:h},l.getModel("itemStyle").getItemStyle())),i.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var f=l.getShallow("cursor");f&&i.attr("cursor",f),Mb(this,e.getItemLayout(t),s.isSelected(e.getName(t)),s.get("selectedOffset"),s.get("animation")),this._updateLabel(e,t,!n&&"transition"===d),this.highDownOnUpdate=s.get("silent")?null:function(m,S){var x=s.isAnimationEnabled()&&l.get("hoverAnimation");"emphasis"===S?(o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore,x&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r+s.get("hoverOffset")}},300,"elasticOut"))):(o.ignore=o.normalIgnore,a.ignore=a.normalIgnore,x&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r}},300,"elasticOut")))},Vi(this)},Tb._updateLabel=function(e,t,n){var i=this.childAt(1),o=this.childAt(2),a=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t).label,u=e.getItemVisual(t,"color");if(!l||isNaN(l.x)||isNaN(l.y))o.ignore=o.normalIgnore=o.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var c={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},d={x:l.x,y:l.y};n?(si(i,{shape:c},a,t),si(o,{style:d},a,t)):(i.attr({shape:c}),o.attr({style:d})),o.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=s.getModel("label"),f=s.getModel("emphasis.label"),p=s.getModel("labelLine"),m=s.getModel("emphasis.labelLine");u=e.getItemVisual(t,"color"),no(o.style,o.hoverStyle={},h,f,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:l.text,autoColor:u,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),o.ignore=o.normalIgnore=!h.get("show"),o.hoverIgnore=!f.get("show"),i.ignore=i.normalIgnore=!p.get("show"),i.hoverIgnore=!m.get("show"),i.setStyle({stroke:u,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(p.getModel("lineStyle").getLineStyle()),i.hoverStyle=m.getModel("lineStyle").getLineStyle();var S=p.get("smooth");S&&!0===S&&(S=.4),i.setShape({smooth:S})}},he(Ug,y),mr.extend({type:"pie",init:function(){var e=new y;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var o=e.getData(),a=this._data,s=this.group,l=t.get("animation"),u=!a,c=e.get("animationType"),d=e.get("animationTypeUpdate"),h=gt(vA,this.uid,e,l,n),f=e.get("selectedMode");if(o.diff(a).add(function(V){var Q=new Ug(o,V);u&&"scale"!==c&&Q.eachChild(function(K){K.stopAnimation(!0)}),f&&Q.on("click",h),o.setItemGraphicEl(V,Q),s.add(Q)}).update(function(V,Q){var K=a.getItemGraphicEl(Q);u||"transition"===d||K.eachChild(function(ce){ce.stopAnimation(!0)}),K.updateData(o,V),K.off("click"),f&&K.on("click",h),s.add(K),o.setItemGraphicEl(V,K)}).remove(function(V){var Q=a.getItemGraphicEl(V);s.remove(Q)}).execute(),l&&0<o.count()&&(u?"scale"!==c:"transition"!==d)){for(var p=o.getItemLayout(0),m=1;isNaN(p.startAngle)&&m<o.count();++m)p=o.getItemLayout(m);var S=Math.max(n.getWidth(),n.getHeight())/2,x=Ke(s.removeClipPath,s);s.setClipPath(this._createClipPath(p.cx,p.cy,S,p.startAngle,p.clockwise,x,e,u))}else s.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(e,t,n,i,o,a,s,l){var u=new Do({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return(l?kr:si)(u,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},s,a),u},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var yA=Math.PI/180;function Ib(e,t,n,i,o,a,s,l,u,c){function d(ce,ue,de){for(var ge=ce;ge<ue&&!(e[ge].y+de>u+s);ge++)if(e[ge].y+=de,ce<ge&&ge+1<ue&&e[ge+1].y>e[ge].y+e[ge].height)return void h(ge,de/2);h(ue-1,de/2)}function h(ce,ue){for(var de=ce;0<=de&&!(e[de].y-ue<u)&&(e[de].y-=ue,!(0<de&&e[de].y>e[de-1].y+e[de-1].height));de--);}function f(ce,ue,de,ge,Ce,Pe){for(var Fe=ue?Number.MAX_VALUE:0,Ge=0,Qe=ce.length;Ge<Qe;Ge++)if("none"===ce[Ge].labelAlignTo){var et=Math.abs(ce[Ge].y-ge),ot=ce[Ge].len,ht=ce[Ge].len2,pt=et<Ce+ot?Math.sqrt((Ce+ot+ht)*(Ce+ot+ht)-et*et):Math.abs(ce[Ge].x-de);ue&&Fe<=pt&&(pt=Fe-10),!ue&&pt<=Fe&&(pt=Fe+10),ce[Ge].x=de+pt*Pe,Fe=pt}}e.sort(function(ce,ue){return ce.y-ue.y});for(var p,m=0,S=e.length,x=[],V=[],Q=0;Q<S;Q++)"outer"===e[Q].position&&"labelLine"===e[Q].labelAlignTo&&(e[Q].linePoints[1][0]+=e[Q].x-c,e[Q].x=c),(p=e[Q].y-m)<0&&d(Q,S,-p),m=e[Q].y+e[Q].height;for(s-m<0&&h(S-1,m-s),Q=0;Q<S;Q++)e[Q].y>=n?V.push(e[Q]):x.push(e[Q]);f(x,!1,t,n,i,o),f(V,!0,t,n,i,o)}function kb(e){return"center"===e.position}var Ah=2*Math.PI,Db=Math.PI/180;function hc(e){return{seriesType:e,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var o=t.getData();o.filterSelf(function(a){for(var s=o.getName(a),l=0;l<i.length;l++)if(!i[l].isSelected(s))return!1;return!0})}}}}Ab("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),zi(Th("pie")),Xi(gt(function(e,t,n,i){t.eachSeriesByType(e,function(o){var pt,a=o.getData(),s=a.mapDimension("value"),l=(pt=n,nr(o.getBoxLayoutParams(),{width:pt.getWidth(),height:pt.getHeight()})),u=o.get("center"),c=o.get("radius");it(c)||(c=[0,c]),it(u)||(u=[u,u]);var d=An(l.width,n.getWidth()),h=An(l.height,n.getHeight()),f=Math.min(d,h),p=An(u[0],d)+l.x,m=An(u[1],h)+l.y,S=An(c[0],f/2),x=An(c[1],f/2),V=-o.get("startAngle")*Db,Q=o.get("minAngle")*Db,K=0;a.each(s,function(ht){isNaN(ht)||K++});var ce=a.getSum(s),ue=Math.PI/(ce||K)*2,de=o.get("clockwise"),ge=o.get("roseType"),Ce=o.get("stillShowZeroSum"),Pe=a.getDataExtent(s);Pe[0]=0;var Fe=Ah,Ge=0,Qe=V,et=de?1:-1;if(a.each(s,function(ht,pt){var ut;if(isNaN(ht))a.setItemLayout(pt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:de,cx:p,cy:m,r0:S,r:ge?NaN:x,viewRect:l});else{(ut="area"!==ge?0===ce&&Ce?ue:ht*ue:Ah/K)<Q?Fe-=ut=Q:Ge+=ht;var At=Qe+et*ut;a.setItemLayout(pt,{angle:ut,startAngle:Qe,endAngle:At,clockwise:de,cx:p,cy:m,r0:S,r:ge?Hi(ht,Pe,[S,x]):x,viewRect:l}),Qe=At}}),Fe<Ah&&K)if(Fe<=.001){var ot=Ah/K;a.each(s,function(ht,pt){if(!isNaN(ht)){var ut=a.getItemLayout(pt);ut.angle=ot,ut.startAngle=V+et*pt*ot,ut.endAngle=V+et*(pt+1)*ot}})}else ue=Fe/Ge,Qe=V,a.each(s,function(ht,pt){if(!isNaN(ht)){var ut=a.getItemLayout(pt),At=ut.angle===Q?Q:ht*ue;ut.startAngle=Qe,ut.endAngle=Qe+et*At,Qe+=et*At}});!function xA(e,t,n,i,o,a){var s,l,u=e.getData(),c=[],d=!1,h=(e.get("minShowLabelAngle")||0)*yA;u.each(function(f){var p=u.getItemLayout(f),m=u.getItemModel(f),S=m.getModel("label"),x=S.get("position")||m.get("emphasis.label.position"),V=S.get("distanceToLabelLine"),Q=S.get("alignTo"),K=An(S.get("margin"),n),ce=S.get("bleedMargin"),ue=S.getFont(),de=m.getModel("labelLine"),ge=de.get("length");ge=An(ge,n);var Ce=de.get("length2");if(Ce=An(Ce,n),!(p.angle<h)){var Pe,Fe,Ge,Qe,et=(p.startAngle+p.endAngle)/2,ot=Math.cos(et),ht=Math.sin(et);s=p.cx,l=p.cy;var pt,ut=e.getFormattedLabel(f,"normal")||u.getName(f),At=ai(ut,ue,Qe,"top"),Zt="inside"===x||"inner"===x;if("center"===x)Pe=p.cx,Fe=p.cy,Qe="center";else{var nn=(Zt?(p.r+p.r0)/2*ot:p.r*ot)+s,jt=(Zt?(p.r+p.r0)/2*ht:p.r*ht)+l;if(Pe=nn+3*ot,Fe=jt+3*ht,!Zt){var gn=nn+ot*(ge+t-p.r),Cn=jt+ht*(ge+t-p.r),Vn=gn+(ot<0?-1:1)*Ce;Pe="edge"===Q?ot<0?o+K:o+n-K:Vn+(ot<0?-V:V),Ge=[[nn,jt],[gn,Cn],[Vn,Fe=Cn]]}Qe=Zt?"center":"edge"===Q?0<ot?"right":"left":0<ot?"left":"right"}var sn=S.get("rotate");pt="number"==typeof sn?sn*(Math.PI/180):sn?ot<0?-et+Math.PI:-et:0,d=!!pt,p.label={x:Pe,y:Fe,position:x,height:At.height,len:ge,len2:Ce,linePoints:Ge,textAlign:Qe,verticalAlign:"middle",rotation:pt,inside:Zt,labelDistance:V,labelAlignTo:Q,labelMargin:K,bleedMargin:ce,textRect:At,text:ut,font:ue},Zt||c.push(p.label)}}),!d&&e.get("avoidLabelOverlap")&&function(f,p,m,S,x,V,Q,K){for(var ce=[],ue=[],de=Number.MAX_VALUE,ge=-Number.MAX_VALUE,Ce=0;Ce<f.length;Ce++)kb(f[Ce])||(f[Ce].x<p?(de=Math.min(de,f[Ce].x),ce.push(f[Ce])):(ge=Math.max(ge,f[Ce].x),ue.push(f[Ce])));for(Ib(ue,p,m,S,1,0,V,0,K,ge),Ib(ce,p,m,S,-1,0,V,0,K,de),Ce=0;Ce<f.length;Ce++){var Pe=f[Ce];if(!kb(Pe)){var Fe=Pe.linePoints;if(Fe){var Ge,Qe="edge"===Pe.labelAlignTo,et=Pe.textRect.width;(Ge=Qe?Pe.x<p?Fe[2][0]-Pe.labelDistance-Q-Pe.labelMargin:Q+x-Pe.labelMargin-Fe[2][0]-Pe.labelDistance:Pe.x<p?Pe.x-Q-Pe.bleedMargin:Q+x-Pe.x-Pe.bleedMargin)<Pe.textRect.width&&(Pe.text=Ci(Pe.text,Ge,Pe.font),"edge"===Pe.labelAlignTo&&(et=pi(Pe.text,Pe.font)));var ot=Fe[1][0]-Fe[2][0];Qe?Fe[2][0]=Pe.x<p?Q+Pe.labelMargin+et+Pe.labelDistance:Q+x-Pe.labelMargin-et-Pe.labelDistance:(Fe[2][0]=Pe.x<p?Pe.x+Pe.labelDistance:Pe.x-Pe.labelDistance,Fe[1][0]=Fe[2][0]+ot),Fe[1][1]=Fe[2][1]=Pe.y}}}}(c,s,l,t,n,i,o,a)}(o,x,l.width,l.height,l.x,l.y)})},"pie")),ro(hc("pie")),Yi.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return _a(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var jg=yo({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(e,t){var n=t.points,i=t.size,o=this.symbolProxy,a=o.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var s=0;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||this.softClipShape&&!this.softClipShape.contain(l,u)||(a.x=l-i[0]/2,a.y=u-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||isNaN(s)||this.softClipShape&&!this.softClipShape.contain(a,s)||e.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,o=n.size,a=Math.max(o[0],4),s=Math.max(o[1],4),l=i.length/2-1;0<=l;l--){var u=2*l,c=i[u]-a/2,d=i[1+u]-s/2;if(c<=e&&d<=t&&e<=c+a&&t<=d+s)return l}return-1}});function Nb(){this.group=new y}var Qa=Nb.prototype;function Pb(e,t,n){or.call(this,e,t,n),this.type="value",this.angle=0,this.name=""}function Qo(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=Me(e.getIndicatorModels(),function(i,o){var a="indicator_"+o,s=new Pb(a,"log"===i.get("axisType")?new mh:new Ko);return s.name=i.get("name"),(s.model=i).axis=s,this.dimensions.push(a),s},this),this.resize(e,n)}Qa.isPersistent=function(){return!this._incremental},Qa.updateData=function(e,t){this.group.removeAll();var n=new jg({rectHover:!0,cursor:"default"});n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!1,t),this.group.add(n),this._incremental=null},Qa.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(n){null!=n.startIndex&&(t=new Float32Array(t.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",t)})}},Qa.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),2e6<e.count()?(this._incremental||(this._incremental=new to({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Qa.incrementalUpdate=function(e,t,n){var i;this._incremental?(i=new jg,this._incremental.addDisplayable(i,!0)):((i=new jg({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(i)),i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!!this._incremental,n)},Qa._setCommon=function(e,t,n,i){var o=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=ao(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("color");l&&e.setColor(l),n||(e.seriesIndex=o.seriesIndex,e.on("mousemove",function(u){e.dataIndex=null;var c=e.findDataIndex(u.offsetX,u.offsetY);0<=c&&(e.dataIndex=c+(e.startIndex||0))}))},Qa.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Qa._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},Kr({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||1e4<i.count()||!this._symbolDraw.isPersistent())return{update:!0};var o=lc().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new Nb:new Ol,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),zi(Bs("scatter","circle")),Xi(lc("scatter")),he(Pb,or),Qo.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Qo.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},Qo.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},Qo.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var o,a=Math.atan2(-n,t),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(a-c.angle);d<s&&(o=c,l=u,s=d)}return[l,+(o&&o.coordToData(i))]},Qo.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),a=Math.min(i,o)/2;this.cx=An(n[0],i),this.cy=An(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");"string"!=typeof s&&"number"!=typeof s||(s=[0,s]),this.r0=An(s[0],a),this.r=An(s[1],a),ee(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},Qo.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;ee(n,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===i){var u=s.getData();ee(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var o=i.get("splitNumber");function a(s){var l=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/l;return 2===u?u=5:u*=2,u*l}ee(n,function(s,l){var u=_x(s.scale,s.model).extent;Xa(s.scale,s.model);var c=s.model,d=s.scale,h=c.getMin(),f=c.getMax(),p=d.getInterval();if(null!=h&&null!=f)d.setExtent(+h,+f),d.setInterval((f-h)/o);else if(null!=h)for(;d.setExtent(+h,S=h+p*o),d.setInterval(p),p=a(p),S<u[1]&&isFinite(S)&&isFinite(u[1]););else if(null!=f)for(;d.setExtent(x=f-p*o,+f),d.setInterval(p),p=a(p),x>u[0]&&isFinite(x)&&isFinite(u[0]););else{var m=d.getTicks().length-1;o<m&&(p=a(p));var S,x=sr((S=Math.ceil(u[1]/p)*p)-p*o);d.setExtent(x,S),d.setInterval(p)}})},Qo.dimensions=[],Qo.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var o=new Qo(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},Nr.register("radar",Qo);var fc=Ka.valueAxis;function Ih(e,t){return pe({show:t},e)}oo({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisType"),s=this.get("axisLabel"),l=this.get("name"),u=this.get("name.show"),c=this.get("name.formatter"),d=this.get("nameGap"),h=this.get("triggerEvent"),f=Me(this.get("indicator")||[],function(p){null!=p.max&&0<p.max&&!p.min?p.min=0:null!=p.min&&p.min<0&&!p.max&&(p.max=0);var m=l;null!=p.color&&(m=pe({color:p.color},l)),p=ae(Y(p),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:o,axisType:a,axisLabel:s,name:p.text,nameLocation:"end",nameGap:d,nameTextStyle:m,triggerEvent:h},!1),u||(p.name=""),"string"==typeof c?p.name=c.replace("{value}",p.name??""):"function"==typeof c&&(p.name=c(p.name,p));var x=ne(new vi(p,null,this.ecModel),Es);return x.mainType="radar",x.componentIndex=this.componentIndex,x},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:ae({lineStyle:{color:"#bbb"}},fc.axisLine),axisLabel:Ih(fc.axisLabel,!1),axisTick:Ih(fc.axisTick,!1),axisType:"interval",splitLine:Ih(fc.splitLine,!0),splitArea:Ih(fc.splitArea,!0),indicator:[]}});var bA=["axisLine","axisTickLabel","axisName"];dr({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;ee(Me(t.getIndicatorAxes(),function(n){return new Jr(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(n){ee(bA,n.add,n),this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),o=e.getModel("splitLine"),a=e.getModel("splitArea"),s=o.getModel("lineStyle"),l=a.getModel("areaStyle"),u=o.get("show"),c=a.get("show"),d=s.get("color"),h=l.get("color");d=it(d)?d:[d],h=it(h)?h:[h];var f=[],p=[];if("circle"===i)for(var m=n[0].getTicksCoords(),S=t.cx,x=t.cy,V=0;V<m.length;V++)u&&f[Pe(f,d,V)].push(new Uo({shape:{cx:S,cy:x,r:m[V].coord}})),c&&V<m.length-1&&p[Pe(p,h,V)].push(new Sd({shape:{cx:S,cy:x,r0:m[V].coord,r:m[V+1].coord}}));else{var Q,K=Me(n,function(Fe,Ge){var Qe=Fe.getTicksCoords();return Q=null==Q?Qe.length-1:Math.min(Qe.length-1,Q),Me(Qe,function(et){return t.coordToPoint(et.coord,Ge)})}),ce=[];for(V=0;V<=Q;V++){for(var ue=[],de=0;de<n.length;de++)ue.push(K[de][V]);ue[0]&&ue.push(ue[0].slice()),u&&f[Pe(f,d,V)].push(new vo({shape:{points:ue}})),c&&ce&&p[Pe(p,h,V-1)].push(new Zr({shape:{points:ue.concat(ce)}})),ce=ue.slice().reverse()}}var ge=s.getLineStyle(),Ce=l.getAreaStyle();ee(p,function(Fe,Ge){this.group.add(xo(Fe,{style:pe({stroke:"none",fill:h[Ge%h.length]},Ce),silent:!0}))},this),ee(f,function(Fe,Ge){this.group.add(xo(Fe,{style:pe({fill:"none",stroke:d[Ge%d.length]},ge),silent:!0}))},this)}function Pe(Fe,Ge,Qe){var et=Qe%Ge.length;return Fe[et]=Fe[et]||[],et}}});var _A=Yi.extend({type:"series.radar",dependencies:["radar"],init:function(e){_A.superApply(this,"init",arguments),this.legendVisualProvider=new dc(Ke(this.getData,this),Ke(this.getRawData,this))},getInitialData:function(e,t){return Wl(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e,t,n,i){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l="html"===i?"<br/>":"\n";return Wi(""===s?this.name:s)+l+Me(a,function(u,c){var d=o.get(o.mapDimension(u.dim),e);return Wi(u.name+" : "+d)}).join(l)},getTooltipPosition:function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(Me(n.dimensions,function(l){return t.mapDimension(l)}),e,!0),o=0,a=i.length;o<a;o++)if(!isNaN(i[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(i[o]),o)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function Lb(e){return!isNaN(e[0])&&!isNaN(e[1])}function Rb(e){return[e.cx,e.cy]}Kr({type:"radar",render:function(e,t,n){var i=e.coordinateSystem,o=this.group,a=e.getData(),s=this._data;function l(d,h){var V,f=d.getItemVisual(h,"symbol")||"circle",p=d.getItemVisual(h,"color");if("none"!==f){var m=(it(V=d.getItemVisual(h,"symbolSize"))||(V=[+V,+V]),V),S=ao(f,-1,-1,2,2,p),x=d.getItemVisual(h,"symbolRotate")||0;return S.attr({style:{strokeNoScale:!0},z2:100,scale:[m[0]/2,m[1]/2],rotation:x*Math.PI/180||0}),S}}function u(d,h,f,p,m,S){f.removeAll();for(var x=0;x<h.length-1;x++){var V=l(p,m);V&&(d[V.__dimIdx=x]?(V.attr("position",d[x]),ma[S?"initProps":"updateProps"](V,{position:h[x]},e,m)):V.attr("position",h[x]),f.add(V))}}function c(d){return Me(d,function(h){return[i.cx,i.cy]})}a.diff(s).add(function(d){var h=a.getItemLayout(d);if(h){var f=new Zr,p=new vo,m={shape:{points:h}};f.shape.points=c(h),p.shape.points=c(h),kr(f,m,e,d),kr(p,m,e,d);var S=new y,x=new y;S.add(p),S.add(f),S.add(x),u(p.shape.points,h,x,a,d,!0),a.setItemGraphicEl(d,S)}}).update(function(d,h){var f=s.getItemGraphicEl(h),p=f.childAt(0),m=f.childAt(1),S=f.childAt(2),x={shape:{points:a.getItemLayout(d)}};x.shape.points&&(u(p.shape.points,x.shape.points,S,a,d,!1),si(p,x,e),si(m,x,e),a.setItemGraphicEl(d,f))}).remove(function(d){o.remove(s.getItemGraphicEl(d))}).execute(),a.eachItemGraphicEl(function(d,h){var f=a.getItemModel(h),p=d.childAt(0),m=d.childAt(1),S=d.childAt(2),x=a.getItemVisual(h,"color");o.add(d),p.useStyle(pe(f.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:x})),p.hoverStyle=f.getModel("emphasis.lineStyle").getLineStyle();var V=f.getModel("areaStyle"),Q=f.getModel("emphasis.areaStyle"),K=V.isEmpty()&&V.parentModel.isEmpty(),ce=Q.isEmpty()&&Q.parentModel.isEmpty();ce=ce&&K,m.ignore=K,m.useStyle(pe(V.getAreaStyle(),{fill:x,opacity:.7})),m.hoverStyle=Q.getAreaStyle();var ue=f.getModel("itemStyle").getItemStyle(["color"]),de=f.getModel("emphasis.itemStyle").getItemStyle(),ge=f.getModel("label"),Ce=f.getModel("emphasis.label");S.eachChild(function(Pe){Pe.setStyle(ue),Pe.hoverStyle=Y(de);var Fe=a.get(a.dimensions[Pe.__dimIdx],h);null!=Fe&&!isNaN(Fe)||(Fe=""),no(Pe.style,Pe.hoverStyle,ge,Ce,{labelFetcher:a.hostModel,labelDataIndex:h,labelDimIndex:Pe.__dimIdx,defaultText:Fe,autoColor:x,isRectText:!0})}),d.highDownOnUpdate=function(Pe,Fe){m.attr("ignore","emphasis"===Fe?ce:K)},Vi(d)}),this._data=a},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),zi(Th("radar")),zi(Bs("radar","circle")),Xi(function(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),i=[],o=t.coordinateSystem;if(o){var a=o.getIndicatorAxes();ee(a,function(s,l){n.each(n.mapDimension(a[l].dim),function(u,c){i[c]=i[c]||[];var d=o.dataToPoint(u,l);i[c][l]=Lb(d)?d:Rb(o)})}),n.each(function(s){var l=$e(i[s],function(u){return Lb(u)})||Rb(o);i[s].push(l.slice()),n.setItemLayout(s,i[s])})}})}),ro(hc("radar")),Cr(function(e){var t=e.polar;if(t){it(t)||(t=[t]);var n=[];ee(t,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),e.radar=e.radar||[],it(e.radar)||(e.radar=[e.radar]),e.radar.push(i)):n.push(i)}),e.polar=n}ee(e.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})});for(var qg=[126,25],zs=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Fs=0;Fs<zs.length;Fs++)for(var Gl=0;Gl<zs[Fs].length;Gl++)zs[Fs][Gl][0]/=10.5,zs[Fs][Gl][1]/=-14,zs[Fs][Gl][0]+=qg[0],zs[Fs][Gl][1]+=qg[1];var wA={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},CA={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},SA=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Eb=jr(),MA={load:function(e,t,n){var i=Eb(t).parsed;if(i)return i;var o,l,a=t.specialAreas||{},s=t.geoJSON;try{o=s?Mg(s,n):[]}catch(l){throw new Error("Invalid geoJson format\n"+l.message)}return"china"===(l=e)&&o.push(new ac("\u5357\u6d77\u8bf8\u5c9b",Me(zs,function(c){return{type:"polygon",exterior:c}}),qg)),ee(o,function(l){var h,u=l.name;(function(d,h){if("china"===d){var f=wA[h.name];if(f){var p=h.center;p[0]+=f[0]/10.5,p[1]+=-f[1]/14}}})(e,l),function(d,h){if("world"===d){var f=CA[h.name];if(f){var p=h.center;p[0]=f[0],p[1]=f[1]}}}(e,l),h=l,"china"===e&&"\u53f0\u6e7e"===h.name&&h.geometries.push({type:"polygon",exterior:SA[0]});var c=a[u];c&&l.transformTo(c.left,c.top,c.width,c.height)}),Eb(t).parsed={regions:o,boundingRect:function(l){for(var u,c=0;c<l.length;c++){var d=l[c].getBoundingRect();(u=u||d.clone()).union(d)}return u}(o)}}},Ul=jr();function Ob(e,t){var n,i,d,o=e.svgXML;try{Kn(null!=(i=(n=o&&(d=o,(new th).parse(d,{ignoreViewBox:!0,ignoreRootClip:!0}))||{}).root))}catch(d){throw new Error("Invalid svg format\n"+d.message)}var a=n.width,s=n.height,l=n.viewBoxRect;if(t||(t=null==a||null==s?i.getBoundingRect():new v(0,0,0,0),null!=a&&(t.width=a),null!=s&&(t.height=s)),l){var u=L1(l,t.width,t.height),c=i;(i=new y).add(c),c.scale=u.scale,c.position=u.position}return i.setClipPath(new Si({shape:t.plain()})),{root:i,boundingRect:t}}var Bb={geoJSON:MA,svg:{load:function(e,t){var n=Ul(t).originRoot;if(n)return{root:n,boundingRect:Ul(t).boundingRect};var i=Ob(t);return Ul(t).originRoot=i.root,Ul(t).boundingRect=i.boundingRect,i},makeGraphic:function(e,t,n){var i=Ul(t),o=i.rootMap||(i.rootMap=zt()),a=o.get(n);if(a)return a;var s=i.originRoot;return a=i.originRootHostKey?Ob(t,i.boundingRect).root:(i.originRootHostKey=n,s),o.set(n,a)},removeGraphic:function(e,t,n){var i=Ul(t),o=i.rootMap;o&&o.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}}},pc={load:function(e,t,n){var i,o=[],a=zt(),s=zt();return ee(Fb(e),function(l){var u=Bb[l.type].load(e,l,n);ee(u.regions,function(d){var h=d.name;t&&t.hasOwnProperty(h)&&(d=d.cloneShallow(h=t[h])),o.push(d),a.set(h,d),s.set(h,d.center)});var c=u.boundingRect;c&&(i?i.union(c):i=c.clone())}),{regions:o,regionsMap:a,nameCoordMap:s,boundingRect:i||new v(0,0,0,0)}},makeGraphic:zb("makeGraphic"),removeGraphic:zb("removeGraphic")};function zb(e){return function(t,n){var i=Fb(t),o=[];return ee(i,function(a){var s=Bb[a.type][e];s&&o.push(s(t,a,n))}),o}}function Fb(e){return nh.retrieveMap(e)||[]}be(Yi.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=Wl(this,{coordDimensions:["value"],encodeDefaulter:gt(Pp,this)}),n=t.mapDimension("value"),i=zt(),o=[],a=[],s=0,l=t.count();s<l;s++){var u=t.getName(s);i.set(u,!0),o.push({name:u,value:t.get(n,s),selected:c1(t,s,"selected")})}return ee(pc.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(c){var d=c.name;i.get(d)||(o.push({name:d}),a.push(d))}),this.updateSelectedMap(o),t.appendValues([],a),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e,t,n,i){for(var o=this.getData(),a=Ha(this.getRawValue(e)),s=o.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var d=l[c].originalData.indexOfName(s),h=o.mapDimension("value");isNaN(l[c].originalData.get(h,d))||u.push(Wi(l[c].name))}var f="html"===i?"<br/>":"\n";return u.join(", ")+f+Wi(s+" : "+a)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}}),Gg);var Vb="\0_ec_interaction_mutex";function Hb(e,t){return!!Yg(e)[t]}function Yg(e){return e[Vb]||(e[Vb]={})}function jl(e){this._zr=e,this._opt={};var t=Ke,n=t(TA,this),i=t(AA,this),o=t(IA,this),a=t(kA,this),s=t(DA,this);Bi.call(this),this.setPointerChecker=function(l){this.pointerChecker=l},this.enable=function(l,u){this.disable(),this._opt=pe(Y(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==l&&(l=!0),!0!==l&&"move"!==l&&"pan"!==l||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",o)),!0!==l&&"scale"!==l&&"zoom"!==l||(e.on("mousewheel",a),e.on("pinch",s))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",o),e.off("mousewheel",a),e.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function TA(e){if(!(Sr(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function AA(e){if(this._dragging&&kh("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Hb(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,a=t-i,s=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Ui(e.event),Wb(this,"pan","moveOnMouseMove",e,{dx:a,dy:s,oldX:i,oldY:o,newX:t,newY:n})}}function IA(e){Sr(e)||(this._dragging=!1)}function kA(e){var t=kh("zoomOnMouseWheel",e,this._opt),n=kh("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),a=e.offsetX,s=e.offsetY;if(0!==i&&(t||n)){if(t){var l=3<o?1.4:1<o?1.2:1.1;Xg(this,"zoom","zoomOnMouseWheel",e,{scale:0<i?l:1/l,originX:a,originY:s})}if(n){var u=Math.abs(i);Xg(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(0<i?1:-1)*(3<u?.4:1<u?.15:.05),originX:a,originY:s})}}}function DA(e){Hb(this._zr,"globalPan")||Xg(this,"zoom",null,e,{scale:1<e.pinchScale?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function Xg(e,t,n,i,o){e.pointerChecker&&e.pointerChecker(i,o.originX,o.originY)&&(Ui(i.event),Wb(e,t,n,i,o))}function Wb(e,t,n,i,o){o.isAvailableBehavior=Ke(kh,null,n,i),e.trigger(t,o)}function kh(e,t,n){var i=n[e];return!e||i&&(!dt(i)||t.event[i+"Key"])}function Zg(e,t,n){var i=e.target,o=i.position;o[0]+=t,o[1]+=n,i.dirty()}function $g(e,t,n,i){var o=e.target,a=e.zoomLimit,s=o.position,l=o.scale,u=e.zoom=e.zoom||1;if(u*=t,a){var c=a.min||0;u=Math.max(Math.min(a.max||1/0,u),c)}var h=u/e.zoom;e.zoom=u,s[0]-=(n-s[0])*(h-1),s[1]-=(i-s[1])*(h-1),l[0]*=h,l[1]*=h,o.dirty()}yi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),be(jl,Bi);var NA={axisPointer:1,tooltip:1,brush:1};function Dh(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!NA[i.mainType]&&o&&o.model!==n}function Gb(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function Ub(e,t){t.eachChild(function(n){ee(n.__regions,function(i){n.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function Nh(e,t){var n=new y;this.uid=Eu("ec_map_draw"),this._controller=new jl(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,n.add(this._regionsGroup=new y),n.add(this._backgroundGroup=new y)}Nh.prototype={constructor:Nh,draw:function(e,t,n,i,o){var a="geo"===e.mainType,s=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},function(de){s||de.getHostGeoModel()!==e||(s=de.getData())});var l=e.coordinateSystem;this._updateBackground(l);var u,c=this._regionsGroup,d=this.group,h=l.getTransformInfo(),f=!c.childAt(0)||o;if(f)d.transform=h.roamTransform,d.decomposeTransform(),d.dirty();else{var p=new Tr;p.transform=h.roamTransform,p.decomposeTransform(),u=p.scale,si(d,{scale:p.scale,position:p.position},e)}var S=h.rawScale,x=h.rawPosition;c.removeAll();var de,ge,Ce,Pe,Fe,V=["itemStyle"],Q=["emphasis","itemStyle"],K=["label"],ce=["emphasis","label"],ue=zt();ee(l.regions,function(de){var ge=ue.get(de.name)||ue.set(de.name,new y),Ce=new uy({segmentIgnoreThreshold:1,shape:{paths:[]}});ge.add(Ce);var Pe,Fe=(sn=e.getRegionModel(de.name)||e).getModel(V),Ge=sn.getModel(Q),Qe=Gb(Fe),et=Gb(Ge),ot=sn.getModel(K),ht=sn.getModel(ce);if(s){Pe=s.indexOfName(de.name);var pt=s.getItemVisual(Pe,"color",!0);pt&&(Qe.fill=pt)}function ut(Bn){return[Bn[0]*S[0]+x[0],Bn[1]*S[1]+x[1]]}ee(de.geometries,function(Bn){if("polygon"===Bn.type){for(var Hn=[],Xn=0;Xn<Bn.exterior.length;++Xn)Hn.push(ut(Bn.exterior[Xn]));for(Ce.shape.paths.push(new Zr({segmentIgnoreThreshold:1,shape:{points:Hn}})),Xn=0;Xn<(Bn.interiors?Bn.interiors.length:0);++Xn){for(var Ii=Bn.interiors[Xn],xi=(Hn=[],0);xi<Ii.length;++xi)Hn.push(ut(Ii[xi]));Ce.shape.paths.push(new Zr({segmentIgnoreThreshold:1,shape:{points:Hn}}))}}}),Ce.setStyle(Qe),Ce.style.strokeNoScale=!0,Ce.culling=!0;var At=ot.get("show"),Zt=ht.get("show"),nn=s&&isNaN(s.get(s.mapDimension("value"),Pe)),jt=s&&s.getItemLayout(Pe);if(a||nn&&(At||Zt)||jt&&jt.showLabel){var gn,Cn=a?de.name:Pe;(!s||0<=Pe)&&(gn=e);var Vn=new fi({position:ut(de.center.slice()),scale:[1/d.scale[0],1/d.scale[1]],z2:10,silent:!0});no(Vn.style,Vn.hoverStyle={},ot,ht,{labelFetcher:gn,labelDataIndex:Cn,defaultText:de.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!f&&si(Vn,{scale:[1/u[0],1/u[1]]},e),ge.add(Vn)}if(s)s.setItemGraphicEl(Pe,ge);else{var sn=e.getRegionModel(de.name);Ce.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:de.name,region:sn&&sn.option||{}}}(ge.__regions||(ge.__regions=[])).push(de),ge.highDownSilentOnTouch=!!e.get("selectedMode"),Vi(ge,et),c.add(ge)}),this._updateController(e,t,n),de=this,ge=e,Pe=n,Fe=i,(Ce=c).off("click"),Ce.off("mousedown"),ge.get("selectedMode")&&(Ce.on("mousedown",function(){de._mouseDownFlag=!0}),Ce.on("click",function(Ge){if(de._mouseDownFlag){de._mouseDownFlag=!1;for(var Qe=Ge.target;!Qe.__regions;)Qe=Qe.parent;if(Qe){var et={type:("geo"===ge.mainType?"geo":"map")+"ToggleSelect",batch:Me(Qe.__regions,function(ot){return{name:ot.name,from:Fe.uid}})};et[ge.mainType+"Id"]=ge.id,Pe.dispatchAction(et),Ub(ge,Ce)}}})),Ub(e,c)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&pc.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&ee(pc.makeGraphic(t,this.uid),function(n){this._backgroundGroup.add(n)},this),this._mapName=t},_updateController:function(e,t,n){var i=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Zg(a,u.dx,u.dy),n.dispatchAction(ne(l(),{dx:u.dx,dy:u.dy}))},this),o.off("zoom").on("zoom",function(u){if(this._mouseDownFlag=!1,$g(a,u.scale,u.originX,u.originY),n.dispatchAction(ne(l(),{zoom:u.scale,originX:u.originX,originY:u.originY})),this._updateGroup){var c=this.group.scale;this._regionsGroup.traverse(function(d){"text"===d.type&&d.attr("scale",[1/c[0],1/c[1]])})}},this),o.setPointerChecker(function(u,c,d){return i.getViewRectAfterRoam().contain(c,d)&&!Dh(u,n,e)})}};var Kg="__seriesMapHighDown",jb="__seriesMapCallKey";function qb(e){var t=this[Kg];t&&t.recordVersion===this[jb]&&Yb(t,e)}function Yb(e,t){var n=e.circle,i=e.labelModel,o=e.hoverLabelModel,a=e.emphasisText,s=e.normalText;t?(n.style.extendFrom(qi({},o,{text:o.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=Du):(qi(n.style,i,{text:i.get("show")?s:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}function Jg(e,t,n){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,s=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,o=e.pointToData(s),e.setCenter(o)),null!=a){if(n){var l=n.min||0;a=Math.max(Math.min(i*a,n.max||1/0),l)/i}e.scale[0]*=a,e.scale[1]*=a;var c=e.position,h=(t.originY-c[1])*(a-1);c[0]-=(t.originX-c[0])*(a-1),c[1]-=h,e.updateTransform(),o=e.pointToData(s),e.setCenter(o),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}Kr({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(a=this._mapDraw)&&o.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new Nh(n,!0);o.add(a.group),a.draw(e,t,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),function(a,s){if(!isNaN(a)){var l=i.getItemLayout(s);if(l&&l.point){var u=l.point,c=l.offset,d=new Uo({style:{fill:e.getData().getVisual("color")},shape:{cx:u[0]+9*c,cy:u[1],r:3},silent:!0,z2:8+(c?0:Du+1)});if(!c){var h=e.mainSeries.getData(),f=i.getName(s),p=h.indexOfName(f),m=i.getItemModel(s),S=m.getModel("label"),x=m.getModel("emphasis.label"),V=h.getItemGraphicEl(p),Q=Pt(e.getFormattedLabel(p,"normal"),f),K=Pt(e.getFormattedLabel(p,"emphasis"),Q),ce=V[Kg],ue=Math.random();if(!ce){ce=V[Kg]={};var de=gt(qb,!0),ge=gt(qb,!1);V.on("mouseover",de).on("mouseout",ge).on("emphasis",de).on("normal",ge)}ne(ce,{recordVersion:V[jb]=ue,circle:d,labelModel:S,hoverLabelModel:x,emphasisText:K,normalText:Q}),Yb(ce,!1)}o.add(d)}}})}}),yi({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){var o=i.coordinateSystem;if("geo"===o.type){var a=Jg(o,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom),"series"===n&&ee(i.seriesGroup,function(s){s.setCenter(a.center),s.setZoom(a.zoom)})}})});var Xb=li;function Qg(){Tr.call(this)}function es(e){this.name=e,Tr.call(this),this._roamTransformable=new Qg,this._rawTransformable=new Qg}function Zb(e,t,n,i){var o=n.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](i):null}function ql(e,t,n,i){es.call(this,e),this.map=t;var o=pc.load(t,n);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==i||i,this.regions=o.regions,this._rect=o.boundingRect}function $b(e,t,n,i){var o=n.geoModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return s===this?s[e](i):null}function Kb(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}var a,s=this.getBoundingRect(),l=e.get("layoutCenter"),u=e.get("layoutSize"),c=t.getWidth(),d=t.getHeight(),h=s.width/s.height*this.aspectScale,f=!1;if(l&&u&&(l=[An(l[0],c),An(l[1],d)],u=An(u,Math.min(c,d)),isNaN(l[0])||isNaN(l[1])||isNaN(u)||(f=!0)),f){var p={};1<h?(p.width=u,p.height=u/h):(p.height=u,p.width=u*h),p.y=l[1]-p.height/2,p.x=l[0]-p.width/2}else(a=e.getBoxLayoutParams()).aspect=h,p=nr(a,{width:c,height:d});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function Jb(e,t){ee(t.get("geoCoord"),function(n,i){e.addGeoCoord(i,n)})}be(Qg,Tr),es.prototype={constructor:es,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new v(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new v(e,t,n,i)},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new v(e,t,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=li([],i,e),n=li([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._rawTransformable;(t.parent=this._roamTransformable).updateTransform(),t.updateTransform(),sa(this.transform||(this.transform=[]),t.transform||yr()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Na(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?Gt(e):yr(),rawScale:Gt(t.scale),rawPosition:Gt(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?Xb(n,e,i):Dn(n,e)},pointToData:function(e){var t=this.invTransform;return t?Xb([],e,t):[e[0],e[1]]},convertToPixel:gt(Zb,"dataToPoint"),convertFromPixel:gt(Zb,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},be(es,Tr),ql.prototype={constructor:ql,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var s=this._rawTransformable;if(s.transform=o.calculateTransform(new v(e,t,n,i)),s.decomposeTransform(),a){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,n){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return es.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:gt($b,"dataToPoint"),convertFromPixel:gt($b,"pointToData")},be(ql,es);var Qb={dimensions:ql.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(o,a){var s=o.get("map"),l=o.get("aspectScale"),u=!0,c=nh.retrieveMap(s);c&&c[0]&&"svg"===c[0].type?(null==l&&(l=1),u=!1):null==l&&(l=.75);var d=new ql(s+a,s,o.get("nameMap"),u);d.aspectScale=l,d.zoomLimit=o.get("scaleLimit"),n.push(d),Jb(d,o),(o.coordinateSystem=d).model=o,d.resize=Kb,d.resize(o,t)}),e.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var a=o.get("geoIndex")||0;o.coordinateSystem=n[a]}});var i={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var a=o.getMapType();i[a]=i[a]||[],i[a].push(o)}}),ee(i,function(o,a){var s=new ql(a,a,se(Me(o,function(l){return l.get("nameMap")})));s.zoomLimit=dn.apply(null,Me(o,function(l){return l.get("scaleLimit")})),n.push(s),s.resize=Kb,s.aspectScale=o[0].get("aspectScale"),s.resize(o[0],t),ee(o,function(l){Jb(l.coordinateSystem=s,l)})}),n},getFilledRegions:function(e,t,n){for(var i=(e||[]).slice(),o=zt(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);return ee(pc.load(t,n).regions,function(s){var l=s.name;o.get(l)||i.push({name:l})}),i}};lg("geo",Qb),Xi(function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};ee(n.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&e.getComponent("legend")&&u.each(u.mapDimension("value"),function(c,d){var h=u.getName(d),f=l.getRegion(h);if(f&&!isNaN(c)){var p=o[h]||0,m=l.dataToPoint(f.center);o[h]=p+1,u.setItemLayout(d,{point:m,offset:p})}})});var a=n.getData();a.each(function(s){var l=a.getName(s),u=a.getItemLayout(s)||{};u.showLabel=!o[l],a.setItemLayout(s,u)}),t[i]=!0}})}),zi(function(e){e.eachSeriesByType("map",function(t){var n=t.get("color"),i=t.getModel("itemStyle"),o=i.get("areaColor"),a=i.get("color")||n[t.seriesIndex%n.length];t.getData().setVisual({areaColor:o,color:a})})}),ro(Zo.PROCESSOR.STATISTIC,function(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),o=i?"o"+i.id:"i"+n.getMapType();(t[o]=t[o]||[]).push(n)}),ee(t,function(n,i){for(var o=function(s,l){var u={};return ee(s,function(c){c.each(c.mapDimension("value"),function(d,h){var f="ec-"+c.getName(h);u[f]=u[f]||[],isNaN(d)||u[f].push(d)})}),s[0].map(s[0].mapDimension("value"),function(c,d){for(var f="ec-"+s[0].getName(d),p=0,m=1/0,S=-1/0,x=u[f].length,V=0;V<x;V++)m=Math.min(m,u[f][V]),S=Math.max(S,u[f][V]),p+=u[f][V];return 0===x?NaN:"min"===l?m:"max"===l?S:"average"===l?p/x:p})}(Me(n,function(s){return s.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(a=0;a<n.length;a++)(n[a].seriesGroup=n)[a].needsDrawMap=0===a&&!n[a].getHostGeoModel(),n[a].setData(o.cloneShallow()),n[a].mainSeries=n[0]})}),Cr(function(e){var t=[];ee(e.series,function(n){n&&"map"===n.type&&(t.push(n),n.map=n.map||n.mapType,pe(n,n.mapLocation))})}),Ab("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var gc=ee,mc="\0__link_datas",Ph="\0__link_mainData";function e_(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,t_(t,n,e),gc(n,function(i){gc(t.TRANSFERABLE_METHODS,function(o){i.wrapMethod(o,gt(PA,e))})}),t.wrapMethod("cloneShallow",gt(RA,e)),gc(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,gt(LA,e))}),Kn(n[t.dataType]===t)}function PA(e,t){if(function(i){return i[Ph]===i}(this)){var n=ne({},this[mc]);t_(n[this.dataType]=t,n,e)}else em(t,this.dataType,this[Ph],e);return t}function LA(e,t){return e.struct&&e.struct.update(this),t}function RA(e,t){return gc(t[mc],function(n,i){n!==t&&em(n.cloneShallow(),i,t,e)}),t}function EA(e){var t=this[Ph];return null==e||null==t?t:t[mc][e]}function t_(e,t,n){e[mc]={},gc(t,function(i,o){em(i,o,e,n)})}function em(e,t,n,i){(n[mc][t]=e)[Ph]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=EA}function tm(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t}function Vs(e){this._nodes=[],this.hostModel=e}function BA(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,o=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(s){for(var l=s.children,u=l.length,c=0,d=0;0<=--u;){var h=l[u];h.hierNode.prelim+=c,h.hierNode.modifier+=c,c+=h.hierNode.shift+(d+=h.hierNode.change)}}(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=function(s,l,u,c){if(l){for(var d=s,h=s,f=h.parentNode.children[0],p=l,m=d.hierNode.modifier,S=h.hierNode.modifier,x=f.hierNode.modifier,V=p.hierNode.modifier;p=nm(p),h=im(h),p&&h;){d=nm(d),f=im(f),d.hierNode.ancestor=s;var Q=p.hierNode.prelim+V-h.hierNode.prelim-S+c(p,h);0<Q&&(FA((K=p).hierNode.ancestor.parentNode===s.parentNode?K.hierNode.ancestor:u,s,Q),S+=Q,m+=Q),V+=p.hierNode.modifier,S+=h.hierNode.modifier,m+=d.hierNode.modifier,x+=f.hierNode.modifier}p&&!nm(d)&&(d.hierNode.thread=p,d.hierNode.modifier+=V-m),h&&!im(f)&&(f.hierNode.thread=h,f.hierNode.modifier+=S-x,u=s)}var K;return u}(e,o,e.parentNode.hierNode.defaultAncestor||i[0],t)}function zA(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function n_(e){return arguments.length?e:VA}function vc(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n}function nm(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function im(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function FA(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function VA(e,t){return e.parentNode===t.parentNode?1:2}tm.prototype={constructor:tm,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),dt(e=e||{})&&(e={order:e});var i,o=e.order||"preorder",a=this[e.attr||"children"];"preorder"===o&&(i=t.call(n,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},setVisual:function(e,t){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},Vs.prototype={constructor:Vs,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},Vs.createTree=function(e,t,n){var i=new Vs(t),o=[],a=1;(function u(c,d){var h=c.value;a=Math.max(a,it(h)?h.length:1),o.push(c);var f=new tm(c.name,i);d?function OA(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(f,d):i.root=f,i._nodes.push(f);var p=c.children;if(p)for(var m=0;m<p.length;m++)u(p[m],f)})(e),i.root.updateDepthAndHeight(0);var s=Pl(o,{coordDimensions:["value"],dimensionsCount:a}),l=new hr(s,t);return l.initData(o),n&&n(l),e_({mainData:l,struct:i,structAttr:"tree"}),i.update(),i},Yi.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},n=new vi(e.leaves||{},this,this.ecModel),i=Vs.createTree(t,this,function(s){s.wrapMethod("getItemModel",function(l,u){var c=i.getNodeByDataIndex(u);return c.children.length&&c.isExpand||(l.parentModel=n),l})}),o=0;i.eachNode("preorder",function(s){s.depth>o&&(o=s.depth)});var a=e.expandAndCollapse&&0<=e.initialTreeDepth?e.initialTreeDepth:o;return i.root.eachNode("preorder",function(s){var l=s.hostTree.data.getRawDataItem(s.dataIndex);s.isExpand=l&&null!=l.collapsed?!l.collapsed:s.depth<=a}),i.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),o=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return Wi(a+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});var HA=yo({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.childPoints,i=n.length,o=t.parentPoint,a=n[0],s=n[i-1];if(1===i)return e.moveTo(o[0],o[1]),void e.lineTo(a[0],a[1]);var l=t.orient,u="TB"===l||"BT"===l?0:1,c=1-u,d=An(t.forkPosition,1),h=[];h[u]=o[u],h[c]=o[c]+(s[c]-o[c])*d,e.moveTo(o[0],o[1]),e.lineTo(h[0],h[1]),e.moveTo(a[0],a[1]),h[u]=a[u],e.lineTo(h[0],h[1]),h[u]=s[u],e.lineTo(h[0],h[1]),e.lineTo(s[0],s[1]);for(var f=1;f<i-1;f++){var p=n[f];e.moveTo(p[0],p[1]),h[u]=p[u],e.lineTo(h[0],h[1])}}});function i_(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==e.getItemVisual(t,"symbol")}function r_(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),n.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?n.itemStyle.fill:"#fff",n}function o_(e,t,n,i,o,a){var s=!n,l=e.tree.getNodeByDataIndex(t),u=l.getModel(),c=(a=r_(l,u,a),e.tree.root),d=l.parentNode===c?l:l.parentNode||l,h=e.getItemGraphicEl(d.dataIndex),f=d.getLayout(),p=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:f,m=l.getLayout();s?(n=new Za(e,t,a)).attr("position",[p.x,p.y]):n.updateData(e,t,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=m.rawX,n.__radialRawY=m.rawY,i.add(n),e.setItemGraphicEl(t,n),si(n,{position:[m.x,m.y]},o);var S=n.getSymbolPath();if("radial"===a.layout){var x,V,Q=c.children[0],K=Q.getLayout(),ce=Q.children.length;if(m.x===K.x&&!0===l.isExpand){var ue={};ue.x=(Q.children[0].getLayout().x+Q.children[ce-1].getLayout().x)/2,ue.y=(Q.children[0].getLayout().y+Q.children[ce-1].getLayout().y)/2,(x=Math.atan2(ue.y-K.y,ue.x-K.x))<0&&(x=2*Math.PI+x),(V=ue.x<K.x)&&(x-=Math.PI)}else(x=Math.atan2(m.y-K.y,m.x-K.x))<0&&(x=2*Math.PI+x),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(V=m.x<K.x)&&(x-=Math.PI):(V=m.x>K.x)||(x-=Math.PI);var de=V?"left":"right",ge=a.labelModel.get("rotate"),Ce=ge*(Math.PI/180);S.setStyle({textPosition:a.labelModel.get("position")||de,textRotation:null==ge?-x:Ce,textOrigin:"center",verticalAlign:"middle"})}!function(Pe,Fe,Ge,Qe,et,ot,ht,pt,ut){var At=ut.edgeShape,Zt=Qe.__edge;if("curve"===At)Fe.parentNode&&Fe.parentNode!==Ge&&si(Zt=Zt||(Qe.__edge=new Md({shape:rm(ut,et,et),style:pe({opacity:0,strokeNoScale:!0},ut.lineStyle)})),{shape:rm(ut,ot,ht),style:pe({opacity:1},ut.lineStyle)},Pe);else if("polyline"===At&&"orthogonal"===ut.layout&&Fe!==Ge&&Fe.children&&0!==Fe.children.length&&!0===Fe.isExpand){for(var nn=Fe.children,jt=[],gn=0;gn<nn.length;gn++){var Cn=nn[gn].getLayout();jt.push([Cn.x,Cn.y])}si(Zt=Zt||(Qe.__edge=new HA({shape:{parentPoint:[ht.x,ht.y],childPoints:[[ht.x,ht.y]],orient:ut.orient,forkPosition:ut.edgeForkPosition},style:pe({opacity:0,strokeNoScale:!0},ut.lineStyle)})),{shape:{parentPoint:[ht.x,ht.y],childPoints:jt},style:pe({opacity:1},ut.lineStyle)},Pe)}pt.add(Zt)}(o,l,c,n,p,f,m,i,a)}function a_(e,t,n,i,o,a){for(var s,h,l=e.tree.getNodeByDataIndex(t),u=e.tree.root,c=l.getModel(),d=(a=r_(l,c,a),l.parentNode===u?l:l.parentNode||l);null==(s=d.getLayout());)d=d.parentNode===u?d:d.parentNode||d;si(n,{position:[s.x+1,s.y+1]},o,function(){i.remove(n),e.setItemGraphicEl(t,null)}),n.fadeOut(null,{keepLabel:!0});var f=e.getItemGraphicEl(d.dataIndex).__edge,p=n.__edge||(!1===d.isExpand||1===d.children.length?f:void 0);h=a.edgeShape,p&&("curve"===h?si(p,{shape:rm(a,s,s),style:{opacity:0}},o,function(){i.remove(p)}):"polyline"===h&&"orthogonal"===a.layout&&si(p,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},o,function(){i.remove(p)}))}function rm(e,t,n){var i,o,a,s,l,u,c,d,h=e.orient;if("radial"!==e.layout)return l=t.x,c=t.y,u=n.x,d=n.y,"LR"!==h&&"RL"!==h||(i=l+(u-l)*e.curvature,o=c,a=u+(l-u)*e.curvature,s=d),"TB"!==h&&"BT"!==h||(i=l,o=c+(d-c)*e.curvature,a=u,s=d+(c-d)*e.curvature),{x1:l,y1:c,x2:u,y2:d,cpx1:i,cpy1:o,cpx2:a,cpy2:s};u=n.rawX,d=n.rawY;var f=vc(l=t.rawX,c=t.rawY),p=vc(l,c+(d-c)*e.curvature),m=vc(u,d+(c-d)*e.curvature),S=vc(u,d);return{x1:f.x,y1:f.y,x2:S.x,y2:S.y,cpx1:p.x,cpy1:p.y,cpx2:m.x,cpy2:m.y}}function yc(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var o=n.children;if(o.length)for(var a=o.length-1;0<=a;a--)i.push(o[a])}}function xc(e,t,n){if(e&&0<=De(t,e.type)){var i=n.getData().tree.root,o=e.targetNode;if("string"==typeof o&&(o=i.getNodeById(o)),o&&i.contains(o))return{node:o};var a=e.targetNodeId;if(null!=a&&(o=i.getNodeById(a)))return{node:o}}}function s_(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function om(e,t){return 0<=De(s_(e),t)}function am(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}Kr({type:"tree",init:function(e,t){this._mainGroup=new y,this._controller=new jl(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,n,i){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup,l=e.get("layout");s.attr("position","radial"===l?[a.x+a.width/2,a.y+a.height/2]:[a.x,a.y]),this._updateViewCoordSys(e,a,l),this._updateController(e,t,n);var u=this._data,c={expandAndCollapse:e.get("expandAndCollapse"),layout:l,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(u).add(function(d){i_(o,d)&&o_(o,d,null,s,e,c)}).update(function(d,h){var f=u.getItemGraphicEl(h);i_(o,d)?o_(o,d,f,s,e,c):f&&a_(u,h,f,s,e,c)}).remove(function(d){var h=u.getItemGraphicEl(d);h&&a_(u,d,h,s,e,c)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===c.expandAndCollapse&&o.eachItemGraphicEl(function(d,h){d.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},_updateViewCoordSys:function(e){var t=e.getData(),n=[];t.each(function(u){var c=t.getItemLayout(u);!c||isNaN(c.x)||isNaN(c.y)||n.push([+c.x,+c.y])});var i=[],o=[];Mu(n,i,o);var a=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var l=e.coordinateSystem=new es;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({position:l.position,scale:l.scale}),this._viewCoordSys=l,this._min=i,this._max=o},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!Dh(s,n,e)}),i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s){Zg(o,s.dx,s.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:s.dx,dy:s.dy})},this).on("zoom",function(s){$g(o,s.scale,s.originX,s.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:s.scale,originX:s.originX,originY:s.originY}),this._updateNodeAndLinkScale(e)},this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),yi({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,o=n.getData().tree.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),yi({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=Jg(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})}),zi(Bs("tree","circle")),Xi(function(e,t){e.eachSeriesByType("tree",function(n){!function(i,o){var ge,a=(ge=o,nr(i.getBoxLayoutParams(),{width:ge.getWidth(),height:ge.getHeight()}));i.layoutInfo=a;var s=i.get("layout"),l=0,u=0,c=null;c="radial"===s?(l=2*Math.PI,u=Math.min(a.height,a.width)/2,n_(function(de,ge){return(de.parentNode===ge.parentNode?1:2)/de.depth})):(l=a.width,u=a.height,n_());var d=i.getData().tree.root,h=d.children[0];if(h){(function(de){de.hierNode={defaultAncestor:null,ancestor:de,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var ge,Ce,Pe=[de];ge=Pe.pop();)if(Ce=ge.children,ge.isExpand&&Ce.length)for(var Fe=Ce.length-1;0<=Fe;Fe--){var Ge=Ce[Fe];Ge.hierNode={defaultAncestor:null,ancestor:Ge,prelim:0,modifier:0,change:0,shift:0,i:Fe,thread:null},Pe.push(Ge)}})(d),function(de,ge,Ce){for(var Pe,Fe=[de],Ge=[];Pe=Fe.pop();)if(Ge.push(Pe),Pe.isExpand){var Qe=Pe.children;if(Qe.length)for(var et=0;et<Qe.length;et++)Fe.push(Qe[et])}for(;Pe=Ge.pop();)ge(Pe,Ce)}(h,BA,c),d.hierNode.modifier=-h.hierNode.prelim,yc(h,zA);var f=h,p=h,m=h;yc(h,function(de){var ge=de.getLayout().x;ge<f.getLayout().x&&(f=de),ge>p.getLayout().x&&(p=de),de.depth>m.depth&&(m=de)});var S=f===p?1:c(f,p)/2,x=S-f.getLayout().x,V=0,Q=0,K=0,ce=0;if("radial"===s)V=l/(p.getLayout().x+S+x),Q=u/(m.depth-1||1),yc(h,function(de){var ge=vc(K=(de.getLayout().x+x)*V,ce=(de.depth-1)*Q);de.setLayout({x:ge.x,y:ge.y,rawX:K,rawY:ce},!0)});else{var ue=i.getOrient();"RL"===ue||"LR"===ue?(Q=u/(p.getLayout().x+S+x),V=l/(m.depth-1||1),yc(h,function(de){ce=(de.getLayout().x+x)*Q,de.setLayout({x:K="LR"===ue?(de.depth-1)*V:l-(de.depth-1)*V,y:ce},!0)})):"TB"!==ue&&"BT"!==ue||(V=l/(p.getLayout().x+S+x),Q=u/(m.depth-1||1),yc(h,function(de){K=(de.getLayout().x+x)*V,de.setLayout({x:K,y:ce="TB"===ue?(de.depth-1)*Q:u-(de.depth-1)*Q},!0)}))}}}(n,t)})}),Yi.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};!function l(u){var c=0;ee(u.children,function(h){l(h);var f=h.value;it(f)&&(f=f[0]),c+=f});var d=u.value;it(d)&&(d=d[0]),null!=d&&!isNaN(d)||(d=c),d<0&&(d=0),it(u.value)?u.value[0]=d:u.value=d}(n);var i=e.levels||[],o=new vi({itemStyle:this.designatedVisualItemStyle={}},this,t),a=Me((i=e.levels=function(l,u){var c,d=u.get("color");if(d)return ee(l=l||[],function(h){var f=new vi(h),p=f.get("color");(f.get("itemStyle.color")||p&&"none"!==p)&&(c=!0)}),!c&&((l[0]||(l[0]={})).color=d.slice()),l}(i,t))||[],function(l){return new vi(l,o,t)},this),s=Vs.createTree(n,this,function(l){l.wrapMethod("getItemModel",function(u,c){var d=s.getNodeByDataIndex(c);return u.parentModel=a[d.depth]||o,u})});return s.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=it(n)?Ha(n[0]):Ha(n);return Wi(t.getName(e)+": "+i)},getDataParams:function(e){var t=Yi.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=am(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},ne(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=zt(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var sm=5;function lm(e){this.group=new y,e.add(this.group)}function WA(e,t,n,i,o,a){var s=[[o?e:e-sm,t],[e+n,t],[e+n,t+i],[o?e:e-sm,t+i]];return a||s.splice(2,0,[e+n+sm,t+i/2]),o||s.push([e,t+i/2]),s}function l_(e){var t=um(e);return t.stroke=t.fill=t.lineWidth=null,t}lm.prototype={constructor:lm,render:function(e,t,n,i){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(e,u,s,l,i),Hd(a,u.pos,u.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var o=i.getModel().get("name"),a=n.getTextRect(o),s=Math.max(a.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:i,text:o,width:s})}},_renderContent:function(e,t,n,i,o){for(var a,s,l=0,u=t.emptyItemWidth,c=e.get("breadcrumb.height"),d=(ue=void 0,void 0,void 0,Ce=void 0,Pe=void 0,Fe=void 0,Ge=void 0,ge=(ce=t.box).height,Ce=An((K=t.pos).x,de=ce.width),Pe=An(K.y,ge),Fe=An(K.x2,de),Ge=An(K.y2,ge),(isNaN(Ce)||isNaN(parseFloat(K.x)))&&(Ce=0),(isNaN(Fe)||isNaN(parseFloat(K.x2)))&&(Fe=de),(isNaN(Pe)||isNaN(parseFloat(K.y)))&&(Pe=0),(isNaN(Ge)||isNaN(parseFloat(K.y2)))&&(Ge=ge),ue=Is(ue||0),{width:Math.max(Fe-Ce-ue[1]-ue[3],0),height:Math.max(Ge-Pe-ue[0]-ue[2],0)}),h=t.totalWidth,f=t.renderList,p=f.length-1;0<=p;p--){var m=f[p],S=m.node,x=m.width,V=m.text;h>d.width&&(h-=x-u,x=u,V=null);var Q=new Zr({shape:{points:WA(l,0,x,c,p===f.length-1,0===p)},style:pe(n.getItemStyle(),{lineJoin:"bevel",text:V,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:gt(o,S)});this.group.add(Q),Q.eventData={componentType:"series",componentSubType:"treemap",componentIndex:(a=e).componentIndex,seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:(s=S)&&s.dataIndex,name:s&&s.name},treePathInfo:s&&am(s,a)},l+=x+8}var K,ce,ue,de,ge,Ce,Pe,Fe,Ge},remove:function(){this.group.removeAll()}};var Lh=Ke,u_=y,c_=Si,ea=ee,GA=["label"],UA=["emphasis","label"],jA=["upperLabel"],qA=["emphasis","upperLabel"],YA=10,um=xl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);function XA(e,t,n,i,o,a,s,l,u,c){if(s){var d=s.getLayout(),h=e.getData();if(h.setItemGraphicEl(s.dataIndex,null),d&&d.isInView){var f=d.width,p=d.height,m=d.borderWidth,S=d.invisible,x=s.getRawIndex(),V=l&&l.getRawIndex(),Q=s.viewChildren,K=d.upperHeight,ce=Q&&Q.length,ue=s.getModel("itemStyle"),de=s.getModel("emphasis.itemStyle"),ge=ot("nodeGroup",u_);if(ge){if(u.add(ge),ge.attr("position",[d.x||0,d.y||0]),ge.__tmNodeWidth=f,ge.__tmNodeHeight=p,d.isAboveViewRoot)return ge;var Ce=s.getModel(),Pe=ot("background",c_,c,1);if(Pe&&function(ht,pt,ut){if(pt.dataIndex=s.dataIndex,pt.seriesIndex=e.seriesIndex,pt.setShape({x:0,y:0,width:f,height:p}),S)Ge(pt);else{pt.invisible=!1;var At=s.getVisual("borderColor",!0),Zt=de.get("borderColor"),nn=l_(ue);nn.fill=At;var jt=um(de);if(jt.fill=Zt,ut){var gn=f-2*m;Qe(nn,jt,At,gn,K,{x:m,y:0,width:gn,height:K})}else nn.text=jt.text=null;pt.setStyle(nn),Pu(pt,jt)}ht.add(pt)}(ge,Pe,ce&&d.upperLabelHeight),ce)Pd(ge)&&Ms(ge,!1),Pe&&(Ms(Pe,!0),h.setItemGraphicEl(s.dataIndex,Pe));else{var Fe=ot("content",c_,c,2);Fe&&function(ht,pt){pt.dataIndex=s.dataIndex,pt.seriesIndex=e.seriesIndex;var ut=Math.max(f-2*m,0),At=Math.max(p-2*m,0);if(pt.culling=!0,pt.setShape({x:m,y:m,width:ut,height:At}),S)Ge(pt);else{pt.invisible=!1;var Zt=s.getVisual("color",!0),nn=l_(ue);nn.fill=Zt;var jt=um(de);Qe(nn,jt,Zt,ut,At),pt.setStyle(nn),Pu(pt,jt)}ht.add(pt)}(ge,Fe),Pe&&Pd(Pe)&&Ms(Pe,!1),Ms(ge,!0),h.setItemGraphicEl(s.dataIndex,ge)}return ge}}}function Ge(ht){ht.invisible||a.push(ht)}function Qe(ht,pt,ut,At,Zt,nn){var jt=Ce.get("name"),gn=Ce.getModel(nn?jA:GA),Cn=Ce.getModel(nn?qA:UA),Vn=gn.getShallow("show");no(ht,pt,gn,Cn,{defaultText:Vn?jt:null,autoColor:ut,isRectText:!0,labelFetcher:e,labelDataIndex:s.dataIndex,labelProp:nn?"upperLabel":"label"}),et(ht,nn,d),et(pt,nn,d),nn&&(ht.textRect=Y(nn)),ht.truncate=Vn&&gn.get("ellipsis")?{outerWidth:At,outerHeight:Zt,minChar:2}:null}function et(ht,pt,ut){var At=ht.text;if(!pt&&ut.isLeafRoot&&null!=At){var Zt=e.get("drillDownIcon",!0);ht.text=Zt?Zt+" "+At:At}}function ot(ht,pt,ut,At){var gn,Cn,Zt=null!=V&&n[ht][V],nn=o[ht];return Zt?(n[ht][V]=null,gn=Zt,Cn=ht,(nn[x]={}).old="nodeGroup"===Cn?gn.position.slice():ne({},gn.shape)):S||((Zt=new pt({z:function(jt,gn){var Cn=jt*YA+gn;return(Cn-1)/Cn}(ut,At)})).__tmDepth=ut,function(jt,gn,Cn){var Vn=jt[x]={},sn=s.parentNode;if(sn&&(!i||"drillDown"===i.direction)){var Bn=0,Hn=0,Xn=o.background[sn.getRawIndex()];!i&&Xn&&Xn.old&&(Bn=Xn.old.width,Hn=Xn.old.height),Vn.old="nodeGroup"===Cn?[0,Hn]:{x:Bn,y:Hn,width:0,height:0}}Vn.fadein="nodeGroup"!==Cn}(nn,0,Zt.__tmStorageName=ht)),t[ht][x]=Zt}}Kr({type:"treemap",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(e,t,n,i){if(!(De(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=xc(i,["treemapZoomToNode","treemapRootToNode"],e),a=i&&i.type,s=e.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(s),h=this._doRender(d,e,c);l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?h.renderFinally():this._doAnimation(d,h,e,c),this._resetController(n),this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new u_,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var i=t.getData().tree,o=this._oldTree,a={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},l=this._storage,u=[],c=gt(XA,t,s,l,n,a,u);!function p(m,S,x,V,Q){function K(ue){return ue.getId()}function ce(ue,de){var ge=null!=ue?m[ue]:null,Ce=null!=de?S[de]:null,Pe=c(ge,Ce,x,Q);Pe&&p(ge&&ge.viewChildren||[],Ce&&Ce.viewChildren||[],Pe,V,Q+1)}V?ea(S=m,function(ue,de){ue.isRemoved()||ce(de,de)}):new xa(S,m,K,K).add(ce).update(ce).remove(gt(ce,null)).execute()}(i.root?[i.root]:[],o&&o.root?[o.root]:[],e,i===o||!o,0);var d,h,f=(h={nodeGroup:[],background:[],content:[]},(d=l)&&ea(d,function(p,m){var S=h[m];ea(p,function(x){x&&(S.push(x),x.__tmWillDelete=1)})}),h);return this._oldTree=i,this._storage=s,{lastsForAnimation:a,willDeleteEls:f,renderFinally:function(){ea(f,function(p){ea(p,function(m){m.parent&&m.parent.remove(m)})}),ea(u,function(p){p.invisible=!0,p.dirty()})}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),a=n.get("animationEasing"),s=(u=[],c={},{add:function(d,h,f,p,m){return dt(p)&&(m=p,p=0),!c[d.id]&&(c[d.id]=1,u.push({el:d,target:h,time:f,delay:p,easing:m}),!0)},done:function(d){return l=d,this},start:function(){for(var d=u.length,h=0,f=u.length;h<f;h++){var p=u[h];p.el.animateTo(p.target,p.time,p.delay,p.easing,m)}return this;function m(){--d||(u.length=0,c={},l&&l())}}});ea(t.willDeleteEls,function(l,u){ea(l,function(c,d){if(!c.invisible){var h,f=c.parent;if(i&&"drillDown"===i.direction)h=f===i.rootNodeGroup?{shape:{x:0,y:0,width:f.__tmNodeWidth,height:f.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var p=0,m=0;f.__tmWillDelete||(p=f.__tmNodeWidth/2,m=f.__tmNodeHeight/2),h="nodeGroup"===u?{position:[p,m],style:{opacity:0}}:{shape:{x:p,y:m,width:0,height:0},style:{opacity:0}}}h&&s.add(c,h,o,a)}})}),ea(this._storage,function(l,u){ea(l,function(c,d){var h=t.lastsForAnimation[u][d],f={};h&&("nodeGroup"===u?h.old&&(f.position=c.position.slice(),c.attr("position",h.old)):(h.old&&(f.shape=ne({},c.shape),c.setShape(h.old)),h.fadein?(c.setStyle("opacity",0),f.style={opacity:1}):1!==c.style.opacity&&(f.style={opacity:1})),s.add(c,f,o,a))})},this),this._state="animating",s.done(Lh(function(){this._state="ready",t.renderFinally()},this)).start()}var l,u,c},_resetController:function(e){var t=this._controller;t||((t=this._controller=new jl(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Lh(this._onPan,this)),t.on("zoom",Lh(this._onZoom,this)));var n=new v(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(i,o,a){return n.contain(o,a)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(3<Math.abs(e.dx)||3<Math.abs(e.dy))){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},_onZoom:function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a=new v(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;t-=s.x,n-=s.y;var l=yr();Mr(l,l,[-t,-n]),la(l,l,[e.scale,e.scale]),Mr(l,l,[t,n]),a.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",function(t){if("ready"===this._state){var n=this.seriesModel.get("nodeClick",!0);if(n){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===n)this._zoomToNode(i);else if("link"===n){var a=o.hostTree.data.getItemModel(o.dataIndex),s=a.get("link",!0),l=a.get("target",!0)||"blank";s&&zu(s,l)}}}}},this)},_renderBreadcrumb:function(e,t,n){n=n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||{node:e.getData().tree.root},(this._breadcrumb||(this._breadcrumb=new lm(this.group))).render(e,t,n.node,Lh(function(i){"animating"!==this._state&&(om(e.getViewRoot(),i)?this._rootToNode({node:i}):this._zoomToNode({node:i}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var o=this._storage.background[i.getRawIndex()];if(o){var a=o.transformCoordToLocal(e,t),s=o.shape;if(!(s.x<=a[0]&&a[0]<=s.x+s.width&&s.y<=a[1]&&a[1]<=s.y+s.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}},this),n}});for(var ZA=function(){},d_=["treemapZoomToNode","treemapRender","treemapMove"],cm=0;cm<d_.length;cm++)yi({type:d_[cm],update:"updateView"},ZA);yi({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(n,i){var o=xc(e,["treemapZoomToNode","treemapRootToNode"],n);if(o){var a=n.getViewRoot();a&&(e.direction=om(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var bc=ee,h_=xt,Rh=-1,Ei=function(e){var t=e.mappingMethod,n=e.type,i=this.option=Y(e);this.type=n,this.mappingMethod=t,this._normalizeData=$A[t];var o=_c[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[t],"piecewise"===t?(dm(i),function(a){var s=a.pieceList;a.hasSpecialVisual=!1,ee(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})}(i)):"category"===t?i.categories?function(a){var s=a.categories,l=a.visual,u=a.categoryMap={};if(bc(s,function(h,f){u[h]=f}),!it(l)){var c=[];xt(l)?bc(l,function(h,f){c[u[f]??Rh]=h}):c[Rh]=l,l=p_(a,c)}for(var d=s.length-1;0<=d;d--)null==l[d]&&(delete u[s[d]],s.pop())}(i):dm(i,!0):(Kn("linear"!==t||i.dataExtent),dm(i))};Ei.prototype={constructor:Ei,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return Ke(this._normalizeData,this)}};var _c=Ei.visualHandlers={color:{applyVisual:Oh("color"),getColorMapper:function(){var e=this.option;return Ke("category"===e.mappingMethod?function(t,n){return n||(t=this._normalizeData(t)),Bh.call(this,t)}:function(t,n,i){var o=!!i;return n||(t=this._normalizeData(t)),i=pa(t,e.parsedVisual,i),o?i:po(i,"rgba")},this)},_doMap:{linear:function(e){return po(pa(e,this.option.parsedVisual),"rgba")},category:Bh,piecewise:function(e,t){var n=fm.call(this,t);return null==n&&(n=po(pa(e,this.option.parsedVisual),"rgba")),n},fixed:Hs}},colorHue:Eh(function(e,t){return Fo(e,t)}),colorSaturation:Eh(function(e,t){return Fo(e,null,t)}),colorLightness:Eh(function(e,t){return Fo(e,null,null,t)}),colorAlpha:Eh(function(e,t){return vs(e,t)}),opacity:{applyVisual:Oh("opacity"),_doMap:hm([0,1])},liftZ:{applyVisual:Oh("liftZ"),_doMap:{linear:Hs,category:Hs,piecewise:Hs,fixed:Hs}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(dt(i))n("symbol",i);else if(h_(i))for(var o in i)i.hasOwnProperty(o)&&n(o,i[o])},_doMap:{linear:f_,category:Bh,piecewise:function(e,t){var n=fm.call(this,t);return null==n&&(n=f_.call(this,e)),n},fixed:Hs}},symbolSize:{applyVisual:Oh("symbolSize"),_doMap:hm([0,1])}};function dm(e,t){var n=e.visual,i=[];xt(n)?bc(n,function(o){i.push(o)}):null!=n&&i.push(n),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),p_(e,i)}function Eh(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:hm([0,1])}}function f_(e){var t=this.option.visual;return t[Math.round(Hi(e,[0,1],[0,t.length-1],!0))]||{}}function Oh(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function Bh(e){var t=this.option.visual;return t[this.option.loop&&e!==Rh?e%t.length:e]}function Hs(){return this.option.visual[0]}function hm(e){return{linear:function(t){return Hi(t,e,this.option.visual,!0)},category:Bh,piecewise:function(t,n){var i=fm.call(this,n);return null==i&&(i=Hi(t,e,this.option.visual,!0)),i},fixed:Hs}}function fm(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[Ei.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function p_(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=Me(t,function(n){return Ar(n)})),t}var $A={linear:function(e){return Hi(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=Ei.findPieceIndex(e,t,!0);if(null!=n)return Hi(n,[0,t.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??Rh},fixed:cn};function zh(e,t,n){return e?t<=n:t<n}Ei.listVisualTypes=function(){var e=[];return ee(_c,function(t,n){e.push(n)}),e},Ei.addVisualHandler=function(e,t){_c[e]=t},Ei.isValidType=function(e){return _c.hasOwnProperty(e)},Ei.eachVisual=function(e,t,n){xt(e)?ee(e,t,n):t.call(n,e)},Ei.mapVisual=function(e,t,n){var i,o=it(e)?[]:xt(e)?{}:(i=!0,null);return Ei.eachVisual(e,function(a,s){var l=t.call(n,a,s);i?o=l:o[s]=l}),o},Ei.retrieveVisuals=function(e){var t,n={};return e&&bc(_c,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],t=!0)}),t?n:null},Ei.prepareVisualTypes=function(e){if(h_(e)){var t=[];bc(e,function(n,i){t.push(i)}),e=t}else{if(!it(e))return[];e=e.slice()}return e.sort(function(n,i){return"color"===i&&"color"!==n&&0===n.indexOf("color")?1:-1}),e},Ei.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},Ei.findPieceIndex=function(e,t,n){for(var i,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===e||"string"==typeof l&&l===e+"")return a;n&&h(l,a)}}for(a=0,s=t.length;a<s;a++){var u=t[a],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(zh(d[1],e,c[1]))return a}else if(c[1]===1/0){if(zh(d[0],c[0],e))return a}else if(zh(d[0],c[0],e)&&zh(d[1],e,c[1]))return a;n&&h(c[0],a),n&&h(c[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(f,p){var m=Math.abs(f-e);m<o&&(o=m,i=p)}};var KA=it,QA={seriesType:"treemap",reset:function(e,t,n,i){var o=e.getData().tree.root;o.isRemoved()||function a(s,l,u,c){var d=s.getModel(),h=s.getLayout();if(h&&!h.invisible&&h.isInView){var x,Q,f=s.getModel("itemStyle"),p=function eI(e,t,n){var i=ne({},t),o=n.designatedVisualItemStyle;return ee(["color","colorAlpha","colorSaturation"],function(a){o[a]=t[a];var s=e.get(a);(o[a]=null)!=s&&(i[a]=s)}),i}(f,l,c),m=f.get("borderColor"),S=f.get("borderColorSaturation");null!=S&&(m=null!=(Q=x=g_(p))?Fo(Q,null,null,S):null),s.setVisual("borderColor",m);var K=s.viewChildren;if(K&&K.length){var ce=function tI(e,t,n,i,o,a){if(a&&a.length){var s=gm(t,"color")||null!=o.color&&"none"!==o.color&&(gm(t,"colorAlpha")||gm(t,"colorSaturation"));if(s){var l=t.get("visualMin"),u=t.get("visualMax"),c=n.dataExtent.slice();null!=l&&l<c[0]&&(c[0]=l),null!=u&&u>c[1]&&(c[1]=u);var d=t.get("colorMappingBy"),h={type:s.name,dataExtent:c,visual:s.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new Ei(h);return f.__drColorMappingBy=d,f}}}(0,d,h,0,p,K);ee(K,function(ue,de){if(ue.depth>=u.length||ue===u[ue.depth]){var ge=function nI(e,t,n,i,o,a){var s=ne({},t);if(o){var l=o.type,u="color"===l&&o.__drColorMappingBy,c="index"===u?i:"id"===u?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[l]=o.mapValueToVisual(c)}return s}(d,p,ue,de,ce,c);a(ue,ge,u,c)}})}else x=g_(p),s.setVisual("color",x)}}(o,{},e.getViewRoot().getAncestors(),e)}};function g_(e){var t=pm(e,"color");if(t){var n=pm(e,"colorAlpha"),i=pm(e,"colorSaturation");return i&&(t=Fo(t,null,null,i)),n&&(t=vs(t,n)),t}}function pm(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function gm(e,t){var n=e.get(t);return KA(n)&&n.length?{name:t,range:n}:null}var wc=Math.max,Fh=Math.min,m_=dn,mm=ee,v_=["itemStyle","borderWidth"],iI=["itemStyle","gapWidth"],rI=["upperLabel","show"],oI=["upperLabel","height"],aI={seriesType:"treemap",reset:function(e,t,n,i){var o=n.getWidth(),a=n.getHeight(),s=e.option,l=nr(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],c=An(m_(l.width,u[0]),o),d=An(m_(l.height,u[1]),a),h=i&&i.type,f=xc(i,["treemapZoomToNode","treemapRootToNode"],e),p="treemapRender"===h||"treemapMove"===h?i.rootRect:null,m=e.getViewRoot(),S=s_(m);if("treemapMove"!==h){var x="treemapZoomToNode"===h?function(ue,de,ge,Ce,Pe){var Fe,Ge=(de||{}).node,Qe=[Ce,Pe];if(!Ge||Ge===ge)return Qe;for(var et=Ce*Pe,ot=et*ue.option.zoomToNodeRatio;Fe=Ge.parentNode;){for(var ht=0,pt=Fe.children,ut=0,At=pt.length;ut<At;ut++)ht+=pt[ut].getValue();var Zt=Ge.getValue();if(0===Zt)return Qe;ot*=ht/Zt;var nn=Fe.getModel(),jt=nn.get(v_);ot+=4*jt*jt+(3*jt+Math.max(jt,x_(nn)))*Math.pow(ot,.5),xp<ot&&(ot=xp),Ge=Fe}ot<et&&(ot=et);var Cn=Math.pow(ot/et,.5);return[Ce*Cn,Pe*Cn]}(e,f,m,c,d):p?[p.width,p.height]:[c,d],V=s.sort;V&&"asc"!==V&&"desc"!==V&&(V="desc");var Q={squareRatio:s.squareRatio,sort:V,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var K={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};m.setLayout(K),function ue(de,ge,Ce,Pe){var Fe,Ge;if(!de.isRemoved()){var Qe=de.getLayout();Fe=Qe.width,Ge=Qe.height;var et=(Zt=de.getModel()).get(v_),ot=Zt.get(iI)/2,ht=x_(Zt),pt=Math.max(et,ht),ut=et-ot,At=pt-ot,Zt=de.getModel();de.setLayout({borderWidth:et,upperHeight:pt,upperLabelHeight:ht},!0);var nn=(Fe=wc(Fe-2*ut,0))*(Ge=wc(Ge-ut-At,0)),jt=function sI(e,t,n,i,o,a){var s=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=i.leafDepth&&i.leafDepth<=a;if(o&&!u)return e.viewChildren=[];!function(p,m){m&&p.sort(function(S,x){var V="asc"===m?S.getValue()-x.getValue():x.getValue()-S.getValue();return 0==V?"asc"===m?S.dataIndex-x.dataIndex:x.dataIndex-S.dataIndex:V})}(s=Be(s,function(p){return!p.isRemoved()}),l);var c=function(p,m,S){for(var x=0,V=0,Q=m.length;V<Q;V++)x+=m[V].getValue();var K=p.get("visualDimension");if(m&&m.length)if("value"===K&&S)ce=[m[m.length-1].getValue(),m[0].getValue()],"asc"===S&&ce.reverse();else{var ce=[1/0,-1/0];mm(m,function(ue){var de=ue.getValue(K);de<ce[0]&&(ce[0]=de),de>ce[1]&&(ce[1]=de)})}else ce=[NaN,NaN];return{sum:x,dataExtent:ce}}(t,s,l);if(0===c.sum)return e.viewChildren=[];if(c.sum=function(p,m,S,x,V){if(!x)return S;for(var Q=p.get("visibleMin"),K=V.length,ce=K,ue=K-1;0<=ue;ue--){var de=V["asc"===x?K-ue-1:ue].getValue();de/S*m<Q&&(ce=ue,S-=de)}return V.splice("asc"===x?0:ce,K-ce),S}(t,n,c.sum,l,s),0===c.sum)return e.viewChildren=[];for(var d=0,h=s.length;d<h;d++){var f=s[d].getValue()/c.sum*n;s[d].setLayout({area:f})}return u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:c.dataExtent},!0),s}(de,Zt,nn,ge,Ce,Pe);if(jt.length){var gn={x:ut,y:At,width:Fe,height:Ge},Cn=Fh(Fe,Ge),Vn=1/0,sn=[];sn.area=0;for(var Bn=0,Hn=jt.length;Bn<Hn;){var Xn=jt[Bn];sn.push(Xn),sn.area+=Xn.getLayout().area;var Ii=lI(sn,Cn,ge.squareRatio);Vn=Ii<=Vn?(Bn++,Ii):(sn.area-=sn.pop().getLayout().area,y_(sn,Cn,gn,ot,!1),Cn=Fh(gn.width,gn.height),sn.length=sn.area=0,1/0)}if(sn.length&&y_(sn,Cn,gn,ot,!0),!Ce){var xi=Zt.get("childrenVisibleMin");null!=xi&&nn<xi&&(Ce=!0)}for(Bn=0,Hn=jt.length;Bn<Hn;Bn++)ue(jt[Bn],ge,Ce,Pe+1)}}}(m,Q,!1,0),K=m.getLayout(),mm(S,function(ue,de){var ge=(S[de+1]||m).getValue();ue.setLayout(ne({dataExtent:[ge,ge],borderWidth:0,upperHeight:0},K))})}var ce=e.getData().tree.root;ce.setLayout(function(ue,de,ge){if(de)return{x:de.x,y:de.y};var Ce={x:0,y:0};if(!ge)return Ce;var Pe=ge.node,Fe=Pe.getLayout();if(!Fe)return Ce;for(var Ge=[Fe.width/2,Fe.height/2],Qe=Pe;Qe;){var et=Qe.getLayout();Ge[0]+=et.x,Ge[1]+=et.y,Qe=Qe.parentNode}return{x:ue.width/2-Ge[0],y:ue.height/2-Ge[1]}}(l,p,f),!0),e.setLayoutInfo(l),function ue(de,ge,Ce,Pe,Fe){var Ge=de.getLayout(),Qe=Ce[Fe],et=Qe&&Qe===de;if(!(Qe&&!et||Fe===Ce.length&&de!==Pe)){de.setLayout({isInView:!0,invisible:!et&&!ge.intersect(Ge),isAboveViewRoot:et},!0);var ot=new v(ge.x-Ge.x,ge.y-Ge.y,ge.width,ge.height);mm(de.viewChildren||[],function(ht){ue(ht,ot,Ce,Pe,Fe+1)})}}(ce,new v(-l.x,-l.y,o,a),S,m,0)}};function lI(e,t,n){for(var i,o=0,a=1/0,s=0,l=e.length;s<l;s++)(i=e[s].getLayout().area)&&(i<a&&(a=i),o<i&&(o=i));var u=e.area*e.area,c=t*t*n;return u?wc(c*o/u,u/(c*a)):1/0}function y_(e,t,n,i,o){var a=t===n.width?0:1,s=1-a,l=["x","y"],u=["width","height"],c=n[l[a]],d=t?e.area/t:0;(o||d>n[u[s]])&&(d=n[u[s]]);for(var h=0,f=e.length;h<f;h++){var p=e[h],m={},S=d?p.getLayout().area/d:0,x=m[u[s]]=wc(d-2*i,0),V=n[l[a]]+n[u[a]]-c,Q=h===f-1||V<S?V:S,K=m[u[a]]=wc(Q-2*i,0);m[l[s]]=n[l[s]]+Fh(i,x/2),m[l[a]]=c+Fh(i,K/2),c+=Q,p.setLayout(m,!0)}n[l[s]]+=d,n[u[s]]-=d}function x_(e){return e.get(rI)?e.get(oI):0}function Yl(e){return"_EC_"+e}function Cc(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}}zi(QA),Xi(aI);var lo=Cc.prototype;function Ro(e,t){this.id=e??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=t??-1}function Sc(e,t,n){this.node1=e,this.node2=t,this.dataIndex=n??-1}function b_(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){0<=this.dataIndex&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){0<=this.dataIndex&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function __(e,t,n,i,o){for(var a=new Cc(i),s=0;s<e.length;s++)a.addNode(dn(e[s].id,e[s].name,s),s);var l=[],u=[],c=0;for(s=0;s<t.length;s++){var d=t[s],h=d.source,f=d.target;a.addEdge(h,f,c)&&(u.push(d),l.push(dn(d.id,h+" > "+f)),c++)}var p,m=n.get("coordinateSystem");if("cartesian2d"===m||"polar"===m)p=_a(e,n);else{var S=Nr.get(m),x=S&&"view"!==S.type&&S.dimensions||[];De(x,"value")<0&&x.concat(["value"]);var V=Pl(e,{coordDimensions:x});(p=new hr(V,n)).initData(e)}var Q=new hr(["value"],n);return Q.initData(u,l),o&&o(p,Q),e_({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:Q},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}lo.type="graph",lo.isDirected=function(){return this._directed},lo.addNode=function(e,t){var n=this._nodesMap;if(!n[Yl(e=null==e?""+t:""+e)]){var i=new Ro(e,t);return(i.hostGraph=this).nodes.push(i),n[Yl(e)]=i}},lo.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},lo.getNodeById=function(e){return this._nodesMap[Yl(e)]},lo.addEdge=function(e,t,n){var i=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),Ro.isInstance(e)||(e=i[Yl(e)]),Ro.isInstance(t)||(t=i[Yl(t)]),e&&t){var a=e.id+"-"+t.id,s=new Sc(e,t,n);return(s.hostGraph=this)._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[a]=s}},lo.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},lo.getEdge=function(e,t){Ro.isInstance(e)&&(e=e.id),Ro.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},lo.eachNode=function(e,t){for(var n=this.nodes,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&e.call(t,n[o],o)},lo.eachEdge=function(e,t){for(var n=this.edges,i=n.length,o=0;o<i;o++)0<=n[o].dataIndex&&0<=n[o].node1.dataIndex&&0<=n[o].node2.dataIndex&&e.call(t,n[o],o)},lo.breadthFirstTraverse=function(e,t,n,i){if(Ro.isInstance(t)||(t=this._nodesMap[Yl(t)]),t){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var c=u[a],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(i,d,l))return;s.push(d),d.__visited=!0}}}}},lo.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)n[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return 0<=l.node1.dataIndex&&0<=l.node2.dataIndex}),o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o},lo.clone=function(){for(var e=new Cc(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},Ro.prototype={constructor:Ro,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},Sc.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},be(Ro,b_("hostGraph","data")),be(Sc,b_("hostGraph","edgeData")),Cc.Node=Ro,Cc.Edge=Sc,hd(Ro),hd(Sc);var Vh=function(e){return e.get("autoCurveness")||null},w_=function(e,t){var n=Vh(e),i=20,o=[];if("number"==typeof n)i=n;else if(it(n))return void(e.__curvenessList=n);i<t&&(i=t);var a=i%2?i+2:i+3;o=[];for(var s=0;s<a;s++)o.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=o},Mc=function(e,t,n){var i=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[n.uid,i,o].join("--\x3e")},C_=function(e){var t=e.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},uI=function(e,t){var n=Mc(e.node1,e.node2,t);return t.__edgeMap[n]},cI=function(e,t){return ym(Mc(e.node1,e.node2,t),t)+ym(Mc(e.node2,e.node1,t),t)},ym=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function xm(e,t,n,i){var o=Vh(t),a=it(o);if(!o)return null;var s=uI(e,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===n){l=u;break}var c=cI(e,t);w_(t,c),e.lineStyle=e.lineStyle||{};var d=Mc(e.node1,e.node2,t),h=t.__curvenessList,f=a||c%2?0:1;if(s.isForward)return h[f+l];var p=C_(d),m=ym(p,t),S=h[l+m+f];return i?a?o&&0===o[0]?(m+f)%2?S:-S:((m%2?0:1)+f)%2?S:-S:(m+f)%2?S:-S:h[l+m+f]}var Tc=uh({type:"series.graph",init:function(e){Tc.superApply(this,"init",arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new dc(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){Tc.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){Tc.superApply(this,"mergeDefaultAndTheme",arguments),xs(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var s,n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n){Vh(s=this)&&(s.__curvenessList=[],s.__edgeMap={},w_(s));var a=__(i,n,this,!0,function(s,l){s.wrapMethod("getItemModel",function(p){var m=o._categoriesModels[p.getShallow("category")];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var u=o.getModel("edgeLabel"),c=new vi({label:u.option},u.parentModel,t),d=o.getModel("emphasis.edgeLabel"),h=new vi({emphasis:{label:d.option}},d.parentModel,t);function f(p){return(p=this.parsePath(p))&&"label"===p[0]?c:p&&"emphasis"===p[0]&&"label"===p[1]?h:this.parentModel}l.wrapMethod("getItemModel",function(p){return p.customizeGetParent(f),p})});return ee(a.edges,function(s){!function(l,u,c,d){if(Vh(c)){var h=Mc(l,u,c),f=c.__edgeMap,p=f[C_(h)];f[h]&&!p?f[h].isForward=!0:p&&f[h]&&(p.isForward=!0,f[h].isForward=!1),f[h]=f[h]||[],f[h].push(d)}}(s.node1,s.node2,this,s.dataIndex)},this),a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"!==n)return Tc.superApply(this,"formatTooltip",arguments);var i=this.getData(),o=this.getDataParams(e,n),a=i.graph.getEdgeByIndex(e),s=i.getName(a.node1.dataIndex),l=i.getName(a.node2.dataIndex),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),u=Wi(u.join(" > ")),o.value&&(u+=" : "+Wi(o.value)),u},_updateCategoriesData:function(){var e=Me(this.option.categories||[],function(n){return null!=n.value?n:ne({value:0},n)}),t=new hr(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(n){return t.getItemModel(n,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return Tc.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),S_=_r.prototype,bm=Md.prototype;function _m(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var dI=yo({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[_m(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:S_.buildPath,_buildPathCurve:bm.buildPath,pointAt:function(e){return this[_m(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:S_.pointAt,_pointAtCurve:bm.pointAt,tangentAt:function(e){var t=this.shape,n=_m(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return En(n,n)},_tangentAtCurve:bm.tangentAt}),wm=["fromSymbol","toSymbol"];function M_(e){return"_"+e+"Type"}function T_(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var o=t.getItemVisual(n,"color"),a=t.getItemVisual(n,e+"Size"),s=t.getItemVisual(n,e+"Rotate");it(a)||(a=[a,a]);var l=ao(i,-a[0]/2,-a[1]/2,a[0],a[1],o);return l.__specifiedRotation=null==s||isNaN(s)?void 0:+s*Math.PI/180||0,l.name=e,l}}function Cm(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}function Ac(e,t,n){y.call(this),this._createLine(e,t,n)}var ts=Ac.prototype;function Hh(e){this._ctor=e||Ac,this.group=new y}ts.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),n=this.childOfName("label");if(e||t||!n.ignore){for(var i=1,o=this.parent;o;)o.scale&&(i/=o.scale[0]),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var h,s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=en([],u,l);if(En(c,c),e){if(e.attr("position",l),null==(h=e.__specifiedRotation)){var d=a.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0]))}else e.attr("rotation",h);e.attr("scale",[i*s,i*s])}if(t&&(t.attr("position",u),null==(h=t.__specifiedRotation)?(d=a.tangentAt(1),t.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0]))):t.attr("rotation",h),t.attr("scale",[i*s,i*s])),!n.ignore){var f,p,m,S;n.attr("position",u);var x=n.__labelDistance,V=x[0]*i,Q=x[1]*i,K=s/2,ce=[(d=a.tangentAt(K))[1],-d[0]],ue=a.pointAt(K);0<ce[1]&&(ce[0]=-ce[0],ce[1]=-ce[1]);var de,ge=d[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var Ce=-Math.atan2(d[1],d[0]);u[0]<l[0]&&(Ce=Math.PI+Ce),n.attr("rotation",Ce)}switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":de=-Q,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":de=Q,m="top";break;default:de=0,m="middle"}switch(n.__position){case"end":f=[c[0]*V+u[0],c[1]*Q+u[1]],p=.8<c[0]?"left":c[0]<-.8?"right":"center",m=.8<c[1]?"top":c[1]<-.8?"bottom":"middle";break;case"start":f=[-c[0]*V+l[0],-c[1]*Q+l[1]],p=.8<c[0]?"right":c[0]<-.8?"left":"center",m=.8<c[1]?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":f=[V*ge+l[0],l[1]+de],p=d[0]<0?"right":"left",S=[-V*ge,-de];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":f=[ue[0],ue[1]+de],p="center",S=[0,-de];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":f=[-V*ge+u[0],u[1]+de],p=0<=d[0]?"right":"left",S=[V*ge,-de]}n.attr({style:{textVerticalAlign:n.__verticalAlign||m,textAlign:n.__textAlign||p},position:f,scale:[i,i],origin:S})}}}},ts._createLine=function(e,t,n){var s,l,i=e.hostModel,o=(s=e.getItemLayout(t),Cm((l=new dI({name:"line",subPixelOptimize:!0})).shape,s),l);o.shape.percent=0,kr(o,{shape:{percent:1}},i,t),this.add(o);var a=new fi({name:"label",lineLabelOriginalOpacity:1});this.add(a),ee(wm,function(s){var l=T_(s,e,t);this.add(l),this[M_(s)]=e.getItemVisual(t,s)},this),this._updateCommonStl(e,t,n)},ts.updateData=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=e.getItemLayout(t),s={shape:{}};Cm(s.shape,a),si(o,s,i,t),ee(wm,function(l){var u=e.getItemVisual(t,l),c=M_(l);if(this[c]!==u){this.remove(this.childOfName(l));var d=T_(l,e,t);this.add(d)}this[c]=u},this),this._updateCommonStl(e,t,n)},ts._updateCommonStl=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var c=e.getItemModel(t);a=c.getModel("lineStyle").getLineStyle(),s=c.getModel("emphasis.lineStyle").getLineStyle(),l=c.getModel("label"),u=c.getModel("emphasis.label")}var d=e.getItemVisual(t,"color"),h=yn(e.getItemVisual(t,"opacity"),a.opacity,1);o.useStyle(pe({strokeNoScale:!0,fill:"none",stroke:d,opacity:h},a)),o.hoverStyle=s,ee(wm,function(de){var ge=this.childOfName(de);ge&&(ge.setColor(d),ge.setStyle({opacity:h}))},this);var f,p,m=l.getShallow("show"),S=u.getShallow("show"),x=this.childOfName("label");if((m||S)&&(f=d||"#000",null==(p=i.getFormattedLabel(t,"normal",e.dataType)))){var V=i.getRawValue(t);p=null==V?e.getName(t):isFinite(V)?sr(V):V}var Q=m?p:null,K=S?Pt(i.getFormattedLabel(t,"emphasis",e.dataType),p):null,ce=x.style;if(null!=Q||null!=K){qi(x.style,l,{text:Q},{autoColor:f}),x.__textAlign=ce.textAlign,x.__verticalAlign=ce.textVerticalAlign,x.__position=l.get("position")||"middle";var ue=l.get("distance");it(ue)||(ue=[ue,ue]),x.__labelDistance=ue}x.hoverStyle=null!=K?{text:K,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null},x.ignore=!m&&!S,Vi(this)},ts.highlight=function(){this.trigger("emphasis")},ts.downplay=function(){this.trigger("normal")},ts.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},ts.setLinePoints=function(e){var t=this.childOfName("line");Cm(t.shape,e),t.dirty()},he(Ac,y);var Ws=Hh.prototype;function A_(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function I_(e){return isNaN(e[0])||isNaN(e[1])}function Sm(e){return!I_(e[0])&&!I_(e[1])}function Ic(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scale,o=i&&i[0]||1;return((t.getZoom()-1)*n+1)/o}function kc(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}Ws.isPersistent=function(){return!0},Ws.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var o=A_(e);e.diff(i).add(function(a){!function(s,l,u,c){if(Sm(l.getItemLayout(u))){var d=new s._ctor(l,u,c);l.setItemGraphicEl(u,d),s.group.add(d)}}(t,e,a,o)}).update(function(a,s){!function(l,u,c,d,h,f){var p=u.getItemGraphicEl(d);if(!Sm(c.getItemLayout(h)))return l.group.remove(p);p?p.updateData(c,h,f):p=new l._ctor(c,h,f),c.setItemGraphicEl(h,p),l.group.add(p)}(t,i,e,s,a,o)}).remove(function(a){n.remove(i.getItemGraphicEl(a))}).execute()},Ws.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},Ws.incrementalPrepareUpdate=function(e){this._seriesScope=A_(e),this._lineData=null,this.group.removeAll()},Ws.incrementalUpdate=function(e,t){function n(a){var s;a.isGroup||(s=a).animators&&0<s.animators.length||(a.incremental=a.useHoverLayer=!0)}for(var i=e.start;i<e.end;i++)if(Sm(t.getItemLayout(i))){var o=new this._ctor(t,i,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(i,o)}},Ws.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ws._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Mm=[],Tm=[],Am=[],Xl=Ir,Im=Fi,k_=Math.abs;function D_(e,t,n){for(var i,o=e[0],a=e[1],s=e[2],l=1/0,u=n*n,c=.1,d=.1;d<=.9;d+=.1)Mm[0]=Xl(o[0],a[0],s[0],d),Mm[1]=Xl(o[1],a[1],s[1],d),(p=k_(Im(Mm,t)-u))<l&&(l=p,i=d);for(var h=0;h<32;h++){var f=i+c;Tm[0]=Xl(o[0],a[0],s[0],i),Tm[1]=Xl(o[1],a[1],s[1],i),Am[0]=Xl(o[0],a[0],s[0],f),Am[1]=Xl(o[1],a[1],s[1],f);var p=Im(Tm,t)-u;if(k_(p)<.01)break;var m=Im(Am,t)-u;c/=2,p<0?0<=m?i+=c:i-=c:0<=m?i-=c:i+=c}return i}function km(e,t){var n=[],i=ep,o=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(l,u){var c=l.getLayout(),d=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");c.__original||(c.__original=[Gn(c[0]),Gn(c[1])],c[2]&&c.__original.push(Gn(c[2])));var f=c.__original;if(null!=c[2]){if(Dn(o[0],f[0]),Dn(o[1],f[2]),Dn(o[2],f[1]),d&&"none"!==d){var p=kc(l.node1),m=D_(o,f[0],p*t);i(o[0][0],o[1][0],o[2][0],m,n),o[0][0]=n[3],o[1][0]=n[4],i(o[0][1],o[1][1],o[2][1],m,n),o[0][1]=n[3],o[1][1]=n[4]}h&&"none"!==h&&(p=kc(l.node2),m=D_(o,f[1],p*t),i(o[0][0],o[1][0],o[2][0],m,n),o[1][0]=n[1],o[2][0]=n[2],i(o[0][1],o[1][1],o[2][1],m,n),o[1][1]=n[1],o[2][1]=n[2]),Dn(c[0],o[0]),Dn(c[1],o[2]),Dn(c[2],o[1])}else Dn(a[0],f[0]),Dn(a[1],f[1]),en(s,a[1],a[0]),En(s,s),d&&"none"!==d&&(p=kc(l.node1),Ht(a[0],a[0],s,p*t)),h&&"none"!==h&&(p=kc(l.node2),Ht(a[1],a[1],s,-p*t)),Dn(c[0],a[0]),Dn(c[1],a[1])})}var Zl="__focusNodeAdjacency",$l="__unfocusNodeAdjacency",Gs=["itemStyle","opacity"],Wh=["lineStyle","opacity"];function N_(e,t){return e.getVisual("opacity")??e.getModel().get(t)}function Gh(e,t,n){var i=e.getGraphicEl(),o=N_(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){if(!a.isGroup){var s=a.lineLabelOriginalOpacity;null!=s&&null==n||(s=o),a.setStyle("opacity",s)}})}function Us(e,t){var n=N_(e,t),i=e.getGraphicEl();i.traverse(function(o){o.isGroup||o.setStyle("opacity",n)}),i.highlight&&i.highlight()}function Uh(e){return e instanceof Array||(e=[e,e]),e}function P_(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(i){var o=i.getModel();i.setLayout([+o.get("x"),+o.get("y")])}),L_(n,e)}}function L_(e,t){e.eachEdge(function(n,i){var o=yn(n.getModel().get("lineStyle.curveness"),-xm(n,t,i,!0),0),a=Gn(n.node1.getLayout()),s=Gn(n.node2.getLayout()),l=[a,s];+o&&l.push([(a[0]+s[0])/2-(a[1]-s[1])*o,(a[1]+s[1])/2-(s[0]-a[0])*o]),n.setLayout(l)})}Kr({type:"graph",init:function(e,t){var n=new Ol,i=new Hh,o=this.group;this._controller=new jl(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=this,o=e.coordinateSystem;this._model=e;var a=this._symbolDraw,s=this._lineDraw,l=this.group;if("view"===o.type){var u={position:o.position,scale:o.scale};this._firstRender?l.attr(u):si(l,u,e)}km(e.getGraph(),Ic(e));var c=e.getData();a.updateData(c);var d=e.getEdgeData();s.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,f=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,f),c.eachItemGraphicEl(function(x,V){var Q=c.getItemModel(V);x.off("drag").off("dragend");var K=Q.get("draggable");K&&x.on("drag",function(){h&&(h.warmUp(),this._layouting||this._startForceLayoutIteration(h,f),h.setFixed(V),c.setItemLayout(V,x.position))},this).on("dragend",function(){h&&h.setUnfixed(V)},this),x.setDraggable(K&&h),x[Zl]&&x.off("mouseover",x[Zl]),x[$l]&&x.off("mouseout",x[$l]),Q.get("focusNodeAdjacency")&&(x.on("mouseover",x[Zl]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:x.dataIndex})}),x.on("mouseout",x[$l]=function(){i._dispatchUnfocus(n)}))},this),c.graph.eachEdge(function(x){var V=x.getGraphicEl();V[Zl]&&V.off("mouseover",V[Zl]),V[$l]&&V.off("mouseout",V[$l]),x.getModel().get("focusNodeAdjacency")&&(V.on("mouseover",V[Zl]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:x.dataIndex})}),V.on("mouseout",V[$l]=function(){i._dispatchUnfocus(n)}))});var p="circular"===e.get("layout")&&e.get("circular.rotateLabel"),m=c.getLayout("cx"),S=c.getLayout("cy");c.eachItemGraphicEl(function(x,V){var Q=c.getItemModel(V).get("label.rotate")||0,K=x.getSymbolPath();if(p){var ce=c.getItemLayout(V),ue=Math.atan2(ce[1]-S,ce[0]-m);ue<0&&(ue=2*Math.PI+ue);var de=ce[0]<m;de&&(ue-=Math.PI);var ge=de?"left":"right";fp(K,{textRotation:-ue,textPosition:ge,textOrigin:"center"},{textPosition:ge})}else fp(K,{textRotation:Q*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,t){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){n._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var o=e.getData().graph,s=i.edgeDataIndex,l=o.getNodeByIndex(i.dataIndex),u=o.getEdgeByIndex(s);(l||u)&&(o.eachNode(function(c){Gh(c,Gs,.1)}),o.eachEdge(function(c){Gh(c,Wh,.1)}),l&&(Us(l,Gs),ee(l.edges,function(c){c.dataIndex<0||(Us(c,Wh),Us(c.node1,Gs),Us(c.node2,Gs))})),u&&(Us(u,Wh),Us(u.node1,Gs),Us(u.node2,Gs)))},unfocusNodeAdjacency:function(e,t,n,i){var o=e.getData().graph;o.eachNode(function(a){Gh(a,Gs)}),o.eachEdge(function(a){Gh(a,Wh)})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t,n){var i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker(function(s,l,u){var c=a.getBoundingRect();return c.applyTransform(a.transform),c.contain(l,u)&&!Dh(s,n,e)}),"view"===e.coordinateSystem.type?(i.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(s){Zg(o,s.dx,s.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:s.dx,dy:s.dy})}).on("zoom",function(s){$g(o,s.scale,s.originX,s.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:s.scale,originX:s.originX,originY:s.originY}),this._updateNodeAndLinkScale(),km(e.getGraph(),Ic(e)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=Ic(e),i=[n,n];t.eachItemGraphicEl(function(o,a){o.attr("scale",i)})},updateLayout:function(e){km(e.getGraph(),Ic(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),yi({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),yi({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),yi({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(n){var i=Jg(n.coordinateSystem,e);n.setCenter&&n.setCenter(i.center),n.setZoom&&n.setZoom(i.zoom)})});var R_=Math.PI,Dm=[];function E_(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),o=e.getData(),a=o.graph,s=i.width/2+i.x,l=i.height/2+i.y,u=Math.min(i.width,i.height)/2,c=o.count();o.setLayout({cx:s,cy:l}),c&&(hI[t](e,n,a,o,u,s,l,c),a.eachEdge(function(d,h){var f,p=yn(d.getModel().get("lineStyle.curveness"),xm(d,e,h),0),m=Gn(d.node1.getLayout()),S=Gn(d.node2.getLayout());+p&&(f=[s*(p*=3)+(m[0]+S[0])/2*(1-p),l*p+(m[1]+S[1])/2*(1-p)]),d.setLayout([m,S,f])}))}}var hI={value:function(e,t,n,i,o,a,s,l){var u=0,c=i.getSum("value"),d=2*Math.PI/(c||l);n.eachNode(function(h){var f=h.getValue("value"),p=d*(c?f:1)/2;u+=p,h.setLayout([o*Math.cos(u)+a,o*Math.sin(u)+s]),u+=p})},symbolSize:function(e,t,n,i,o,a,s,l){var u=0;Dm.length=l;var c=Ic(e);n.eachNode(function(f){var p=kc(f);isNaN(p)&&(p=2),p<0&&(p=0),p*=c;var m=Math.asin(p/2/o);isNaN(m)&&(m=R_/2),Dm[f.dataIndex]=m,u+=2*m});var d=(2*R_-u)/l/2,h=0;n.eachNode(function(f){var p=d+Dm[f.dataIndex];h+=p,f.setLayout([o*Math.cos(h)+a,o*Math.sin(h)+s]),h+=p})}},Kl=Ht;ro(function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getGraph().data,a=i.mapArray(i.getName);o.filterSelf(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"number"==typeof l&&(l=a[l]);for(var u=0;u<t.length;u++)if(!t[u].isSelected(l))return!1}return!0})},this)}),zi(Bs("graph","circle",null)),zi(function(e){var t={};e.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),o=n.getData(),a={};i.each(function(s){var l=i.getName(s);a["ec-"+l]=s;var u=i.getItemModel(s),c=u.get("itemStyle.color")||n.getColorFromPalette(l,t);i.setItemVisual(s,"color",c);for(var d=["opacity","symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++){var f=u.getShallow(d[h],!0);null!=f&&i.setItemVisual(s,d[h],f)}}),i.count()&&o.each(function(s){var l=o.getItemModel(s).getShallow("category");if(null!=l){"string"==typeof l&&(l=a["ec-"+l]);for(var u=["color","opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<u.length;c++)null==o.getItemVisual(s,u[c],!0)&&o.setItemVisual(s,u[c],i.getItemVisual(l,u[c]))}})})}),zi(function(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),o=Uh(t.get("edgeSymbol")),a=Uh(t.get("edgeSymbolSize")),s="lineStyle.color".split("."),l="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("color",t.get(s)),i.setVisual("opacity",t.get(l)),i.each(function(u){var c=i.getItemModel(u),d=n.getEdgeByIndex(u),h=Uh(c.getShallow("symbol",!0)),f=Uh(c.getShallow("symbolSize",!0)),p=c.get(s),m=c.get(l);switch(p){case"source":p=d.node1.getVisual("color");break;case"target":p=d.node2.getVisual("color")}h[0]&&d.setVisual("fromSymbol",h[0]),h[1]&&d.setVisual("toSymbol",h[1]),f[0]&&d.setVisual("fromSymbolSize",f[0]),f[1]&&d.setVisual("toSymbolSize",f[1]),d.setVisual("color",p),d.setVisual("opacity",m)})})}),Xi(function(e,t){e.eachSeriesByType("graph",function(n){var i=n.get("layout"),o=n.coordinateSystem;if(o&&"view"!==o.type){var a=n.getData(),s=[];ee(o.dimensions,function(f){s=s.concat(a.mapDimension(f,!0))});for(var l=0;l<a.count();l++){for(var u=[],c=!1,d=0;d<s.length;d++){var h=a.get(s[d],l);isNaN(h)||(c=!0),u.push(h)}a.setItemLayout(l,c?o.dataToPoint(u):[NaN,NaN])}L_(a.graph,n)}else i&&"none"!==i||P_(n)})}),Xi(Zo.VISUAL.POST_CHART_LAYOUT,function(e){e.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&E_(t,"symbolSize")})}),Xi(function(e){e.eachSeriesByType("graph",function(t){if(!(f=t.coordinateSystem)||"view"===f.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),o=i.data,a=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(Q){var K=o.getId(Q);o.setItemLayout(Q,n[K]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&E_(t,"value"):P_(t);var u=o.getDataExtent("value"),c=a.getDataExtent("value"),d=s.get("repulsion"),h=s.get("edgeLength");it(d)||(d=[d,d]),it(h)||(h=[h,h]),h=[h[1],h[0]];var f,p=o.mapArray("value",function(Q,K){var ce=o.getItemLayout(K),ue=Hi(Q,u,d);return isNaN(ue)&&(ue=(d[0]+d[1])/2),{w:ue,rep:ue,fixed:o.getItemModel(K).get("fixed"),p:!ce||isNaN(ce[0])||isNaN(ce[1])?null:ce}}),m=a.mapArray("value",function(Q,K){var ce=i.getEdgeByIndex(K),ue=Hi(Q,c,h);isNaN(ue)&&(ue=(h[0]+h[1])/2);var de=ce.getModel(),ge=yn(de.get("lineStyle.curveness"),-xm(ce,t,K,!0),0);return{n1:p[ce.node1.dataIndex],n2:p[ce.node2.dataIndex],d:ue,curveness:ge,ignoreForceLayout:de.get("ignoreForceLayout")}}),S=(f=t.coordinateSystem).getBoundingRect(),x=function(Q,K,ce){for(var ue=ce.rect,de=ue.width,ge=ue.height,Ce=[ue.x+de/2,ue.y+ge/2],Pe=null==ce.gravity?.1:ce.gravity,Fe=0;Fe<Q.length;Fe++){var Ge=Q[Fe];Ge.p||(Ge.p=_n(de*(Math.random()-.5)+Ce[0],ge*(Math.random()-.5)+Ce[1])),Ge.pp=Gn(Ge.p),Ge.edges=null}var Qe=null==ce.friction?.6:ce.friction,et=Qe;return{warmUp:function(){et=.8*Qe},setFixed:function(ot){Q[ot].fixed=!0},setUnfixed:function(ot){Q[ot].fixed=!1},step:function(ot){for(var ht=[],pt=Q.length,ut=0;ut<K.length;ut++){var At=K[ut];if(!At.ignoreForceLayout){var Zt=At.n1;en(ht,(Cn=At.n2).p,Zt.p);var nn=mn(ht)-At.d,jt=Cn.w/(Zt.w+Cn.w);isNaN(jt)&&(jt=0),En(ht,ht),Zt.fixed||Kl(Zt.p,Zt.p,ht,jt*nn*et),Cn.fixed||Kl(Cn.p,Cn.p,ht,-(1-jt)*nn*et)}}for(ut=0;ut<pt;ut++)(Bn=Q[ut]).fixed||(en(ht,Ce,Bn.p),Kl(Bn.p,Bn.p,ht,Pe*et));for(ut=0;ut<pt;ut++){Zt=Q[ut];for(var gn=ut+1;gn<pt;gn++){var Cn;en(ht,(Cn=Q[gn]).p,Zt.p),0===(nn=mn(ht))&&(di(ht,Math.random()-.5,Math.random()-.5),nn=1);var Vn=(Zt.rep+Cn.rep)/nn/nn;Zt.fixed||Kl(Zt.pp,Zt.pp,ht,Vn),Cn.fixed||Kl(Cn.pp,Cn.pp,ht,-Vn)}}var sn=[];for(ut=0;ut<pt;ut++){var Bn;(Bn=Q[ut]).fixed||(en(sn,Bn.p,Bn.pp),Kl(Bn.p,Bn.p,sn,et),Dn(Bn.pp,Bn.p))}et*=.992,ot&&ot(Q,K,et<.01)}}}(p,m,{rect:S,gravity:s.get("gravity"),friction:s.get("friction")}),V=x.step;x.step=function(Q){for(var K=0,ce=p.length;K<ce;K++)p[K].fixed&&Dn(p[K].p,i.getNodeByIndex(K).getLayout());V(function(ue,de,ge){for(var Ce=0,Pe=ue.length;Ce<Pe;Ce++)ue[Ce].fixed||i.getNodeByIndex(Ce).setLayout(ue[Ce].p),n[o.getId(Ce)]=ue[Ce].p;for(Ce=0,Pe=de.length;Ce<Pe;Ce++){var Fe=de[Ce],Ge=i.getEdgeByIndex(Ce),Qe=Fe.n1.p,et=Fe.n2.p,ot=Ge.getLayout();(ot=ot?ot.slice():[])[0]=ot[0]||[],ot[1]=ot[1]||[],Dn(ot[0],Qe),Dn(ot[1],et),+Fe.curveness&&(ot[2]=[(Qe[0]+et[0])/2-(Qe[1]-et[1])*Fe.curveness,(Qe[1]+et[1])/2-(et[0]-Qe[0])*Fe.curveness]),Ge.setLayout(ot)}Q&&Q(ge)})},t.forceLayout=x,t.preservedPoints=n,x.step()}else t.forceLayout=null})}),lg("graphView",{create:function(e,t){var n=[];return e.eachSeriesByType("graph",function(i){var x,V,Q,o=i.get("coordinateSystem");if(!o||"view"===o){var a=i.getData(),s=[],l=[];Mu(a.mapArray(function(S){var x=a.getItemModel(S);return[+x.get("x"),+x.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=(x=t,V=u,(Q=i.getBoxLayoutParams()).aspect=V,nr(Q,{width:x.getWidth(),height:x.getHeight()}));isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-s[0],h=l[1]-s[1],f=c.width,p=c.height,m=i.coordinateSystem=new es;m.zoomLimit=i.get("scaleLimit"),m.setBoundingRect(s[0],s[1],d,h),m.setViewRect(c.x,c.y,f,p),m.setCenter(i.get("center")),m.setZoom(i.get("zoom")),n.push(m)}}),n}}),Yi.extend({type:"series.gauge",getInitialData:function(e,t){return Wl(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var fI=mi.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,o=t.r,a=t.width,s=t.angle,l=t.x-n(s)*a*(o/3<=a?1:2),u=t.y-i(s)*a*(o/3<=a?1:2);s=t.angle-Math.PI/2,e.moveTo(l,u),e.lineTo(t.x+n(s)*a,t.y+i(s)*a),e.lineTo(t.x+n(t.angle)*o,t.y+i(t.angle)*o),e.lineTo(t.x-n(s)*a,t.y-i(s)*a),e.lineTo(l,u)}});function O_(e,t){return t&&("string"==typeof t?e=t.replace("{value}",e??""):"function"==typeof t&&(e=t(e))),e}var pI=2*Math.PI,B_=(mr.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),o=function(a,s){var l=a.get("center"),u=s.getWidth(),c=s.getHeight(),d=Math.min(u,c);return{cx:An(l[0],s.getWidth()),cy:An(l[1],s.getHeight()),r:An(a.get("radius"),d/2)}}(e,n);this._renderMain(e,t,n,i,o)},dispose:function(){},_renderMain:function(e,t,n,i,o){for(var a=this.group,s=e.getModel("axisLine"),l=s.getModel("lineStyle"),u=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,d=((S=-e.get("endAngle")/180*Math.PI)-c)%pI,h=c,f=l.get("width"),p=s.get("show"),m=0;p&&m<i.length;m++){var S,x=Math.min(Math.max(i[m][0],0),1),V=new Do({shape:{startAngle:h,endAngle:S=c+d*x,cx:o.cx,cy:o.cy,clockwise:u,r0:o.r-f,r:o.r},silent:!0});V.setStyle({fill:i[m][1]}),V.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add(V),h=S}function Q(ce){if(ce<=0)return i[0][1];for(var ue=0;ue<i.length;ue++)if(i[ue][0]>=ce&&(0===ue?0:i[ue-1][0])<ce)return i[ue][1];return i[ue-1][1]}if(!u){var K=c;c=S,S=K}this._renderTicks(e,t,n,Q,o,c,S,u),this._renderPointer(e,t,n,Q,o,c,S,u),this._renderTitle(e,t,n,Q,o),this._renderDetail(e,t,n,Q,o)},_renderTicks:function(e,t,n,i,o,a,s,l){for(var u=this.group,c=o.cx,d=o.cy,h=o.r,f=+e.get("min"),p=+e.get("max"),m=e.getModel("splitLine"),S=e.getModel("axisTick"),x=e.getModel("axisLabel"),V=e.get("splitNumber"),Q=S.get("splitNumber"),K=An(m.get("length"),h),ce=An(S.get("length"),h),ue=a,de=(s-a)/V,ge=de/Q,Ce=m.getModel("lineStyle").getLineStyle(),Pe=S.getModel("lineStyle").getLineStyle(),Fe=0;Fe<=V;Fe++){var Ge=Math.cos(ue),Qe=Math.sin(ue);if(m.get("show")){var et=new _r({shape:{x1:Ge*h+c,y1:Qe*h+d,x2:Ge*(h-K)+c,y2:Qe*(h-K)+d},style:Ce,silent:!0});"auto"===Ce.stroke&&et.setStyle({stroke:i(Fe/V)}),u.add(et)}if(x.get("show")){var ot=O_(sr(Fe/V*(p-f)+f),x.get("formatter")),ht=x.get("distance"),pt=i(Fe/V);u.add(new fi({style:qi({},x,{text:ot,x:Ge*(h-K-ht)+c,y:Qe*(h-K-ht)+d,textVerticalAlign:Qe<-.4?"top":.4<Qe?"bottom":"middle",textAlign:Ge<-.4?"left":.4<Ge?"right":"center"},{autoColor:pt}),silent:!0}))}if(S.get("show")&&Fe!==V){for(var ut=0;ut<=Q;ut++){Ge=Math.cos(ue),Qe=Math.sin(ue);var At=new _r({shape:{x1:Ge*h+c,y1:Qe*h+d,x2:Ge*(h-ce)+c,y2:Qe*(h-ce)+d},silent:!0,style:Pe});"auto"===Pe.stroke&&At.setStyle({stroke:i((Fe+ut/Q)/V)}),u.add(At),ue+=ge}ue-=ge}else ue+=de}},_renderPointer:function(e,t,n,i,o,a,s,l){var u=this.group,c=this._data;if(e.get("pointer.show")){var d=[+e.get("min"),+e.get("max")],h=[a,s],f=e.getData(),p=f.mapDimension("value");f.diff(c).add(function(m){var S=new fI({shape:{angle:a}});kr(S,{shape:{angle:Hi(f.get(p,m),d,h,!0)}},e),u.add(S),f.setItemGraphicEl(m,S)}).update(function(m,S){var x=c.getItemGraphicEl(S);si(x,{shape:{angle:Hi(f.get(p,m),d,h,!0)}},e),u.add(x),f.setItemGraphicEl(m,x)}).remove(function(m){var S=c.getItemGraphicEl(m);u.remove(S)}).execute(),f.eachItemGraphicEl(function(m,S){var x=f.getItemModel(S),V=x.getModel("pointer");m.setShape({x:o.cx,y:o.cy,width:An(V.get("width"),o.r),r:An(V.get("length"),o.r)}),m.useStyle(x.getModel("itemStyle").getItemStyle()),"auto"===m.style.fill&&m.setStyle("fill",i(Hi(f.get(p,S),d,[0,1],!0))),Vi(m,x.getModel("emphasis.itemStyle").getItemStyle())}),this._data=f}else c&&c.eachItemGraphicEl(function(m){u.remove(m)})},_renderTitle:function(e,t,n,i,o){var a=e.getData(),s=a.mapDimension("value"),l=e.getModel("title");if(l.get("show")){var u=l.get("offsetCenter"),c=o.cx+An(u[0],o.r),d=o.cy+An(u[1],o.r),h=+e.get("min"),f=+e.get("max"),p=i(Hi(e.getData().get(s,0),[h,f],[0,1],!0));this.group.add(new fi({silent:!0,style:qi({},l,{x:c,y:d,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,o){var a=e.getModel("detail"),s=+e.get("min"),l=+e.get("max");if(a.get("show")){var u=a.get("offsetCenter"),c=o.cx+An(u[0],o.r),d=o.cy+An(u[1],o.r),h=An(a.get("width"),o.r),f=An(a.get("height"),o.r),p=e.getData(),m=p.get(p.mapDimension("value"),0),S=i(Hi(m,[s,l],[0,1],!0));this.group.add(new fi({silent:!0,style:qi({},a,{x:c,y:d,text:O_(m,a.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(f)?null:f,textAlign:"center",textVerticalAlign:"middle"},{autoColor:S,forceRich:!0})}))}}}),uh({type:"series.funnel",init:function(e){B_.superApply(this,"init",arguments),this.legendVisualProvider=new dc(Ke(this.getData,this),Ke(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,t){return Wl(this,{coordDimensions:["value"],encodeDefaulter:gt(Pp,this)})},_defaultLabelLine:function(e){xs(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=B_.superCall(this,"getDataParams",e),i=t.mapDimension("value"),o=t.getSum(i);return n.percent=o?+(t.get(i,e)/o*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}));function Nm(e,t){y.call(this);var n=new Zr,i=new vo,o=new fi;this.add(n),this.add(i),this.add(o),this.highDownOnUpdate=function(a,s){"emphasis"===s?(i.ignore=i.hoverIgnore,o.ignore=o.hoverIgnore):(i.ignore=i.normalIgnore,o.ignore=o.normalIgnore)},this.updateData(e,t,!0)}var z_=Nm.prototype,gI=["itemStyle","opacity"];function jh(e,t,n,i,o){or.call(this,e,t,n),this.type=i||"value",this.axisIndex=o}function js(e,t,n,i,o,a){e=e||0;var s=n[1]-n[0];if(null!=o&&(o=Jl(o,[0,s])),null!=a&&(a=Math.max(a,o??0)),"all"===i){var l=Math.abs(t[1]-t[0]);o=a=Jl(l=Jl(l,[0,s]),[o,a]),i=0}t[0]=Jl(t[0],n),t[1]=Jl(t[1],n);var u=Pm(t,i);t[i]+=e;var c=o||0,d=n.slice();u.sign<0?d[0]+=c:d[1]-=c,t[i]=Jl(t[i],d);var h=Pm(t,i);return null!=o&&(h.sign!==u.sign||h.span<o)&&(t[1-i]=t[i]+u.sign*o),h=Pm(t,i),null!=a&&h.span>a&&(t[1-i]=t[i]+h.sign*a),t}function Pm(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:0<n?-1:n<0?1:t?-1:1}}function Jl(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}z_.updateData=function(e,t,n){var i=this.childAt(0),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t),l=e.getItemModel(t).get(gI);l=l??1,i.useStyle({}),n?(i.setShape({points:s.points}),i.setStyle({opacity:0}),kr(i,{style:{opacity:l}},o,t)):si(i,{style:{opacity:l},shape:{points:s.points}},o,t);var u=a.getModel("itemStyle"),c=e.getItemVisual(t,"color");i.setStyle(pe({lineJoin:"round",fill:c},u.getItemStyle(["opacity"]))),i.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),Vi(this)},z_._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");si(n,{shape:{points:s.linePoints||s.linePoints}},o,t),si(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=a.getModel("label"),c=a.getModel("emphasis.label"),d=a.getModel("labelLine"),h=a.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),no(i.style,i.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:l}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},he(Nm,y),mr.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),o=this._data,a=this.group;i.diff(o).add(function(s){var l=new Nm(i,s);i.setItemGraphicEl(s,l),a.add(l)}).update(function(s,l){var u=o.getItemGraphicEl(l);u.updateData(i,s),a.add(u),i.setItemGraphicEl(s,u)}).remove(function(s){var l=o.getItemGraphicEl(s);a.remove(l)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),zi(Th("funnel")),Xi(function(e,t,n){e.eachSeriesByType("funnel",function(i){var ht,o=i.getData(),a=o.mapDimension("value"),s=i.get("sort"),l=(ht=t,nr(i.getBoxLayoutParams(),{width:ht.getWidth(),height:ht.getHeight()})),u=function(ot,ht){for(var pt=ot.mapDimension("value"),ut=ot.mapArray(pt,function(gn){return gn}),At=[],Zt="ascending"===ht,nn=0,jt=ot.count();nn<jt;nn++)At[nn]=nn;return"function"==typeof ht?At.sort(ht):"none"!==ht&&At.sort(function(gn,Cn){return Zt?ut[gn]-ut[Cn]:ut[Cn]-ut[gn]}),At}(o,s),c=i.get("orient"),d=l.width,h=l.height,f=l.x,p=l.y,m="horizontal"===c?[An(i.get("minSize"),h),An(i.get("maxSize"),h)]:[An(i.get("minSize"),d),An(i.get("maxSize"),d)],S=o.getDataExtent(a),x=i.get("min"),V=i.get("max");function Q(ot,ht){if("horizontal"===c){var pt,ut=Hi(o.get(a,ot)||0,[x,V],m,!0);switch(K){case"top":pt=p;break;case"center":pt=p+(h-ut)/2;break;case"bottom":pt=p+(h-ut)}return[[ht,pt],[ht,pt+ut]]}var At,Zt=Hi(o.get(a,ot)||0,[x,V],m,!0);switch(K){case"left":At=f;break;case"center":At=f+(d-Zt)/2;break;case"right":At=f+d-Zt}return[[At,ht],[At+Zt,ht]]}null==x&&(x=Math.min(S[0],0)),null==V&&(V=S[1]);var ot,K=i.get("funnelAlign"),ce=i.get("gap"),ue=(("horizontal"===c?d:h)-ce*(o.count()-1))/o.count();"ascending"===s&&(ue=-ue,ce=-ce,"horizontal"===c?f+=d:p+=h,u=u.reverse());for(var de=0;de<u.length;de++){var ge=u[de],Ce=u[de+1],Pe=o.getItemModel(ge);if("horizontal"===c){var Fe=Pe.get("itemStyle.width");null==Fe?Fe=ue:(Fe=An(Fe,d),"ascending"===s&&(Fe=-Fe));var Ge=Q(ge,f),Qe=Q(Ce,f+Fe);f+=Fe+ce,o.setItemLayout(ge,{points:Ge.concat(Qe.slice().reverse())})}else{var et=Pe.get("itemStyle.height");null==et?et=ue:(et=An(et,h),"ascending"===s&&(et=-et)),Ge=Q(ge,"horizontal"===c?f:p),Qe=Q(Ce,"horizontal"===c?f+Fe:p+et),p+=et+ce,o.setItemLayout(ge,{points:Ge.concat(Qe.slice().reverse())})}}(ot=o).each(function(ht){var pt,ut,At,Zt,nn=ot.getItemModel(ht),jt=nn.getModel("label").get("position"),gn=nn.get("orient"),Cn=nn.getModel("labelLine"),Vn=ot.getItemLayout(ht),sn=Vn.points,Bn="inner"===jt||"inside"===jt||"center"===jt||"insideLeft"===jt||"insideRight"===jt;if(Bn)pt="insideLeft"===jt?(ut=(sn[0][0]+sn[3][0])/2+5,At=(sn[0][1]+sn[3][1])/2,"left"):"insideRight"===jt?(ut=(sn[1][0]+sn[2][0])/2-5,At=(sn[1][1]+sn[2][1])/2,"right"):(ut=(sn[0][0]+sn[1][0]+sn[2][0]+sn[3][0])/4,At=(sn[0][1]+sn[1][1]+sn[2][1]+sn[3][1])/4,"center"),Zt=[[ut,At],[ut,At]];else{var Hn,Xn,Ii,xi,Li=Cn.get("length");pt="left"===jt?(Xn=(sn[3][1]+sn[0][1])/2,ut=(Ii=(Hn=(sn[3][0]+sn[0][0])/2)-Li)-5,"right"):"right"===jt?(Xn=(sn[1][1]+sn[2][1])/2,ut=(Ii=(Hn=(sn[1][0]+sn[2][0])/2)+Li)+5,"left"):"top"===jt?(Hn=(sn[3][0]+sn[0][0])/2,At=(xi=(Xn=(sn[3][1]+sn[0][1])/2)-Li)-5,"center"):"bottom"===jt?(Hn=(sn[1][0]+sn[2][0])/2,At=(xi=(Xn=(sn[1][1]+sn[2][1])/2)+Li)+5,"center"):"rightTop"===jt?(Hn="horizontal"===gn?sn[3][0]:sn[1][0],Xn="horizontal"===gn?sn[3][1]:sn[1][1],"horizontal"===gn?(At=(xi=Xn-Li)-5,"center"):(ut=(Ii=Hn+Li)+5,"top")):"rightBottom"===jt?(Hn=sn[2][0],Xn=sn[2][1],"horizontal"===gn?(At=(xi=Xn+Li)+5,"center"):(ut=(Ii=Hn+Li)+5,"bottom")):"leftTop"===jt?(Hn=sn[0][0],Xn="horizontal"===gn?sn[0][1]:sn[1][1],"horizontal"===gn?(At=(xi=Xn-Li)-5,"center"):(ut=(Ii=Hn-Li)-5,"right")):"leftBottom"===jt?(Hn="horizontal"===gn?sn[1][0]:sn[3][0],Xn="horizontal"===gn?sn[1][1]:sn[2][1],"horizontal"===gn?(At=(xi=Xn+Li)+5,"center"):(ut=(Ii=Hn-Li)-5,"right")):(Hn=(sn[1][0]+sn[2][0])/2,Xn=(sn[1][1]+sn[2][1])/2,"horizontal"===gn?(At=(xi=Xn+Li)+5,"center"):(ut=(Ii=Hn+Li)+5,"left")),"horizontal"===gn?ut=Ii=Hn:At=xi=Xn,Zt=[[Hn,Xn],[Ii,xi]]}Vn.label={linePoints:Zt,x:ut,y:At,verticalAlign:"middle",textAlign:pt,inside:Bn}})})}),ro(hc("funnel")),jh.prototype={constructor:jh,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},he(jh,or);var Lm=ee,F_=Math.min,V_=Math.max,H_=Math.floor,mI=Math.ceil,W_=sr,vI=Math.PI;function Rm(e,t,n){this._axesMap=zt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}function qh(e,t){return F_(V_(e,t[0]),t[1])}Rm.prototype={type:"parallel",constructor:Rm,_init:function(e,t,n){var o=e.parallelAxisIndex;Lm(e.dimensions,function(a,s){var l=o[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(a,new jh(a,El(u),[0,0],u.get("type"),l));c.onBand="category"===c.type&&u.get("boundaryGap"),c.inverse=u.get("inverse"),(u.axis=c).model=u,c.coordinateSystem=u.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,o=t.pixelDimIndex,a=e[1-o],s=e[o];return n<=a&&a<=n+t.axisLength&&i<=s&&s<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();Lm(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),Xa(a.scale,a.model)},this)}},this)},resize:function(e,t){this._rect=nr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],o=["width","height"],a=t.get("layout"),s="horizontal"===a?0:1,l=n[o[s]],u=[0,l],c=this.dimensions.length,d=qh(t.get("axisExpandWidth"),u),h=qh(t.get("axisExpandCount")||0,[0,c]),f=t.get("axisExpandable")&&3<c&&h<c&&1<h&&0<d&&0<l,p=t.get("axisExpandWindow");p?(e=qh(p[1]-p[0],u),p[1]=p[0]+e):(e=qh(d*(h-1),u),(p=[d*(t.get("axisExpandCenter")||H_(c/2))-e/2])[1]=p[0]+e);var m=(l-e)/(c-h);m<3&&(m=0);var S=[H_(W_(p[0]/d,1))+1,mI(W_(p[1]/d,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:n[i[s]],layoutLength:l,axisBase:n[i[1-s]],axisLength:n[o[1-s]],axisExpandable:f,axisExpandWidth:d,axisCollapseWidth:m,axisExpandWindow:p,axisCount:c,winInnerIndices:S,axisExpandWindow0Pos:m/d*p[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;t.each(function(a){var s=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),Lm(n,function(a,s){var l=(i.axisExpandable?function(p,m){var S,x,Q=m.axisExpandWidth,ce=m.axisCollapseWidth,ue=m.winInnerIndices,de=ce,ge=!1;return p<ue[0]?(S=p*ce,x=ce):p<=ue[1]?(S=m.axisExpandWindow0Pos+p*Q-m.axisExpandWindow[0],de=Q,ge=!0):(S=m.layoutLength-(m.axisCount-1-p)*ce,x=ce),{position:S,axisNameAvailableWidth:de,axisLabelShow:ge,nameTruncateMaxWidth:x}}:function(p,m){var S=m.layoutLength/(m.axisCount-1);return{position:S*p,axisNameAvailableWidth:S,axisLabelShow:!0}})(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},d=[u[o].x+e.x,u[o].y+e.y],h={horizontal:vI/2,vertical:0}[o],f=yr();Ao(f,f,h),Mr(f,f,d),this._axesLayout[a]={position:d,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];ee(a,function(m){s.push(e.mapDimension(m)),l.push(o.get(m).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var d;if(u){d="active";for(var h=e.getValues(s,c),f=0,p=a.length;f<p;f++)if("inactive"===l[f].getActiveState(h[f])){d="inactive";break}}else d="normal";t(d,c)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,o=e.length;i<o;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){return Yo([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return Y(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s,l=e[n]-t.layoutBase-t.axisExpandWindow0Pos,u="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=null!=d[0];return c?(h&&c&&l<o*d[0]?(u="jump",s=l-o*d[2]):h&&c&&l>o*(1-d[0])?(u="jump",s=l-o*(1-d[2])):0<=(s=l-o*d[1])&&(s=l-o*(1-d[1]))<=0&&(s=0),(s*=t.axisExpandWidth/c)?js(s,i,a,"all"):u="none"):((i=[V_(0,a[1]*l/(o=i[1]-i[0])-o/2)])[1]=F_(a[1],i[0]+o),i[0]=i[1]-o),{axisExpandWindow:i,behavior:u}}},Nr.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",function(i,o){var a=new Rm(i,e,t);a.name="parallel_"+o,a.resize(i,t),(i.coordinateSystem=a).model=i,n.push(a)}),e.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"parallel",index:i.get("parallelIndex"),id:i.get("parallelId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var G_=Mi.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return xl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=Y(e);if(t)for(var n=t.length-1;0<=n;n--)As(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,o=t.length;i<o;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"}});ae(G_.prototype,Es),zl("parallel",G_,function(e,t){return t.type||(t.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Mi.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Mi.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&ae(this.option,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){ee(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];ee(Be(this.dependentModels.parallelAxis,function(n){return(n.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})}}),yi({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),yi("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})});var ns=gt,ta=ee,yI=Me,Dc=Math.min,Ql=Math.max,xI=Math.pow,bI=1e4,_I=6,wI=6,U_="globalPan",CI={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},SI={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},j_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},MI=0;function eu(e){Bi.call(this),this._zr=e,this.group=new y,this._track=[],this._covers=[],this._uid="brushController_"+MI++,this._handlers={},ta(AI,function(t,n){this._handlers[n]=Ke(t,this)},this)}function q_(e,t){var n=Yh[t.brushType].createCover(e,t);return n.__brushOption=t,Z_(n,t),e.group.add(n),n}function Y_(e,t){var n=Om(t);return n.endCreating&&(n.endCreating(e,t),Z_(t,t.__brushOption)),t}function X_(e,t){var n=t.__brushOption;Om(t).updateCoverShape(e,t,n.range,n)}function Z_(e,t){var n=t.z;null==n&&(n=bI),e.traverse(function(i){i.z=n,i.z2=n})}function Em(e,t){Om(t).updateCommon(e,t),X_(e,t)}function Om(e){return Yh[e.__brushOption.brushType]}function Bm(e,t,n){var i,o=e._panels;if(!o)return!0;var a=e._transform;return ta(o,function(s){s.isTargetByCursor(t,n,a)&&(i=s)}),i}function $_(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function zm(e){var t=e._covers,n=t.length;return ta(t,function(i){e.group.remove(i)},e),t.length=0,!!n}function qs(e,t){var n=yI(e._covers,function(i){var o=i.__brushOption,a=Y(o.range);return{brushType:o.brushType,panelId:o.panelId,range:a}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function K_(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function J_(e,t,n,i){var o=new y;return o.add(new Si({name:"main",style:Vm(n),silent:!0,draggable:!0,cursor:"move",drift:ns(e,t,o,"nswe"),ondragend:ns(qs,t,{isEnd:!0})})),ta(i,function(a){o.add(new Si({name:a,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ns(e,t,o,a),ondragend:ns(qs,t,{isEnd:!0})}))}),o}function Q_(e,t,n,i){var o=i.brushStyle.lineWidth||0,a=Ql(o,wI),s=n[0][0],l=n[1][0],u=s-o/2,c=l-o/2,d=n[0][1],h=n[1][1],f=d-a+o/2,p=h-a+o/2,m=d-s,S=h-l,x=m+o,V=S+o;Ca(e,t,"main",s,l,m,S),i.transformable&&(Ca(e,t,"w",u,c,a,V),Ca(e,t,"e",f,c,a,V),Ca(e,t,"n",u,c,x,a),Ca(e,t,"s",u,p,x,a),Ca(e,t,"nw",u,c,a,a),Ca(e,t,"ne",f,c,a,a),Ca(e,t,"sw",u,p,a,a),Ca(e,t,"se",f,p,a,a))}function Fm(e,t){var n=t.__brushOption,i=n.transformable,o=t.childAt(0);o.useStyle(Vm(n)),o.attr({silent:!i,cursor:i?"move":"default"}),ta(["w","e","n","s","se","sw","ne","nw"],function(a){var s=t.childOfName(a),l=function u(c,d){return 1<d.length?("e"!==(p=[u(c,(d=d.split(""))[0]),u(c,d[1])])[0]&&"w"!==p[0]||p.reverse(),p.join("")):{left:"w",right:"e",top:"n",bottom:"s"}[p=gp({w:"left",e:"right",n:"top",s:"bottom"}[d],Ts(c.group))];var p}(e,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?SI[l]+"-resize":null})})}function Ca(e,t,n,i,o,a,s){var u,c,d,l=t.childOfName(n);l&&l.setShape((u=Hm(e,t,[[i,o],[i+a,o+s]]),{x:c=Dc(u[0][0],u[1][0]),y:d=Dc(u[0][1],u[1][1]),width:Ql(u[0][0],u[1][0])-c,height:Ql(u[0][1],u[1][1])-d}))}function Vm(e){return pe({strokeNoScale:!0},e.brushStyle)}function ew(e,t,n,i){var o=[Dc(e,n),Dc(t,i)],a=[Ql(e,n),Ql(t,i)];return[[o[0],a[0]],[o[1],a[1]]]}function tw(e,t,n,i,o,a,s,l){var u=i.__brushOption,c=e(u.range),d=nw(n,a,s);ta(o.split(""),function(h){var f=CI[h];c[f[0]][f[1]]+=d[f[0]]}),u.range=t(ew(c[0][0],c[1][0],c[0][1],c[1][1])),Em(n,i),qs(n,{isEnd:!1})}function TI(e,t,n,i,o){var a=t.__brushOption.range,s=nw(e,n,i);ta(a,function(l){l[0]+=s[0],l[1]+=s[1]}),Em(e,t),qs(e,{isEnd:!1})}function nw(e,t,n){var i=e.group,o=i.transformCoordToLocal(t,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function Hm(e,t,n){var i=$_(e,t);return i&&!0!==i?i.clipPath(n,e._transform):Y(n)}function Wm(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Gm(e,t,n){return e.childOfName("main").contain(t,n)}function iw(e,t,n,i){var o,a=e._creatingCover,s=e._creatingPanel,l=e._brushOption;if(e._track.push(n.slice()),function(d){var h=d._track;if(!h.length)return!1;var f=h[h.length-1],p=h[0],m=f[0]-p[0],S=f[1]-p[1],x=xI(m*m+S*S,.5);return _I<x}(e)||a){if(s&&!a){"single"===l.brushMode&&zm(e);var u=Y(l);u.brushType=rw(u.brushType,s),u.panelId=!0===s?null:s.panelId,a=e._creatingCover=q_(e,u),e._covers.push(a)}if(a){var c=Yh[rw(e._brushType,s)];a.__brushOption.range=c.getCreatingRange(Hm(e,a,e._track)),i&&(Y_(e,a),c.updateCommon(e,a)),X_(e,a),o={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&Bm(e,t,n)&&zm(e)&&(o={isEnd:i,removeOnClick:!0});return o}function rw(e,t){return"auto"===e?t.defaultBrushType:e}eu.prototype={constructor:eu,enableBrush:function(e){return this._brushType&&function(t){var n=t._zr;(function(i,o,a){var s=Yg(i);s[o]===a&&(s[o]=null)})(n,U_,t._uid),function(i,o){ta(o,function(a,s){i.off(s,a)})}(n,t._handlers),t._brushType=t._brushOption=null}(this),e.brushType&&function(t,n){var i=t._zr;t._enableGlobalPan||function(o,a,s){Yg(o)[a]=s}(i,U_,t._uid),function(o,a){ta(a,function(s,l){o.on(l,s)})}(i,t._handlers),t._brushType=n.brushType,t._brushOption=ae(Y(j_),n,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};ee(e,function(n){t[n.panelId]=Y(n)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){ta(this._covers,e,t)},updateCovers:function(e){e=Me(e,function(u){return ae(Y(j_),u,!0)});var t="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,a=this._creatingCover;return new xa(n,e,function(u,c){return s(u.__brushOption,c)},s).add(l).update(l).remove(function(u){n[u]!==a&&o.group.remove(n[u])}).execute(),this;function s(u,c){return(null!=u.id?u.id:t+c)+"-"+u.brushType}function l(u,c){var d=e[u];if(null!=c&&n[c]===a)i[u]=n[c];else{var h=i[u]=null!=c?(n[c].__brushOption=d,n[c]):Y_(o,q_(o,d));Em(o,h)}}},unmount:function(){return this.enableBrush(!1),zm(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},be(eu,Bi);var AI={mousedown:function(e){if(this._dragging)ow(this,e);else if(!e.target||!e.target.draggable){Wm(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Bm(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var i=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(a,s,l){if(a._brushType&&(x=a._zr,!((m=s)<0||m>x.getWidth()||undefined>x.getHeight()))){var u=a._zr,c=a._covers,d=Bm(a,s,l);if(!a._dragging)for(var h=0;h<c.length;h++){var f=c[h].__brushOption;if(d&&(!0===d||f.panelId===d.panelId)&&Yh[f.brushType].contain(c[h],l[0],l[1]))return}d&&u.setCursorStyle("crosshair")}var m,x}(this,e,i),this._dragging){Wm(e);var o=iw(this,e,i,!1);o&&qs(this,o)}},mouseup:function(e){ow(this,e)}};function ow(e,t){if(e._dragging){Wm(t);var o=e.group.transformCoordToLocal(t.offsetX,t.offsetY),a=iw(e,t,o,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&qs(e,a)}}var Yh={lineX:aw(0),lineY:aw(1),rect:{createCover:function(e,t){return J_(ns(tw,function(n){return n},function(n){return n}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=K_(e);return ew(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){Q_(e,t,n,i)},updateCommon:Fm,contain:Gm},polygon:{createCover:function(e,t){var n=new y;return n.add(new vo({name:"main",style:Vm(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Zr({name:"main",draggable:!0,drift:ns(TI,e,t),ondragend:ns(qs,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:Hm(e,t,n)})},updateCommon:Fm,contain:Gm}};function aw(e){return{createCover:function(t,n){return J_(ns(tw,function(i){var o=[i,[0,100]];return e&&o.reverse(),o},function(i){return i[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=K_(t);return[Dc(n[0][e],n[1][e]),Ql(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,o){var a,s=$_(t,n);if(!0!==s&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(e,t._transform);else{var l=t._zr;a=[0,[l.getWidth(),l.getHeight()][1-e]]}var u=[i,a];e&&u.reverse(),Q_(t,n,u,o)},updateCommon:Fm,contain:Gm}}function sw(e){return e=Um(e),function(t,n){return Ay(t,e)}}function lw(e,t){return e=Um(e),function(n){var i=t??n,a=i?e.x:e.y;return[a,a+((i?e.width:e.height)||0)]}}function uw(e,t,n){return e=Um(e),function(i,o,a){return e.contain(o[0],o[1])&&!Dh(i,t,n)}}function Um(e){return v.create(e)}var II=["axisLine","axisTickLabel","axisName"],kI=dr({type:"parallelAxis",init:function(e,t){kI.superApply(this,"init",arguments),(this._brushController=new eu(t.getZr())).on("brush",Ke(this._onBrush,this))},render:function(e,t,n,i){if(p=e,!(S=i)||"axisAreaSelect"!==S.type||t.findComponents({mainType:"parallelAxis",query:S})[0]!==p){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new y,this.group.add(this._axisGroup),e.get("show")){var a=function(p,m){return m.getComponent("parallel",p.get("parallelIndex"))}(e,t),s=a.coordinateSystem,l=e.getAreaSelectStyle(),u=l.width,d=ne({strokeContainThreshold:u},s.getAxisLayout(e.axis.dim)),h=new Jr(e,d);ee(II,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(d,l,e,a,u,n),Ed(o,this._axisGroup,i&&!1===i.animation?null:e)}}var p,S},_refreshBrushController:function(e,t,n,i,o,a){var d,h,s=n.axis.getExtent(),l=s[1]-s[0],u=Math.min(30,.1*Math.abs(l)),c=v.create({x:s[0],y:-o/2,width:l,height:o});c.x-=u,c.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:sw(c),isTargetByCursor:uw(c,a,i),getLinearBrushOtherExtent:lw(c,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers((h=(d=n).axis,Me(d.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[h.dataToCoord(f[0],!0),h.dataToCoord(f[1],!0)]}})))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,o=Me(e,function(a){return[i.coordToData(a.range[0],!0),i.coordToData(a.range[1],!0)]});!n.option.realtime!==t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});dr({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},ee(DI,function(i,o){n.getZr().on(o,this._handlers[o]=Ke(i,this))},this)),qu(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){ee(this._handlers,function(n,i){t.getZr().off(i,n)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(ne({type:"parallelAxisExpand"},e))}});var DI={mousedown:function(e){jm(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(jm(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(5<Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&jm(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};function jm(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}function cw(e,t,n,i){for(var o,a=[],s=0;s<n.length;s++){var l=n[s],u=e.get(e.mapDimension(l),t);o=u,("category"===i.getAxis(l).type?null==o:null==o||isNaN(o))||a.push(i.dataToPoint(u,l))}return a}function dw(e,t,n,i,o){var a=cw(e,n,i,o),s=new vo({shape:{points:a},silent:!0,z2:10});return t.add(s),e.setItemGraphicEl(n,s),s}function hw(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:t??.3}}function qm(e,t,n,i){var o=i.lineStyle;t.hasItemOption&&(o=t.getItemModel(n).getModel("lineStyle").getLineStyle()),e.useStyle(o);var a=e.style;a.fill=null,a.stroke=t.getItemVisual(n,"color"),a.opacity=t.getItemVisual(n,"opacity"),i.smooth&&(e.shape.smooth=i.smooth)}Cr(function(e){(function(t){if(!t.parallel){var n=!1;ee(t.series,function(i){i&&"parallel"===i.type&&(n=!0)}),n&&(t.parallel=[{}])}})(e),function(t){ee(br(t.parallelAxis),function(n){if(xt(n)){var i=n.parallelIndex||0,o=br(t.parallel)[i];o&&o.parallelAxisDefault&&ae(n,o.parallelAxisDefault,!1)}})}(e)}),Yi.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){var n=this.getSource();return function(i,o){if(!i.encodeDefine){var a=o.ecModel.getComponent("parallel",o.get("parallelIndex"));if(a){var s=i.encodeDefine=zt();ee(a.dimensions,function(l){var u=+l.replace("dim","");s.set(l,u)})}}}(n,this),_a(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(o,a){e===o&&i.push(n.getRawIndex(a))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}}),mr.extend({type:"parallel",init:function(){this._dataGroup=new y,this.group.add(this._dataGroup)},render:function(e,t,n,i){var h,f,m,S,x,V,o=this._dataGroup,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.dimensions,c=hw(e);if(a.diff(s).add(function(h){qm(dw(a,o,h,u,l),a,h,c)}).update(function(h,f){var p=s.getItemGraphicEl(f),m=cw(a,h,u,l);a.setItemGraphicEl(h,p),si(p,{shape:{points:m}},i&&!1===i.animation?null:e,h),qm(p,a,h,c)}).remove(function(h){var f=s.getItemGraphicEl(h);o.remove(f)}).execute(),!this._initialized){this._initialized=!0;var d=(f=e,m=(h=l).model,S=h.getRect(),x=new Si({shape:{x:S.x,y:S.y,width:S.width,height:S.height}}),V="horizontal"===m.get("layout")?"width":"height",x.setShape(V,0),kr(x,{shape:{width:S.width,height:S.height}},f,function(){setTimeout(function(){o.removeClipPath()})}),x);o.setClipPath(d)}this._data=a},incrementalPrepareRender:function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,n){for(var i=t.getData(),o=t.coordinateSystem,a=o.dimensions,s=hw(t),l=e.start;l<e.end;l++){var u=dw(i,this._dataGroup,l,a,o);u.incremental=!0,qm(u,i,l,s)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var NI=["lineStyle","normal","opacity"];zi({seriesType:"parallel",reset:function(e,t,n){var i=e.getModel("itemStyle"),o=e.getModel("lineStyle"),a=t.get("color"),s=o.get("color")||i.get("color")||a[e.seriesIndex%a.length],l=e.get("inactiveOpacity"),u=e.get("activeOpacity"),c=e.getModel("lineStyle").getLineStyle(),d=e.coordinateSystem,h=e.getData(),f={normal:c.opacity,active:u,inactive:l};return h.setVisual("color",s),{progress:function(p,m){d.eachActiveState(m,function(S,x){var V=f[S];if("normal"===S&&m.hasItemOption){var Q=m.getItemModel(x).get(NI,!0);null!=Q&&(V=Q)}m.setItemVisual(x,"opacity",V)},p.start,p.end)}}}});var fw=Yi.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var n=e.edges||e.links,i=e.data||e.nodes,o=e.levels,a=this.levelModels={},s=0;s<o.length;s++)null!=o[s].depth&&0<=o[s].depth&&(a[o[s].depth]=new vi(o[s],this,t));if(i&&n)return __(i,n,this,!0,function(l,u){l.wrapMethod("getItemModel",function(c,d){return c.customizeGetParent(function(h){var f=this.parentModel,p=f.getData().getItemLayout(d).depth;return f.levelModels[p]||this.parentModel}),c}),u.wrapMethod("getItemModel",function(c,d){return c.customizeGetParent(function(h){var f=this.parentModel,p=f.getGraph().getEdgeByIndex(d).node1.getLayout().depth;return f.levelModels[p]||this.parentModel}),c})}).data},setNodePosition:function(e,t){var n=this.option.data[e];n.localX=t[0],n.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n),o=i.data,a=o.source+" -- "+o.target;return i.value&&(a+=" : "+i.value),Wi(a)}if("node"!==n)return fw.superCall(this,"formatTooltip",e,t);var s=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return s&&(a=l+" : "+s),Wi(a)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,t){var n=fw.superCall(this,"getDataParams",e,t);if(null==n.value&&"node"===t){var i=this.getGraph().getNodeByIndex(e).getLayout().value;n.value=i}return n},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),pw=["itemStyle","opacity"],Ys=["emphasis","itemStyle","opacity"],gw=["lineStyle","opacity"],Xh=["emphasis","lineStyle","opacity"];function mw(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function Zh(e,t,n){var i=e.getGraphicEl(),o=mw(e,t);null!=n&&(null==o&&(o=1),o*=n),i.downplay&&i.downplay(),i.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",o)})}function Eo(e,t){var n=mw(e,t),i=e.getGraphicEl();i.traverse(function(o){"group"!==o.type&&o.setStyle("opacity",n)}),i.highlight&&i.highlight()}var PI=yo({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});function vw(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&0<=t.depth}function Ym(e,t,n,i,o){var a="vertical"===o?"x":"y";ee(e,function(s){var l,u,c;s.sort(function(m,S){return m.getLayout()[a]-S.getLayout()[a]});for(var d=0,h=s.length,f="vertical"===o?"dx":"dy",p=0;p<h;p++)0<(c=d-(u=s[p]).getLayout()[a])&&(l=u.getLayout()[a]+c,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=u.getLayout()[a]+u.getLayout()[f]+t;if(0<(c=d-t-("vertical"===o?i:n)))for(l=u.getLayout()[a]-c,u.setLayout("vertical"===o?{x:l}:{y:l},!0),d=l,p=h-2;0<=p;--p)0<(c=(u=s[p]).getLayout()[a]+u.getLayout()[f]+t-d)&&(l=u.getLayout()[a]-c,u.setLayout("vertical"===o?{x:l}:{y:l},!0)),d=u.getLayout()[a]})}function LI(e,t,n){ee(e.slice().reverse(),function(i){ee(i,function(o){if(o.outEdges.length){var a=rs(o.outEdges,RI,n)/rs(o.outEdges,$h,n);if(isNaN(a)){var s=o.outEdges.length;a=s?rs(o.outEdges,EI,n)/s:0}if("vertical"===n){var l=o.getLayout().x+(a-is(o,n))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(a-is(o,n))*t;o.setLayout({y:u},!0)}}})})}function RI(e,t){return is(e.node2,t)*e.getValue()}function EI(e,t){return is(e.node2,t)}function OI(e,t){return is(e.node1,t)*e.getValue()}function BI(e,t){return is(e.node1,t)}function is(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function $h(e){return e.getValue()}function rs(e,t,n){for(var i=0,o=e.length,a=-1;++a<o;){var s=+t.call(e,e[a],n);isNaN(s)||(i+=s)}return i}function zI(e,t,n){ee(e,function(i){ee(i,function(o){if(o.inEdges.length){var a=rs(o.inEdges,OI,n)/rs(o.inEdges,$h,n);if(isNaN(a)){var s=o.inEdges.length;a=s?rs(o.inEdges,BI,n)/s:0}if("vertical"===n){var l=o.getLayout().x+(a-is(o,n))*t;o.setLayout({x:l},!0)}else{var u=o.getLayout().y+(a-is(o,n))*t;o.setLayout({y:u},!0)}}})})}Kr({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,n){var f,p,S,i=this,o=e.getGraph(),a=this.group,s=e.layoutInfo,l=s.width,u=s.height,c=e.getData(),d=e.getData("edge"),h=e.get("orient");this._model=e,a.removeAll(),a.attr("position",[s.x,s.y]),o.eachEdge(function(f){var p=new PI;p.dataIndex=f.dataIndex,p.seriesIndex=e.seriesIndex,p.dataType="edge";var m,S,x,V,Q,K,ce,ue,de=f.getModel("lineStyle"),ge=de.get("curveness"),Ce=f.node1.getLayout(),Pe=f.node1.getModel(),Fe=Pe.get("localX"),Ge=Pe.get("localY"),Qe=f.node2.getLayout(),et=f.node2.getModel(),ot=et.get("localX"),ht=et.get("localY"),pt=f.getLayout();switch(p.shape.extent=Math.max(1,pt.dy),ue="vertical"===(p.shape.orient=h)?(Q=m=(null!=Fe?Fe*l:Ce.x)+pt.sy,K=(S=(null!=Ge?Ge*u:Ce.y)+Ce.dy)*(1-ge)+(V=null!=ht?ht*u:Qe.y)*ge,ce=x=(null!=ot?ot*l:Qe.x)+pt.ty,S*ge+V*(1-ge)):(Q=(m=(null!=Fe?Fe*l:Ce.x)+Ce.dx)*(1-ge)+(x=null!=ot?ot*l:Qe.x)*ge,K=S=(null!=Ge?Ge*u:Ce.y)+pt.sy,ce=m*ge+x*(1-ge),V=(null!=ht?ht*u:Qe.y)+pt.ty),p.setShape({x1:m,y1:S,x2:x,y2:V,cpx1:Q,cpy1:K,cpx2:ce,cpy2:ue}),p.setStyle(de.getItemStyle()),p.style.fill){case"source":p.style.fill=f.node1.getVisual("color");break;case"target":p.style.fill=f.node2.getVisual("color")}Vi(p,f.getModel("emphasis.lineStyle").getItemStyle()),a.add(p),d.setItemGraphicEl(f.dataIndex,p)}),o.eachNode(function(f){var p=f.getLayout(),m=f.getModel(),S=m.get("localX"),x=m.get("localY"),V=m.getModel("label"),Q=m.getModel("emphasis.label"),K=new Si({shape:{x:null!=S?S*l:p.x,y:null!=x?x*u:p.y,width:p.dx,height:p.dy},style:m.getModel("itemStyle").getItemStyle()}),ce=f.getModel("emphasis.itemStyle").getItemStyle();no(K.style,ce,V,Q,{labelFetcher:e,labelDataIndex:f.dataIndex,defaultText:f.id,isRectText:!0}),K.setStyle("fill",f.getVisual("color")),Vi(K,ce),a.add(K),c.setItemGraphicEl(f.dataIndex,K),K.dataType="node"}),c.eachItemGraphicEl(function(f,p){var m=c.getItemModel(p);m.get("draggable")&&(f.drift=function(S,x){i._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=x,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(p),localX:this.shape.x/l,localY:this.shape.y/u})},f.ondragend=function(){i._focusAdjacencyDisabled=!1},f.draggable=!0,f.cursor="move"),f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.focusNodeAdjHandler&&f.off("mouseover",f.focusNodeAdjHandler),f.unfocusNodeAdjHandler&&f.off("mouseout",f.unfocusNodeAdjHandler),m.get("focusNodeAdjacency")&&(f.on("mouseover",f.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:f.dataIndex}))}),f.on("mouseout",f.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),d.eachItemGraphicEl(function(f,p){var m=d.getItemModel(p);f.focusNodeAdjHandler&&f.off("mouseover",f.focusNodeAdjHandler),f.unfocusNodeAdjHandler&&f.off("mouseout",f.unfocusNodeAdjHandler),m.get("focusNodeAdjacency")&&(f.on("mouseover",f.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:f.dataIndex}))}),f.on("mouseout",f.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),!this._data&&e.get("animation")&&a.setClipPath((f=a.getBoundingRect(),p=e,kr(S=new Si({shape:{x:f.x-10,y:f.y-10,width:0,height:f.height+20}}),{shape:{width:f.width+20}},p,function(){a.removeClipPath()}),S)),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var o=e.getData(),a=o.graph,s=i.dataIndex,l=o.getItemModel(s),u=i.edgeDataIndex;if(null!=s||null!=u){var c=a.getNodeByIndex(s),d=a.getEdgeByIndex(u);if(a.eachNode(function(f){Zh(f,pw,.1)}),a.eachEdge(function(f){Zh(f,gw,.1)}),c){Eo(c,Ys);var h=l.get("focusNodeAdjacency");"outEdges"===h?ee(c.outEdges,function(f){f.dataIndex<0||(Eo(f,Xh),Eo(f.node2,Ys))}):"inEdges"===h?ee(c.inEdges,function(f){f.dataIndex<0||(Eo(f,Xh),Eo(f.node1,Ys))}):"allEdges"===h&&ee(c.edges,function(f){f.dataIndex<0||(Eo(f,Xh),f.node1!==c&&Eo(f.node1,Ys),f.node2!==c&&Eo(f.node2,Ys))})}d&&(Eo(d,Xh),Eo(d.node1,Ys),Eo(d.node2,Ys))}},unfocusNodeAdjacency:function(e,t,n,i){var o=e.getGraph();o.eachNode(function(a){Zh(a,pw)}),o.eachEdge(function(a){Zh(a,gw)})}}),yi({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),Xi(function(e,t,n){e.eachSeriesByType("sankey",function(i){var p,o=i.get("nodeWidth"),a=i.get("nodeGap"),s=(p=t,nr(i.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()})),l=(i.layoutInfo=s).width,u=s.height,c=i.getGraph(),d=c.nodes,h=c.edges;ee(d,function(p){var m=rs(p.outEdges,$h),S=rs(p.inEdges,$h),x=p.getValue()||0,V=Math.max(m,S,x);p.setLayout({value:V},!0)}),function(f,p,m,S,x,V,Q,K,ce){var ue,ge;(function(ue,de,ge,Ce,Pe,Fe,Ge){for(var Qe=[],et=[],ot=[],ht=[],pt=0,ut=0;ut<de.length;ut++)Qe[ut]=1;for(ut=0;ut<ue.length;ut++)et[ut]=ue[ut].inEdges.length,0===et[ut]&&ot.push(ue[ut]);for(var At=-1;ot.length;){for(var Zt=0;Zt<ot.length;Zt++){var nn=ot[Zt],jt=nn.hostGraph.data.getRawDataItem(nn.dataIndex),gn=null!=jt.depth&&0<=jt.depth;gn&&jt.depth>At&&(At=jt.depth),nn.setLayout({depth:gn?jt.depth:pt},!0),nn.setLayout("vertical"===Fe?{dy:ge}:{dx:ge},!0);for(var Cn=0;Cn<nn.outEdges.length;Cn++){var Vn=nn.outEdges[Cn];Qe[de.indexOf(Vn)]=0;var Bn=Vn.node2;0==--et[ue.indexOf(Bn)]&&ht.indexOf(Bn)<0&&ht.push(Bn)}}++pt,ot=ht,ht=[]}for(ut=0;ut<Qe.length;ut++)if(1===Qe[ut])throw new Error("Sankey is a DAG, the original data has cycle!");var xi,Li,Xn=pt-1<At?At:pt-1;Ge&&"left"!==Ge&&function(Ii,xi,Li,Vr){if("right"===xi){for(var Rr=[],ka=Ii,cs=0;ka.length;){for(var Jc=0;Jc<ka.length;Jc++){var b0=ka[Jc];b0.setLayout({skNodeHeight:cs},!0);for(var _0=0;_0<b0.inEdges.length;_0++){var F2=b0.inEdges[_0];Rr.indexOf(F2.node1)<0&&Rr.push(F2.node1)}}ka=Rr,Rr=[],++cs}ee(Ii,function(Qc){vw(Qc)||Qc.setLayout({depth:Math.max(0,Vr-Qc.getLayout().skNodeHeight)},!0)})}else"justify"===xi&&(WD=Vr,ee(Ii,function(w0){vw(w0)||w0.outEdges.length||w0.setLayout({depth:WD},!0)}));var WD}(ue,Ge,0,Xn),xi="vertical"===Fe?(Pe-ge)/Xn:(Ce-ge)/Xn,Li=Fe,ee(ue,function(Vr){var Rr=Vr.getLayout().depth*xi;Vr.setLayout("vertical"===Li?{y:Rr}:{x:Rr},!0)})})(f,p,m,x,V,K,ce),function(ue,de,ge,Ce,Pe,Fe,Ge){var pt,ut,At,Qe=(pt=[],ut="vertical"===Ge?"y":"x",(At=Jf(ue,function(Zt){return Zt.getLayout()[ut]})).keys.sort(function(Zt,nn){return Zt-nn}),ee(At.keys,function(Zt){pt.push(At.buckets.get(Zt))}),pt);(function(ot,ht,pt,ut,At,Zt){var nn=1/0;ee(ot,function(jt){var gn=jt.length,Cn=0;ee(jt,function(sn){Cn+=sn.getLayout().value});var Vn="vertical"===Zt?(ut-(gn-1)*At)/Cn:(pt-(gn-1)*At)/Cn;Vn<nn&&(nn=Vn)}),ee(ot,function(jt){ee(jt,function(gn,Cn){var Vn=gn.getLayout().value*nn;"vertical"===Zt?(gn.setLayout({x:Cn},!0),gn.setLayout({dx:Vn},!0)):(gn.setLayout({y:Cn},!0),gn.setLayout({dy:Vn},!0))})}),ee(ht,function(jt){var gn=+jt.getValue()*nn;jt.setLayout({dy:gn},!0)})})(Qe,de,ge,Ce,Pe,Ge),Ym(Qe,Pe,ge,Ce,Ge);for(var et=1;0<Fe;Fe--)LI(Qe,et*=.99,Ge),Ym(Qe,Pe,ge,Ce,Ge),zI(Qe,et,Ge),Ym(Qe,Pe,ge,Ce,Ge)}(f,p,V,x,S,Q,K),ge="vertical"===K?"x":"y",ee(ue=f,function(Ce){Ce.outEdges.sort(function(Pe,Fe){return Pe.node2.getLayout()[ge]-Fe.node2.getLayout()[ge]}),Ce.inEdges.sort(function(Pe,Fe){return Pe.node1.getLayout()[ge]-Fe.node1.getLayout()[ge]})}),ee(ue,function(Ce){var Pe=0,Fe=0;ee(Ce.outEdges,function(Ge){Ge.setLayout({sy:Pe},!0),Pe+=Ge.getLayout().dy}),ee(Ce.inEdges,function(Ge){Ge.setLayout({ty:Fe},!0),Fe+=Ge.getLayout().dy})})}(d,h,o,a,l,u,0!==Be(d,function(f){return 0===f.getLayout().value}).length?0:i.get("layoutIterations"),i.get("orient"),i.get("nodeAlign"))})}),zi(function(e,t){e.eachSeriesByType("sankey",function(n){var i=n.getGraph().nodes;if(i.length){var o=1/0,a=-1/0;ee(i,function(s){var l=s.getLayout().value;l<o&&(o=l),a<l&&(a=l)}),ee(i,function(s){var l=new Ei({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:n.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get("itemStyle.color");s.setVisual("color",null!=u?u:l)})}})});var yw={_baseAxisDim:null,getInitialData:function(e,t){var n,i,o=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(e.layout="horizontal",n=o.getOrdinalMeta(),i=!0):"category"===l?(e.layout="vertical",n=a.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c="horizontal"===e.layout?0:1,d=this._baseAxisDim=u[c],h=u[1-c],f=[o,a],p=f[c].get("type"),m=f[1-c].get("type"),S=e.data;if(S&&i){var x=[];ee(S,function(K,ce){var ue;K.value&&it(K.value)?(ue=K.value.slice(),K.value.unshift(ce)):it(K)?(ue=K.slice(),K.unshift(ce)):ue=K,x.push(ue)}),e.data=x}var V=this.defaultValueDimensions,Q=[{name:d,type:ch(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:ch(m),dimsDef:V.slice()}];return Wl(this,{coordDimensions:Q,dimensionsCount:V.length+1,encodeDefaulter:gt($y,Q,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};be(Yi.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),yw,!0);var FI=["itemStyle"],VI=["emphasis","itemStyle"],HI=(mr.extend({type:"boxplot",render:function(e,t,n){var i=e.getData(),o=this.group,a=this._data;this._data||o.removeAll();var s="horizontal"===e.get("layout")?1:0;i.diff(a).add(function(l){if(i.hasValue(l)){var u=xw(i.getItemLayout(l),i,l,s,!0);i.setItemGraphicEl(l,u),o.add(u)}}).update(function(l,u){var c=a.getItemGraphicEl(u);if(i.hasValue(l)){var d=i.getItemLayout(l);c?bw(d,c,i,l):c=xw(d,i,l,s),o.add(c),i.setItemGraphicEl(l,c)}else o.remove(c)}).remove(function(l){var u=a.getItemGraphicEl(l);u&&o.remove(u)}).execute(),this._data=i},remove:function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(i){i&&t.remove(i)})},dispose:cn}),mi.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])}}));function xw(e,t,n,i,o){var l,u,c,a=e.ends,s=new HI({shape:{points:o?(l=a,u=i,c=e,Me(l,function(d){return(d=d.slice())[u]=c.initBaseline,d})):a}});return bw(e,s,t,n,o),s}function bw(e,t,n,i,o){(0,ma[o?"initProps":"updateProps"])(t,{shape:{points:e.ends}},n.hostModel,i);var s=n.getItemModel(i),l=s.getModel(FI),u=n.getItemVisual(i,"color"),c=l.getItemStyle(["borderColor"]);c.stroke=u,c.strokeNoScale=!0,t.useStyle(c),t.z2=100,Vi(t,s.getModel(VI).getItemStyle())}var _w=["itemStyle","borderColor"],Nc=ee;zi(function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var o=n[i.seriesIndex%n.length],a=i.getData();a.setVisual({legendSymbol:"roundRect",color:i.get(_w)||o}),e.isSeriesFiltered(i)||a.each(function(s){var l=a.getItemModel(s);a.setItemVisual(s,{color:l.get(_w,!0)})})})}),Xi(function(e){var t=function(n){var i=[],o=[];return n.eachSeriesByType("boxplot",function(a){var s=a.getBaseAxis(),l=De(o,s);l<0&&(o[l=o.length]=s,i[l]={axis:s,seriesModels:[]}),i[l].seriesModels.push(a)}),i}(e);Nc(t,function(n){var i=n.seriesModels;i.length&&(function(o){var a,s,l=o.axis,u=o.seriesModels,c=u.length,d=o.boxWidthList=[],h=o.boxOffsetList=[],f=[];if("category"===l.type)s=l.getBandWidth();else{var p=0;Nc(u,function(Q){p=Math.max(p,Q.getData().count())}),a=l.getExtent(),Math.abs(a[1]-a[0])}Nc(u,function(Q){var K=Q.get("boxWidth");it(K)||(K=[K,K]),f.push([An(K[0],s)||0,An(K[1],s)||0])});var m=.8*s-2,S=m/c*.3,x=(m-S*(c-1))/c,V=x/2-m/2;Nc(u,function(Q,K){h.push(V),V+=S+x,d.push(Math.min(Math.max(x,f[K][0]),f[K][1]))})}(n),Nc(i,function(o,a){!function(s,l,u){var c=s.coordinateSystem,d=s.getData(),h=u/2,f="horizontal"===s.get("layout")?0:1,p=1-f,m=["x","y"],S=d.mapDimension(m[f]),x=d.mapDimension(m[p],!0);if(!(null==S||x.length<5))for(var V=0;V<d.count();V++){var Q=d.get(S,V),K=Pe(Q,x[2],V),ce=Pe(Q,x[0],V),ue=Pe(Q,x[1],V),de=Pe(Q,x[3],V),ge=Pe(Q,x[4],V),Ce=[];Fe(Ce,ue,0),Fe(Ce,de,1),Ce.push(ce,ue,ge,de),Ge(Ce,ce),Ge(Ce,ge),Ge(Ce,K),d.setItemLayout(V,{initBaseline:K[p],ends:Ce})}function Pe(Qe,et,ot){var ht,pt=d.get(et,ot),ut=[];return ut[f]=Qe,ut[p]=pt,isNaN(Qe)||isNaN(pt)?ht=[NaN,NaN]:(ht=c.dataToPoint(ut))[f]+=l,ht}function Fe(Qe,et,ot){var ht=et.slice(),pt=et.slice();ht[f]+=h,pt[f]-=h,ot?Qe.push(ht,pt):Qe.push(pt,ht)}function Ge(Qe,et){var ot=et.slice(),ht=et.slice();ot[f]-=h,ht[f]+=h,Qe.push(ot,ht)}}(o,n.boxOffsetList[a],n.boxWidthList[a])}))})}),be(Yi.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)}}),yw,!0);var ww=["itemStyle"],WI=["emphasis","itemStyle"],Cw=["color","color0","borderColor","borderColor0"],GI=(mr.extend({type:"candlestick",render:function(e,t,n){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),n=this._data,i=this.group,o=t.getLayout("isSimpleBox"),a=e.get("clip",!0),s=e.coordinateSystem,l=s.getArea&&s.getArea();this._data||i.removeAll(),t.diff(n).add(function(u){if(t.hasValue(u)){var c,d=t.getItemLayout(u);if(a&&Sw(l,d))return;kr(c=Xm(d,0,!0),{shape:{points:d.ends}},e,u),Zm(c,t,u,o),i.add(c),t.setItemGraphicEl(u,c)}}).update(function(u,c){var d=n.getItemGraphicEl(c);if(t.hasValue(u)){var h=t.getItemLayout(u);a&&Sw(l,h)?i.remove(d):(d?si(d,{shape:{points:h.ends}},e,u):d=Xm(h),Zm(d,t,u,o),i.add(d),t.setItemGraphicEl(u,d))}else i.remove(d)}).remove(function(u){var c=n.getItemGraphicEl(u);c&&i.remove(c)}).execute(),this._data=t},_renderLarge:function(e){this._clear(),Tw(e,this.group);var t=e.get("clip",!0)?bh(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){for(var n,i=t.getData(),o=i.getLayout("isSimpleBox");null!=(n=e.next());){var a;Zm(a=Xm(i.getItemLayout(n)),i,n,o),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(e,t){Tw(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:cn}),mi.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))}}));function Xm(e,t,n){var i=e.ends;return new GI({shape:{points:n?function(o,a){return Me(o,function(s){return(s=s.slice())[1]=a.initBaseline,s})}(i,e):i},z2:100})}function Sw(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function Zm(e,t,n,i){var o=t.getItemModel(n),a=o.getModel(ww),s=t.getItemVisual(n,"color"),l=t.getItemVisual(n,"borderColor")||s,u=a.getItemStyle(Cw);e.useStyle(u),e.style.strokeNoScale=!0,e.style.fill=s,e.style.stroke=l,e.__simpleBox=i,Vi(e,o.getModel(WI).getItemStyle())}var Mw=mi.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3}});function Tw(e,t,n){var i=e.getData(),o=i.getLayout("largePoints"),a=new Mw({shape:{points:o},__sign:1});t.add(a);var s=new Mw({shape:{points:o},__sign:-1});t.add(s),Aw(1,a,e,i),Aw(-1,s,e,i),n&&(a.incremental=!0,s.incremental=!0)}function Aw(e,t,n,i){var o=0<e?"P":"N",a=i.getVisual("borderColor"+o)||i.getVisual("color"+o),s=n.getModel(ww).getItemStyle(Cw);t.useStyle(s),t.style.fill=null,t.style.stroke=a}var UI=["itemStyle","borderColor"],jI=["itemStyle","borderColor0"],qI=["itemStyle","color"],YI=["itemStyle","color0"],XI={seriesType:"candlestick",plan:kl(),performRawSeries:!0,reset:function(e,t){if(e.getData().setVisual({legendSymbol:"roundRect",colorP:n(1,e),colorN:n(-1,e),borderColorP:i(1,e),borderColorN:i(-1,e)}),!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(o,a){for(var s;null!=(s=o.next());){var l=a.getItemModel(s),u=a.getItemLayout(s).sign;a.setItemVisual(s,{color:n(u,l),borderColor:i(u,l)})}}};function n(o,a){return a.get(0<o?qI:YI)}function i(o,a){return a.get(0<o?UI:jI)}}},ZI=typeof Float32Array<"u"?Float32Array:Array,$I={seriesType:"candlestick",plan:kl(),reset:function(e){var h,f,p,m,S,x,V,Q,t=e.coordinateSystem,n=e.getData(),i=(f=n,S="category"===(m=(h=e).getBaseAxis()).type?m.getBandWidth():(p=m.getExtent(),Math.abs(p[1]-p[0])/f.count()),x=An(Pt(h.get("barMaxWidth"),S),S),V=An(Pt(h.get("barMinWidth"),1),S),null!=(Q=h.get("barWidth"))?An(Q,S):Math.max(Math.min(S/2,x),V)),o=["x","y"],a=n.mapDimension(o[0]),s=n.mapDimension(o[1],!0),l=s[0],u=s[1],c=s[2],d=s[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==a||s.length<4))return{progress:e.pipelineContext.large?function(h,f){for(var p,m,S=new ZI(4*h.count),x=0,V=[],Q=[];null!=(m=h.next());){var K=f.get(a,m),ce=f.get(l,m),ue=f.get(u,m),de=f.get(c,m),ge=f.get(d,m);isNaN(K)||isNaN(de)||isNaN(ge)?(S[x++]=NaN,x+=3):(S[x++]=Iw(f,m,ce,ue,u),V[0]=K,V[1]=de,p=t.dataToPoint(V,null,Q),S[x++]=p?p[0]:NaN,S[x++]=p?p[1]:NaN,V[1]=ge,p=t.dataToPoint(V,null,Q),S[x++]=p?p[1]:NaN)}f.setLayout("largePoints",S)}:function(h,f){for(var p;null!=(p=h.next());){var m=f.get(a,p),S=f.get(l,p),x=f.get(u,p),V=f.get(c,p),Q=f.get(d,p),K=Math.min(S,x),ce=Math.max(S,x),ue=Fe(K,m),de=Fe(ce,m),ge=Fe(V,m),Ce=Fe(Q,m),Pe=[];Ge(Pe,de,0),Ge(Pe,ue,1),Pe.push(et(Ce),et(de),et(ge),et(ue)),f.setItemLayout(p,{sign:Iw(f,p,S,x,u),initBaseline:x<S?de[1]:ue[1],ends:Pe,brushRect:(ot=V,ht=Q,pt=m,ut=void 0,At=void 0,ut=Fe(ot,pt),At=Fe(ht,pt),ut[0]-=i/2,At[0]-=i/2,{x:ut[0],y:ut[1],width:i,height:At[1]-ut[1]})})}var ot,ht,pt,ut,At;function Fe(ot,ht){var pt=[];return pt[0]=ht,pt[1]=ot,isNaN(ht)||isNaN(ot)?[NaN,NaN]:t.dataToPoint(pt)}function Ge(ot,ht,pt){var ut=ht.slice(),At=ht.slice();ut[0]=Nd(ut[0]+i/2,1,!1),At[0]=Nd(At[0]-i/2,1,!0),pt?ot.push(ut,At):ot.push(At,ut)}function et(ot){return ot[0]=Nd(ot[0],1),ot}}}}};function Iw(e,t,n,i,o){return i<n?-1:n<i?1:0<t?e.get(o,t-1)<=i?1:-1:1}function kw(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})})}function $m(e,t){y.call(this);var n=new Za(e,t),i=new y;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}Cr(function(e){e&&it(e.series)&&ee(e.series,function(t){xt(t)&&"k"===t.type&&(t.type="candlestick")})}),zi(XI),Xi($I),Yi.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return _a(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Xs=$m.prototype;Xs.stopEffectAnimation=function(){this.childAt(1).removeAll()},Xs.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),o=0;o<3;o++){var a=ao(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(a)}kw(i,e)},Xs.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;o<i.length;o++){var a=i[o];if(t[a]!==e[a])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}kw(n,e)},Xs.highlight=function(){this.trigger("emphasis")},Xs.downplay=function(){this.trigger("normal")},Xs.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var S,i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=(it(S=e.getItemVisual(t,"symbolSize"))||(S=[+S,+S]),S),l=e.getItemVisual(t,"color");i.attr("scale",s),i.traverse(function(S){S.attr({fill:l})});var u=o.getShallow("symbolOffset");if(u){var c=i.position;c[0]=An(u[0],s[0]),c[1]=An(u[1],s[1])}var d=e.getItemVisual(t,"symbolRotate");i.rotation=(d||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=o.get("rippleEffect.scale"),h.brushType=o.get("rippleEffect.brushType"),h.period=1e3*o.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=o.getShallow("z")||0,h.zlevel=o.getShallow("zlevel")||0,h.symbolType=a,h.color=l,h.rippleEffectColor=o.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),p=function(){f.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},m=function(){f.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",p,this).on("mouseout",m,this).on("emphasis",p,this).on("normal",m,this)}this._effectCfg=h},Xs.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},he($m,y),Kr({type:"effectScatter",init:function(){this._symbolDraw=new Ol($m)},render:function(e,t,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i),this.group.add(o.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var o=lc().reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=pu(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}}),zi(Bs("effectScatter","circle")),Xi(lc("effectScatter"));var KI=typeof Uint32Array>"u"?Array:Uint32Array,JI=typeof Float64Array>"u"?Array:Float64Array;function Dw(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Me(t,function(n){var i={coords:[n[0].coord,n[1].coord]};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),se([i,n[0],n[1]])}))}var Nw=Yi.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],Dw(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),Nw.superApply(this,"init",arguments)},mergeOption:function(e){if(Dw(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}Nw.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Et(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Et(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],o=0;o<i;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return i}var a=this._getCoordsFromItemModel(e);for(o=0;o<a.length;o++)t[o]=t[o]||[],t[o][0]=a[o][0],t[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"!=typeof e[0])return{flatCoordsOffset:null,flatCoords:null,count:e.length};for(var n=e.length,i=new KI(n),o=new JI(n),a=0,s=0,l=0,u=0;u<n;){l++;var c=e[u++];i[s++]=a+t,i[s++]=c;for(var d=0;d<c;d++){var h=e[u++],f=e[u++];o[a++]=h,o[a++]=f}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:o,count:l}},getInitialData:function(e,t){var n=new hr(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(i,o,a,s){if(i instanceof Array)return NaN;n.hasItemOption=!0;var l=i.value;return null!=l?l instanceof Array?l[s]:l:void 0}),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),o=t.get("toName"),a=[];return null!=i&&a.push(i),null!=o&&a.push(o),Wi(a.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});function Pc(e,t,n){y.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}var os=Pc.prototype;function Kh(e,t,n){y.call(this),this._createPolyline(e,t,n)}os.createLine=function(e,t,n){return new Ac(e,t,n)},os._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");it(i)||(i=[i,i]);var a=n.get("color")||e.getItemVisual(t,"color"),s=this.childAt(1);this._symbolType!==o&&(this.remove(s),(s=ao(o,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.attr("scale",i),s.setColor(a),s.attr("scale",i),this._symbolType=o,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},os._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var o=this,a=e.getItemLayout(n),s=1e3*t.get("period"),l=t.get("loop"),u=t.get("constantSpeed"),c=dn(t.get("delay"),function(p){return p/e.count()*s/3}),d="function"==typeof c;if(i.ignore=!0,this.updateAnimationPoints(i,a),0<u&&(s=this.getLineLength(i)/u*1e3),s!==this._period||l!==this._loop){i.stopAnimation();var h=c;d&&(h=c(n)),0<i.__t&&(h=-s*i.__t),i.__t=0;var f=i.animate("",l).when(s,{__t:1}).delay(h).during(function(){o.updateSymbolPosition(i)});l||f.done(function(){o.remove(i)}),f.start()}this._period=s,this._loop=l}},os.getLineLength=function(e){return Yn(e.__p1,e.__cp1)+Yn(e.__cp1,e.__p2)},os.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},os.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},os.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t,a=e.position,s=[a[0],a[1]],l=Ir,u=Qf;a[0]=l(t[0],i[0],n[0],o),a[1]=l(t[1],i[1],n[1],o);var c=u(t[0],i[0],n[0],o),d=u(t[1],i[1],n[1],o);if(e.rotation=-Math.atan2(d,c)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==e.__lastT&&e.__lastT<e.__t){var h=1.05*Yn(s,a);e.attr("scale",[e.scale[0],h]),1===o&&(a[0]=s[0]+(a[0]-s[0])/2,a[1]=s[1]+(a[1]-s[1])/2)}else 1===e.__lastT?(h=2*Yn(t,a),e.attr("scale",[e.scale[0],h])):e.attr("scale",this._symbolScale);e.__lastT=e.__t,e.ignore=!1},os.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},he(Pc,y);var Jh=Kh.prototype;function Km(e,t,n){Pc.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}Jh._createPolyline=function(e,t,n){var i=e.getItemLayout(t),o=new vo({shape:{points:i}});this.add(o),this._updateCommonStl(e,t,n)},Jh.updateData=function(e,t,n){var i=e.hostModel;si(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},Jh._updateCommonStl=function(e,t,n){var i=this.childAt(0),o=e.getItemModel(t),a=e.getItemVisual(t,"color"),s=n&&n.lineStyle,l=n&&n.hoverLineStyle;n&&!e.hasItemOption||(s=o.getModel("lineStyle").getLineStyle(),l=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(pe({strokeNoScale:!0,fill:"none",stroke:a},s)),i.hoverStyle=l,Vi(this)},Jh.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},he(Kh,y);var Qh=Km.prototype;Qh.createLine=function(e,t,n){return new Kh(e,t,n)},Qh.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,o=1;o<t.length;o++)i+=Yn(t[o-1],t[o]),n.push(i);if(0!==i){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}},Qh.getLineLength=function(e){return this._length},Qh.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var a=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(a+1,o-1);0<=s&&!(i[s]<=t);s--);s=Math.min(s,o-2)}else{for(var s=a;s<o&&!(i[s]>t);s++);s=Math.min(s-1,o-2)}$i(e.position,n[s],n[s+1],(t-i[s])/(i[s+1]-i[s])),e.rotation=-Math.atan2(n[s+1][1]-n[s][1],n[s+1][0]-n[s][0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},he(Km,Pc);var Pw=yo({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(var o=0;o<n.length;){var a=n[o++];if(0<a){e.moveTo(n[o++],n[o++]);for(var s=1;s<a;s++)e.lineTo(n[o++],n[o++])}}else for(o=0;o<n.length;){var l=n[o++],u=n[o++],c=n[o++],d=n[o++];e.moveTo(l,u),0<i?e.quadraticCurveTo((l+c)/2-(u-d)*i,(u+d)/2-(c-l)*i,c,d):e.lineTo(c,d)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,o=n.curveness;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(0<l)for(var u=i[s++],c=i[s++],d=1;d<l;d++)if(Ba(u,c,h=i[s++],f=i[s++]))return a;a++}else for(a=0,s=0;s<i.length;){u=i[s++],c=i[s++];var h=i[s++],f=i[s++];if(0<o){if(X0(u,c,(u+h)/2-(c-f)*o,(c+f)/2-(h-u)*o,h,f))return a}else if(Ba(u,c,h,f))return a;a++}return-1}});function Lw(){this.group=new y}var Zs=Lw.prototype;Zs.isPersistent=function(){return!this._incremental},Zs.updateData=function(e){this.group.removeAll();var t=new Pw({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},Zs.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),5e5<e.count()?(this._incremental||(this._incremental=new to({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Zs.incrementalUpdate=function(e,t){var n=new Pw;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},Zs.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Zs._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(a){e.dataIndex=null;var s=e.findDataIndex(a.offsetX,a.offsetY);0<s&&(e.dataIndex=s+e.__startIndex)}))},Zs._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var Rw={seriesType:"lines",plan:kl(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(o,a){var s=[];if(i){var l,u=o.end-o.start;if(n){for(var c=0,d=o.start;d<o.end;d++)c+=e.getLineCoordsCount(d);l=new Float32Array(u+2*c)}else l=new Float32Array(4*u);var h=0,f=[];for(d=o.start;d<o.end;d++){var p=e.getLineCoords(d,s);n&&(l[h++]=p);for(var m=0;m<p;m++)f=t.dataToPoint(s[m],!1,f),l[h++]=f[0],l[h++]=f[1]}a.setLayout("linesPoints",l)}else for(d=o.start;d<o.end;d++){var S=a.getItemModel(d),x=(p=e.getLineCoords(d,s),[]);if(n)for(var V=0;V<p;V++)x.push(t.dataToPoint(s[V]));else{x[0]=t.dataToPoint(s[0]),x[1]=t.dataToPoint(s[1]);var Q=S.get("lineStyle.curveness");+Q&&(x[2]=[(x[0][0]+x[1][0])/2-(x[0][1]-x[1][1])*Q,(x[0][1]+x[1][1])/2-(x[1][0]-x[0][0])*Q])}a.setItemLayout(d,x)}}}}};function ef(e){return e instanceof Array||(e=[e,e]),e}Kr({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),o=this._updateLineDraw(i,e),a=e.get("zlevel"),s=e.get("effect.trailLength"),l=n.getZr(),u="svg"===l.painter.getType();u||l.painter.getLayer(a).clear(!0),null==this._lastZlevel||u||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s&&(u||l.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(i);var c=e.get("clip",!0)&&bh(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var a=Rw.reset(e);a.progress&&a.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),o=!!t.get("polyline"),a=t.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Lw:new Hh(o?i?Km:Kh:i?Pc:Ac),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var Ew="lineStyle.opacity".split("."),QI={seriesType:"lines",reset:function(e,t,n){var i=ef(e.get("symbol")),o=ef(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",i&&i[0]),a.setVisual("toSymbol",i&&i[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",e.get(Ew)),{dataEach:a.hasItemOption?function(s,l){var u=s.getItemModel(l),c=ef(u.getShallow("symbol",!0)),d=ef(u.getShallow("symbolSize",!0)),h=u.get(Ew);c[0]&&s.setItemVisual(l,"fromSymbol",c[0]),c[1]&&s.setItemVisual(l,"toSymbol",c[1]),d[0]&&s.setItemVisual(l,"fromSymbolSize",d[0]),d[1]&&s.setItemVisual(l,"toSymbolSize",d[1]),s.setItemVisual(l,"opacity",h)}:null}}};function Ow(){var e=we();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}Xi(Rw),zi(QI),Yi.extend({type:"series.heatmap",getInitialData:function(e,t){return _a(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=Nr.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),Ow.prototype={update:function(e,t,n,i,o,a){var s=this._getBrush(),l=this._getGradient(e,o,"inRange"),u=this._getGradient(e,o,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),f=e.length;d.width=t,d.height=n;for(var p=0;p<f;++p){var m=e[p],S=m[0],x=m[1],V=i(m[2]);h.globalAlpha=V,h.drawImage(s,S-c,x-c)}if(!d.width||!d.height)return d;for(var Q=h.getImageData(0,0,d.width,d.height),K=Q.data,ce=0,ue=K.length,de=this.minOpacity,ge=this.maxOpacity-de;ce<ue;){V=K[ce+3]/256;var Ce=4*Math.floor(255*V);if(0<V){var Pe=a(V)?l:u;0<V&&(V=V*ge+de),K[ce++]=Pe[Ce],K[ce++]=Pe[1+Ce],K[ce++]=Pe[2+Ce],K[ce++]=Pe[3+Ce]*V*256}else ce+=4}return h.putImageData(Q,0,0),d},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=we()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,o=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],s=0,l=0;l<256;l++)t[n](l/255,!0,a),o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3];return o}},Kr({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(a){a.eachTargetSeries(function(s){s===e&&(i=a)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(a){var s=a.dimensions;return"lng"===s[0]&&"lat"===s[1]}(o)&&this._renderOnGeo(o,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,o){var a,s,l=e.coordinateSystem;if("cartesian2d"===l.type){var u=l.getAxis("x"),c=l.getAxis("y");a=u.getBandWidth(),s=c.getBandWidth()}for(var d=this.group,h=e.getData(),f="emphasis.itemStyle",p="emphasis.label",m=e.getModel("itemStyle").getItemStyle(["color"]),S=e.getModel(f).getItemStyle(),x=e.getModel("label"),V=e.getModel(p),Q=l.type,K="cartesian2d"===Q?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],ce=n;ce<i;ce++){var ue;if("cartesian2d"===Q){if(isNaN(h.get(K[2],ce)))continue;var de=l.dataToPoint([h.get(K[0],ce),h.get(K[1],ce)]);ue=new Si({shape:{x:Math.floor(Math.round(de[0])-a/2),y:Math.floor(Math.round(de[1])-s/2),width:Math.ceil(a),height:Math.ceil(s)},style:{fill:h.getItemVisual(ce,"color"),opacity:h.getItemVisual(ce,"opacity")}})}else{if(isNaN(h.get(K[1],ce)))continue;ue=new Si({z2:1,shape:l.dataToRect([h.get(K[0],ce)]).contentShape,style:{fill:h.getItemVisual(ce,"color"),opacity:h.getItemVisual(ce,"opacity")}})}var ge=h.getItemModel(ce);h.hasItemOption&&(m=ge.getModel("itemStyle").getItemStyle(["color"]),S=ge.getModel(f).getItemStyle(),x=ge.getModel("label"),V=ge.getModel(p));var Ce=e.getRawValue(ce),Pe="-";Ce&&null!=Ce[2]&&(Pe=Ce[2]),no(m,S,x,V,{labelFetcher:e,labelDataIndex:ce,defaultText:Pe,isRectText:!0}),ue.setStyle(m),Vi(ue,h.hasItemOption?S:ne({},S)),(ue.incremental=o)&&(ue.useHoverLayer=!0),d.add(ue),h.setItemGraphicEl(ce,ue)}},_renderOnGeo:function(e,t,n,i){var o=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new Ow;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),c=e.getRoamTransform();u.applyTransform(c);var ue,de,ge,d=Math.max(u.x,0),h=Math.max(u.y,0),f=Math.min(u.width+u.x,i.getWidth()),p=Math.min(u.height+u.y,i.getHeight()),m=f-d,S=p-h,x=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],V=s.mapArray(x,function(ue,de,ge){var Ce=e.dataToPoint([ue,de]);return Ce[0]-=d,Ce[1]-=h,Ce.push(ge),Ce}),Q=n.getExtent(),K="visualMap.continuous"===n.type?(de=[((de=n.option.range)[0]-(ue=Q)[0])/(ge=ue[1]-ue[0]),(de[1]-ue[0])/ge],function(Ce){return Ce>=de[0]&&Ce<=de[1]}):function(ue,de,ge){var Ce=ue[1]-ue[0],Pe=(de=Me(de,function(Ge){return{interval:[(Ge.interval[0]-ue[0])/Ce,(Ge.interval[1]-ue[0])/Ce]}})).length,Fe=0;return function(Ge){for(var Qe=Fe;Qe<Pe;Qe++)if((et=de[Qe].interval)[0]<=Ge&&Ge<=et[1]){Fe=Qe;break}if(Qe===Pe)for(Qe=Fe-1;0<=Qe;Qe--){var et;if((et=de[Qe].interval)[0]<=Ge&&Ge<=et[1]){Fe=Qe;break}}return 0<=Qe&&Qe<Pe&&ge[Qe]}}(Q,n.getPieceList(),n.option.selected);l.update(V,m,S,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:a.color.getColorMapper()},K);var ce=new gi({style:{width:m,height:S,x:d,y:h,image:l.canvas},silent:!0});this.group.add(ce)},dispose:function(){}});var ek=fb.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,ek.superApply(this,"getInitialData",arguments)}}),tk=["itemStyle","borderWidth"],Bw=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Jm=new Uo;function zw(e,t,n,i){var m,S,V,K,ce,ue,de,ge,Ce,Pe,Fe,Ge,o=e.getItemLayout(t),a=n.get("symbolRepeat"),s=n.get("symbolClip"),l=n.get("symbolPosition")||"start",u=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,d=n.isAnimationEnabled(),h={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?n:null,hoverAnimation:d&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(m,S,x,V,Q){var K,ce=V.valueDim,ue=m.get("symbolBoundingData"),de=V.coordSys.getOtherAxis(V.coordSys.getBaseAxis()),ge=de.toGlobalCoord(de.dataToCoord(0)),Ce=1-+(x[ce.wh]<=0);if(it(ue)){var Pe=[Qm(de,ue[0])-ge,Qm(de,ue[1])-ge];Pe[1]<Pe[0]&&Pe.reverse(),K=Pe[Ce]}else K=null!=ue?Qm(de,ue)-ge:S?V.coordSysExtent[ce.index][Ce]-ge:x[ce.wh];Q.boundingLength=K,S&&(Q.repeatCutLength=x[ce.wh]),Q.pxSign=0<K?1:K<0?-1:0})(n,a,o,i,h),m=e,S=t,V=a,K=h.boundingLength,ce=h.pxSign,ue=c,ge=h,Ce=(de=i).valueDim,Pe=de.categoryDim,Fe=Math.abs(o[Pe.wh]),(Ge=it(Ge=m.getItemVisual(S,"symbolSize"))?Ge.slice():(null==Ge&&(Ge="100%"),[Ge,Ge]))[Pe.index]=An(Ge[Pe.index],Fe),Ge[Ce.index]=An(Ge[Ce.index],V?Fe:Math.abs(K)),ge.symbolSize=Ge,(ge.symbolScale=[Ge[0]/ue,Ge[1]/ue])[Ce.index]*=(de.isHorizontal?-1:1)*ce,function(m,S,x,V,Q){var K=m.get(tk)||0;K&&(Jm.attr({scale:S.slice(),rotation:x}),Jm.updateTransform(),K/=Jm.getLineScale(),K*=S[V.valueDim.index]),Q.valueLineWidth=K}(n,h.symbolScale,u,i,h);var f=h.symbolSize,p=n.get("symbolOffset");return it(p)&&(p=[An(p[0],f[0]),An(p[1],f[1])]),function(m,S,x,V,Q,K,ce,ue,de,ge,Ce,Pe){var Fe=Ce.categoryDim,Ge=Ce.valueDim,Qe=Pe.pxSign,et=Math.max(S[Ge.index]+ue,0),ot=et;if(V){var ht=Math.abs(de),pt=dn(m.get("symbolMargin"),"15%")+"",ut=!1;pt.lastIndexOf("!")===pt.length-1&&(ut=!0,pt=pt.slice(0,pt.length-1)),pt=An(pt,S[Ge.index]);var At=Math.max(et+2*pt,0),Zt=ut?0:2*pt,nn=Ey(V),jt=nn?V:Zw((ht+Zt)/At);At=et+2*(pt=(ht-jt*et)/2/(ut?jt:jt-1)),Zt=ut?0:2*pt,nn||"fixed"===V||(jt=ge?Zw((Math.abs(ge)+Zt)/At):0),ot=jt*At-Zt,Pe.repeatTimes=jt,Pe.symbolMargin=pt}var gn=Qe*(ot/2),Cn=Pe.pathPosition=[];Cn[Fe.index]=x[Fe.wh]/2,Cn[Ge.index]="start"===ce?gn:"end"===ce?de-gn:de/2,K&&(Cn[0]+=K[0],Cn[1]+=K[1]);var Vn=Pe.bundlePosition=[];Vn[Fe.index]=x[Fe.xy],Vn[Ge.index]=x[Ge.xy];var sn=Pe.barRectShape=ne({},x);sn[Ge.wh]=Qe*Math.max(Math.abs(x[Ge.wh]),Math.abs(Cn[Ge.index]+gn)),sn[Fe.wh]=x[Fe.wh];var Bn=Pe.clipShape={};Bn[Fe.xy]=-x[Fe.xy],Bn[Fe.wh]=Ce.ecSize[Fe.wh],Bn[Ge.xy]=0,Bn[Ge.wh]=x[Ge.wh]}(n,f,o,a,0,p,l,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function Qm(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Fw(e){var t=e.symbolPatternSize,n=ao(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Vw(e,t,n,i){var o=e.__pictorialBundle,l=n.pathPosition,u=t.valueDim,c=n.repeatTimes||0,d=0,h=n.symbolSize[t.valueDim.index]+n.valueLineWidth+2*n.symbolMargin;for(Lc(e,function(V){V.__pictorialAnimationIndex=d,V.__pictorialRepeatTimes=c,d<c?tu(V,null,m(d),n,i):tu(V,null,{scale:[0,0]},n,i,function(){o.remove(V)}),ev(V,n),d++});d<c;d++){var f=Fw(n);f.__pictorialAnimationIndex=d,f.__pictorialRepeatTimes=c,o.add(f);var p=m(d);tu(f,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},n,i),f.on("mouseover",S).on("mouseout",x),ev(f,n)}function m(V){var Q=l.slice(),K=n.pxSign,ce=V;return("start"===n.symbolRepeatDirection?0<K:K<0)&&(ce=c-1-V),Q[u.index]=h*(ce-c/2+.5)+l[u.index],{position:Q,scale:n.symbolScale.slice(),rotation:n.rotation}}function S(){Lc(e,function(V){V.trigger("emphasis")})}function x(){Lc(e,function(V){V.trigger("normal")})}}function Hw(e,t,n,i){var o=e.__pictorialBundle,a=e.__pictorialMainPath;a?tu(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(a=e.__pictorialMainPath=Fw(n),o.add(a),tu(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),a.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),ev(a,n)}function Ww(e,t,n){var i=ne({},t.barRectShape),o=e.__pictorialBarRect;o?tu(o,null,{shape:i},t,n):(o=e.__pictorialBarRect=new Si({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function Gw(e,t,n,i){if(n.symbolClip){var o=e.__pictorialClipPath,a=ne({},n.clipShape),s=t.valueDim,l=n.animationModel,u=n.dataIndex;if(o)si(o,{shape:a},l,u);else{a[s.wh]=0,o=new Si({shape:a}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[s.wh]=n.clipShape[s.wh],ma[i?"updateProps":"initProps"](o,{shape:c},l,u)}}}function Uw(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=nk,n.isAnimationEnabled=ik,n}function nk(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function ik(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function ev(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function jw(e,t,n,i){var o=new y,a=new y;return o.add(a),(o.__pictorialBundle=a).attr("position",n.bundlePosition.slice()),n.symbolRepeat?Vw(o,t,n):Hw(o,0,n),Ww(o,n,i),Gw(o,t,n,i),o.__pictorialShapeStr=Yw(e,n),o.__pictorialSymbolMeta=n,o}function qw(e,t,n,i){var o=i.__pictorialBarRect;o&&(o.style.text=null);var a=[];Lc(i,function(s){a.push(s)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),ee(a,function(s){si(s,{scale:[0,0]},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Yw(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Lc(e,t,n){ee(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function tu(e,t,n,i,o,a){t&&e.attr(t),i.symbolClip&&!o?n&&e.attr(n):n&&ma[o?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,a)}function Xw(e,t,n){var i=n.color,o=n.dataIndex,a=n.itemModel,s=a.getModel("itemStyle").getItemStyle(["color"]),l=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");Lc(e,function(h){h.setColor(i),h.setStyle(pe({fill:i,opacity:n.opacity},s)),Vi(h,l),u&&(h.cursor=u),h.z2=n.z2});var c={},d=e.__pictorialBarRect;pb(d.style,c,a,i,t.seriesModel,o),Vi(d,c)}function Zw(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}function tf(e,t,n,i,o){or.call(this,e,t,n),this.type=i||"value",this.position=o||"bottom",this.orient=null}function tv(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(e,t,n),this.model=e}function nv(e,t){t=t||{};var i=e.axis,o={},a=i.position,s=i.orient,l=e.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=["vertical"===s?c.vertical[a]:u[0],"horizontal"===s?c.horizontal[a]:u[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),dn(t.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var d=t.rotate;return null==d&&(d=e.get("axisLabel.rotate")),o.labelRotation="top"===a?-d:d,o.z2=1,o}Kr({type:"pictorialBar",render:function(e,t,n){var i=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),u=s.grid.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:Bw[+l],categoryDim:Bw[1-l]};return o.diff(a).add(function(d){if(o.hasValue(d)){var h=Uw(o,d),f=zw(o,d,h,c),p=jw(o,c,f);o.setItemGraphicEl(d,p),i.add(p),Xw(p,c,f)}}).update(function(d,h){var x,V,Q,K,ce,f=a.getItemGraphicEl(h);if(o.hasValue(d)){var p=Uw(o,d),m=zw(o,d,p,c),S=Yw(o,m);f&&S!==f.__pictorialShapeStr&&(i.remove(f),o.setItemGraphicEl(d,null),f=null),f?(V=c,K=(Q=m).animationModel,ce=Q.dataIndex,si((x=f).__pictorialBundle,{position:Q.bundlePosition.slice()},K,ce),Q.symbolRepeat?Vw(x,V,Q,!0):Hw(x,0,Q,!0),Ww(x,Q,!0),Gw(x,V,Q,!0)):f=jw(o,c,m,!0),o.setItemGraphicEl(d,f),f.__pictorialSymbolMeta=m,i.add(f),Xw(f,c,m)}else i.remove(f)}).remove(function(d){var h=a.getItemGraphicEl(d);h&&qw(a,d,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=o,this.group},dispose:cn,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(o){qw(i,o.dataIndex,e,o)}):n.removeAll()}}),Xi(gt(px,"pictorialBar")),zi(Bs("pictorialBar","roundRect")),tf.prototype={constructor:tf,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},he(tf,or),Nr.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",function(i,o){var a=new tv(i,e,t);a.name="single_"+o,a.resize(i,t),i.coordinateSystem=a,n.push(a)}),e.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"singleAxis",index:i.get("singleAxisIndex"),id:i.get("singleAxisId")})[0];i.coordinateSystem=o&&o.coordinateSystem}}),n},dimensions:(tv.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:tv,_init:function(e,t,n){var o=new tf(this.dimension,El(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),(e.axis=o).model=e,(o.coordinateSystem=this)._axis=o},update:function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();ee(i.mapDimension(this.dimension,!0),function(o){this._axis.scale.unionExtentFromData(i,o)},this),Xa(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=nr({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(i[o],i[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+t}:function(a){return i-a+t},e.toLocalCoord=o?function(a){return a-t}:function(a){return i-a+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[o]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-o]=0==o?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var rk=["axisLine","axisTickLabel","axisName"],ok=["splitArea","splitLine"],ak=so.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new y;var s=nv(e),l=new Jr(e,s);ee(rk,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),ee(ok,function(u){e.get(u+".show")&&this["_"+u](e)},this),Ed(a,this._axisGroup,e),ak.superCall(this,"render",e,t,n,i)},remove:function(){hb(this)},_splitLine:function(e){var t=e.axis;if(!t.scale.isBlank()){var n=e.getModel("splitLine"),i=n.getModel("lineStyle"),o=i.get("width"),a=i.get("color");a=a instanceof Array?a:[a];for(var s=e.coordinateSystem.getRect(),l=t.isHorizontal(),u=[],c=0,d=t.getTicksCoords({tickModel:n}),h=[],f=[],p=0;p<d.length;++p){var m=t.toGlobalCoord(d[p].coord);l?(h[0]=m,h[1]=s.y,f[0]=m,f[1]=s.y+s.height):(h[0]=s.x,h[1]=m,f[0]=s.x+s.width,f[1]=m);var S=c++%a.length;u[S]=u[S]||[],u[S].push(new _r({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:{lineWidth:o},silent:!0}))}for(p=0;p<u.length;++p)this.group.add(xo(u[p],{style:{stroke:a[p%a.length],lineDash:i.getLineDash(o),lineWidth:o},silent:!0}))}},_splitArea:function(e){db(this,this._axisGroup,e,e)}}),$w=Mi.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});function Kw(e,t){var n,i=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var a=n.getData(),s=cd(a,e);if(null==s||s<0||it(s))return{point:[]};var l=a.getItemGraphicEl(s),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(a.getValues(Me(u.dimensions,function(d){return a.mapDimension(d)}),s,!0))||[];else if(l){var c=l.getBoundingRect().clone();c.applyTransform(l.transform),i=[c.x+c.width/2,c.y+c.height/2]}return{point:i,el:l}}ae($w.prototype,Es),zl("single",$w,function(e,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var na=ee,Jw=gt,Qw=jr();function eC(e,t,n,i,o){var c,d,h,f,p,m,S,x,a=e.axis;if(!a.scale.isBlank()&&a.containData(t))if(e.involveSeries){var s=(f=(h=(d=e).axis).dim,p=c=t,m=[],S=Number.MAX_VALUE,x=-1,na(d.seriesModels,function(V,Q){var K,ce,ue=V.getData().mapDimension(f,!0);if(V.getAxisTooltipData){var de=V.getAxisTooltipData(ue,c,h);ce=de.dataIndices,K=de.nestestValue}else{if(!(ce=V.getData().indicesOfNearest(ue[0],c,"category"===h.type?.5:null)).length)return;K=V.getData().get(ue[0],ce[0])}if(null!=K&&isFinite(K)){var ge=c-K,Ce=Math.abs(ge);Ce<=S&&((Ce<S||0<=ge&&x<0)&&(S=Ce,x=ge,p=K,m.length=0),na(ce,function(Pe){m.push({seriesIndex:V.seriesIndex,dataIndexInside:Pe,dataIndex:V.getData().getRawIndex(Pe)})}))}}),{payloadBatch:m,snapToValue:p}),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==o.seriesIndex&&ne(o,l[0]),!i&&e.snap&&a.containData(u)&&null!=u&&(t=u),n.showPointer(e,t,l,o),n.showTooltip(e,s,u)}else n.showPointer(e,t)}function sk(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function lk(e,t,n,i){var o=n.payloadBatch,a=t.axis,s=a.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=cc(u),d=e.map[c];d||(d=e.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function tC(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function nf(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}oo({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var Sa=jr(),uk=ee;function nC(e,t,n){if(!xe.node){var i=t.getZr();Sa(i).records||(Sa(i).records={}),function(o,a){function s(l,u){o.on(l,function(c){var h,f,p,d=(h=a,{dispatchAction:p=function(m){var S=f[m.type];S?S.push(m):(m.dispatchAction=p,h.dispatchAction(m))},pendings:f={showTip:[],hideTip:[]}});uk(Sa(o).records,function(h){h&&u(h,c,d.dispatchAction)}),function(h,f){var p,m=h.showTip.length,S=h.hideTip.length;m?p=h.showTip[m-1]:S&&(p=h.hideTip[S-1]),p&&(p.dispatchAction=null,f.dispatchAction(p))}(d.pendings,a)})}Sa(o).initialized||(Sa(o).initialized=!0,s("click",gt(iC,"click")),s("mousemove",gt(iC,"mousemove")),s("globalout",ck))}(i,t),(Sa(i).records[e]||(Sa(i).records[e]={})).handler=n}}function ck(e,t,n){e.handler("leave",null,n)}function iC(e,t,n,i){t.handler(e,n,i)}function iv(e,t){if(!xe.node){var n=t.getZr();(Sa(n).records||{})[e]&&(Sa(n).records[e]=null)}}var rC=dr({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";nC("axisPointer",n,function(a,s,l){"none"!==o&&("leave"===a||0<=o.indexOf(a))&&l({type:"updateAxisPointer",currTrigger:a,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(e,t){iv(t.getZr(),"axisPointer"),rC.superApply(this._model,"remove",arguments)},dispose:function(e,t){iv("axisPointer",t),rC.superApply(this._model,"dispose",arguments)}}),$s=jr(),oC=Y,rv=Ke;function Rc(){}function aC(e,t,n,i){!function o(a,s){if(xt(a)&&xt(s)){var l=!0;return ee(s,function(u,c){l=l&&o(a[c],u)}),!!l}return a===s}($s(n).lastProp,i)&&($s(n).lastProp=i,t?si(n,i,e):(n.stopAnimation(),n.attr(i)))}function sC(e,t){e[t.get("label.show")?"show":"hide"]()}function ov(e){return{position:e.position.slice(),rotation:e.rotation||0}}function lC(e,t,n){var i=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(a){"group"!==a.type&&(null!=i&&(a.z=i),null!=o&&(a.zlevel=o),a.silent=n)})}function av(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function uC(e,t,n,i,o){var a=cC(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),s=n.getModel("label"),l=Is(s.get("padding")||0),u=s.getFont(),c=ai(a,u),d=o.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],p=o.align;"right"===p&&(d[0]-=h),"center"===p&&(d[0]-=h/2);var x,V,Q,K,ce,ue,m=o.verticalAlign;"bottom"===m&&(d[1]-=f),"middle"===m&&(d[1]-=f/2),x=d,V=h,Q=f,ce=(K=i).getWidth(),ue=K.getHeight(),x[0]=Math.min(x[0]+V,ce)-V,x[1]=Math.min(x[1]+Q,ue)-Q,x[0]=Math.max(x[0],0),x[1]=Math.max(x[1],0);var S=s.get("backgroundColor");S&&"auto"!==S||(S=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:h,height:f,r:s.get("borderRadius")},position:d.slice(),style:{text:a,textFont:u,textFill:s.getTextColor(),textPosition:"inside",textPadding:l,fill:S,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function cC(e,t,n,i,o){e=t.scale.parse(e);var a=t.scale.getLabel(e,{precision:o.precision}),s=o.formatter;if(s){var l={value:wg(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};ee(i,function(u){var c=n.getSeriesByIndex(u.seriesIndex),h=c&&c.getDataParams(u.dataIndexInside);h&&l.seriesData.push(h)}),dt(s)?a=s.replace("{value}",a):Vt(s)&&(a=s(l))}return a}function sv(e,t,n){var i=yr();return Ao(i,i,n.rotation),Mr(i,i,n.position),Yo([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function dC(e,t,n,i,o,a){var s=Jr.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get("label.margin"),uC(t,i,o,a,{position:sv(i.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function lv(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function hC(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function fC(e,t,n,i,o,a){return{cx:e,cy:t,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}Su((Rc.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(s){var h=gt(aC,t,d);this.updatePointerEl(s,u,h,t),this.updateLabelEl(s,u,h,t)}else s=this._group=new y,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),n.getZr().add(s);lC(s,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,o="category"===i.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"!==n&&null!=n)return!0===n;var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=Og(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1},makeElOption:function(e,t,n,i,o){},createPointerEl:function(e,t,n,i){var o=t.pointer;if(o){var a=$s(e).pointerEl=new ma[o.type](oC(t.pointer));e.add(a)}},createLabelEl:function(e,t,n,i){if(t.label){var o=$s(e).labelEl=new Si(oC(t.label));e.add(o),sC(o,i)}},updatePointerEl:function(e,t,n){var i=$s(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var o=$s(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{shape:t.label.shape,position:t.label.position}),sC(o,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,a=n.getModel("handle"),s=n.get("status");if(!a.get("show")||!s||"hide"===s)return o&&i.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=Ml(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ui(u.event)},onmousedown:rv(this._onHandleDragMove,this,0,0),drift:rv(this._onHandleDragMove,this),ondragend:rv(this._onHandleDragEnd,this)}),i.add(o)),lC(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");it(l)||(l=[l,l]),o.attr("scale",[l[0]/2,l[1]/2]),qu(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){aC(this._axisPointerModel,!t&&this._moveAnimation,this._handle,ov(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(ov(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(ov(i)),$s(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}}).constructor=Rc);var dk=Rc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.grid,l=i.get("type"),u=pC(s,a).getOtherAxis(a).getGlobalExtent(),c=a.toGlobalCoord(a.dataToCoord(t,!0));if(l&&"none"!==l){var d=av(i),h=hk[l](a,c,u);h.style=d,e.graphicKey=h.type,e.pointer=h}dC(t,e,zg(s.model,n),n,i,o)},getHandleTransform:function(e,t,n){var i=zg(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:sv(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.grid,s=o.getGlobalExtent(!0),l=pC(a,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,c=e.position;c[u]+=t[u],c[u]=Math.min(s[1],c[u]),c[u]=Math.max(s[0],c[u]);var d=(l[1]+l[0])/2,h=[d,d];return h[u]=c[u],{position:c,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}});function pC(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var hk={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:lv([t,n[0]],[t,n[1]],gC(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth());return{type:"Rect",shape:hC([t-i/2,n[0]],[i,n[1]-n[0]],gC(e))}}};function gC(e){return"x"===e.dim?0:1}so.registerAxisPointerClass("CartesianAxisPointer",dk),Cr(function(e){if(e){e.axisPointer&&0!==e.axisPointer.length||(e.axisPointer={});var t=e.axisPointer.link;t&&!it(t)&&(e.axisPointer.link=[t])}}),ro(Zo.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function cA(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(i,o,a){var s=o.getComponent("tooltip"),l=o.getComponent("axisPointer"),u=l.get("link",!0)||[],c=[];Hl(a.getCoordinateSystems(),function(d){if(d.axisPointerEnabled){var h=cc(d.model),f=i.coordSysAxesInfo[h]={},p=(i.coordSysMap[h]=d).model.getModel("tooltip",s);if(Hl(d.getAxes(),Rg(V,!1,null)),d.getTooltipAxes&&s&&p.get("show")){var m="axis"===p.get("trigger"),S="cross"===p.get("axisPointer.type"),x=d.getTooltipAxes(p.get("axisPointer.axis"));(m||S)&&Hl(x.baseAxes,Rg(V,!S||"cross",m)),S&&Hl(x.otherAxes,Rg(V,"cross",!1))}}function V(Q,K,ce){var ue=ce.model.getModel("axisPointer",l),de=ue.get("show");if(de&&("auto"!==de||Q||Bg(ue))){null==K&&(K=ue.get("triggerTooltip"));var ge=(ue=Q?function(et,ot,ht,pt,ut,At){var Zt=ot.getModel("axisPointer"),nn={};Hl(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(Vn){nn[Vn]=Y(Zt.get(Vn))}),nn.snap="category"!==et.type&&!!At,"cross"===Zt.get("type")&&(nn.type="line");var jt=nn.label||(nn.label={});if(null==jt.show&&(jt.show=!1),"cross"===ut){var gn=Zt.get("label.show");if(jt.show=null==gn||gn,!At){var Cn=nn.lineStyle=Zt.get("crossStyle");Cn&&pe(jt,Cn.textStyle)}}return et.model.getModel("axisPointer",new vi(nn,ht,pt))}(ce,p,l,o,Q,K):ue).get("snap"),Ce=cc(ce.model),Pe=K||ge||"category"===ce.type,Fe=i.axesInfo[Ce]={key:Ce,axis:ce,coordSys:d,axisPointerModel:ue,triggerTooltip:K,involveSeries:Pe,snap:ge,useHandle:Bg(ue),seriesModels:[]};f[Ce]=Fe,i.seriesInvolved|=Pe;var Ge=function(et,ot){for(var ht=ot.model,pt=ot.dim,ut=0;ut<et.length;ut++){var At=et[ut]||{};if(Eg(At[pt+"AxisId"],ht.id)||Eg(At[pt+"AxisIndex"],ht.componentIndex)||Eg(At[pt+"AxisName"],ht.name))return ut}}(u,ce);if(null!=Ge){var Qe=c[Ge]||(c[Ge]={axesInfo:{}});Qe.axesInfo[Ce]=Fe,Qe.mapper=u[Ge].mapper,Fe.linkGroup=Qe}}}})}(n,e,t),n.seriesInvolved&&function(i,o){o.eachSeries(function(a){var s=a.coordinateSystem,l=a.get("tooltip.trigger",!0),u=a.get("tooltip.show",!0);s&&"none"!==l&&!1!==l&&"item"!==l&&!1!==u&&!1!==a.get("axisPointer.show",!0)&&Hl(i.coordSysAxesInfo[cc(s.model)],function(c){var d=c.axis;s.getAxis(d.dim)===d&&(c.seriesModels.push(a),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})},this)}(n,e),n}(e,t)}),yi({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(e,t,n){var V,Q,ce,i=e.currTrigger,o=[e.x,e.y],a=e,s=e.dispatchAction||Ke(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;if(l){nf(o)&&(o=Kw({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=nf(o),c=a.axesInfo,d=l.axesInfo,h="leave"===i||nf(o),f={},p={},m={list:[],map:{}},S={showPointer:Jw(sk,p),showTooltip:Jw(lk,m)};na(l.coordSysMap,function(V,Q){var K=u||V.containPoint(o);na(l.coordSysAxesInfo[Q],function(ce,ue){var de=ce.axis,ge=function(Pe,Fe){for(var Ge=0;Ge<(Pe||[]).length;Ge++){var Qe=Pe[Ge];if(Fe.axis.dim===Qe.axisDim&&Fe.axis.model.componentIndex===Qe.axisIndex)return Qe}}(c,ce);if(!h&&K&&(!c||ge)){var Ce=ge&&ge.value;null!=Ce||u||(Ce=de.pointToData(o)),null!=Ce&&eC(ce,Ce,S,!1,f)}})});var x={};return na(d,function(V,Q){var K=V.linkGroup;K&&!p[Q]&&na(K.axesInfo,function(ce,ue){var de=p[ue];if(ce!==V&&de){var ge=de.value;K.mapper&&(ge=V.axis.scale.parse(K.mapper(ge,tC(ce),tC(V)))),x[V.key]=ge}})}),na(x,function(V,Q){eC(d[Q],V,S,!0,f)}),V=p,Q=d,ce=f.axesInfo=[],na(Q,function(ue,de){var ge=ue.axisPointerModel.option,Ce=V[de];Ce?(ue.useHandle||(ge.status="show"),ge.value=Ce.value,ge.seriesDataIndices=(Ce.payloadBatch||[]).slice()):ue.useHandle||(ge.status="hide"),"show"===ge.status&&ce.push({axisDim:ue.axis.dim,axisIndex:ue.axis.model.componentIndex,value:ge.value})}),function(V,Q,K,ce){if(nf(Q)||!V.list.length)return ce({type:"hideTip"});var ue=((V.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};ce({type:"showTip",escapeConnect:!0,x:Q[0],y:Q[1],tooltipOption:K.tooltipOption,position:K.position,dataIndexInside:ue.dataIndexInside,dataIndex:ue.dataIndex,seriesIndex:ue.seriesIndex,dataByCoordSys:V.list})}(m,o,e,s),function(V,Q,K){var ce=K.getZr(),ue="axisPointerLastHighlights",de=Qw(ce)[ue]||{},ge=Qw(ce)[ue]={};na(V,function(Fe,Ge){var Qe=Fe.axisPointerModel.option;"show"===Qe.status&&na(Qe.seriesDataIndices,function(et){ge[et.seriesIndex+" | "+et.dataIndex]=et})});var Ce=[],Pe=[];ee(de,function(Fe,Ge){ge[Ge]||Pe.push(Fe)}),ee(ge,function(Fe,Ge){de[Ge]||Ce.push(Fe)}),Pe.length&&K.dispatchAction({type:"downplay",escapeConnect:!0,batch:Pe}),Ce.length&&K.dispatchAction({type:"highlight",escapeConnect:!0,batch:Ce})}(d,0,n),f}});var mC=["x","y"],fk=["width","height"],pk=Rc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis,s=a.coordinateSystem,l=uv(s,1-rf(a)),u=s.dataToPoint(t)[0],c=i.get("type");if(c&&"none"!==c){var d=av(i),h=gk[c](a,u,l);h.style=d,e.graphicKey=h.type,e.pointer=h}dC(t,e,nv(n),n,i,o)},getHandleTransform:function(e,t,n){var i=nv(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:sv(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var o=n.axis,a=o.coordinateSystem,s=rf(o),l=uv(a,s),u=e.position;u[s]+=t[s],u[s]=Math.min(l[1],u[s]),u[s]=Math.max(l[0],u[s]);var c=uv(a,1-s),d=(c[1]+c[0])/2,h=[d,d];return h[s]=u[s],{position:u,rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),gk={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:lv([t,n[0]],[t,n[1]],rf(e))}},shadow:function(e,t,n){var i=e.getBandWidth();return{type:"Rect",shape:hC([t-i/2,n[0]],[i,n[1]-n[0]],rf(e))}}};function rf(e){return e.isHorizontal()?0:1}function uv(e,t){var n=e.getRect();return[n[mC[t]],n[mC[t]]+n[fk[t]]]}so.registerAxisPointerClass("SingleAxisPointer",pk),dr({type:"single"});var mk=Yi.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){mk.superApply(this,"init",arguments),this.legendVisualProvider=new dc(Ke(this.getData,this),Ke(this.getRawData,this))},fixData:function(e){var t=e.length,n={},i=Jf(e,function(d){return n.hasOwnProperty(d[0])||(n[d[0]]=-1),d[2]}),o=[];i.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var a=o.length,s=0;s<a;++s){for(var l=o[s].name,u=0;u<o[s].dataList.length;++u)n[c=o[s].dataList[u][0]]=s;for(var c in n)n.hasOwnProperty(c)&&n[c]!==s&&(n[c]=s,e[t]=[],e[t][0]=c,e[t][1]=0,e[t][2]=l,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=Be(e.data,function(h){return void 0!==h[2]}),o=this.fixData(i||[]),a=[],s=this.nameMap=zt(),l=0,u=0;u<o.length;++u)a.push(o[u][2]),s.get(o[u][2])||(s.set(o[u][2],l),l++);var c=Pl(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ch(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),d=new hr(c,this);return d.initData(o),d},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var o=e.mapDimension("single"),a=Jf(n,function(l){return e.get("name",l)}),s=[];return a.buckets.each(function(l,u){l.sort(function(c,d){return e.get(o,c)-e.get(o,d)}),s.push({name:u,indices:l})}),s},getAxisTooltipData:function(e,t,n){it(e)||(e=e?[e]:[]);for(var i,o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u=0;u<l;++u){for(var c=Number.MAX_VALUE,d=-1,h=a[u].indices.length,f=0;f<h;++f){var p=o.get(e[0],a[u].indices[f]),m=Math.abs(p-t);m<=c&&(i=p,c=m,d=a[u].indices[f])}s.push(d)}return{dataIndices:s,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return!isNaN(i)&&null!=i||(i="-"),Wi(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});function vC(e,t,n){if(e.count())for(var i,o=t.coordinateSystem,a=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=Me(a,function(x){return Me(x.indices,function(V){var Q=o.dataToPoint(e.get(s,V));return Q[1]=e.get(l,V),Q})}),c=function(x){for(var V=x.length,Q=x[0].length,K=[],ce=[],ue=0,de={},ge=0;ge<Q;++ge){for(var Ce=0,Pe=0;Ce<V;++Ce)Pe+=x[Ce][ge][1];ue<Pe&&(ue=Pe),K.push(Pe)}for(var Fe=0;Fe<Q;++Fe)ce[Fe]=(ue-K[Fe])/2;for(var Ge=ue=0;Ge<Q;++Ge){var Qe=K[Ge]+ce[Ge];ue<Qe&&(ue=Qe)}return de.y0=ce,de.max=ue,de}(u),d=c.y0,h=n/c.max,f=a.length,p=a[0].indices.length,m=0;m<p;++m){e.setItemLayout(a[0].indices[m],{layerIndex:0,x:u[0][m][0],y0:i=d[m]*h,y:u[0][m][1]*h});for(var S=1;S<f;++S)e.setItemLayout(a[S].indices[m],{layerIndex:S,x:u[S][m][0],y0:i+=u[S-1][m][1]*h,y:u[S][m][1]*h})}}Kr({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){var i=e.getData(),o=this.group,a=e.getLayerSeries(),s=i.getLayout("layoutInfo");function c(p){return p.name}o.attr("position",[0,s.rect.y+s.boundaryGap[0]]);var d=new xa(this._layersSeries||[],a,c,c),h={};function f(p,m,S){var Zt,nn,gn,x=this._layers;if("remove"!==p){for(var V,Q,K,ce=[],ue=[],de=a[m].indices,ge=0;ge<de.length;ge++){var Ce=i.getItemLayout(de[ge]),Pe=Ce.x,Fe=Ce.y0,Ge=Ce.y;ce.push([Pe,Fe]),ue.push([Pe,Fe+Ge]),V=i.getItemVisual(de[ge],"color")}var Qe=i.getItemLayout(de[0]),et=i.getItemModel(de[ge-1]),ot=et.getModel("label"),ht=ot.get("margin");if("add"===p){var pt=h[m]=new y;Q=new Hx({shape:{points:ce,stackedOnPoints:ue,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),K=new fi({style:{x:Qe.x-ht,y:Qe.y0+Qe.y/2}}),pt.add(Q),pt.add(K),o.add(pt),Q.setClipPath((Zt=Q.getBoundingRect(),nn=e,kr(gn=new Si({shape:{x:Zt.x-10,y:Zt.y-10,width:0,height:Zt.height+20}}),{shape:{width:Zt.width+20,height:Zt.height+20}},nn,function(){Q.removeClipPath()}),gn))}else Q=(pt=x[S]).childAt(0),K=pt.childAt(1),o.add(pt),h[m]=pt,si(Q,{shape:{points:ce,stackedOnPoints:ue}},e),si(K,{style:{x:Qe.x-ht,y:Qe.y0+Qe.y/2}},e);var ut=et.getModel("emphasis.itemStyle"),At=et.getModel("itemStyle");qi(K.style,ot,{text:ot.get("show")?e.getFormattedLabel(de[ge-1],"normal")||i.getName(de[ge-1]):null,textVerticalAlign:"middle"}),Q.setStyle(ne({fill:V},At.getItemStyle(["color"]))),Vi(Q,ut.getItemStyle())}else o.remove(x[m])}d.add(Ke(f,this,"add")).update(Ke(f,this,"update")).remove(Ke(f,this,"remove")).execute(),this._layersSeries=a,this._layers=h},dispose:function(){}}),Xi(function(e,t){e.eachSeriesByType("themeRiver",function(n){var i=n.getData(),o=n.coordinateSystem,a={},s=o.getRect();a.rect=s;var l=n.get("boundaryGap"),u=o.getAxis();a.boundaryGap=l,"horizontal"===u.orient?(l[0]=An(l[0],s.height),l[1]=An(l[1],s.height),vC(i,n,s.height-l[0]-l[1])):(l[0]=An(l[0],s.width),l[1]=An(l[1],s.width),vC(i,n,s.width-l[0]-l[1])),i.setLayout("layoutInfo",a)})}),zi(function(e){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.getRawData(),o=t.get("color"),a=zt();n.each(function(s){a.set(n.getRawIndex(s),s)}),i.each(function(s){var l=i.getName(s),u=o[(t.nameMap.get(l)-1)%o.length];i.setItemVisual(s,"color",u);var c=a.get(s);null!=c&&n.setItemVisual(c,"color",u)})})}),ro(hc("themeRiver")),Yi.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};!function a(s){var l=0;ee(s.children,function(c){a(c);var d=c.value;it(d)&&(d=d[0]),l+=d});var u=s.value;it(u)&&(u=u[0]),null!=u&&!isNaN(u)||(u=l),u<0&&(u=0),it(s.value)?s.value[0]=u:s.value=u}(n);var i=Me(e.levels||[],function(a){return new vi(a,this,t)},this),o=Vs.createTree(n,this,function(a){a.wrapMethod("getItemModel",function(s,l){var u=o.getNodeByDataIndex(l),c=i[u.depth];return c&&(s.parentModel=c),s})});return o.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=Yi.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=am(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var xk=2,bk=4;function of(e,t,n){y.call(this);var i=new Do({z2:xk});i.seriesIndex=t.seriesIndex;var o=new fi({z2:bk,silent:e.getModel("label").get("silent")});function a(){o.ignore=o.hoverIgnore}function s(){o.ignore=o.normalIgnore}this.add(i),this.add(o),this.updateData(!0,e,"normal",t,n),this.on("emphasis",a).on("normal",s).on("mouseover",a).on("mouseout",s)}var Ks=of.prototype;Ks.updateData=function(e,t,n,i,o){(this.node=t).piece=this,i=i||this._seriesModel,o=o||this._ecModel;var a=this.childAt(0);a.dataIndex=t.dataIndex;var s=t.getModel(),l=t.getLayout(),u=ne({},l);u.label=null;var m,x,c=function(m,S,x){var V=m.getVisual("color"),Q=m.getVisual("visualMeta");Q&&0!==Q.length||(V=null);var K=m.getModel("itemStyle").get("color");if(K)return K;if(V)return V;if(0===m.depth)return x.option.color[0];var ce=x.option.color.length;return x.option.color[function(ue){for(var de=ue;1<de.depth;)de=de.parentNode;return De(ue.getAncestors()[0].children,de)}(m)%ce]}(t,0,o);m=t,x=c,i.getData().setItemVisual(m.dataIndex,"color",x);var d,h=s.getModel("itemStyle").getItemStyle();d=pe({lineJoin:"bevel",fill:(d="normal"===n?h:ae(s.getModel(n+".itemStyle").getItemStyle(),h)).fill||c},d),e?(a.setShape(u),a.shape.r=l.r0,si(a,{shape:{r:l.r}},i,t.dataIndex),a.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof a.style.fill&&a.style.fill.type?(si(a,{shape:u},i),a.useStyle(d)):si(a,{shape:u,style:d},i),this._updateLabel(i,c,n);var f=s.getShallow("cursor");if(f&&a.attr("cursor",f),e){var p=i.getShallow("highlightPolicy");this._initEvents(a,t,i,p)}this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel,Vi(this)},Ks.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):function(i,o,a){return"none"!==a&&("self"===a?i===o:"ancestor"===a?i===o||i.isAncestorOf(o):i===o||i.isDescendantOf(o))}(n,t.node,e)?n.piece.childAt(0).trigger("highlight"):"none"!==e&&n.piece.childAt(0).trigger("downplay"))})},Ks.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},Ks.onHighlight=function(){this.updateData(!1,this.node,"highlight")},Ks.onDownplay=function(){this.updateData(!1,this.node,"downplay")},Ks._updateLabel=function(e,t,n){var i=this.node.getModel(),o=i.getModel("label"),a="normal"===n||"emphasis"===n?o:i.getModel(n+".label"),s=i.getModel("emphasis.label"),l=a.get("formatter")?n:"normal",u=dn(e.getFormattedLabel(this.node.dataIndex,l,null,null,"label"),this.node.name);!1===Ce("show")&&(u="");var c=this.node.getLayout(),d=a.get("minAngle");null==d&&(d=o.get("minAngle")),null!=(d=d/180*Math.PI)&&Math.abs(c.endAngle-c.startAngle)<d&&(u="");var f=this.childAt(1);no(f.style,f.hoverStyle||{},o,s,{defaultText:a.getShallow("show")?u:null,autoColor:t,useInsideStyle:!0});var p,m=(c.startAngle+c.endAngle)/2,S=Math.cos(m),x=Math.sin(m),V=Ce("position"),Q=Ce("distance")||0,K=Ce("align");"outside"===V?(p=c.r+Q,K=m>Math.PI/2?"right":"left"):K&&"center"!==K?"left"===K?(p=c.r0+Q,m>Math.PI/2&&(K="right")):"right"===K&&(p=c.r-Q,m>Math.PI/2&&(K="left")):(p=(c.r+c.r0)/2,K="center"),f.attr("style",{text:u,textAlign:K,textVerticalAlign:Ce("verticalAlign")||"middle",opacity:Ce("opacity")}),f.attr("position",[p*S+c.cx,p*x+c.cy]);var de=Ce("rotate"),ge=0;function Ce(Pe){return a.get(Pe)??o.get(Pe)}"radial"===de?(ge=-m)<-Math.PI/2&&(ge+=Math.PI):"tangential"===de?(ge=Math.PI/2-m)>Math.PI/2?ge-=Math.PI:ge<-Math.PI/2&&(ge+=Math.PI):"number"==typeof de&&(ge=de*Math.PI/180),f.attr("rotation",ge)},Ks._initEvents=function(e,t,n,i){function o(){s.onEmphasis(i)}function a(){s.onNormal()}e.off("mouseover").off("mouseout").off("emphasis").off("normal");var s=this;n.isAnimationEnabled()&&e.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",function(){s.onDownplay()}).on("highlight",function(){s.onHighlight()})},he(of,y),mr.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var a=e.getData(),s=a.tree.root,l=e.getViewRoot(),u=this.group,c=e.get("renderLabelForZeroData"),d=[];if(l.eachNode(function(m){d.push(m)}),function(m,S){function x(Q){return Q.getId()}function V(Q,K){!function(ce,ue){if(c||!ce||ce.getValue()||(ce=null),ce!==s&&ue!==s)if(ue&&ue.piece)ce?(ue.piece.updateData(!1,ce,"normal",e,t),a.setItemGraphicEl(ce.dataIndex,ue.piece)):(ge=ue)&&ge.piece&&(u.remove(ge.piece),ge.piece=null);else if(ce){var de=new of(ce,e,t);u.add(de),a.setItemGraphicEl(ce.dataIndex,de)}var ge}(null==Q?null:m[Q],null==K?null:S[K])}0===m.length&&0===S.length||new xa(S,m,x,x).add(V).update(V).remove(gt(V,null)).execute()}(d,this._oldChildren||[]),function(m,S){if(0<S.depth){o.virtualPiece?o.virtualPiece.updateData(!1,m,"normal",e,t):(o.virtualPiece=new of(m,e,t),u.add(o.virtualPiece)),S.piece._onclickEvent&&S.piece.off("click",S.piece._onclickEvent);var x=function(V){o._rootToNode(S.parentNode)};S.piece._onclickEvent=x,o.virtualPiece.on("click",x)}else o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null)}(s,l),i&&i.highlight&&i.highlight.piece){var f=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(f)}else if(i&&i.unhighlight){var p=this.virtualPiece;!p&&s.children.length&&(p=s.children[0].piece),p&&p.onNormal()}this._initEvents(),this._oldChildren=d},dispose:function(){},_initEvents:function(){function e(n){var i=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!i&&o.piece&&o.piece.childAt(0)===n.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)t._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&zu(l,s.get("target",!0)||"_blank")}i=!0}})}var t=this;this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,a=Math.sqrt(i*i+o*o);return a<=n.r&&a>=n.r0}}});var xC="sunburstRootToNode";yi({type:xC,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=xc(e,[xC],n);if(o){var a=n.getViewRoot();a&&(e.direction=om(a,o.node)?"rollUp":"drillDown"),n.resetViewRoot(o.node)}})});var bC="sunburstHighlight";yi({type:bC,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){var o=xc(e,[bC],n);o&&(e.highlight=o.node)})}),yi({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(n,i){e.unhighlight=!0})});var _C=Math.PI/180;function wk(e,t){return t=t||[0,0],Me(["x","y"],function(n,i){var o=this.getAxis(n),a=t[i],s=e[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s))},this)}function Ck(e,t){return t=t||[0,0],Me([0,1],function(n){var i=t[n],o=e[n]/2,a=[],s=[];return a[n]=i-o,s[n]=i+o,a[1-n]=s[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(s)[n])},this)}function Sk(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}function Mk(e,t){return Me(["Radius","Angle"],function(n,i){var o=this["get"+n+"Axis"](),a=t[i],s=e[i]/2,l="dataTo"+n,u="category"===o.type?o.getBandWidth():Math.abs(o[l](a-s)-o[l](a+s));return"Angle"===n&&(u=u*Math.PI/180),u},this)}zi(gt(Th,"sunburst")),Xi(gt(function(e,t,n,i){t.eachSeriesByType(e,function(o){var a=o.get("center"),s=o.get("radius");it(s)||(s=[0,s]),it(a)||(a=[a,a]);var l=n.getWidth(),u=n.getHeight(),c=Math.min(l,u),d=An(a[0],l),h=An(a[1],u),f=An(s[0],c/2),p=An(s[1],c/2),m=-o.get("startAngle")*_C,S=o.get("minAngle")*_C,x=o.getData().tree.root,V=o.getViewRoot(),Q=V.depth,K=o.get("sort");null!=K&&function ut(At,Zt){var nn=At.children||[];At.children=function _k(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort(function(i,o){var a=(i.getValue()-o.getValue())*(n?1:-1);return 0==a?(i.dataIndex-o.dataIndex)*(n?-1:1):a})}(nn,Zt),nn.length&&ee(At.children,function(jt){ut(jt,Zt)})}(V,K);var ce=0;ee(V.children,function(ut){isNaN(ut.getValue())||ce++});var ue=V.getValue(),de=Math.PI/(ue||ce)*2,ge=0<V.depth,Pe=(p-f)/(V.height-(ge?-1:1)||1),Fe=o.get("clockwise"),Ge=o.get("stillShowZeroSum"),Qe=Fe?1:-1,et=function(ut,At){if(ut){var Zt=At;if(ut!==x){var nn=ut.getValue(),jt=0===ue&&Ge?de:nn*de;jt<S&&(jt=S),Zt=At+Qe*jt;var gn=ut.depth-Q-(ge?-1:1),Cn=f+Pe*gn,Vn=f+Pe*(1+gn),sn=ut.getModel();null!=sn.get("r0")&&(Cn=An(sn.get("r0"),c/2)),null!=sn.get("r")&&(Vn=An(sn.get("r"),c/2)),ut.setLayout({angle:jt,startAngle:At,endAngle:Zt,clockwise:Fe,cx:d,cy:h,r0:Cn,r:Vn})}if(ut.children&&ut.children.length){var Bn=0;ee(ut.children,function(Hn){Bn+=et(Hn,At+Bn)})}return Zt-At}};if(ge){var pt=2*Math.PI;x.setLayout({angle:pt,startAngle:m,endAngle:m+pt,clockwise:Fe,cx:d,cy:h,r0:f,r:f+Pe})}et(V,m)})},"sunburst")),ro(gt(hc,"sunburst"));var wC=cy,Tk=["itemStyle"],Ak=["emphasis","itemStyle"],Ik=["label"],kk=["emphasis","label"],Dk="e\0\0",Nk={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Ke(wk,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(n){return e.dataToPoint(n)},size:Ke(Ck,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Ke(Sk,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:Ke(function(o){var a=t.dataToRadius(o[0]),s=n.dataToAngle(o[1]),l=e.coordToPoint([a,s]);return l.push(a,s*Math.PI/180),l}),size:Ke(Mk,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(i,o){return e.dataToPoint(i,o)}}}}};function CC(e,t,n,i,o){null==n[e]||o||(t[e]=n[e],n[e]=i[e])}function SC(e,t,n,i){var o=e.get("renderItem"),a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms():Nk[a.type](a));var l,u,c,d,h,x,V,f=pe({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(x,V){return null==V&&(V=l),t.get(t.getDimension(x||0),V)},style:function(x,V){null==V&&(V=l),S(V);var Q=u.getModel(Tk).getItemStyle();null!=h&&(Q.fill=h);var K=t.getItemVisual(V,"opacity");null!=K&&(Q.opacity=K);var ce=x?AC(x,c):c;return qi(Q,ce,null,{autoColor:h,isRectText:!0}),Q.text=ce.getShallow("show")?Pt(e.getFormattedLabel(V,"normal"),yh(t,V)):null,x&&IC(Q,x),Q},styleEmphasis:function(x,V){null==V&&(V=l),S(V);var Q=u.getModel(Ak).getItemStyle(),K=x?AC(x,d):d;return qi(Q,K,null,{isRectText:!0},!0),Q.text=K.getShallow("show")?yn(e.getFormattedLabel(V,"emphasis"),e.getFormattedLabel(V,"normal"),yh(t,V)):null,x&&IC(Q,x),Q},visual:function(x,V){return null==V&&(V=l),t.getItemVisual(V,x)},barLayout:function(x){if(a.getBaseAxis)return function(V){var Q=[],K=V.axis;if("category"===K.type){for(var ce=K.getBandWidth(),ue=0;ue<V.count;ue++)Q.push(pe({bandWidth:ce,axisKey:"axis0",stackId:gg+ue},V));var de=hx(Q),ge=[];for(ue=0;ue<V.count;ue++){var Ce=de.axis0[gg+ue];Ce.offsetCenter=Ce.offset+Ce.width/2,ge.push(Ce)}return ge}}(pe({axis:a.getBaseAxis()},x))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(x){return pp(x,n)}},s.api||{}),p={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:(x=e.getData(),V={},ee(x.dimensions,function(Q,K){var ce=x.getDimensionInfo(Q);if(!ce.isExtraCoord){var ue=ce.coordDim;(V[ue]=V[ue]||[])[ce.coordDimIndex]=K}}),V)},m=!0;return function(x,V){return l=x,m=!0,o&&o(pe({dataIndexInside:x,dataIndex:t.getRawIndex(x),actionType:V?V.type:null},p),f)};function S(x){null==x&&(x=l),m&&(u=t.getItemModel(x),c=u.getModel(Ik),d=u.getModel(kk),h=t.getItemVisual(x,"color"),m=!1)}}function cv(e,t,n,i,o,a){return(e=dv(e,t,n,i,o,a,!0))&&a.setItemGraphicEl(t,e),e}function dv(e,t,n,i,o,a,s){var f,l=!n,u=(n=n||{}).type,c=n.shape,d=n.style;if(e&&(l||null!=u&&u!==e.__customGraphicType||"path"===u&&(f=c)&&(f.hasOwnProperty("pathData")||f.hasOwnProperty("d"))&&kC(c)!==e.__customPathData||"image"===u&&DC(d,"image")&&d.image!==e.__customImagePath||"text"===u&&DC(c,"text")&&d.text!==e.__customText)&&(o.remove(e),e=null),!l){var h=!e;return function(f,p,m,S,x,V,Q){var K={},ce=m.style||{};if(m.shape&&(K.shape=Y(m.shape)),m.position&&(K.position=m.position.slice()),m.scale&&(K.scale=m.scale.slice()),m.origin&&(K.origin=m.origin.slice()),m.rotation&&(K.rotation=m.rotation),"image"===f.type&&m.style){var ue=K.style={};ee(["x","y","width","height"],function(Ce){CC(Ce,ue,ce,f.style,V)})}if("text"===f.type&&m.style&&(ue=K.style={},ee(["x","y"],function(Ce){CC(Ce,ue,ce,f.style,V)}),!ce.hasOwnProperty("textFill")&&ce.fill&&(ce.textFill=ce.fill),!ce.hasOwnProperty("textStroke")&&ce.stroke&&(ce.textStroke=ce.stroke)),"group"!==f.type&&(f.useStyle(ce),V)){f.style.opacity=0;var de=ce.opacity;null==de&&(de=1),kr(f,{style:{opacity:de}},S,p)}V?f.attr(K):si(f,K,S,p),m.hasOwnProperty("z2")&&f.attr("z2",m.z2||0),m.hasOwnProperty("silent")&&f.attr("silent",m.silent),m.hasOwnProperty("invisible")&&f.attr("invisible",m.invisible),m.hasOwnProperty("ignore")&&f.attr("ignore",m.ignore),m.hasOwnProperty("info")&&f.attr("info",m.info);var ge=m.styleEmphasis;Pu(f,ge),Q&&Ms(f,!1!==ge)}(e=e||function(f){var p,m=f.type;if("path"===m){var S=f.shape,x=null!=S.width&&null!=S.height?{x:S.x||0,y:S.y||0,width:S.width,height:S.height}:null,V=kC(S);(p=Dd(V,null,x,S.layout||"center")).__customPathData=V}else if("image"===m)(p=new gi({})).__customImagePath=f.style.image;else if("text"===m)(p=new fi({})).__customText=f.style.text;else if("group"===m)p=new y;else{if("compoundPath"===m)throw new Error('"compoundPath" is not supported yet.');p=new(cp(m))}return p.__customGraphicType=m,p.name=f.name,p}(n),t,n,i,0,h,s),"group"===u&&function(f,p,m,S,x){var ge,V=m.children,Q=V?V.length:0,K=m.$mergeChildren,ce="byName"===K||m.diffChildrenByName,ue=!1===K;if(Q||ce||ue){if(ce)return void new xa((ge={oldChildren:f.children()||[],newChildren:V||[],dataIndex:p,animatableModel:S,group:f,data:x}).oldChildren,ge.newChildren,MC,MC,ge).add(TC).update(TC).remove(Pk).execute();ue&&f.removeAll();for(var de=0;de<Q;de++)V[de]&&dv(f.childAt(de),p,V[de],S,f,x)}}(e,t,n,i,a),o.add(e),e}}function MC(e,t){return(e&&e.name)??Dk+t}function TC(e,t){var n=this.context;dv(null!=t?n.oldChildren[t]:null,n.dataIndex,null!=e?n.newChildren[e]:null,n.animatableModel,n.group,n.data)}function AC(e,t){var n=new vi({},t);return ee(wC,function(i,o){e.hasOwnProperty(i)&&(n.option[o]=e[i])}),n}function IC(e,t){for(var n in t)!t.hasOwnProperty(n)&&wC.hasOwnProperty(n)||(e[n]=t[n])}function Pk(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function kC(e){return e&&(e.pathData||e.d)}function DC(e,t){return e&&e.hasOwnProperty(t)}function NC(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function PC(e,t){return t.dim+e.model.componentIndex}function af(e,t){or.call(this,"radius",e,t),this.type="category"}Yi.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(e,t){return _a(this.getSource(),this)},getDataParams:function(e,t,n){var i=Yi.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),mr.extend({type:"custom",_data:null,render:function(e,t,n,i){var o=this._data,a=e.getData(),s=this.group,l=SC(e,a,t,n);a.diff(o).add(function(c){cv(null,c,l(c,i),e,s,a)}).update(function(c,d){cv(o.getItemGraphicEl(d),c,l(c,i),e,s,a)}).remove(function(c){var d=o.getItemGraphicEl(c);d&&s.remove(d)}).execute();var u=e.get("clip",!0)?bh(e.coordinateSystem,!1,e):null;u?s.setClipPath(u):s.removeClipPath(),this._data=a},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i,o){var a=t.getData(),s=SC(t,a,n,i);function l(c){c.isGroup||(c.incremental=!0,c.useHoverLayer=!0)}for(var u=e.start;u<e.end;u++)cv(null,u,s(u,o),t,this.group,a).traverse(l)},dispose:cn,filterForExposedEvent:function(e,t,n,i){var o=t.element;if(null==o||n.name===o)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1}}),af.prototype={constructor:af,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:or.prototype.dataToCoord,radiusToData:or.prototype.coordToData},he(af,or);var Lk=jr();function sf(e,t){or.call(this,"angle",e,t=t||[0,360]),this.type="category"}function lf(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new af,this._angleAxis=new sf,this._radiusAxis.polar=this._angleAxis.polar=this}sf.prototype={constructor:sf,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:or.prototype.dataToCoord,angleToData:or.prototype.coordToData,calculateCategoryInterval:function(){var e=this.getLabelModel(),t=this.scale,n=t.getExtent(),i=t.count();if(n[1]-n[0]<1)return 0;var o=n[0],a=this.dataToCoord(o+1)-this.dataToCoord(o),s=Math.abs(a),l=ai(o,e.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=Lk(this.model),h=d.lastAutoInterval,f=d.lastTickCount;return null!=h&&null!=f&&Math.abs(h-c)<=1&&Math.abs(f-i)<=1&&c<h?c=h:(d.lastTickCount=i,d.lastAutoInterval=c),c}},he(sf,or),lf.prototype={type:"polar",axisPointerEnabled:!0,constructor:lf,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);i.inverse?a=s-360:s=a+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<a?1:-1;u<a||s<u;)u+=360*c;return[l,u]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},getArea:function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l,c=this.r,d=this.r0;return u<=c*c&&d*d<=u}}}};var hv=Mi.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});function LC(e,t){return t.type||(t.data?"category":"value")}function Ek(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries(function(l){if(l.coordinateSystem===n){var u=l.getData();ee(u.mapDimension("radius",!0),function(c){o.scale.unionExtentFromData(u,nc(u,c))}),ee(u.mapDimension("angle",!0),function(c){i.scale.unionExtentFromData(u,nc(u,c))})}}),Xa(i.scale,i.model),Xa(o.scale,o.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function RC(e,t){if(e.type=t.get("type"),e.scale=El(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}(t.axis=e).model=t}ae(hv.prototype,Es),zl("angle",hv,LC,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),zl("radius",hv,LC,{splitNumber:5}),oo({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),Nr.register("polar",{dimensions:lf.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",function(i,o){var a=new lf(o);a.update=Ek;var s=a.getRadiusAxis(),l=a.getAngleAxis(),u=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");RC(s,u),RC(l,c),function(d,h,f){var p=h.get("center"),m=f.getWidth(),S=f.getHeight();d.cx=An(p[0],m),d.cy=An(p[1],S);var x=d.getRadiusAxis(),V=Math.min(m,S)/2,Q=h.get("radius");null==Q?Q=[0,"100%"]:it(Q)||(Q=[0,Q]),Q=[An(Q[0],V),An(Q[1],V)],x.inverse?x.setExtent(Q[1],Q[0]):x.setExtent(Q[0],Q[1])}(a,i,t),n.push(a),(i.coordinateSystem=a).model=i}),e.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var o=e.queryComponents({mainType:"polar",index:i.get("polarIndex"),id:i.get("polarId")})[0];i.coordinateSystem=o.coordinateSystem}}),n}});var Ok=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function uf(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function cf(e){return e.getRadiusAxis().inverse?0:1}function EC(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}so.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),l=Me(n.getViewLabels(),function(u){return(u=Y(u)).coord=n.dataToCoord(u.tickValue),u});EC(l),EC(a),ee(Ok,function(u){!e.get(u+".show")||n.scale.isBlank()&&"axisLine"!==u||this["_"+u](e,i,a,s,o,l)},this)}},_axisLine:function(e,t,n,i,o){var a,s=e.getModel("axisLine.lineStyle"),l=cf(t),u=l?0:1;(a=0===o[u]?new Uo({shape:{cx:t.cx,cy:t.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new Sd({shape:{cx:t.cx,cy:t.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(e,t,n,i,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[cf(t)],u=Me(n,function(c){return new _r({shape:uf(t,[l,l+s],c.coord)})});this.group.add(xo(u,{style:pe(a.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_minorTick:function(e,t,n,i,o){if(i.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[cf(t)],c=[],d=0;d<i.length;d++)for(var h=0;h<i[d].length;h++)c.push(new _r({shape:uf(t,[u,u+l],i[d][h].coord)}));this.group.add(xo(c,{style:pe(s.getModel("lineStyle").getLineStyle(),pe(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(e,t,n,i,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");ee(a,function(d,h){var f=l,p=d.tickValue,m=o[cf(t)],S=t.coordToPoint([m+u,d.coord]),x=t.cx,V=t.cy,Q=Math.abs(S[0]-x)/m<.3?"center":S[0]>x?"left":"right",K=Math.abs(S[1]-V)/m<.3?"middle":S[1]>V?"top":"bottom";s&&s[p]&&s[p].textStyle&&(f=new vi(s[p].textStyle,l,l.ecModel));var ce=new fi({silent:Jr.isLabelSilent(e)});this.group.add(ce),qi(ce.style,f,{x:S[0],y:S[1],textFill:f.getTextColor()||e.get("axisLine.lineStyle.color"),text:d.formattedLabel,textAlign:Q,textVerticalAlign:K}),c&&(ce.eventData=Jr.makeAxisEventDataBase(e),ce.eventData.targetType="axisLabel",ce.eventData.value=d.rawLabel)},this)},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<n.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new _r({shape:uf(t,o,n[c].coord)}))}for(c=0;c<u.length;c++)this.group.add(xo(u[c],{style:pe({stroke:s[c%s.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_minorSplitLine:function(e,t,n,i,o){if(i.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<i.length;l++)for(var u=0;u<i[l].length;u++)s.push(new _r({shape:uf(t,o,i[l][u].coord)}));this.group.add(xo(s,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},_splitArea:function(e,t,n,i,o){if(n.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=Math.PI/180,d=-n[0].coord*c,h=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),p=e.get("clockwise"),m=1;m<n.length;m++){var S=l++%s.length;u[S]=u[S]||[],u[S].push(new Do({shape:{cx:t.cx,cy:t.cy,r0:h,r:f,startAngle:d,endAngle:-n[m].coord*c,clockwise:p},silent:!0})),d=-n[m].coord*c}for(m=0;m<u.length;m++)this.group.add(xo(u[m],{style:pe({fill:s[m%s.length]},a.getAreaStyle()),silent:!0}))}}});var Bk=["axisLine","axisTickLabel","axisName"],zk=["splitLine","splitArea","minorSplitLine"];so.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getAngleAxis(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),l=o.getExtent()[0],u=n.getExtent(),c={position:[(h=i).cx,h.cy],rotation:l/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},d=new Jr(e,c);ee(Bk,d.add,d),this.group.add(d.getGroup()),ee(zk,function(h){e.get(h+".show")&&!n.scale.isBlank()&&this["_"+h](e,i,l,u,a,s)},this)}var h},_splitLine:function(e,t,n,i,o){var a=e.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=0;c<o.length;c++){var d=l++%s.length;u[d]=u[d]||[],u[d].push(new Uo({shape:{cx:t.cx,cy:t.cy,r:o[c].coord}}))}for(c=0;c<u.length;c++)this.group.add(xo(u[c],{style:pe({stroke:s[c%s.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(e,t,n,i,o,a){if(a.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)l.push(new Uo({shape:{cx:t.cx,cy:t.cy,r:a[u][c].coord}}));this.group.add(xo(l,{style:pe({fill:null},s.getLineStyle()),silent:!0}))}},_splitArea:function(e,t,n,i,o){if(o.length){var a=e.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=o[0].coord,d=1;d<o.length;d++){var h=l++%s.length;u[h]=u[h]||[],u[h].push(new Do({shape:{cx:t.cx,cy:t.cy,r0:c,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=o[d].coord}for(d=0;d<u.length;d++)this.group.add(xo(u[d],{style:pe({fill:s[d%s.length]},a.getAreaStyle()),silent:!0}))}}});var Fk=Rc.extend({makeElOption:function(e,t,n,i,o){var a=n.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var s,l=a.polar,u=l.getOtherAxis(a).getExtent();s=a["dataTo"+Fd(a.dim)](t);var c=i.get("type");if(c&&"none"!==c){var d=av(i),h=Vk[c](a,l,s,u,d);h.style=d,e.graphicKey=h.type,e.pointer=h}var f=i.get("label.margin");uC(e,n,i,o,function(p,m,S,x,V){var Q=m.axis,K=Q.dataToCoord(p),ce=x.getAngleAxis().getExtent()[0];ce=ce/180*Math.PI;var ue,de,ge,Ce=x.getRadiusAxis().getExtent();if("radius"===Q.dim){var Pe=yr();Ao(Pe,Pe,ce),Mr(Pe,Pe,[x.cx,x.cy]),ue=Yo([K,-V],Pe);var Fe=m.getModel("axisLabel").get("rotate")||0,Ge=Jr.innerTextLayout(ce,Fe*Math.PI/180,-1);de=Ge.textAlign,ge=Ge.textVerticalAlign}else{var Qe=Ce[1];ue=x.coordToPoint([Qe+V,K]);var et=x.cx,ot=x.cy;de=Math.abs(ue[0]-et)/Qe<.3?"center":ue[0]>et?"left":"right",ge=Math.abs(ue[1]-ot)/Qe<.3?"middle":ue[1]>ot?"top":"bottom"}return{position:ue,align:de,verticalAlign:ge}}(t,n,0,l,f))}}),Vk={line:function(e,t,n,i,o){return"angle"===e.dim?{type:"Line",shape:lv(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,o){var a=Math.max(1,e.getBandWidth()),s=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:fC(t.cx,t.cy,i[0],i[1],(-n-a/2)*s,(a/2-n)*s)}:{type:"Sector",shape:fC(t.cx,t.cy,n-a/2,n+a/2,0,2*Math.PI)}}};function fv(e,t){t.update="updateView",yi(t,function(n,i){var o={};return i.eachComponent({mainType:"geo",query:n},function(a){a[e](n.name),ee(a.coordinateSystem.regions,function(s){o[s.name]=a.isSelected(s.name)||!1})}),{selected:o,name:n.name}})}function Ma(e,t,n){this._model=e}function OC(e,t,n,i){var o=n.calendarModel,a=n.seriesModel,s=o?o.coordinateSystem:a?a.coordinateSystem:null;return s===this?s[e](i):null}so.registerAxisPointerClass("PolarAxisPointer",Fk),Xi(gt(function(e,t,n){var i={},o=function(a){var s={};ee(a,function(u,c){var d=u.getData(),h=u.coordinateSystem,f=h.getBaseAxis(),p=PC(h,f),m=f.getExtent(),S="category"===f.type?f.getBandWidth():Math.abs(m[1]-m[0])/d.count(),x=s[p]||{bandWidth:S,remainedWidth:S,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},V=x.stacks;s[p]=x;var Q=NC(u);V[Q]||x.autoWidthCount++,V[Q]=V[Q]||{width:0,maxWidth:0};var K=An(u.get("barWidth"),S),ce=An(u.get("barMaxWidth"),S),ue=u.get("barGap"),de=u.get("barCategoryGap");K&&!V[Q].width&&(K=Math.min(x.remainedWidth,K),V[Q].width=K,x.remainedWidth-=K),ce&&(V[Q].maxWidth=ce),null!=ue&&(x.gap=ue),null!=de&&(x.categoryGap=de)});var l={};return ee(s,function(u,c){l[c]={};var d=u.stacks,f=An(u.categoryGap,u.bandWidth),p=An(u.gap,1),m=u.remainedWidth,S=u.autoWidthCount,x=(m-f)/(S+(S-1)*p);x=Math.max(x,0),ee(d,function(ce,ue){var de=ce.maxWidth;de&&de<x&&(de=Math.min(de,m),ce.width&&(de=Math.min(de,ce.width)),m-=de,ce.width=de,S--)}),x=(m-f)/(S+(S-1)*p),x=Math.max(x,0);var V,Q=0;ee(d,function(ce,ue){ce.width||(ce.width=x),Q+=(V=ce).width*(1+p)}),V&&(Q-=V.width*p);var K=-Q/2;ee(d,function(ce,ue){l[c][ue]=l[c][ue]||{offset:K,width:ce.width},K+=ce.width*(1+p)})}),l}(Be(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));t.eachSeriesByType(e,function(a){if("polar"===a.coordinateSystem.type){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),c=PC(l,u),d=NC(a),h=o[c][d],f=h.offset,p=h.width,m=l.getOtherAxis(u),S=a.coordinateSystem.cx,x=a.coordinateSystem.cy,V=a.get("barMinHeight")||0,Q=a.get("barMinAngle")||0;i[d]=i[d]||[];for(var K=s.mapDimension(m.dim),ce=s.mapDimension(u.dim),ue=ba(s,K),de="radius"!==u.dim||!a.get("roundCap",!0),ge="radius"===m.dim?m.dataToRadius(0):m.dataToAngle(0),Ce=0,Pe=s.count();Ce<Pe;Ce++){var Fe,Ge,Qe,et,ot=s.get(K,Ce),ht=s.get(ce,Ce),pt=0<=ot?"p":"n",ut=ge;if(ue&&(i[d][ht]||(i[d][ht]={p:ge,n:ge}),ut=i[d][ht][pt]),"radius"===m.dim){var At=m.dataToRadius(ot)-ge,Zt=u.dataToAngle(ht);Math.abs(At)<V&&(At=(At<0?-1:1)*V),Ge=(Fe=ut)+At,et=(Qe=Zt-f)-p,ue&&(i[d][ht][pt]=Ge)}else{var nn=m.dataToAngle(ot,de)-ge,jt=u.dataToRadius(ht);Math.abs(nn)<Q&&(nn=(nn<0?-1:1)*Q),Ge=(Fe=jt+f)+p,et=(Qe=ut)+nn,ue&&(i[d][ht][pt]=et)}s.setItemLayout(Ce,{cx:S,cy:x,r0:Fe,r:Ge,startAngle:-Qe*Math.PI/180,endAngle:-et*Math.PI/180})}}},this)},"bar")),dr({type:"polar"}),be(Mi.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){Mi.prototype.init.apply(this,arguments),xs(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=Qb.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=Ne(e.regions||[],function(n,i){return i.name&&n.set(i.name,new vi(i,t)),n},zt()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new vi(null,this,this.ecModel)},getFormattedLabel:function(e,t){t=t||"normal";var n=this.getRegionModel(e).get(("normal"===t?"":t+".")+"label.formatter"),i={name:e};return"function"==typeof n?(i.status=t,n(i)):"string"==typeof n?n.replace("{a}",e??""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}}),Gg),dr({type:"geo",init:function(e,t){var n=new Nh(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),fv("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),fv("select",{type:"geoSelect",event:"geoselected"}),fv("unSelect",{type:"geoUnSelect",event:"geounselected"}),Ma.prototype={constructor:Ma,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=Bu(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var o=e.getDay();return{y:t,m:n,d:i,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];ee([0,1],function(d){c(o,d)&&(a[i[d]]=o[d]*s[d])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=nr(a,l);function c(d,h){return null!=d[h]&&"auto"!==d[h]}ee([0,1],function(d){c(o,d)||(o[d]=u[i[d]]/s[d])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(e,t){it(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([i.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:gt(OC,"dataToPoint"),convertFromPixel:gt(OC,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(it(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),o=i.getDate(),a=e[1].date.getDate();i.setDate(o+n-1);var s=i.getDate();if(s!==a)for(var l=0<i.getTime()-e[1].time?1:-1;(s=i.getDate())!==a&&0<(i.getTime()-e[1].time)*l;)n-=l,i.setDate(s-l);var u=Math.floor((n+e[0].day+6)/7),c=t?1-u:u-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:u,nthWeek:c,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var o=7*(e-1)-i.fweek+t,a=new Date(i.start.time);return a.setDate(i.start.d+o),this.getDateInfo(a)}},Ma.dimensions=Ma.prototype.dimensions,Ma.getDimensionsInfo=Ma.prototype.getDimensionsInfo,Ma.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var o=new Ma(i,e,t);n.push(o),i.coordinateSystem=o}),e.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},Nr.register("calendar",Ma);var BC=Mi.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var o=Al(e);BC.superApply(this,"init",arguments),zC(e,o)},mergeOption:function(e,t){BC.superApply(this,"mergeOption",arguments),zC(this.option,e)}});function zC(e,t){var n=e.cellSize;it(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=Me([0,1],function(o){return function(a,s){return null!=a[ks[s][0]]||null!=a[ks[s][1]]&&null!=a[ks[s][2]]}(t,o)&&(n[o]="auto"),null!=n[o]&&"auto"!==n[o]});Wa(e,t,{type:"box",ignoreSize:i})}var Hk={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},Wk={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};dr({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var o=e.coordinateSystem,a=o.getRangeInfo(),s=o.getOrient();this._renderDayRect(e,a,i),this._renderLines(e,a,s,i),this._renderYearText(e,a,s,i),this._renderMonthText(e,s,i),this._renderWeekText(e,a,s,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),s=i.getCellHeight(),l=t.start.time;l<=t.end.time;l=i.getNextNDay(l,1).time){var u=i.dataToRect([l],!1).tl,c=new Si({shape:{x:u[0],y:u[1],width:a,height:s},cursor:"default",style:o});n.add(c)}},_renderLines:function(e,t,n,i){var o=this,a=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),l=e.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,d=0;c.time<=t.end.time;d++){f(c.formatedDate),0===d&&(c=a.getDateInfo(t.start.y+"-"+t.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}function f(p){o._firstDayOfMonth.push(a.getDateInfo(p)),o._firstDayPoints.push(a.dataToRect([p],!1).tl);var m=o._getLinePointsOfOneWeek(e,p,n);o._tlpoints.push(m[0]),o._blpoints.push(m[m.length-1]),l&&o._drawSplitline(m,s,i)}f(a.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,n),s,i),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,n),s,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===n?0:1;return i[0][o]=i[0][o]-t/2,i[1][o]=i[1][o]+t/2,i},_drawSplitline:function(e,t,n){var i=new vo({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var o=[],a=0;a<7;a++){var s=i.getNextNDay(t.time,a),l=i.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},_formatterLabel:function(e,t){return"string"==typeof e&&e?zy(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,o){t=t.slice();var a=["center","bottom"];"bottom"===i?(t[1]+=o,a=["center","top"]):"left"===i?t[0]-=o:"right"===i?(t[0]+=o,a=["center","top"]):t[1]-=o;var s=0;return"left"!==i&&"right"!==i||(s=Math.PI/2),{rotation:s,position:t,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(e,t,n,i){var o=e.getModel("yearLabel");if(o.get("show")){var a=o.get("margin"),s=o.get("position");s=s||("horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(l[0][0]+l[1][0])/2,c=(l[0][1]+l[1][1])/2,d="horizontal"===n?0:1,h={top:[u,l[d][1]],bottom:[u,l[1-d][1]],left:[l[1-d][0],c],right:[l[d][0],c]},f=t.start.y;+t.end.y>+t.start.y&&(f=f+"-"+t.end.y);var p=o.get("formatter"),S=this._formatterLabel(p,{start:t.start.y,end:t.end.y,nameMap:f}),x=new fi({z2:30});qi(x.style,o,{text:S}),x.attr(this._yearTextPositionControl(x,h[s],n,s,a)),i.add(x)}},_monthTextPositionControl:function(e,t,n,i,o){var a="left",s="top",l=e[0],u=e[1];return"horizontal"===n?(u+=o,t&&(a="center"),"start"===i&&(s="bottom")):(l+=o,t&&(s="middle"),"start"===i&&(a="right")),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),a=i.get("margin"),s=i.get("position"),l=i.get("align"),u=[this._tlpoints,this._blpoints];dt(o)&&(o=Hk[o.toUpperCase()]||[]);var c="start"===s?0:1,d="horizontal"===t?0:1;a="start"===s?-a:a;for(var h="center"===l,f=0;f<u[c].length-1;f++){var p=u[c][f].slice(),m=this._firstDayOfMonth[f];h&&(p[d]=(this._firstDayPoints[f][d]+u[0][f+1][d])/2);var x=i.get("formatter"),V=o[+m.m-1],Q={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:V},K=this._formatterLabel(x,Q),ce=new fi({z2:30});ne(qi(ce.style,i,{text:K}),this._monthTextPositionControl(p,h,t,s,a)),n.add(ce)}}},_weekTextPositionControl:function(e,t,n,i,o){var a="center",s="middle",l=e[0],u=e[1],c="start"===n;return"horizontal"===t?(l=l+i+(c?1:-1)*o[0]/2,a=c?"right":"left"):(u=u+i+(c?1:-1)*o[1]/2,s=c?"bottom":"top"),{x:l,y:u,textAlign:a,textVerticalAlign:s}},_renderWeekText:function(e,t,n,i){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),u=o.get("margin"),c=a.getFirstDayOfWeek();dt(l)&&(l=Wk[l.toUpperCase()]||[]);var d=a.getNextNDay(t.end.time,7-t.lweek).time,h=[a.getCellWidth(),a.getCellHeight()];u=An(u,h["horizontal"===n?0:1]),"start"===s&&(d=a.getNextNDay(t.start.time,-(7+t.fweek)).time,u=-u);for(var f=0;f<7;f++){var p,m=a.getNextNDay(d,f),S=a.dataToRect([m.time],!1).center;p=Math.abs((f+c)%7);var x=new fi({z2:30});ne(qi(x.style,o,{text:l[p]}),this._weekTextPositionControl(S,n,s,u,h)),i.add(x)}}}});var FC={path:null,compoundPath:null,group:y,image:gi,text:fi};Cr(function(e){var t=e.graphic;it(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var Gk=oo({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,Gk.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,o=n.elements=t?[]:n.elements,a=[];this._flatten(i,a);var s=Zf(o,a);L0(s);var l=this._elOptionsToUpdate=[];ee(s,function(c,d){var f,p,m,S,x,V,h=c.option;h&&(l.push(h),function(f,p){var m=f.exist;if(p.id=f.keyInfo.id,!p.type&&m&&(p.type=m.type),null==p.parentId){var S=p.parentOption;S?p.parentId=S.id:m&&(p.parentId=m.parentId)}p.parentOption=null}(c,h),f=o,p=d,S=ne({},m=h),x=f[p],"merge"===(V=m.$action||"merge")?x?(ae(x,S,!0),Wa(x,S,{ignoreSize:!0}),Hy(m,x)):f[p]=S:"replace"===V?f[p]=S:"remove"===V&&x&&(f[p]=null),function(f,p){f&&(f.hv=p.hv=[HC(p,["left","right"]),HC(p,["top","bottom"])],"group"===f.type&&(null==f.width&&(f.width=p.width=0),null==f.height&&(f.height=p.height=0)))}(o[d],h))},this);for(var u=o.length-1;0<=u;u--)null==o[u]?o.splice(u,1):delete o[u].$action},_flatten:function(e,t,n){ee(e,function(i){if(i){n&&(i.parentOption=n),t.push(i);var o=i.children;"group"===i.type&&o&&this._flatten(o,t,i),delete i.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function VC(e,t,n,i){var o=n.type,a=new(FC.hasOwnProperty(o)?FC[o]:cp(o))(n);t.add(a),i.set(e,a),a.__ecGraphicId=e}function df(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse(function(i){df(i,t)}),t.removeKey(e.__ecGraphicId),n.remove(e))}function HC(e,t){var n;return ee(t,function(i){null!=e[i]&&"auto"!==e[i]&&(n=!0)}),n}dr({type:"graphic",init:function(e,t){this._elMap=zt()},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group;ee(t,function(o){var a=o.$action,s=o.id,l=n.get(s),u=o.parentId,c=null!=u?n.get(u):i,d=o.style;"text"===o.type&&d&&(o.hv&&o.hv[1]&&(d.textVerticalAlign=d.textBaseline=null),!d.hasOwnProperty("textFill")&&d.fill&&(d.textFill=d.fill),!d.hasOwnProperty("textStroke")&&d.stroke&&(d.textStroke=d.stroke));var p,h=(p=ne({},p=o),ee(["id","parentId","$action","hv","bounding"].concat(Vy),function(m){delete p[m]}),p);a&&"merge"!==a?"replace"===a?(df(l,n),VC(s,c,h,n)):"remove"===a&&df(l,n):l?l.attr(h):VC(s,c,h,n);var f=n.get(s);f&&(f.__ecGraphicWidthOption=o.width,f.__ecGraphicHeightOption=o.height,function(p,m){var S=p.eventData;p.silent||p.ignore||S||(S=p.eventData={componentType:"graphic",componentIndex:m.componentIndex,name:p.name}),S&&(S.info=p.info)}(f,e))})}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,o=this._elMap,a=t.getWidth(),s=t.getHeight(),l=0;l<n.length;l++){var u=n[l];if((d=o.get(u.id))&&d.isGroup){var c=(h=d.parent)===i;d.__ecGraphicWidth=An(d.__ecGraphicWidthOption,c?a:h.__ecGraphicWidth)||0,d.__ecGraphicHeight=An(d.__ecGraphicHeightOption,c?s:h.__ecGraphicHeight)||0}}for(l=n.length-1;0<=l;l--){var d,h;(d=o.get((u=n[l]).id))&&Hd(d,u,(h=d.parent)===i?{width:a,height:s}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight},null,{hv:u.hv,boundingMode:u.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){df(t,e)}),this._elMap=zt()},dispose:function(){this._clear()}});var WC={};function nu(e,t){WC[e]=t}function GC(e){return WC[e]}var Uk=oo({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){Uk.superApply(this,"optionUpdated",arguments),ee(this.option.feature,function(e,t){var n=GC(t);n&&ae(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});function UC(e,t){var n=Is(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Si({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}dr({type:"toolbox",render:function(e,t,n,i){var d,h,f,p,m,S,x,o=this.group;if(o.removeAll(),e.get("show")){var a=+e.get("itemSize"),s=e.get("feature")||{},l=this._features||(this._features={}),u=[];ee(s,function(d,h){u.push(h)}),new xa(this._featureNames||[],u).add(c).update(c).remove(gt(c,null)).execute(),this._featureNames=u,d=o,f=n,p=(h=e).getBoxLayoutParams(),m=h.get("padding"),x=nr(p,S={width:f.getWidth(),height:f.getHeight()},m),Ds(h.get("orient"),d,h.get("itemGap"),x.width,x.height),Hd(d,p,S,m),o.add(UC(o.getBoundingRect(),e)),o.eachChild(function(d){var h=d.__title,f=d.hoverStyle;if(f&&h){var p=ai(h,rt(f)),m=d.position[0]+o.position[0],S=!1;d.position[1]+o.position[1]+a+p.height>n.getHeight()&&(f.textPosition="top",S=!0);var x=S?-5-p.height:a+8;m+p.width/2>n.getWidth()?(f.textPosition=["100%",x],f.textAlign="right"):m-p.width/2<0&&(f.textPosition=[0,x],f.textAlign="left")}})}function c(d,h){var f,p=u[d],m=u[h],S=s[p],x=new vi(S,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===p&&(S.title=i.newTitle),p&&!m){if(0===p.indexOf("my"))f={model:x,onclick:x.option.onclick,featureName:p};else{var V=GC(p);if(!V)return;f=new V(x,t,n)}l[p]=f}else{if(!(f=l[m]))return;f.model=x,f.ecModel=t,f.api=n}p||!m?x.get("show")&&!f.unusable?(function(Q,K,ce){var ue=Q.getModel("iconStyle"),de=Q.getModel("emphasis.iconStyle"),ge=K.getIcons?K.getIcons():Q.get("icon"),Ce=Q.get("title")||{};if("string"==typeof ge){var Pe=ge,Fe=Ce;Ce={},(ge={})[ce]=Pe,Ce[ce]=Fe}var Ge=Q.iconPaths={};ee(ge,function(Qe,et){var ot=Ml(Qe,{},{x:-a/2,y:-a/2,width:a,height:a});ot.setStyle(ue.getItemStyle()),ot.hoverStyle=de.getItemStyle(),ot.setStyle({text:Ce[et],textAlign:de.get("textAlign"),textBorderRadius:de.get("textBorderRadius"),textPadding:de.get("textPadding"),textFill:null});var ht=e.getModel("tooltip");ht&&ht.get("show")&&ot.attr("tooltip",ne({content:Ce[et],formatter:ht.get("formatter",!0)||function(){return Ce[et]},formatterParams:{componentType:"toolbox",name:et,title:Ce[et],$vars:["name","title"]},position:ht.get("position",!0)||"bottom"},ht.option)),Vi(ot),e.get("showTitle")&&(ot.__title=Ce[et],ot.on("mouseover",function(){var pt=de.getItemStyle(),ut="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";ot.setStyle({textFill:de.get("textFill")||pt.fill||pt.stroke||"#000",textBackgroundColor:de.get("textBackgroundColor"),textPosition:de.get("textPosition")||ut})}).on("mouseout",function(){ot.setStyle({textFill:null,textBackgroundColor:null})})),ot.trigger(Q.get("iconStatus."+et)||"normal"),o.add(ot),ot.on("click",Ke(K.onclick,K,t,n,et)),Ge[et]=ot})}(x,f,p),x.setIconStatus=function(Q,K){var ce=this.option,ue=this.iconPaths;ce.iconStatus=ce.iconStatus||{},ce.iconStatus[Q]=K,ue[Q]&&ue[Q].trigger(K)},f.render&&f.render(x,t,n,i)):f.remove&&f.remove(t,n):f.dispose&&f.dispose(t,n)}},updateView:function(e,t,n,i){ee(this._features,function(o){o.updateView&&o.updateView(o.model,t,n,i)})},remove:function(e,t){ee(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){ee(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var jC=ya.toolbox.saveAsImage;function hf(e){this.model=e}hf.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:jC.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:jC.lang.slice()},hf.prototype.unusable=!xe.canvasSupported,hf.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o="svg"===t.getZr().painter.getType()?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||xe.browser.ie||xe.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),l=s.length,u=new Uint8Array(l);l--;)u[l]=s.charCodeAt(l);var c=new Blob([u]);window.navigator.msSaveOrOpenBlob(c,i+"."+o)}else{var d=n.get("lang"),h='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(d&&d[0]||"")+'" /></body>';window.open().document.write(h)}else{var f=document.createElement("a");f.download=i+"."+o,f.target="_blank",f.href=a;var p=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});f.dispatchEvent(p)}},nu("saveAsImage",hf);var ff=ya.toolbox.magicType,pv="__ec_magicType_stack__";function gv(e){this.model=e}gv.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:Y(ff.title),option:{},seriesIndex:{}};var qC=gv.prototype;qC.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return ee(e.get("type"),function(i){t[i]&&(n[i]=t[i])}),n};var YC={line:function(e,t,n,i){if("bar"===e)return ae({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return ae({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){var o=n.get("stack")===pv;if("line"===e||"bar"===e)return i.setIconStatus("stack",o?"normal":"emphasis"),ae({id:t,stack:o?"":pv},i.get("option.stack")||{},!0)}},jk=[["line","bar"],["stack"]];qC.onclick=function(e,t,n){var i=this.model,o=i.get("seriesIndex."+n);if(YC[n]){var a,s={series:[]};ee(jk,function(l){0<=De(l,n)&&ee(l,function(u){i.setIconStatus(u,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(l){var d=YC[n](l.subType,l.id,l,i);d&&(pe(d,l.option),s.series.push(d));var h=l.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===n||"bar"===n)){var f=h.getAxesByScale("ordinal")[0];if(f){var p=f.dim+"Axis",m=e.queryComponents({mainType:p,index:l.get(name+"Index"),id:l.get(name+"Id")})[0].componentIndex;s[p]=s[p]||[];for(var S=0;S<=m;S++)s[p][m]=s[p][m]||{};s[p][m].boundaryGap="bar"===n}}}),"stack"===n&&(a=s.series&&s.series[0]&&s.series[0].stack===pv?ae({stack:ff.title.tiled},ff.title):Y(ff.title)),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:s,newTitle:a,featureName:"magicType"})}},yi({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),nu("magicType",gv);var XC=ya.toolbox.dataView,pf=new Array(60).join("-"),iu="\t";function gf(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var mv=new RegExp("["+iu+"]+","g");function Ec(e){this._dom=null,this.model=e}Ec.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Y(XC.title),lang:Y(XC.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Ec.prototype.onclick=function(e,t){var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=i.get("lang")||[];a.innerHTML=s[0]||i.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=i.get("textColor");var l=document.createElement("div"),u=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var c=i.get("optionToContent"),d=i.get("contentToOption"),h=function qk(e){var t=function(n){var i={},o=[],a=[];return n.eachRawSeries(function(s){var l=s.coordinateSystem;if(!l||"cartesian2d"!==l.type&&"polar"!==l.type)o.push(s);else{var u=l.getBaseAxis();if("category"===u.type){var c=u.dim+"_"+u.index;i[c]||(i[c]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},a.push({axisDim:u.dim,axisIndex:u.index})),i[c].series.push(s)}else o.push(s)}}),{seriesGroupByCategoryAxis:i,other:o,meta:a}}(e);return{value:Be([function(n){var i=[];return ee(n,function(o,a){var s=o.categoryAxis,l=o.valueAxis.dim,u=[" "].concat(Me(o.series,function(m){return m.name})),c=[s.model.getCategories()];ee(o.series,function(m){var S=m.getRawData();c.push(m.getRawData().mapArray(S.mapDimension(l),function(x){return x}))});for(var d=[u.join(iu)],h=0;h<c[0].length;h++){for(var f=[],p=0;p<c.length;p++)f.push(c[p][h]);d.push(f.join(iu))}i.push(d.join("\n"))}),i.join("\n\n"+pf+"\n\n")}(t.seriesGroupByCategoryAxis),function(n){return Me(n,function(i){var o=i.getRawData(),a=[i.name],s=[];return o.each(o.dimensions,function(){for(var l=arguments.length,c=o.getName(arguments[l-1]),d=0;d<l-1;d++)s[d]=arguments[d];a.push((c?c+iu:"")+s.join(iu))}),a.join("\n")}).join("\n\n"+pf+"\n\n")}(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+pf+"\n\n"),meta:t.meta}}(e);if("function"==typeof c){var f=c(t.getOption());"string"==typeof f?l.innerHTML=f:Ct(f)&&l.appendChild(f)}else l.appendChild(u),u.readOnly=i.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=i.get("textColor"),u.style.borderColor=i.get("textareaBorderColor"),u.style.backgroundColor=i.get("textareaColor"),u.value=h.value;var p=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:0;left:0;right:0;";var S="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),V=document.createElement("div");S+=";background-color:"+i.get("buttonColor"),S+=";color:"+i.get("buttonTextColor");var Q=this;function K(){n.removeChild(o),Q._dom=null}er(x,"click",K),er(V,"click",function(){var ce;try{ce="function"==typeof d?d(l,t.getOption()):function Yk(e,t){var n=e.split(new RegExp("\n*"+pf+"\n*","g")),i={series:[]};return ee(n,function(o,a){if(function(c){if(0<=c.slice(0,c.indexOf("\n")).indexOf(iu))return!0}(o)){var s=function(c){for(var d=c.split(/\n+/g),h=[],f=Me(gf(d.shift()).split(mv),function(x){return{name:x,data:[]}}),p=0;p<d.length;p++){var m=gf(d[p]).split(mv);h.push(m.shift());for(var S=0;S<m.length;S++)f[S]&&(f[S].data[p]=m[S])}return{series:f,categories:h}}(o),l=t[a],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else s=function(c){for(var d=c.split(/\n+/g),h=gf(d.shift()),f=[],p=0;p<d.length;p++){var m=gf(d[p]);if(m){var S,x=m.split(mv),V="",Q=!1;S=isNaN(x[0])?(Q=!0,V=x[0],x=x.slice(1),f[p]={name:V,value:[]},f[p].value):f[p]=[];for(var K=0;K<x.length;K++)S.push(+x[K]);1===S.length&&(Q?f[p].value=S[0]:f[p]=S[0])}}return{name:h,data:f}}(o),i.series.push(s)}),i}(u.value,p)}catch(ue){throw K(),new Error("Data view format error "+ue)}ce&&t.dispatchAction({type:"changeDataView",newOption:ce}),K()}),x.innerHTML=s[1],V.innerHTML=s[2],V.style.cssText=S,x.style.cssText=S,i.get("readOnly")||m.appendChild(V),m.appendChild(x),o.appendChild(a),o.appendChild(l),o.appendChild(m),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},Ec.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Ec.prototype.dispose=function(e,t){this.remove(e,t)},nu("dataView",Ec),yi({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];ee(e.newOption.series,function(i){var s,l,o=t.getSeriesByName(i.name)[0];if(o){var a=o.get("data");n.push({name:i.name,data:(s=i.data,l=a,Me(s,function(u,c){var d=l&&l[c];if(!xt(d)||it(d))return u;xt(u)&&!it(u)||(u={value:u});var h=null!=d.name&&null==u.name;return u=pe(u,d),h&&delete u.name,u}))})}else n.push(ne({type:"scatter"},i))}),t.mergeOption(pe({series:n},e.newOption))});var as=ee,mf=De,vf=gt,vv=["dataToPoint","pointToData"],Xk=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function yf(e,t,n){var i=this._targetInfoList=[],o={},a=ZC(t,e);as(Zk,function(s,l){n&&n.include&&!(0<=mf(n.include,l))||s(a,i,o)})}var ru=yf.prototype;function yv(e){return e[0]>e[1]&&e.reverse(),e}function ZC(e,t){return dd(e,t,{includeMainTypes:Xk})}ru.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(n,i,o){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var a=xv[n.brushType](0,o,i);n.__rangeOffset={offset:QC[n.brushType](a.values,n.range,[1,1]),xyMinMax:a.xyMinMax}}})},ru.matchOutputRanges=function(e,t,n){as(e,function(i){var o=this.findTargetInfo(i,t);o&&!0!==o&&ee(o.coordSyses,function(a){var s=xv[i.brushType](1,a,i.range);n(i,s.values,a,t)})},this)},ru.setInputRanges=function(e,t){as(e,function(n){var l,u,c,d,i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&!0!==i){n.panelId=i.panelId;var o=xv[n.brushType](0,i.coordSys,n.coordRange),a=n.__rangeOffset;n.range=a?QC[n.brushType](o.values,a.offset,(l=a.xyMinMax,u=tS(o.xyMinMax),c=tS(l),d=[u[0]/c[0],u[1]/c[1]],isNaN(d[0])&&(d[0]=1),isNaN(d[1])&&(d[1]=1),d)):o.values}},this)},ru.makePanelOpts=function(e,t){return Me(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:sw(i),isTargetByCursor:uw(i,e,n.coordSysModel),getLinearBrushOtherExtent:lw(i)}})},ru.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&0<=mf(i.coordSyses,t.coordinateSystem)},ru.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=ZC(t,e),o=0;o<n.length;o++){var a=n[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(o=0;o<$C.length;o++)if($C[o](i,a))return a}return!0};var Zk={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,o=e.gridModels,a=zt(),s={},l={};(n||i||o)&&(as(n,function(u){var c=u.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),as(i,function(u){var c=u.axis.grid.model;a.set(c.id,c),l[c.id]=!0}),as(o,function(u){a.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),a.each(function(u){var d=[];as(u.coordinateSystem.getCartesians(),function(h,f){(0<=mf(n,h.getAxis("x").model)||0<=mf(i,h.getAxis("y").model))&&d.push(h)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:d[0],coordSyses:d,getPanelRect:KC.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(e,t){as(e.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:KC.geo})})}},$C=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],KC={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Ts(e)),t}},xv={lineX:vf(JC,0),lineY:vf(JC,1),rect:function(e,t,n){var i=t[vv[e]]([n[0][0],n[1][0]]),o=t[vv[e]]([n[0][1],n[1][1]]),a=[yv([i[0],o[0]]),yv([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:Me(n,function(o){var a=t[vv[e]](o);return i[0][0]=Math.min(i[0][0],a[0]),i[1][0]=Math.min(i[1][0],a[1]),i[0][1]=Math.max(i[0][1],a[0]),i[1][1]=Math.max(i[1][1],a[1]),a}),xyMinMax:i}}};function JC(e,t,n,i){var o=n.getAxis(["x","y"][e]),a=yv(Me([0,1],function(l){return t?o.coordToData(o.toLocalCoord(i[l])):o.toGlobalCoord(o.dataToCoord(i[l]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}var QC={lineX:vf(eS,0),lineY:vf(eS,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Me(e,function(i,o){return[i[0]-n[0]*t[o][0],i[1]-n[1]*t[o][1]]})}};function eS(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function tS(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var nS=ee,bv="\0_ec_hist_store";function _v(e){return e[bv]||(e[bv]=[{}])}Mi.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var wv,Oc,iS,rS,$k=["cartesian2d","polar","singleAxis"],oS=(Oc=["axisIndex","axis","index","id"],iS=Me(wv=(wv=["x","y","z","radius","angle","single"]).slice(),Fd),rS=Me(Oc=(Oc||[]).slice(),Fd),function(e,t){ee(wv,function(n,i){for(var o={name:n,capital:iS[i]},a=0;a<Oc.length;a++)o[Oc[a]]=n+rS[a];e.call(t,o)})});function Cv(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}var Js=ee,aS=As;function sS(e,t){var n=e.getAxisModel(),i=e._percentWindow,o=e._valueWindow;if(i){var a=yp(o,[0,500]);a=Math.min(a,20);var s=t||0===i[0]&&100===i[1];n.setRange(s?null:+o[0].toFixed(a),s?null:+o[1].toFixed(a))}}Cv.prototype={constructor:Cv,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(function(a){return 0<=De($k,a)}(n.get("coordinateSystem"))){var i=this._dimName,o=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n,i=this._dimName,o=this.ecModel,a=this.getAxisModel();return e="x"===i||"y"===i?(t="gridIndex","x"===i?"y":"x"):(t="polarIndex","angle"===i?"radius":"angle"),o.eachComponent(e+"Axis",function(s){(s.get(t)||0)===(a.get(t)||0)&&(n=s)}),n},getMinMaxSpan:function(){return Y(this._minMaxSpan)},calculateDataWindow:function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];Js(["start","end"],function(d,h){var f=e[d],p=e[d+"Value"];"percent"===o[h]?(null==f&&(f=a[h]),p=i.parse(Hi(f,a,n))):(t=!0,f=Hi(p=null==p?n[h]:i.parse(p),n,a)),l[h]=p,s[h]=f}),aS(l),aS(s);var u=this._minMaxSpan;function c(d,h,f,p,m){var S=m?"Span":"ValueSpan";js(0,d,f,"all",u["min"+S],u["max"+S]);for(var x=0;x<2;x++)h[x]=Hi(d[x],f,p,!0),m&&(h[x]=i.parse(h[x]))}return t?c(l,s,n,a,!1):c(s,l,a,n,!0),{valueWindow:l,percentWindow:s}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(i,o,a){var s=[1/0,-1/0];return Js(a,function(l){var u=l.getData();u&&Js(u.mapDimension(o,!0),function(c){var d=u.getApproximateExtent(c);d[0]<s[0]&&(s[0]=d[0]),d[1]>s[1]&&(s[1]=d[1])})}),s[1]<s[0]&&(s=[NaN,NaN]),function(l,u){var c=l.getAxisModel(),d=c.getMin(!0),h="category"===c.get("type"),f=h&&c.getCategories().length;null!=d&&"dataMin"!==d&&"function"!=typeof d?u[0]=d:h&&(u[0]=0<f?0:NaN);var p=c.getMax(!0);null!=p&&"dataMax"!==p&&"function"!=typeof p?u[1]=p:h&&(u[1]=0<f?f-1:NaN),c.get("scale",!0)||(0<u[0]&&(u[0]=0),u[1]<0&&(u[1]=0))}(i,s),s}(this,this._dimName,t),function(i){var o=i._minMaxSpan={},a=i._dataZoomModel,s=i._dataExtent;Js(["min","max"],function(l){var u=a.get(l+"Span"),c=a.get(l+"ValueSpan");null!=c&&(c=i.getAxisModel().axis.scale.parse(c)),null!=c?u=Hi(s[0]+c,s,[0,100],!0):null!=u&&(c=Hi(u,[0,100],s,!0)-s[0]),o[l+"Span"]=u,o[l+"ValueSpan"]=c})}(this);var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,sS(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,sS(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;"none"!==o&&Js(i,function(s){var l=s.getData(),u=l.mapDimension(n,!0);u.length&&("weakFilter"===o?l.filterSelf(function(c){for(var d,h,f,p=0;p<u.length;p++){var m=l.get(u[p],c),S=!isNaN(m),x=m<a[0],V=m>a[1];if(S&&!x&&!V)return!0;S&&(f=!0),x&&(d=!0),V&&(h=!0)}return f&&d&&h}):Js(u,function(c){if("empty"===o)s.setData(l=l.map(c,function(h){return(f=h)>=a[0]&&f<=a[1]?h:NaN;var f}));else{var d={};d[c]=a,l.selectRange(d)}}),Js(u,function(c){l.setApproximateExtent(a,c)}))})}}};var Qs=ee,el=oS,Sv=oo({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=lS(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=lS(e);ae(this.option,e,!0),ae(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;xe.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),uS(this,e);var n=this.settledOption;Qs([["start","startValue"],["end","endValue"]],function(i,o){"value"===this._rangePropMode[o]&&(t[i[0]]=n[i[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,o){var a=this.dependentModels[t.axis][n],s=a.__dzAxisProxy||(a.__dzAxisProxy=new Cv(t.name,n,this,o));e[t.name+"_"+n]=s},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();el(function(n){var i=n.axisIndex;e[i]=br(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;el(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var o="vertical"===t?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],e=!1):Qs(i.singleAxis,function(a){e&&a.get("orient",!0)===t&&(n.singleAxisIndex=[a.componentIndex],e=!1)})}e&&el(function(a){if(e){var s=[],l=this.dependentModels[a.axis];if(l.length&&!s.length)for(var u=0,c=l.length;u<c;u++)"category"===l[u].get("type")&&s.push(u);(n[a.axisIndex]=s).length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&el(function(s){var l=n[s.axisIndex],u=a.get(s.axisIndex),c=a.get(s.axisId);De(l,u=a.ecModel.queryComponents({mainType:s.axis,index:u,id:c})[0].componentIndex)<0&&l.push(u)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return el(function(i){var o=e.get(i.axisIndex),a=this.dependentModels[i.axis][o];a&&a.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20}},getFirstTargetAxisModel:function(){var e;return el(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;el(function(i){Qs(this.get(i.axisIndex),function(o){e.call(t,i,o,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e){var t=this.option,n=this.settledOption;Qs([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])},this),uS(this,e)},setCalculatedRange:function(e){var t=this.option;Qs(["start","startValue","end","endValue"],function(n){t[n]=e[n]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});function lS(e){var t={};return Qs(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function uS(e,t){var n=e._rangePropMode,i=e.get("rangeMode");Qs([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=t[o[0]],l=null!=t[o[1]];s&&!l?n[a]="percent":!s&&l?n[a]="value":i?n[a]=i[a]:s&&(n[a]="percent")})}var Mv=Xo.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var t=this.ecModel,n={};return this.dataZoomModel.eachTargetAxis(function(i,o){var a=t.getComponent(i.axis,o);if(a){var s=a.getCoordSysModel();s&&function(l,u,c,d){for(var h,f=0;f<c.length;f++)if(c[f].model===l){h=c[f];break}h||c.push(h={model:l,axisModels:[],coordIndex:d}),h.axisModels.push(u)}(s,a,n[s.mainType]||(n[s.mainType]=[]),s.componentIndex)}},this),n}});Sv.extend({type:"dataZoom.select"}),Mv.extend({type:"dataZoom.select"}),ro({getTargetSeries:function(e){var t=zt();return e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){ee(a.getAxisProxy(i.name,o).getTargetSeriesModels(),function(s){t.set(s.uid,s)})})}),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).reset(a,t)}),n.eachTargetAxis(function(i,o,a){a.getAxisProxy(i.name,o).filterData(a,t)})}),e.eachComponent("dataZoom",function(n){var i=n.findRepresentativeAxisProxy(),o=i.getDataPercentWindow(),a=i.getDataValueWindow();n.setCalculatedRange({start:o[0],end:o[1],startValue:a[0],endValue:a[1]})})}}),yi("dataZoom",function(e,t){var n=function Kk(e,t,n){return function(o){var a,s={nodes:[],records:{}};if(t(function(u){s.records[u.name]={}}),!o)return s;for(i(o,s);a=!1,e(l),a;);function l(u){var c,d,h;!(0<=De(s.nodes,u))&&(c=u,d=s,h=!1,t(function(f){ee(n(c,f)||[],function(p){d.records[f.name][p]&&(h=!0)})}),h)&&(i(u,s),a=!0)}return s};function i(o,a){a.nodes.push(o),t(function(s){ee(n(o,s)||[],function(l){a.records[s.name][l]=!0})})}}(Ke(t.eachComponent,t,"dataZoom"),oS,function(o,a){return o.get(a.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:e},function(o,a){i.push.apply(i,n(o).nodes)}),ee(i,function(o,a){o.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})});var cS=ee;function Tv(e,t,n){(this._brushController=new eu(n.getZr())).on("brush",Ke(this._onBrush,this)).mount()}Tv.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Y(ya.toolbox.dataZoom.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var ou=Tv.prototype;ou.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(o,a,s,l,u){var c=s._isZoomActive;l&&"takeGlobalCursor"===l.type&&(c="dataZoomSelect"===l.key&&l.dataZoomSelectActive),s._isZoomActive=c,o.setIconStatus("zoom",c?"emphasis":"normal");var d=new yf(dS(o.option),a,{include:["grid"]});s._brushController.setPanels(d.makePanelOpts(u,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"})).enableBrush(!!c&&{brushType:"auto",brushStyle:o.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function(o,a){o.setIconStatus("back",1<_v(a).length?"emphasis":"normal")}(e,t)},ou.onclick=function(e,t,n){Qk[n].call(this)},ou.remove=function(e,t){this._brushController.unmount()},ou.dispose=function(e,t){this._brushController.dispose()};var Qk={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(e){var t=_v(e),n=t[t.length-1];1<t.length&&t.pop();var i={};return nS(n,function(o,a){for(var s=t.length-1;0<=s;s--)if(o=t[s][a]){i[a]=o;break}}),i}(this.ecModel))}};function dS(e){var t={};return ee(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),!1!==t[n]&&"none"!==t[n]||(t[n]=[])}),t}function Av(e){this.model=e}ou._onBrush=function(e,t){if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new yf(dS(this.model.option),i,{include:["grid"]}).matchOutputRanges(e,i,function(a,s,l){if("cartesian2d"===l.type){var u=a.brushType;"rect"===u?(o("x",l,s[0]),o("y",l,s[1])):o({lineX:"x",lineY:"y"}[u],l,s)}}),function(a,s){var l=_v(a);nS(s,function(u,c){for(var d=l.length-1;0<=d&&!l[d][c];d--);if(d<0){var h=a.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(h){var f=h.getPercentRange();l[0][c]={dataZoomId:c,start:f[0],end:f[1]}}}}),l.push(s)}(i,n),this._dispatchZoomAction(n)}function o(a,s,l){var f,p,S,u=s.getAxis(a),c=u.model,d=(f=a,p=c,i.eachComponent({mainType:"dataZoom",subType:"select"},function(x){x.getAxisModel(f,p.componentIndex)&&(S=x)}),S),h=d.findRepresentativeAxisProxy(c).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(l=js(0,l.slice(),u.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),d&&(n[d.id]={dataZoomId:d.id,startValue:l[0],endValue:l[1]})}},ou._dispatchZoomAction=function(e){var t=[];cS(e,function(n,i){t.push(Y(n))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},nu("dataZoom",Tv),Cr(function(e){if(e){var t=e.dataZoom||(e.dataZoom=[]);it(t)||(e.dataZoom=t=[t]);var n=e.toolbox;if(n&&(it(n)&&(n=n[0]),n&&n.feature)){var i=n.feature.dataZoom;o("xAxis",i),o("yAxis",i)}}function o(a,s){if(s){var l=a+"Index",u=s[l];null==u||"all"===u||it(u)||(u=!1===u||"none"===u?[]:[u]),it(h=e[a])||(h=h?[h]:[]),cS(h,function(c,d){if(null==u||"all"===u||-1!==De(u,d)){var h={type:"select",$fromToolbox:!0,filterMode:s.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+a+d};h[l]=d,t.push(h)}})}var h}}),Av.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:ya.toolbox.restore.title},Av.prototype.onclick=function(e,t,n){(function(i){i[bv]=null})(e),t.dispatchAction({type:"restore",from:this.uid})},nu("restore",Av),yi({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")}),oo({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var hS=ee,tD=Oy,nD=["","-webkit-","-moz-","-o-"];function fS(e,t,n,i,o){var u,d,a=t&&t.painter;if(n){var s=a&&a.getViewportRoot();s&&(u=e,d=document.body,Rn(vn,s,i,o,!0)&&Rn(u,d,vn[0],vn[1]))}else{e[0]=i,e[1]=o;var l=a&&a.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Iv(e,t,n){if(xe.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=t.getZr(),a=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],fS(this._styleCoord,o,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(i):e.appendChild(i),this._container=e,this._show=!1;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;Ri(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},i.onmouseleave=function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}}function pS(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function kv(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],pS(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1}Iv.prototype={constructor:Iv,_enterable:!0,update:function(e){var t=this._container,n=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==n.position&&(i.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[3],n=this._styleCoord[2]*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,n=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function iD(e){var s,u,t=[],n=e.get("transitionDuration"),i=e.get("backgroundColor"),o=e.getModel("textStyle"),a=e.get("padding");return n&&t.push((u="left "+(s=n)+"s "+"cubic-bezier(0.23, 1, 0.32, 1)"+",top "+s+"s cubic-bezier(0.23, 1, 0.32, 1)",Me(nD,function(c){return c+"transition:"+u}).join(";"))),i&&(xe.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+ms(i)),t.push("filter:alpha(opacity=70)"))),hS(["width","color","radius"],function(s){var l="border-"+s,u=tD(l),c=e.get(u);null!=c&&t.push(l+":"+c+("color"===s?"":"px"))}),t.push(function(s){var l=[],u=s.get("fontSize"),c=s.getTextColor();c&&l.push("color:"+c),l.push("font:"+s.getFont());var d=s.get("lineHeight");null==d&&(d=Math.round(3*u/2)),u&&l.push("line-height:"+d+"px");var h=s.get("textShadowColor"),f=s.get("textShadowBlur")||0,p=s.get("textShadowOffsetX")||0,m=s.get("textShadowOffsetY")||0;return f&&l.push("text-shadow:"+p+"px "+m+"px "+f+"px "+h),hS(["decoration","align"],function(S){var x=s.get(S);x&&l.push("text-"+S+":"+x)}),l.join(";")}(o)),null!=a&&t.push("padding:"+Is(a).join("px ")+"px"),t.join(";")+";"}(e)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=e??""},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n=this._styleCoord;fS(n,this._zr,this._appendToBody,e,t);var i=this.el.style;i.left=n[0]+"px",i.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ke(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}},kv.prototype={constructor:kv,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[3],n=this._styleCoord[2]*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,n){this.el&&this._zr.remove(this.el);for(var i={},o=e,a="{marker",s=o.indexOf(a);0<=s;){var l=o.indexOf("|}"),u=o.substr(s+a.length,l-s-a.length);i["marker"+u]=-1<u.indexOf("sub")?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[u],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[u]},s=(o=o.substr(l+1)).indexOf("{marker")}var c=n.getModel("textStyle"),d=c.get("fontSize"),h=n.get("textLineHeight");null==h&&(h=Math.round(3*d/2)),this.el=new fi({style:qi({},c,{rich:i,text:e,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:h}),z:n.get("z")}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var n=this._styleCoord;pS(n,this._zr,e,t),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ke(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var gS=Ke,Bc=ee,mS=An,rD=new Si({shape:{x:-1,y:-1,width:2,height:2}});function Dv(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(vi.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new vi(n,t,t.ecModel))}return t}function vS(e,t){return e.dispatchAction||Ke(t.dispatchAction,t)}function yS(e){return"center"===e||"middle"===e}dr({type:"tooltip",init:function(e,t){if(!xe.node){var n,i=e.getComponent("tooltip"),o=i.get("renderMode");this._renderMode=E0(o),"html"===this._renderMode?(n=new Iv(t.getDom(),t,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new kv(t),this._newLine="\n"),this._tooltipContent=n}},render:function(e,t,n){if(!xe.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");nC("itemTooltip",this._api,gS(function(t,n,i){"none"!==e&&(0<=e.indexOf(t)?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.isDisposed()||i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!xe.node){var o=vS(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=rD;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var l=Kw(i,t),u=l.point[0],c=l.point[1];null!=u&&null!=c&&this._tryShow({offsetX:u,offsetY:c,position:i.position,target:l.el},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},manuallyHideTip:function(e,t,n,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(vS(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var o=i.seriesIndex,a=i.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=s){var l=t.getSeriesByIndex(o);if(l&&"axis"===(e=Dv([l.getData().getItemModel(a),l,(l.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=Ke(t,this),clearTimeout(this._showTimout),0<n?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,o=[t.offsetX,t.offsetY],a=[],s=[],l=Dv([t.tooltipOption,this._tooltipModel]),u=this._renderMode,c=this._newLine,d={};Bc(e,function(f){Bc(f.dataByAxis,function(p){var m=n.getComponent(p.axisDim+"Axis",p.axisIndex),S=p.value,x=[];if(m&&null!=S){var V=cC(S,m.axis,n,p.seriesDataIndices,p.valueLabelOpt);ee(p.seriesDataIndices,function(K){var ce=n.getSeriesByIndex(K.seriesIndex),ue=K.dataIndexInside,de=ce&&ce.getDataParams(ue);if(de.axisDim=p.axisDim,de.axisIndex=p.axisIndex,de.axisType=p.axisType,de.axisId=p.axisId,de.axisValue=wg(m.axis,S),de.axisValueLabel=V,de){s.push(de);var ge,Ce=ce.formatTooltip(ue,!0,null,u);xt(Ce)?(ge=Ce.html,ae(d,Ce.markers)):ge=Ce,x.push(ge)}});var Q=V;a.push("html"!==u?x.join(c):(Q?Wi(Q)+c:"")+x.join(c))}})},this),a.reverse(),a=a.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(l,h,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(l,a,s,Math.random(),o[0],o[1],h,void 0,d)})},_showSeriesItemTooltip:function(e,t,n){var o=t.seriesIndex,a=this._ecModel.getSeriesByIndex(o),s=t.dataModel||a,l=t.dataIndex,u=t.dataType,c=s.getData(u),d=Dv([c.getItemModel(l),s,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),h=d.get("trigger");if(null==h||"item"===h){var f,p,m=s.getDataParams(l,u),S=s.formatTooltip(l,!1,u,this._renderMode);p=xt(S)?(f=S.html,S.markers):(f=S,null);var x="item_"+s.name+"_"+l;this._showOrMove(d,function(){this._showTooltipContent(d,f,m,x,e.offsetX,e.offsetY,e.position,e.target,p)}),n({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var o=new vi(i,this._tooltipModel,this._ecModel),a=o.get("content"),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,o,a,s,l,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent,d=e.get("formatter");s=s||e.get("position");var h=t;if(d&&"string"==typeof d)h=Mp(d,n,!0);else if("function"==typeof d){var f=gS(function(p,m){p===this._ticket&&(c.setContent(m,u,e),this._updatePosition(e,s,o,a,c,n,l))},this);this._ticket=i,h=d(n,i,f)}c.setContent(h,u,e),c.show(e),this._updatePosition(e,s,o,a,c,n,l)}},_updatePosition:function(e,t,n,i,o,a,s){var l=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var S,x,V,Q,K,ce,ue,de,ge,Ce,c=o.getSize(),d=e.get("align"),h=e.get("verticalAlign"),f=s&&s.getBoundingRect().clone();if(s&&f.applyTransform(s.transform),"function"==typeof t&&(t=t([n,i],a,o.el,f,{viewSize:[l,u],contentSize:c.slice()})),it(t))n=mS(t[0],l),i=mS(t[1],u);else if(xt(t)){t.width=c[0],t.height=c[1];var p=nr(t,{width:l,height:u});n=p.x,i=p.y,h=d=null}else if("string"==typeof t&&s)n=(m=function(S,x,V){var Q=V[0],K=V[1],ce=0,ue=0,de=x.width,ge=x.height;switch(S){case"inside":ce=x.x+de/2-Q/2,ue=x.y+ge/2-K/2;break;case"top":ce=x.x+de/2-Q/2,ue=x.y-K-5;break;case"bottom":ce=x.x+de/2-Q/2,ue=x.y+ge+5;break;case"left":ce=x.x-Q-5,ue=x.y+ge/2-K/2;break;case"right":ce=x.x+de+5,ue=x.y+ge/2-K/2}return[ce,ue]}(t,f,c))[0],i=m[1];else{var m;n=(S=n,x=i,V=o,Q=l,K=u,ce=d?null:20,ue=h?null:20,de=V.getOuterSize(),ge=de.width,Ce=de.height,null!=ce&&(Q<S+ge+ce?S-=ge+ce:S+=ce),null!=ue&&(K<x+Ce+ue?x-=Ce+ue:x+=ue),m=[S,x])[0],i=m[1]}d&&(n-=yS(d)?c[0]/2:"right"===d?c[0]:0),h&&(i-=yS(h)?c[1]/2:"bottom"===h?c[1]:0),e.get("confine")&&(n=(m=function(S,x,V,Q,K){var ce=V.getOuterSize(),ue=ce.width,de=ce.height;return S=Math.min(S+ue,Q)-ue,x=Math.min(x+de,K)-de,[S=Math.max(S,0),x=Math.max(x,0)]}(n,i,o,l,u))[0],i=m[1]),o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&Bc(t,function(i,o){var a=i.dataByAxis||{},s=(e[o]||{}).dataByAxis||[];(n&=a.length===s.length)&&Bc(a,function(l,u){var c=s[u]||{},d=l.seriesDataIndices||[],h=c.seriesDataIndices||[];(n&=l.value===c.value&&l.axisType===c.axisType&&l.axisId===c.axisId&&d.length===h.length)&&Bc(d,function(f,p){var m=h[p];n&=f.seriesIndex===m.seriesIndex&&f.dataIndex===m.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){xe.node||(this._tooltipContent.dispose(),iv("itemTooltip",t))}}),yi({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),yi({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var oD=["rect","polygon","keep","clear"],xS=ee;function bS(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function Nv(e,t,n){var i={};return xS(t,function(o){var a=i[o]=function(){function s(){}return s.prototype.__hidden=s.prototype,new s}();xS(e[o],function(s,l){if(Ei.isValidType(l)){var u={type:l,visual:s};n&&n(u,o),a[l]=new Ei(u),"opacity"===l&&((u=Y(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Ei(u))}})}),i}function _S(e,t,n){var i;ee(n,function(o){t.hasOwnProperty(o)&&bS(t[o])&&(i=!0)}),i&&ee(n,function(o){t.hasOwnProperty(o)&&bS(t[o])?e[o]=Y(t[o]):delete e[o]})}var Pv={lineX:wS(0),lineY:wS(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&Os(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var o=e.x,a=e.y,s=e.width,l=e.height,u=i[0];return!!(Os(i,o,a)||Os(i,o+s,a)||Os(i,o,a+l)||Os(i,o+s,a+l)||v.create(e).contain(u[0],u[1])||Ru(o,a,o+s,a,i)||Ru(o,a,o,a+l,i)||Ru(o+s,a,o+s,a+l,i)||Ru(o,a+l,o+s,a+l,i))||void 0}}};function wS(e){var t=["x","y"],n=["width","height"];return{point:function(i,o,a){if(i)return zc(i[e],a.range)},rect:function(i,o,a){if(i){var s=a.range,l=[i[t[e]],i[t[e]]+i[n[e]]];return l[1]<l[0]&&l.reverse(),zc(l[0],s)||zc(l[1],s)||zc(s[0],l)||zc(s[1],l)}}}}function zc(e,t){return t[0]<=e&&e<=t[1]}var CS=["inBrush","outOfBrush"],Lv="__ecBrushSelect",Rv="__ecInBrushSelectEvent",SS=Zo.VISUAL.BRUSH;function MS(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new yf(t.option,e)).setInputRanges(t.areas,e)})}function aD(e,t){if(!e.isDisposed()){var n=e.getZr();n[Rv]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[Rv]=!1}}function TS(e,t,n,i){for(var o=0,a=t.length;o<a;o++){var s=t[o];if(e[s.brushType](i,n,s.selectors,s))return!0}}function AS(e){var t=e.brushSelector;if(dt(t)){var n=[];return ee(Pv,function(o,a){n[a]=function(s,l,u,c){var d=l.getItemLayout(s);return o[t](d,u,c)}}),n}if(Vt(t)){var i={};return ee(Pv,function(o,a){i[a]=t}),i}return t}Xi(SS,function(e,t,n){e.eachComponent({mainType:"brush"},function(i){n&&"takeGlobalCursor"===n.type&&i.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})}),MS(e)}),zi(SS,function(e,t,n){var i,o,a=[];e.eachComponent({mainType:"brush"},function(s,l){var u={brushId:s.id,brushIndex:l,brushName:s.name,areas:Y(s.areas),selected:[]};a.push(u);var c=s.option,d=c.brushLink,h=[],f=[],p=[],m=0;l||(i=c.throttleType,o=c.throttleDelay);var S=Me(s.areas,function(K){return ce=pe({boundingRect:sD[K.brushType](K)},K),ue=ce.selectors={},ee(Pv[ce.brushType],function(de,ge){ue[ge]=function(Ce){return de(Ce,ue,ce)}}),ce;var ce,ue}),x=Nv(s.option,CS,function(K){K.mappingMethod="fixed"});function V(K){return"all"===d||h[K]}function Q(K){return!!K.length}it(d)&&ee(d,function(K){h[K]=1}),e.eachSeries(function(K,ce){var de,ge,Ce,ue=p[ce]=[];"parallel"===K.subType?(ge=ce,m|=(Ce=(de=K).coordinateSystem).hasAxisBrushed(),V(ge)&&Ce.eachActiveState(de.getData(),function(Pe,Fe){"active"===Pe&&(f[Fe]=1)})):function(de,ge,Ce){var Qe,et,Pe=AS(de);if(Pe&&(Qe=ge,null==(et=s.option.seriesIndex)||"all"===et||!(it(et)?De(et,Qe)<0:Qe!==et))&&(ee(S,function(Ge){Pe[Ge.brushType]&&s.brushTargetManager.controlSeries(Ge,de,e)&&Ce.push(Ge),m|=Q(Ce)}),V(ge)&&Q(Ce))){var Fe=de.getData();Fe.each(function(Ge){TS(Pe,Ce,Fe,Ge)&&(f[Ge]=1)})}}(K,ce,ue)}),e.eachSeries(function(K,ce){var ue={seriesId:K.id,seriesIndex:ce,seriesName:K.name,dataIndex:[]};u.selected.push(ue);var de=AS(K),ge=p[ce],Ce=K.getData(),Pe=V(ce)?function(Fe){return f[Fe]?(ue.dataIndex.push(Ce.getRawIndex(Fe)),"inBrush"):"outOfBrush"}:function(Fe){return TS(de,ge,Ce,Fe)?(ue.dataIndex.push(Ce.getRawIndex(Fe)),"inBrush"):"outOfBrush"};(V(ce)?m:Q(ge))&&function(Fe,Ge,Qe,et,ot,ht){var pt,ut={};function At(jt){return Qe.getItemVisual(pt,jt)}function Zt(jt,gn){Qe.setItemVisual(pt,jt,gn)}function nn(jt,gn){var Cn=Qe.getRawDataItem(pt=null==ht?jt:gn);if(!Cn||!1!==Cn.visualMap)for(var Vn=et.call(ot,jt),sn=Ge[Vn],Bn=ut[Vn],Hn=0,Xn=Bn.length;Hn<Xn;Hn++){var Ii=Bn[Hn];sn[Ii]&&sn[Ii].applyVisual(jt,At,Zt)}}ee(Fe,function(jt){var gn=Ei.prepareVisualTypes(Ge[jt]);ut[jt]=gn}),null==ht?Qe.each(nn):Qe.each([ht],nn)}(CS,x,Ce,Pe)})}),function(s,l,u,c,d){if(d){var h=s.getZr();h[Rv]||(h[Lv]||(h[Lv]=aD),qu(h,Lv,u,l)(s,c))}}(t,i,o,a,n)});var sD={lineX:cn,lineY:cn,rect:function(e){return IS(e.range)},polygon:function(e){for(var t,n=e.range,i=0,o=n.length;i<o;i++){var a=n[i];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&IS(t)}};function IS(e){return new v(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var lD=["#ddd"];function kS(e,t){return ae({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new vi(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}function Ev(e,t,n,i){i&&i.$from===e.id||this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}function Ov(e,t,n){this.model=e,this.ecModel=t,this.api=n}oo({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;t||_S(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:lD},i.hasOwnProperty("liftZ")||(i.liftZ=5)},setAreas:function(e){e&&(this.areas=Me(e,function(t){return kS(this.option,t)},this))},setBrushOption:function(e){this.brushOption=kS(this.option,e),this.brushType=this.brushOption.brushType}}),dr({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new eu(t.getZr())).on("brush",Ke(this._onBrush,this)).mount()},render:function(e){return this.model=e,Ev.apply(this,arguments)},updateTransform:function(e,t){return MS(t),Ev.apply(this,arguments)},updateView:Ev,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),t.isEnd&&!t.removeOnClick||this.api.dispatchAction({type:"brush",brushId:n,areas:Y(e),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Y(e),$from:n})}}),yi({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),yi({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),yi({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Ov.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Y(ya.toolbox.brush.title)};var xf=Ov.prototype;function DS(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},o=i.normal||(i.normal={}),a={normal:1,emphasis:1};ee(i,function(s,l){a[l]||tl(o,l)||(o[l]=s)}),n.label&&!tl(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function tl(e,t){return e.hasOwnProperty(t)}xf.render=xf.updateView=function(e,t,n){var i,o,a;t.eachComponent({mainType:"brush"},function(s){i=s.brushType,o=s.brushOption.brushMode||"single",a|=s.areas.length}),this._brushType=i,this._brushMode=o,ee(e.get("type",!0),function(s){e.setIconStatus(s,("keep"===s?"multiple"===o:"clear"===s?a:s===i)?"emphasis":"normal")})},xf.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return ee(e.get("type",!0),function(i){t[i]&&(n[i]=t[i])}),n},xf.onclick=function(e,t,n){var i=this._brushType,o=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},nu("brush",Ov),Cr(function(e,t){var u,c,n=e&&e.brush;if(it(n)||(n=n?[n]:[]),n.length){var i=[];ee(n,function(u){var c=u.hasOwnProperty("toolbox")?u.toolbox:[];c instanceof Array&&(i=i.concat(c))});var o=e&&e.toolbox;it(o)&&(o=o[0]),o||(e.toolbox=[o={feature:{}}]);var a=o.feature||(o.feature={}),s=a.brush||(a.brush={}),l=s.type||(s.type=[]);l.push.apply(l,i),c={},ee(u=l,function(d){c[d]=1}),u.length=0,ee(c,function(d,h){u.push(h)}),t&&!l.length&&l.push.apply(l,oD)}}),oo({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),dr({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),a=e.getModel("subtextStyle"),s=e.get("textAlign"),l=Pt(e.get("textBaseline"),e.get("textVerticalAlign")),u=new fi({style:qi({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),c=u.getBoundingRect(),d=e.get("subtext"),h=new fi({style:qi({},a,{text:d,textFill:a.getTextColor(),y:c.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),p=e.get("sublink"),m=e.get("triggerEvent",!0);u.silent=!f&&!m,h.silent=!p&&!m,f&&u.on("click",function(){zu(f,"_"+e.get("target"))}),p&&h.on("click",function(){zu(p,"_"+e.get("subtarget"))}),u.eventData=h.eventData=m?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(u),d&&i.add(h);var S=i.getBoundingRect(),x=e.getBoxLayoutParams();x.width=S.width,x.height=S.height;var V=nr(x,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?V.x+=V.width:"center"===s&&(V.x+=V.width/2)),l||("center"===(l=e.get("top")||e.get("bottom"))&&(l="middle"),"bottom"===l?V.y+=V.height:"middle"===l&&(V.y+=V.height/2),l=l||"top"),i.attr("position",[V.x,V.y]);var Q={textAlign:s,textVerticalAlign:l};u.setStyle(Q),h.setStyle(Q),S=i.getBoundingRect();var K=V.margin,ce=e.getItemStyle(["color","opacity"]);ce.fill=e.get("backgroundColor");var ue=new Si({shape:{x:S.x-K[3],y:S.y-K[0],width:S.width+K[1]+K[3],height:S.height+K[0]+K[2],r:e.get("borderRadius")},style:ce,subPixelOptimize:!0,silent:!0});i.add(ue)}}}),Mi.registerSubTypeDefaulter("timeline",function(){return"slider"}),yi({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),pe({currentIndex:n.option.currentIndex},e)}),yi({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)});var NS=Mi.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){NS.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(t<=e&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if("category"===n){var o=[];ee(t,function(s,l){var u,c=Cu(s);xt(s)?(u=Y(s)).value=l:u=l,o.push(u),dt(c)||null!=c&&!isNaN(c)||(c=""),i.push(c+"")}),t=o}(this._data=new hr([{name:"value",type:{category:"ordinal",time:"time"}[n]||"number"}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});function bf(e,t,n,i){or.call(this,e,t,n),this.type=i||"value",this.model=null}be(NS.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),Up);var cD=Xo.extend({type:"timeline"});bf.prototype={constructor:bf,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},he(bf,or);var ss=Ke,Bv=ee,zv=Math.PI;function PS(e,t,n,i,o,a){var s=t.get("color");o?(o.setColor(s),n.add(o),a&&a.onUpdate(o)):((o=ao(e.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o));var l=t.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(l),i=ae({rectHover:!0,z2:100},i,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var c=e.get("symbolOffset");if(c){var d=i.position=i.position||[0,0];d[0]+=An(c[0],u[0]),d[1]+=An(c[1],u[1])}var h=e.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,o.attr(i),o.updateTransform(),o}function LS(e,t,n,i,o){if(!e.dragging){var a=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get(["value"],t));o||!a.get("animation",!0)?e.attr({position:[s,0]}):(e.stopAnimation(!0),e.animateTo({position:[s,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}cD.extend({type:"timeline.slider",init:function(e,t){this.api=t},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,n),a=this._createGroup("mainGroup"),s=this._createGroup("labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return Wi(l.scale.getLabel(u))},Bv(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var Pe,Fe,n=e.get("label.position"),i=e.get("orient"),o=(Fe=t,nr((Pe=e).getBoxLayoutParams(),{width:Fe.getWidth(),height:Fe.getHeight()},Pe.get("padding")));null==n||"auto"===n?n="horizontal"===i?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var a,s,l,u,c={horizontal:"center",vertical:0<=n||"+"===n?"left":"right"},d={horizontal:0<=n||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:zv/2},f="vertical"===i?o.height:o.width,p=e.getModel("controlStyle"),m=p.get("show",!0),S=m?p.get("itemSize"):0,x=m?p.get("itemGap"):0,V=S+x,Q=e.get("label.rotate")||0;Q=Q*zv/180;var K=p.get("position",!0),ce=m&&p.get("showPlayBtn",!0),ue=m&&p.get("showPrevBtn",!0),ge=0,Ce=f;return"left"===K||"bottom"===K?(ce&&(a=[0,0],ge+=V),ue&&(s=[ge,0],ge+=V)):(ce&&(a=[Ce-S,0],Ce-=V),ue&&(s=[0,0],ge+=V)),m&&p.get("showNextBtn",!0)&&(l=[Ce-S,0],Ce-=V),u=[ge,Ce],e.get("inverse")&&u.reverse(),{viewRect:o,mainLength:f,orient:i,rotation:h[i],labelRotation:Q,labelPosOpt:n,labelAlign:e.get("label.align")||c[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||d[i],playPosition:a,prevBtnPosition:s,nextBtnPosition:l,axisExtent:u,controlSize:S,controlGap:x}},_position:function(e,t){var n=this._mainGroup,i=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var a=yr(),s=o.x,l=o.y+o.height;Mr(a,a,[-s,-l]),Ao(a,a,-zv/2),Mr(a,a,[s,l]),(o=o.clone()).applyTransform(a)}var u=x(o),c=x(n.getBoundingRect()),d=x(i.getBoundingRect()),h=n.position,f=i.position;f[0]=h[0]=u[0][0];var p,m=e.labelPosOpt;function S(Q){var K=Q.position;Q.origin=[u[0][0]-K[0],u[1][0]-K[1]]}function x(Q){return[[Q.x,Q.x+Q.width],[Q.y,Q.y+Q.height]]}function V(Q,K,ce,ue,de){Q[ue]+=ce[ue][de]-K[ue][de]}isNaN(m)?(V(h,c,u,1,p="+"===m?0:1),V(f,d,u,1,1-p)):(V(h,c,u,1,p=0<=m?0:1),f[1]=h[1]+m),n.attr("position",h),i.attr("position",f),n.rotation=i.rotation=e.rotation,S(n),S(i)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),o=El(t,i);o.getTicks=function(){return n.mapArray(["value"],function(l){return l})};var a=n.getDataExtent("value");o.setExtent(a[0],a[1]),o.niceTicks();var s=new bf("value",o,e.axisExtent,i);return s.model=t,s},_createGroup:function(e){var t=this["_"+e]=new y;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var o=n.getExtent();i.get("lineStyle.show")&&t.add(new _r({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:ne({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var o=i.getData(),a=n.scale.getTicks();Bv(a,function(s){var l=n.dataToCoord(s),u=o.getItemModel(s),c=u.getModel("itemStyle"),d=u.getModel("emphasis.itemStyle"),h={position:[l,0],onclick:ss(this._changeTimeline,this,s)},f=PS(u,c,t,h);Vi(f,d.getItemStyle()),u.get("tooltip")?(f.dataIndex=s,f.dataModel=i):f.dataIndex=f.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();Bv(a,function(s){var l=s.tickValue,u=o.getItemModel(l),c=u.getModel("label"),d=u.getModel("emphasis.label"),h=n.dataToCoord(s.tickValue),f=new fi({position:[h,0],rotation:e.labelRotation-e.rotation,onclick:ss(this._changeTimeline,this,l),silent:!1});qi(f.style,c,{text:s.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(f),Vi(f,qi({},d))},this)}},_renderControl:function(e,t,n,i){var o=e.controlSize,a=e.rotation,s=i.getModel("controlStyle").getItemStyle(),l=i.getModel("emphasis.controlStyle").getItemStyle(),u=[0,-o/2,o,o],c=i.getPlayState(),d=i.get("inverse",!0);function h(f,p,m,S){if(f){var x=(K=u,ue=(ce={position:f,origin:[o/2,0],rotation:S?-a:0,rectHover:!0,style:s,onclick:m}).style,de=Ml(i.get(p),ce||{},new v(K[0],K[1],K[2],K[3])),ue&&de.setStyle(ue),de);t.add(x),Vi(x,l)}var K,ce,ue,de}h(e.nextBtnPosition,"controlStyle.nextIcon",ss(this._changeTimeline,this,d?"-":"+")),h(e.prevBtnPosition,"controlStyle.prevIcon",ss(this._changeTimeline,this,d?"+":"-")),h(e.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),ss(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(e,t,n,i){var o=i.getData(),a=i.getCurrentIndex(),s=o.getItemModel(a).getModel("checkpointStyle"),l=this;this._currentPointer=PS(s,s,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=ss(l._handlePointerDrag,l),c.ondragend=ss(l._handlePointerDragend,l),LS(c,a,n,i,!0)},onUpdate:function(c){LS(c,a,n,i)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=As(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(ss(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){return Yo(e,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],function(a,s){var l=o.dataToCoord(a),u=Math.abs(l-e);u<i&&(i=u,t=s)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}}),Cr(function(e){var t=e&&e.timeline;it(t)||(t=t?[t]:[]),ee(t,function(n){n&&function(i){var o=i.type,a={number:"value",time:"time"};if(a[o]&&(i.axisType=a[o],delete i.type),DS(i),tl(i,"controlPosition")){var s=i.controlStyle||(i.controlStyle={});tl(s,"position")||(s.position=i.controlPosition),"none"!==s.position||tl(s,"show")||(s.show=!1,delete s.position),delete i.controlPosition}ee(i.data||[],function(l){xt(l)&&!it(l)&&(!tl(l,"value")&&tl(l,"name")&&(l.value=l.name),DS(l))})}(n)})});var RS=Ha,Fv=Wi;function _f(e){xs(e,"label",["show"])}var wf=oo({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},isAnimationEnabled:function(){if(xe.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t){this._mergeOption(e,t,!1,!1)},_mergeOption:function(e,t,n,i){var o=this.constructor,a=this.mainType+"Model";n||t.eachSeries(function(s){var l=s.get(this.mainType,!0),u=s[a];l&&l.data?(u?u._mergeOption(l,t,!0):(i&&_f(l),ee(l.data,function(c){c instanceof Array?(_f(c[0]),_f(c[1])):_f(c)}),ne(u=new o(l,this,t),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),s[a]=u):s[a]=null},this)},formatTooltip:function(e,t,n,i){var o=this.getData(),a=this.getRawValue(e),s=it(a)?Me(a,RS).join(", "):RS(a),l=o.getName(e),u=Fv(this.name);return null==a&&!l||(u+="html"===i?"<br/>":"\n"),l&&(u+=Fv(l),null!=a&&(u+=" : ")),null!=a&&(u+=Fv(s)),u},getData:function(){return this._data},setData:function(e){this._data=e}});be(wf,Up),wf.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var ES=De;function Vv(e,t,n,i,o,a){var s=[],l=ba(t,i)?t.getCalculationInfo("stackResultDimension"):i,u=Gv(t,l,e),c=t.indicesOfNearest(l,u)[0];s[o]=t.get(n,c),s[a]=t.get(l,c);var d=t.get(i,c),h=Py(t.get(i,c));return 0<=(h=Math.min(h,20))&&(s[a]=+s[a].toFixed(h)),[s,d]}var Hv=gt,Wv={min:Hv(Vv,"min"),max:Hv(Vv,"max"),average:Hv(Vv,"average")};function Fc(e,t){var h,n=e.getData(),i=e.coordinateSystem;if(t&&(h=t,isNaN(parseFloat(h.x))||isNaN(parseFloat(h.y)))&&!it(t.coord)&&i){var o=i.dimensions,a=OS(t,n,i,e);if((t=Y(t)).type&&Wv[t.type]&&a.baseAxis&&a.valueAxis){var s=ES(o,a.baseAxis.dim),l=ES(o,a.valueAxis.dim),u=Wv[t.type](n,a.baseDataDim,a.valueDataDim,s,l);t.coord=u[0],t.value=u[1]}else{for(var c=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],d=0;d<2;d++)Wv[c[d]]&&(c[d]=Gv(n,n.mapDimension(o[d]),c[d]));t.coord=c}}return t}function OS(e,t,n,i){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(function(a,s){var l=a.getData(),u=l.dimensions;s=l.getDimension(s);for(var c=0;c<u.length;c++){var d=l.getDimensionInfo(u[c]);if(d.name===s)return d.coordDim}}(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function Vc(e,t){return!(e&&e.containData&&t.coord&&!function(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}(t))||e.containData(t.coord)}function BS(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value}function Gv(e,t,n){if("average"!==n)return"median"===n?e.getMedian(t):e.getDataExtent(t,!0)["max"===n?1:0];var i=0,o=0;return e.each(t,function(a,s){isNaN(a)||(i+=a,o++)}),i/o}var Uv=dr({type:"marker",init:function(){this.markerGroupMap=zt()},render:function(e,t,n){var i=this.markerGroupMap;i.each(function(a){a.__keep=!1});var o=this.type+"Model";t.eachSeries(function(a){var s=a[o];s&&this.renderSeries(a,s,t,n)},this),i.each(function(a){a.__keep||this.group.remove(a.group)},this)},renderSeries:function(){}});function zS(e,t,n){var i=t.coordinateSystem;e.each(function(o){var a,s=e.getItemModel(o),l=An(s.get("x"),n.getWidth()),u=An(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)a=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(i){var c=e.get(i.dimensions[0],o),d=e.get(i.dimensions[1],o);a=i.dataToPoint([c,d])}}else a=[l,u];isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u),e.setItemLayout(o,a)})}function dD(e,t,n,i){var o=e.getData(),a=i.type;if(!it(i)&&("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis)){var s,l;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=dn(i.yAxis,i.xAxis);else{var u=OS(i,o,t,e);s=u.valueAxis,l=Gv(o,nc(o,u.valueDataDim),a)}var c="x"===s.dim?0:1,d=1-c,h=Y(i),f={};h.type=null,h.coord=[],f.coord=[],h.coord[d]=-1/0,f.coord[d]=1/0;var p=n.get("precision");0<=p&&"number"==typeof l&&(l=+l.toFixed(Math.min(p,20))),h.coord[c]=f.coord[c]=l,i=[h,f,{type:a,valueIndex:i.valueIndex,value:l}]}return(i=[Fc(e,i[0]),Fc(e,i[1]),ne({},i[2])])[2].type=i[2].type||"",ae(i[2],i[0]),ae(i[2],i[1]),i}function Cf(e){return!isNaN(e)&&!isFinite(e)}function FS(e,t,n,i){var o=1-e,a=i.dimensions[e];return Cf(t[o])&&Cf(n[o])&&t[e]===n[e]&&i.getAxis(a).containData(t[e])}function hD(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(FS(1,n,i,e)||FS(0,n,i,e)))return!0}return Vc(e,t[0])&&Vc(e,t[1])}function jv(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=An(l.get("x"),o.getWidth()),c=An(l.get("y"),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=s.dimensions,h=e.get(d[0],t),f=e.get(d[1],t);a=s.dataToPoint([h,f])}if("cartesian2d"===s.type){var p=s.getAxis("x"),m=s.getAxis("y");Cf(e.get((d=s.dimensions)[0],t))?a[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Cf(e.get(d[1],t))&&(a[1]=m.toGlobalCoord(m.getExtent()[n?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];e.setItemLayout(t,a)}function fD(e,t,n,i){var o=Fc(e,i[0]),a=Fc(e,i[1]),s=dn,l=o.coord,u=a.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),u[0]=s(u[0],1/0),u[1]=s(u[1],1/0);var c=se([{},o,a]);return c.coord=[o.coord,a.coord],c.x0=o.x,c.y0=o.y,c.x1=a.x,c.y1=a.y,c}function au(e){return!isNaN(e)&&!isFinite(e)}function VS(e,t,n){var i=1-e;return au(t[i])&&au(n[i])}function pD(e,t){var n=t.coord[0],i=t.coord[1];return!("cartesian2d"!==e.type||!n||!i||!VS(1,n,i)&&!VS(0,n,i))||Vc(e,{coord:n,x:t.x0,y:t.y0})||Vc(e,{coord:i,x:t.x1,y:t.y1})}function HS(e,t,n,i,o){var a,s=i.coordinateSystem,l=e.getItemModel(t),u=An(l.get(n[0]),o.getWidth()),c=An(l.get(n[1]),o.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(e.getValues(n,t));else{var d=[p=e.get(n[0],t),m=e.get(n[1],t)];s.clampData&&s.clampData(d,d),a=s.dataToPoint(d,!0)}if("cartesian2d"===s.type){var h=s.getAxis("x"),f=s.getAxis("y"),p=e.get(n[0],t),m=e.get(n[1],t);au(p)?a[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):au(m)&&(a[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(u)||(a[0]=u),isNaN(c)||(a[1]=c)}else a=[u,c];return a}Uv.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markPointModel;o&&(zS(o.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout(o))},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Ol),c=function(d,h,f){var p;p=d?Me(d&&d.dimensions,function(x){return pe({name:x},h.getData().getDimensionInfo(h.getData().mapDimension(x))||{})}):[{name:"value",type:"float"}];var m=new hr(p,f),S=Me(f.get("data"),gt(Fc,h));return d&&(S=Be(S,gt(Vc,d))),m.initData(S,null,d?BS:function(x){return x.value}),m}(o,e,t);t.setData(c),zS(t.getData(),e,i),c.each(function(d){var h=c.getItemModel(d),f=h.getShallow("symbol"),p=h.getShallow("symbolSize"),m=h.getShallow("symbolRotate"),S=Vt(f),x=Vt(p),V=Vt(m);if(S||x||V){var Q=t.getRawValue(d),K=t.getDataParams(d);S&&(f=f(Q,K)),x&&(p=p(Q,K)),V&&(m=m(Q,K))}c.setItemVisual(d,{symbol:f,symbolSize:p,symbolRotate:m,color:h.get("itemStyle.color")||s.getVisual("color")})}),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl(function(d){d.traverse(function(h){h.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),Cr(function(e){e.markPoint=e.markPoint||{}}),wf.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}}),Uv.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markLineModel;if(o){var a=o.getData(),s=o.__from,l=o.__to;s.each(function(u){jv(s,u,!0,i,n),jv(l,u,!1,i,n)}),a.each(function(u){a.setItemLayout(u,[s.getItemLayout(u),l.getItemLayout(u)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Hh);this.group.add(u.group);var c=function(x,V,Q){var K;K=x?Me(x&&x.dimensions,function(Pe){return pe({name:Pe},V.getData().getDimensionInfo(V.getData().mapDimension(Pe))||{})}):[{name:"value",type:"float"}];var ce=new hr(K,Q),ue=new hr(K,Q),de=new hr([],Q),ge=Me(Q.get("data"),gt(dD,V,x,Q));x&&(ge=Be(ge,gt(hD,x)));var Ce=x?BS:function(Pe){return Pe.value};return ce.initData(Me(ge,function(Pe){return Pe[0]}),null,Ce),ue.initData(Me(ge,function(Pe){return Pe[1]}),null,Ce),de.initData(Me(ge,function(Pe){return Pe[2]})),de.hasItemOption=!0,{from:ce,to:ue,line:de}}(o,e,t),d=c.from,h=c.to,f=c.line;t.__from=d,t.__to=h,t.setData(f);var p=t.get("symbol"),m=t.get("symbolSize");function S(x,V,Q){var K=x.getItemModel(V);jv(x,V,Q,e,i),x.setItemVisual(V,{symbolRotate:K.get("symbolRotate"),symbolSize:K.get("symbolSize")||m[Q?0:1],symbol:K.get("symbol",!0)||p[Q?0:1],color:K.get("itemStyle.color")||s.getVisual("color")})}it(p)||(p=[p,p]),"number"==typeof m&&(m=[m,m]),c.from.each(function(x){S(d,x,!0),S(h,x,!1)}),f.each(function(x){var V=f.getItemModel(x).get("lineStyle.color");f.setItemVisual(x,{color:V||d.getItemVisual(x,"color")}),f.setItemLayout(x,[d.getItemLayout(x),h.getItemLayout(x)]),f.setItemVisual(x,{fromSymbolRotate:d.getItemVisual(x,"symbolRotate"),fromSymbolSize:d.getItemVisual(x,"symbolSize"),fromSymbol:d.getItemVisual(x,"symbol"),toSymbolRotate:h.getItemVisual(x,"symbolRotate"),toSymbolSize:h.getItemVisual(x,"symbolSize"),toSymbol:h.getItemVisual(x,"symbol")})}),u.updateData(f),c.line.eachItemGraphicEl(function(x,V){x.traverse(function(Q){Q.dataModel=t})}),u.__keep=!0,u.group.silent=t.get("silent")||e.get("silent")}}),Cr(function(e){e.markLine=e.markLine||{}}),wf.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var qv=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Uv.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries(function(i){var o=i.markAreaModel;if(o){var a=o.getData();a.each(function(s){var l=Me(qv,function(u){return HS(a,s,u,i,n)});a.setItemLayout(s,l),a.getItemGraphicEl(s).setShape("points",l)})}},this)},renderSeries:function(e,t,n,i){var o=e.coordinateSystem,a=e.id,s=e.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,{group:new y});this.group.add(u.group),u.__keep=!0;var c=function(d,h,f){var p,m;m=d?(p=Me(d&&d.dimensions,function(V){var Q=h.getData();return pe({name:V},Q.getDimensionInfo(Q.mapDimension(V))||{})}),new hr(Me(["x0","y0","x1","y1"],function(V,Q){return{name:V,type:p[Q%2].type}}),f)):new hr(p=[{name:"value",type:"float"}],f);var S=Me(f.get("data"),gt(fD,h,d,f));return d&&(S=Be(S,gt(pD,d))),m.initData(S,null,d?function(V,Q,K,ce){return V.coord[Math.floor(ce/2)][ce%2]}:function(V){return V.value}),m.hasItemOption=!0,m}(o,e,t);t.setData(c),c.each(function(d){var h=Me(qv,function(p){return HS(c,d,p,e,i)}),f=!0;ee(qv,function(p){if(f){var m=c.get(p[0],d),S=c.get(p[1],d);(au(m)||o.getAxis("x").containData(m))&&(au(S)||o.getAxis("y").containData(S))&&(f=!1)}}),c.setItemLayout(d,{points:h,allClipped:f}),c.setItemVisual(d,{color:s.getVisual("color")})}),c.diff(u.__data).add(function(d){var h=c.getItemLayout(d);if(!h.allClipped){var f=new Zr({shape:{points:h.points}});c.setItemGraphicEl(d,f),u.group.add(f)}}).update(function(d,h){var f=u.__data.getItemGraphicEl(h),p=c.getItemLayout(d);p.allClipped?f&&u.group.remove(f):(f?si(f,{shape:{points:p.points}},t,d):f=new Zr({shape:{points:p.points}}),c.setItemGraphicEl(d,f),u.group.add(f))}).remove(function(d){var h=u.__data.getItemGraphicEl(d);u.group.remove(h)}).execute(),c.eachItemGraphicEl(function(d,h){var f=c.getItemModel(h),p=f.getModel("label"),m=f.getModel("emphasis.label"),S=c.getItemVisual(h,"color");d.useStyle(pe(f.getModel("itemStyle").getItemStyle(),{fill:vs(S,.4),stroke:S})),d.hoverStyle=f.getModel("emphasis.itemStyle").getItemStyle(),no(d.style,d.hoverStyle,p,m,{labelFetcher:t,labelDataIndex:h,defaultText:c.getName(h)||"",isRectText:!0,autoColor:S}),Vi(d,{}),d.dataModel=t}),u.__data=c,u.group.silent=t.get("silent")||e.get("silent")}}),Cr(function(e){e.markArea=e.markArea||{}});var WS=ya.legend.selector,gD={all:{type:"all",title:Y(WS.all)},inverse:{type:"inverse",title:Y(WS.inverse)}},GS=oo({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){GS.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),it(t)&&ee(t,function(n,i){dt(n)&&(n={type:n}),t[i]=ae(n,gD[n.type])})},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}t||this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(o){var a;if(n.push(o.name),o.legendVisualProvider){var l=o.legendVisualProvider.getAllNames();e.isSeriesFiltered(o)||(n=n.concat(l)),l.length?t=t.concat(l):a=!0}else a=!0;a&&$f(o)&&t.push(o.name)}),this._availableNames=n;var i=Me(this.get("data")||t,function(o){return"string"!=typeof o&&"number"!=typeof o||(o={name:o}),new vi(o,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&ee(this._data,function(n){t[n.get("name")]=!1}),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var t=this.option.selected;ee(this._data,function(n){t[n.get("name",!0)]=!0})},inverseSelect:function(){var t=this.option.selected;ee(this._data,function(n){var i=n.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]})},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&0<=De(this._availableNames,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});function Hc(e,t,n){var i,o={},a="toggleSelected"===e;return n.eachComponent("legend",function(s){a&&null!=i?s[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?s[e]():(s[e](t.name),i=s.isSelected(t.name)),ee(s.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var c=s.isSelected(u);o[u]=o.hasOwnProperty(u)?o[u]&&c:c}})}),"allSelect"===e||"inverseSelect"===e?{selected:o}:{name:t.name,selected:o}}yi("legendToggleSelect","legendselectchanged",gt(Hc,"toggleSelected")),yi("legendAllSelect","legendselectall",gt(Hc,"allSelect")),yi("legendInverseSelect","legendinverseselect",gt(Hc,"inverseSelect")),yi("legendSelect","legendselected",gt(Hc,"select")),yi("legendUnSelect","legendunselected",gt(Hc,"unSelect"));var su=gt,US=ee,Sf=y,mD=dr({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Sf),this.group.add(this._selectorGroup=new Sf),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),a=e.get("orient");o&&"auto"!==o||(o="right"===e.get("left")&&"vertical"===a?"right":"left");var s=e.get("selector",!0),l=e.get("selectorPosition",!0);!s||l&&"auto"!==l||(l="horizontal"===a?"end":"start"),this.renderInner(o,e,t,n,s,a,l);var u=e.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},d=e.get("padding"),h=nr(u,c,d),f=this.layoutInner(e,o,h,i,s,l),p=nr(pe({width:f.width,height:f.height},u),c,d);this.group.attr("position",[p.x-f.x,p.y-f.y]),this.group.add(this._backgroundEl=UC(f,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,n,i,o,a,s){var l=this.getContentGroup(),u=zt(),c=t.get("selectedMode"),d=[];n.eachRawSeries(function(h){h.get("legendHoverLink")||d.push(h.id)}),US(t.getData(),function(h,f){var p=h.get("name");if(this.newlineDisabled||""!==p&&"\n"!==p){var m=n.getSeriesByName(p)[0];if(!u.get(p))if(m){var S=m.getData(),x=S.getVisual("color"),V=S.getVisual("borderColor");"function"==typeof x&&(x=x(m.getDataParams(0))),"function"==typeof V&&(V=V(m.getDataParams(0)));var Q=S.getVisual("legendSymbol")||"roundRect",K=S.getVisual("symbol");this._createItem(p,f,h,t,Q,K,e,x,V,c).on("click",su(qS,p,null,i,d)).on("mouseover",su(Yv,m.name,null,i,d)).on("mouseout",su(Xv,m.name,null,i,d)),u.set(p,!0)}else n.eachRawSeries(function(ce){if(!u.get(p)&&ce.legendVisualProvider){var ue=ce.legendVisualProvider;if(!ue.containName(p))return;var de=ue.indexOfName(p),ge=ue.getItemVisual(de,"color"),Ce=ue.getItemVisual(de,"borderColor");this._createItem(p,f,h,t,"roundRect",null,e,ge,Ce,c).on("click",su(qS,null,p,i,d)).on("mouseover",su(Yv,null,p,i,d)).on("mouseout",su(Xv,null,p,i,d)),u.set(p,!0)}},this)}else l.add(new Sf({newline:!0}))},this),o&&this._createSelector(o,t,i,a,s)},_createSelector:function(e,t,n,i,o){var a=this.getSelectorGroup();US(e,function(s){!function(l){var u=l.type,c=new fi({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});a.add(c);var d=t.getModel("selectorLabel"),h=t.getModel("emphasis.selectorLabel");no(c.style,c.hoverStyle={},d,h,{defaultText:l.title,isRectText:!1}),Vi(c)}(s)})},_createItem:function(e,t,n,i,o,a,s,l,u,c){var d=i.get("itemWidth"),h=i.get("itemHeight"),f=i.get("inactiveColor"),p=i.get("inactiveBorderColor"),m=i.get("symbolKeepAspect"),S=i.getModel("itemStyle"),x=i.isSelected(e),V=new Sf,Q=n.getModel("textStyle"),K=n.get("icon"),ce=n.getModel("tooltip"),ue=ce.parentModel,de=ao(o=K||o,0,0,d,h,x?l:f,null==m||m);if(V.add(jS(de,o,S,u,p,x)),!K&&a&&(a!==o||"none"===a)){var ge=.8*h;"none"===a&&(a="circle");var Ce=ao(a,(d-ge)/2,(h-ge)/2,ge,ge,x?l:f,null==m||m);V.add(jS(Ce,a,S,u,p,x))}var Pe="left"===s?d+5:-5,Fe=s,Ge=i.get("formatter"),Qe=e;"string"==typeof Ge&&Ge?Qe=Ge.replace("{name}",e??""):"function"==typeof Ge&&(Qe=Ge(e)),V.add(new fi({style:qi({},Q,{text:Qe,x:Pe,y:h/2,textFill:x?Q.getTextColor():f,textAlign:Fe,textVerticalAlign:"middle"})}));var et=new Si({shape:V.getBoundingRect(),invisible:!0,tooltip:ce.get("show")?ne({content:e,formatter:ue.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},ce.option):null});return V.add(et),V.eachChild(function(ot){ot.silent=!0}),et.silent=!c,this.getContentGroup().add(V),Vi(V),V.__legendDataIndex=t,V},layoutInner:function(e,t,n,i,o,a){var s=this.getContentGroup(),l=this.getSelectorGroup();Ds(e.get("orient"),s,e.get("itemGap"),n.width,n.height);var u=s.getBoundingRect(),c=[-u.x,-u.y];if(o){Ds("horizontal",l,e.get("selectorItemGap",!0));var d=l.getBoundingRect(),h=[-d.x,-d.y],f=e.get("selectorButtonGap",!0),p=e.getOrient().index,m=0===p?"width":"height",S=0===p?"height":"width",x=0===p?"y":"x";"end"===a?h[p]+=u[m]+f:c[p]+=d[m]+f,h[1-p]+=u[S]/2-d[S]/2,l.attr("position",h),s.attr("position",c);var V={x:0,y:0};return V[m]=u[m]+f+d[m],V[S]=Math.max(u[S],d[S]),V[x]=Math.min(0,d[x]+h[1-p]),V}return s.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function jS(e,t,n,i,o,a){var s;return"line"!==t&&t.indexOf("empty")<0?(s=n.getItemStyle(),e.style.stroke=i,a||(s.stroke=o)):s=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(s)}function qS(e,t,n,i){Xv(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:e??t}),Yv(e,t,n,i)}function Yv(e,t,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function Xv(e,t,n,i){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}ro(Zo.PROCESSOR.SERIES_FILTER,function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}),Mi.registerSubTypeDefaulter("legend",function(){return"plain"});var YS=GS.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var o=Al(e);YS.superCall(this,"init",e,t,n,i),XS(this,e,o)},mergeOption:function(e,t){YS.superCall(this,"mergeOption",e,t),XS(this,this.option,e)}});function XS(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Wa(t,n,{type:"box",ignoreSize:i})}var ZS=y,Zv=["width","height"],$v=["x","y"],Kv=mD.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Kv.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new ZS),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ZS)},resetInner:function(){Kv.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i,o,a,s){var l=this;Kv.superCall(this,"renderInner",e,t,n,i,o,a,s);var u=this._controllerGroup,c=t.get("pageIconSize",!0);it(c)||(c=[c,c]),h("pagePrev",0);var d=t.getModel("pageTextStyle");function h(f,p){var m=f+"DataIndex",S=Ml(t.get("pageIcons",!0)[t.getOrient().name][p],{onclick:Ke(l._pageGo,l,m,t,i)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});S.name=f,u.add(S)}u.add(new fi({name:"pageText",style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),h("pageNext",1)},layoutInner:function(e,t,n,i,o,a){var s=this.getSelectorGroup(),l=e.getOrient().index,u=Zv[l],c=$v[l],d=Zv[1-l],h=$v[1-l];o&&Ds("horizontal",s,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),p=s.getBoundingRect(),m=[-p.x,-p.y],S=Y(n);o&&(S[u]=n[u]-p[u]-f);var x=this._layoutContentAndController(e,i,S,l,u,d,h);if(o){if("end"===a)m[l]+=x[u]+f;else{var V=p[u]+f;m[l]-=V,x[c]-=V}x[u]+=p[u]+f,m[1-l]+=x[h]+x[d]/2-p[d]/2,x[d]=Math.max(x[d],p[d]),x[h]=Math.min(x[h],p[h]+m[1-l]),s.attr("position",m)}return x},_layoutContentAndController:function(e,t,n,i,o,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;Ds(e.get("orient"),l,e.get("itemGap"),i?n.width:null,i?null:n.height),Ds("horizontal",c,e.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),h=c.getBoundingRect(),f=this._showController=d[o]>n[o],p=[-d.x,-d.y];t||(p[i]=l.position[i]);var m=[0,0],S=[-h.x,-h.y],x=Pt(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?S[i]+=n[o]-h[o]:m[i]+=h[o]+x),S[1-i]+=d[a]/2-h[a]/2,l.attr("position",p),u.attr("position",m),c.attr("position",S);var V={x:0,y:0};if(V[o]=f?n[o]:d[o],V[a]=Math.max(d[a],h[a]),V[s]=Math.min(0,h[s]+S[1-i]),u.__rectSize=n[o],f){var Q={x:0,y:0};Q[o]=Math.max(n[o]-h[o]-x,0),Q[a]=V[a],u.setClipPath(new Si({shape:Q})),u.__rectSize=Q[o]}else c.eachChild(function(ce){ce.attr({invisible:!0,silent:!0})});var K=this._getPageInfo(e);return null!=K.pageIndex&&si(l,{position:K.contentPosition},f&&e),this._updatePageInfoView(e,K),V},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;ee(["pagePrev","pageNext"],function(u){var c=null!=t[u+"DataIndex"],d=n.childOfName(u);d&&(d.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),d.cursor=c?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),a=t.pageIndex,s=null!=a?a+1:0,l=t.pageCount;i&&o&&i.setStyle("text",dt(o)?o.replace("{current}",s).replace("{total}",l):o({current:s,total:l}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,a=Zv[o],s=$v[o],l=this._findTargetItemIndex(t),u=n.children(),c=u[l],d=u.length,h=d?1:0,f={contentPosition:n.position.slice(),pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return f;var p=Q(c);f.contentPosition[o]=-p.s;for(var m=l+1,S=p,x=p,V=null;m<=d;++m)(!(V=Q(u[m]))&&x.e>S.s+i||V&&!K(V,S.s))&&(S=x.i>S.i?x:V)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=S.i),++f.pageCount),x=V;for(m=l-1,S=p,x=p,V=null;-1<=m;--m)(V=Q(u[m]))&&K(x,V.s)||!(S.i<x.i)||(x=S,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=S.i),++f.pageCount,++f.pageIndex),S=V;return f;function Q(ce){if(ce){var ue=ce.getBoundingRect(),de=ue[s]+ce.position[o];return{s:de,e:de+ue[a],i:ce.__legendDataIndex}}}function K(ce,ue){return ce.e>=ue&&ce.s<=ue+i}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild(function(i,o){var a=i.__legendDataIndex;null==n&&null!=a&&(n=o),a===e&&(t=o)}),t??n):0;var t,n}});yi("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})}),Sv.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var Mf=Si,nl=Hi,Jv=As,Ta=Ke,Qv=ee,Wc="horizontal",$S="vertical",vD=["line","bar","candlestick","scatter"],e0=Mv.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,n,i){e0.superApply(this,"render",arguments),qu(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){e0.superApply(this,"remove",arguments),_1(this,"_dispatchZoomAction")},dispose:function(){e0.superApply(this,"dispose",arguments),_1(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new y;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},o=this._orient===Wc?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=Al(e.option);ee(["right","top","width","height"],function(l){"ph"===a[l]&&(a[l]=o[l])});var s=nr(a,i,e.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===$S&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==Wc||o?n===Wc&&o?{scale:s?[-1,1]:[-1,-1]}:n!==$S||o?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var l=e.getBoundingRect([a]);e.attr("position",[t.x-l.x,t.y-l.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this._size,n=this._displayables.barGroup;n.add(new Mf({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),n.add(new Mf({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:Ke(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=o){var a=i.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l,u=[0,t[1]],d=[[t[0],0],[0,0]],h=[],f=t[0]/(i.count()-1),p=0,m=Math.round(i.count()/t[0]);i.each([o],function(x,V){if(0<m&&V%m)p+=f;else{var Q=null==x||isNaN(x)||""===x,K=Q?0:nl(x,a,u,!0);Q&&!l&&V?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!Q&&l&&(d.push([p,0]),h.push([p,0])),d.push([p,K]),h.push([p,K]),p+=f,l=Q}});var S=this.dataZoomModel;this._displayables.barGroup.add(new Zr({shape:{points:d},style:pe({fill:S.get("dataBackgroundColor")},S.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new vo({shape:{points:h},style:S.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(o,a){ee(e.getAxisProxy(o.name,a).getTargetSeriesModels(),function(s){if(!(n||!0!==t&&De(vD,s.get("type"))<0)){var l,u=i.getComponent(o.axis,a).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[o.name],d=s.coordinateSystem;null!=c&&d.getOtherAxis&&(l=d.getOtherAxis(u).inverse),c=s.getData().mapDimension(c),n={thisAxis:u,series:s,thisDim:o.name,otherDim:c,otherAxisInverse:l}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,o=this._size,a=this.dataZoomModel;i.add(e.filler=new Mf({draggable:!0,cursor:KS(this._orient),drift:Ta(this._onDragMove,this,"all"),ondragstart:Ta(this._showDataInfo,this,!0),ondragend:Ta(this._onDragEnd,this),onmouseover:Ta(this._showDataInfo,this,!0),onmouseout:Ta(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new Mf({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),Qv([0,1],function(s){var l=Ml(a.get("handleIcon"),{cursor:KS(this._orient),draggable:!0,drift:Ta(this._onDragMove,this,s),ondragend:Ta(this._onDragEnd,this),onmouseover:Ta(this._showDataInfo,this,!0),onmouseout:Ta(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),u=l.getBoundingRect();this._handleHeight=An(a.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,l.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(l.style.fill=c),i.add(t[s]=l);var d=a.textStyleModel;this.group.add(n[s]=new fi({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:d.getTextColor(),textFont:d.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[nl(e[0],[0,100],t,!0),nl(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];js(t,i,o,n.get("zoomLock")?"all":e,null!=a.minSpan?nl(a.minSpan,s,o,!0):null,null!=a.maxSpan?nl(a.maxSpan,s,o,!0):null);var l=this._range,u=this._range=Jv([nl(i[0],o,s,!0),nl(i[1],o,s,!0)]);return!l||l[0]!==u[0]||l[1]!==u[1]},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=Jv(n.slice()),o=this._size;Qv([0,1],function(a){var l=this._handleHeight;t.handles[a].attr({scale:[l/2,l/2],position:[n[a],o[1]/2-l/2]})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,a=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,c=e?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var d=Jv(this._handleEnds.slice());function h(f){var p=Ts(n.handles[f].parent,this.group),m=gp(0===f?"right":"left",p),S=this._handleWidth/2+5,x=Yo([d[f]+(0===f?-S:S),this._size[1]/2],p);i[f].setStyle({x:x[0],y:x[1],textVerticalAlign:o===Wc?"middle":m,textAlign:o===Wc?m:"center",text:a[f]})}h.call(this,0),h.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var a=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(o,20));return Vt(i)?i(e,a):dt(i)?i.replace("{value}",a):a},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr("invisible",!(e=this._dragging||e)),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n,i){this._dragging=!0,Ui(i.event);var o=Yo([t,n],this._displayables.barGroup.getLocalTransform(),!0),a=this._updateInterval(e,o[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,a=this._updateInterval("all",n[0]-(i[0]+i[1])/2);this._updateView(),a&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(Qv(this.getTargetCoordInfo(),function(i){if(!e&&i.length){var o=i[0].model.coordinateSystem;e=o.getRect&&o.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});function KS(e){return"vertical"===e?"ns-resize":"ew-resize"}Sv.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var JS="\0_ec_dataZoom_roams";function QS(e){return e.type+"\0_"+e.id}function e2(e){var t=e.getZr();return t[JS]||(t[JS]={})}function t2(e){ee(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function xD(e,t){e.dispatchAction({type:"dataZoom",batch:t})}var bD=Ke,n2=Mv.extend({type:"dataZoom.inside",init:function(e,t){},render:function(e,t,n,i){n2.superApply(this,"render",arguments),this._range=e.getPercentRange(),ee(this.getTargetCoordInfo(),function(o,a){var s=Me(o,function(l){return QS(l.model)});ee(o,function(l){var u=l.model,c={};ee(["pan","zoom","scrollMove"],function(d){c[d]=bD(_D[d],this,l,a)},this),function yD(e,t){var n=e2(e),i=t.dataZoomId,o=t.coordId;ee(n,function(l,u){var c=l.dataZoomInfos;c[i]&&De(t.allCoordIds,o)<0&&(delete c[i],l.count--)}),t2(n);var u,c,a=n[o];a||((a=n[o]={coordId:o,dataZoomInfos:{},count:0}).controller=(u=a,c=new jl(e.getZr()),ee(["pan","zoom","scrollMove"],function(d){c.on(d,function(h){var f=[];ee(u.dataZoomInfos,function(p){if(h.isAvailableBehavior(p.dataZoomModel.option)){var m=(p.getRange||{})[d],S=m&&m(u.controller,h);!p.dataZoomModel.get("disabled",!0)&&S&&f.push({dataZoomId:p.dataZoomId,start:S[0],end:S[1]})}}),f.length&&u.dispatchAction(f)})}),c),a.dispatchAction=gt(xD,e)),a.dataZoomInfos[i]||a.count++,a.dataZoomInfos[i]=t;var s=function(l){var u,c={type_true:2,type_move:1,type_false:0,type_undefined:-1},d=!0;return ee(l,function(h){var f=h.dataZoomModel,p=!f.get("disabled",!0)&&(!f.get("zoomLock",!0)||"move");c["type_"+u]<c["type_"+p]&&(u=p),d&=f.get("preventDefaultMouseMove",!0)}),{controlType:u,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!d}}}(a.dataZoomInfos);a.controller.enable(s.controlType,s.opt),a.controller.setPointerChecker(t.containsPoint),qu(a,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")}(n,{coordId:QS(u),allCoordIds:s,containsPoint:function(d,h,f){return u.coordinateSystem.containPoint([h,f])},dataZoomId:e.id,dataZoomModel:e,getRange:c})},this)},this)},dispose:function(){(function(e,t){var n=e2(e);ee(n,function(i){i.controller.dispose();var o=i.dataZoomInfos;o[t]&&(delete o[t],i.count--)}),t2(n)})(this.api,this.dataZoomModel.id),n2.superApply(this,"dispose",arguments),this._range=null}}),_D={zoom:function(e,t,n,i){var o=this._range,a=o.slice(),s=e.axisModels[0];if(s){var l=t0[t](null,[i.originX,i.originY],s,n,e),u=(0<l.signal?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/i.scale,0);a[0]=(a[0]-u)*c+u,a[1]=(a[1]-u)*c+u;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return js(0,a,[0,100],0,d.minSpan,d.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:i2(function(e,t,n,i,o,a){var s=t0[i]([a.oldX,a.oldY],[a.newX,a.newY],t,o,n);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:i2(function(e,t,n,i,o,a){return t0[i]([0,0],[a.scrollDelta,a.scrollDelta],t,o,n).signal*(e[1]-e[0])*a.scrollDelta})};function i2(e){return function(t,n,i,o){var a=this._range,s=a.slice(),l=t.axisModels[0];if(l)return js(e(s,l,t,n,i,o),s,[0,100],"all"),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}function r2(e){var t=e&&e.visualMap;it(t)||(t=t?[t]:[]),o2(t,function(n){if(n){lu(n,"splitList")&&!lu(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var i=n.pieces;i&&it(i)&&o2(i,function(o){xt(o)&&(lu(o,"start")&&!lu(o,"min")&&(o.min=o.start),lu(o,"end")&&!lu(o,"max")&&(o.max=o.end))})}})}var t0={grid:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(s.pixel=t[0]-e[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(e,t,n,i,o){var a=n.axis,s={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),c=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],t=l.pointToCoord(t),"radiusAxis"===n.mainType?(s.pixel=t[0]-e[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=a.inverse?-1:1),s},singleAxis:function(e,t,n,i,o){var a=n.axis,s=o.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===a.orient?(l.pixel=t[0]-e[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=t[1]-e[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}},o2=ee;function lu(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}Mi.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?0<e.pieces.length:0<e.splitNumber)&&!e.calculable?"piecewise":"continuous"});var a2=Zo.VISUAL.COMPONENT;function wD(e,t,n,i){for(var o=t.targetVisuals[i],a=Ei.prepareVisualTypes(o),s={color:e.getData().getVisual("color")},l=0,u=a.length;l<u;l++){var c=a[l],d=o["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(n,h,f)}return s.color;function h(p){return s[p]}function f(p,m){s[p]=m}}zi(a2,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(i){var o=e.pipelineContext;!i.isTargetSeries(e)||o&&o.large||n.push(function(a,s,l,u){var c={};return ee(a,function(d){var h=Ei.prepareVisualTypes(s[d]);c[d]=h}),{progress:function(d,h){function f(ge){return h.getItemVisual(m,ge)}function p(ge,Ce){h.setItemVisual(m,ge,Ce)}var m;for(null!=u&&(u=h.getDimension(u));null!=(m=d.next());){var S=h.getRawDataItem(m);if(!S||!1!==S.visualMap)for(var x=null!=u?h.get(u,m,!0):m,V=l(x),Q=s[V],K=c[V],ce=0,ue=K.length;ce<ue;ce++){var de=K[ce];Q[de]&&Q[de].applyVisual(x,f,p)}}}}}(i.stateList,i.targetVisuals,Ke(i.getValueState,i),i.getDataDimension(e.getData())))}),n}}),zi(a2,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(o){if(o.isTargetSeries(e)){var a=o.getVisualMeta(Ke(wD,null,e,o))||{stops:[],outerColors:[]},s=o.getDataDimension(n),l=n.getDimensionInfo(s);null!=l&&(a.dimension=l.index,i.push(a))}}),e.getData().setVisual("visualMeta",i)}});var n0=function(e,t,n){var i=Y((CD[e]||{})[t]);return n&&it(i)?i[i.length-1]:i},CD={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},s2=Ei.mapVisual,SD=Ei.eachVisual,MD=it,i0=ee,TD=As,AD=Hi,Tf=oo({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;xe.canvasSupported||(n.realtime=!1),t||_S(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=Ke(e,this),this.controllerVisuals=Nv(this.option.controller,t,e),this.targetVisuals=Nv(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(n,i){t.push(i)}):t=br(e),t},eachTargetSeries:function(e,t){ee(this.getTargetSeriesIndices(),function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},formatValueText:function(e,t,n){var i,o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;return n=n||["<",">"],it(e)&&(e=e.slice(),i=!0),o=t?e:i?[c(e[0]),c(e[1])]:c(e),dt(u)?u.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):Vt(u)?i?u(e[0],e[1]):u(e):i?e[0]===l[0]?n[0]+" "+o[1]:e[1]===l[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o;function c(d){return d===l[0]?"min":d===l[1]?"max":(+d).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=TD([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;if(null!=t||e.dimensions.length){if(null!=t)return e.getDimension(t);for(var i=e.dimensions,o=i.length-1;0<=o;o--){var a=i[o];if(!e.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),o=t.controller||(t.controller={});ae(i,n),ae(o,n);var a=this.isCategory();function s(l){MD(t.color)&&!l.inRange&&(l.inRange={color:t.color.slice().reverse()}),l.inRange=l.inRange||{color:e.get("gradientColor")},i0(this.stateList,function(u){var c=l[u];if(dt(c)){var d=n0(c,"active",a);d?(l[u]={},l[u][c]=d):delete l[u]}},this)}s.call(this,i),s.call(this,o),function(l,u,c){var d=l[u],h=l[c];d&&!h&&(h=l[c]={},i0(d,function(f,p){if(Ei.isValidType(p)){var m=n0(p,"inactive",a);null!=m&&(h[p]=m,"color"!==p||h.hasOwnProperty("opacity")||h.hasOwnProperty("colorAlpha")||(h.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function(l){var u=(l.inRange||{}).symbol||(l.outOfRange||{}).symbol,c=(l.inRange||{}).symbolSize||(l.outOfRange||{}).symbolSize,d=this.get("inactiveColor");i0(this.stateList,function(h){var f=this.itemSize,p=l[h];null==(p=p||(l[h]={color:a?d:[d]})).symbol&&(p.symbol=u&&Y(u)||(a?"roundRect":["roundRect"])),null==p.symbolSize&&(p.symbolSize=c&&Y(c)||(a?f[0]:[f[0],f[0]])),p.symbol=s2(p.symbol,function(x){return"none"===x||"square"===x?"roundRect":x});var m=p.symbolSize;if(null!=m){var S=-1/0;SD(m,function(x){S<x&&(S=x)}),p.symbolSize=s2(m,function(x){return AD(x,[0,S],[0,f[0]],!0)})}},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:cn,getValueState:cn,getVisualMeta:cn}),l2=[20,140],u2=Tf.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){u2.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){u2.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),null!=e[0]&&!isNaN(e[0])||(e[0]=l2[0]),null!=e[1]&&!isNaN(e[1])||(e[1]=l2[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):it(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){Tf.prototype.completeVisualOption.apply(this,arguments),ee(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=As((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){e[0]<=a&&a<=e[1]&&i.push(s)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getVisualMeta:function(e){var t=c2(0,0,this.getExtent()),n=c2(0,0,this.option.range.slice()),i=[];function o(h,f){i.push({value:h,color:e(h,f)})}for(var a=0,s=0,l=n.length,u=t.length;s<u&&(!n.length||t[s]<=n[0]);s++)t[s]<n[a]&&o(t[s],"outOfRange");for(var c=1;a<l;a++,c=0)c&&i.length&&o(n[a],"outOfRange"),o(n[a],"inRange");for(c=1;s<u;s++)(!n.length||n[n.length-1]<t[s])&&(c&&(i.length&&o(i[i.length-1].value,"outOfRange"),c=0),o(t[s],"outOfRange"));var d=i.length;return{stops:i,outerColors:[d?i[0].color:"transparent",d?i[d-1].color:"transparent"]}}});function c2(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,o=n[0],a=[],s=0;s<=200&&o<n[1];s++)a.push(o),o+=i;return a.push(n[1]),a}var d2=dr({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,n,i){!1!==(this.visualMapModel=e).get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=Is(t.get("padding")||0),i=e.getBoundingRect();e.add(new Si({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){var i=(n=n||{}).forceState,o=this.visualMapModel,a={};if("symbol"===t&&(a.symbol=o.get("itemSymbol")),"color"===t){var s=o.get("contentColor");a.color=s}function l(d){return a[d]}function u(d,h){a[d]=h}var c=o.controllerVisuals[i||o.getValueState(e)];return ee(Ei.prepareVisualTypes(c),function(d){var h=c[d];n.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",h=c.__alphaForOpacity),Ei.dependsOn(d,t)&&h&&h.applyVisual(e,l,u)}),a[t]},positionGroup:function(e){var n=this.api;Hd(e,this.visualMapModel.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:cn});function h2(e,t,n){var i=e.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:t.getWidth(),height:t.getHeight()},s="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],d={},h=0;h<3;h++)d[l[1-s][h]]=c[h],d[u[h]]=2===h?n[0]:i[u[h]];var f=[["x","width",3],["y","height",0]][s],p=nr(d,a,i.padding);return u[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*a[f[1]]?0:1]}function Af(e,t){return ee(e||[],function(n){null!=n.dataIndex&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var Aa=Hi,ID=ee,If=Math.min,Gc=Math.max,kD=d2.extend({type:"visualMap.continuous",init:function(){kD.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,a=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,u=this._applyTransform([s[0]/2,0===n?-a:s[1]+a],l),c=this._applyTransform(0===n?"bottom":"top",l),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new fi({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,a=this._useHandle,s=h2(t,this.api,i),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=kf()),l.add(n.inRange=kf(null,a?p2(this._orient):null,Ke(this._dragHandle,this,"all",!1),Ke(this._dragHandle,this,"all",!0)));var u=t.textStyleModel.getTextRect("\u56fd"),c=Gc(u.width,u.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,i,c,o,s),this._createHandle(l,1,i,c,o,s)),this._createIndicator(l,i,c,o),e.add(l)},_createHandle:function(e,t,n,i,o){var p,a=Ke(this._dragHandle,this,t,!1),s=Ke(this._dragHandle,this,t,!0),l=kf((p=i,0===t?[[0,0],[p,0],[p,-p]]:[[0,0],[p,0],[p,p]]),p2(this._orient),a,s);l.position[0]=n[0],e.add(l);var u=this.visualMapModel.textStyleModel,c=new fi({draggable:!0,drift:a,onmousemove:function(f){Ui(f.event)},ondragend:s,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(c);var d=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],h=this._shapes;h.handleThumbs[t]=l,h.handleLabelPoints[t]=d,h.handleLabels[t]=c},_createIndicator:function(e,t,n,i){var o=kf([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var a=this.visualMapModel.textStyleModel,s=new fi({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(s);var l=["horizontal"===i?n/2:9,0],u=this._shapes;u.indicator=o,u.indicatorLabel=s,u.indicatorLabelPoint=l},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?this._hovering||this._clearHoverLinkToSeries():f2(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[Aa(t[0],n,i,!0),Aa(t[1],n,i,!0)]},_updateInterval:function(e,t){var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];js(t=t||0,i,o,e,0);var a=n.getExtent();this._dataInterval=[Aa(i[0],o,a,!0),Aa(i[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],a=e?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,n,a,"inRange"),l=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),i.outOfRange.setStyle({fill:l.barColor,opacity:l.opacity}).setShape("points",l.barPoints),this._updateHandle(a,s)},_createBarVisual:function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,o),s=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(n,s);return{barColor:new Ss(0,0,0,1,a),barPoints:l,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var a=e[0]+i*o;if(a>e[1])break;n.push({color:this.getControllerVisual(a,"color",t),offset:o/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new y("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,a=n.handleLabels;ID([0,1],function(s){var l=o[s];l.setStyle("fill",t.handlesColor[s]),l.position[1]=e[s];var u=Yo(n.handleLabelPoints[s],Ts(l,this.group));a[s].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var V,Q,K,o=this.visualMapModel,a=o.getExtent(),s=o.itemSize,u=Aa(e,a,[0,s[1]],!0),c=this._shapes,d=c.indicator;if(d){d.position[1]=u,d.attr("invisible",!1),d.setShape("points",(V=i,Q=u,K=s[1],n?[[0,-If(V,Gc(Q,0))],[6,0],[0,If(V,Gc(K-Q,0))]]:[[0,0],[5,-5],[5,5]]));var h=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});d.setStyle("fill",h);var f=Yo(c.indicatorLabelPoint,Ts(d,this.group)),p=c.indicatorLabel;p.attr("invisible",!1);var m=this._applyTransform("left",c.barGroup),S=this._orient;p.setStyle({text:(n||"")+o.formatValueText(t),textVerticalAlign:"horizontal"===S?m:"middle",textAlign:"horizontal"===S?"center":m,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=If(Gc(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,e._dragging||e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var m,S,x,V,n=this.visualMapModel;if(n.option.hoverLink){var o=[0,n.itemSize[1]],a=n.getExtent();e=If(Gc(o[0],e),o[1]);var s=(m=a,S=o,x=6,(V=n.get("hoverLinkDataSize"))&&(x=Aa(V,m,S,!0)/2),x),l=[e-s,e+s],u=Aa(e,o,a,!0),c=[Aa(l[0],o,a,!0),Aa(l[1],o,a,!0)];l[0]<o[0]&&(c[0]=-1/0),o[1]<l[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(u,c[1],"< ",s):c[1]===1/0?this._showIndicator(u,c[0],"> ",s):this._showIndicator(u,u,"\u2248 ",s));var d=this._hoverLinkDataIndices,h=[];(t||f2(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var f=function(p,m){var S={},x={};return V(p||[],S),V(m||[],x,S),[Q(S),Q(x)];function V(K,ce,ue){for(var de=0,ge=K.length;de<ge;de++)for(var Ce=K[de].seriesId,Pe=br(K[de].dataIndex),Fe=ue&&ue[Ce],Ge=0,Qe=Pe.length;Ge<Qe;Ge++){var et=Pe[Ge];Fe&&Fe[et]?Fe[et]=null:(ce[Ce]||(ce[Ce]={}))[et]=1}}function Q(K,ce){var ue=[];for(var de in K)if(K.hasOwnProperty(de)&&null!=K[de])if(ce)ue.push(+de);else{var ge=Q(K[de],!0);ge.length&&ue.push({seriesId:de,dataIndex:ge})}return ue}}(d,h);this._dispatchHighDown("downplay",Af(f[0],n)),this._dispatchHighDown("highlight",Af(f[1],n))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var o=i.getData(t.dataType),a=o.get(n.getDataDimension(o),t.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Af(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var o=Ts(t,i?null:this.group);return ma[it(e)?"applyTransform":"transformDirection"](e,o,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function kf(e,t,n,i){return new Zr({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(o){Ui(o.event)},ondragend:i})}function f2(e){return!!(e.get("hoverLinkOnHandle")??e.get("realtime"))}function p2(e){return"vertical"===e?"ns-resize":"ew-resize"}yi({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})}),Cr(r2);var DD=Tf.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){DD.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();ND[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(o,a){"categories"===n?(o.mappingMethod="category",o.categories=Y(i)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Me(this._pieceList,function(s){return s=Y(s),"inRange"!==a&&(s.visual=null),s}))})},completeVisualOption:function(){var e=this.option,t={},n=Ei.listVisualTypes(),i=this.isCategory();function o(a,s,l){return a&&a[s]&&(xt(a[s])?a[s].hasOwnProperty(l):a[s]===l)}ee(e.pieces,function(a){ee(n,function(s){a.hasOwnProperty(s)&&(t[s]=1)})}),ee(t,function(a,s){var l=0;ee(this.stateList,function(u){l|=o(e,u,s)||o(e.target,u,s)},this),l||ee(this.stateList,function(u){(e[u]||(e[u]={}))[s]=n0(s,"inRange"===u?"active":"inactive",i)})},this),Tf.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,ee(i,function(s,l){var u=this.getSelectedMapKey(s);o.hasOwnProperty(u)||(o[u]=!0)},this),"single"===n.selectedMode){var a=!1;ee(i,function(s,l){var u=this.getSelectedMapKey(s);o[u]&&(a?o[u]=!1:a=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&0<e.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=Y(e)},getValueState:function(e){var t=Ei.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],o=n.getData();o.each(this.getDataDimension(o),function(a,s){Ei.findPieceIndex(a,this._pieceList)===e&&i.push(s)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],n=[],i=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return ee(o,function(u){var c=u.interval;c&&(c[0]>s&&l([s,c[0]],"outOfRange"),l(c.slice()),s=c[1])},this),{stops:t,outerColors:n}}function l(u,c){var d=i.getRepresentValue({interval:u});c=c||i.getValueState(d);var h=e(d,c);u[0]===-1/0?n[0]=h:u[1]===1/0?n[1]=h:t.push({value:u[0],color:h},{value:u[1],color:h})}}}),ND={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),o=e.splitNumber;o=Math.max(parseInt(o,10),1),e.splitNumber=o;for(var a=(i[1]-i[0])/o;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,l=i[0];s<o;l+=a,s++)t.push({interval:[l,s===o-1?i[1]:l+a],close:[1,1]});e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Cp(t),ee(t,function(c,d){c.index=d,c.text=this.formatValueText(c.interval)},this)},categories:function(){var e=this.option;ee(e.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),g2(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;ee(e.pieces,function(n,i){xt(n)||(n={value:n});var o={text:"",index:i};if(null!=n.label&&(o.text=n.label),n.hasOwnProperty("value")){var a=o.value=n.value;o.interval=[a,a],o.close=[1,1]}else{for(var s=o.interval=[],l=o.close=[0,0],u=[1,0,1],c=[-1/0,1/0],d=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&null==s[h];p++)s[h]=n[f[p]],l[h]=u[p],d[h]=2===p;null==s[h]&&(s[h]=c[h])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(o.value=s[0])}o.visual=Ei.retrieveVisuals(n),t.push(o)},this),g2(e,t),Cp(t),ee(t,function(n){var i=n.close;n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function g2(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}d2.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),a=i.getTextColor(),s=this._getItemAlign(),l=t.itemSize,u=this._getViewData(),c=u.endsText,d=dn(t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],l,d,s),ee(u.viewPieceList,function(h){var f=h.piece,p=new y;p.onclick=Ke(this._onItemClick,this,f),this._enableHoverLink(p,h.indexInModelPieceList);var m=t.getRepresentValue(f);if(this._createItemSymbol(p,m,[0,0,l[0],l[1]]),d){var S=this.visualMapModel.getValueState(m);p.add(new fi({style:{x:"right"===s?-n:l[0]+n,y:l[1]/2,text:f.text,textVerticalAlign:"middle",textAlign:s,textFont:o,textFill:a,opacity:"outOfRange"===S?.5:1}}))}e.add(p)},this),c&&this._renderEndsText(e,c[1],l,d,s),Ds(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(i){var o=this.visualMapModel;o.option.hoverLink&&this.api.dispatchAction({type:i,batch:Af(o.findTargetDataIndices(t),o)})}e.on("mouseover",Ke(n,this,"highlight")).on("mouseout",Ke(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return h2(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,o){if(t){var a=new y,s=this.visualMapModel.textStyleModel;a.add(new fi({style:{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?o:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(a)}},_getViewData:function(){var e=this.visualMapModel,t=Me(e.getPieceList(),function(a,s){return{piece:a,indexInModelPieceList:s}}),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");return("horizontal"===i?o:!o)?t.reverse():n=n&&n.slice().reverse(),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(ao(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=Y(n.selected),o=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[o]=!0,ee(i,function(a,s){i[s]=s===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),Cr(r2);var r0,m2="urn:schemas-microsoft-com:vml",v2=typeof window>"u"?null:window,y2=!1,uo=v2&&v2.document;function o0(e){return r0(e)}if(uo&&!xe.canvasSupported)try{uo.namespaces.zrvml||uo.namespaces.add("zrvml",m2),r0=function(e){return uo.createElement("<zrvml:"+e+' class="zrvml">')}}catch{r0=function(t){return uo.createElement("<"+t+' xmlns="'+m2+'" class="zrvml">')}}var x2,il=Xr.CMD,Pi=Math.round,Uc=Math.sqrt,PD=Math.abs,b2=Math.cos,_2=Math.sin,a0=Math.max;if(!xe.canvasSupported){var ar=",",s0="progid:DXImageTransform.Microsoft",fr=21600,Qr=fr/2,l0=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=fr+","+fr,e.coordorigin="0,0"},w2=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},ia=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},jc=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},u0=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},C2=Pn,S2=function(e,t,n){var i=Ar(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=w2(i[0],i[1],i[2]),e.opacity=n*i[3])},Df=function(e,t,n,i){var s,l,o="fill"===t,a=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(o||!o&&n.lineWidth)?(e[o?"filled":"stroked"]="true",n[t]instanceof jo&&jc(e,a),a=a||o0(t),o?function(s,l,u){var d,h=l.fill;if(null!=h)if(h instanceof jo){var f,p=0,m=[0,0],S=0,x=1,V=u.getBoundingRect(),Q=V.width,K=V.height;if("linear"===h.type){f="gradient";var ce=u.transform,ue=[h.x*Q,h.y*K],de=[h.x2*Q,h.y2*K];ce&&(li(ue,ue,ce),li(de,de,ce)),(p=180*Math.atan2(de[0]-ue[0],de[1]-ue[1])/Math.PI)<0&&(p+=360),p<1e-6&&(p=0)}else{f="gradientradial";var Pe=u.scale,Fe=Q,Ge=K;m=[((ue=[h.x*Q,h.y*K])[0]-V.x)/Fe,(ue[1]-V.y)/Ge],(ce=u.transform)&&li(ue,ue,ce);var Qe=a0(Fe/=Pe[0]*fr,Ge/=Pe[1]*fr);x=2*h.r/Qe-(S=0/Qe)}var et=h.colorStops.slice();et.sort(function(Vn,sn){return Vn.offset-sn.offset});for(var ot=et.length,ht=[],pt=[],ut=0;ut<ot;ut++){var At=et[ut],Zt=(d=Ar(At.color),[w2(d[0],d[1],d[2]),d[3]]);pt.push(At.offset*x+S+" "+Zt[0]),0!==ut&&ut!==ot-1||ht.push(Zt)}if(2<=ot){var nn=ht[0][0],jt=ht[1][0],gn=ht[0][1]*l.opacity,Cn=ht[1][1]*l.opacity;s.type=f,s.method="none",s.focus="100%",s.angle=p,s.color=nn,s.color2=jt,s.colors=pt.join(","),s.opacity=Cn,s.opacity2=gn}"radial"===f&&(s.focusposition=m.join(","))}else S2(s,h,l.opacity)}(a,n,i):(s=a,(l=n).lineDash&&(s.dashstyle=l.lineDash.join(" ")),null==l.stroke||l.stroke instanceof jo||S2(s,l.stroke,l.opacity)),ia(e,a)):(e[o?"filled":"stroked"]="false",jc(e,a))},co=[[],[],[]];mi.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=o0("shape"),l0(n),this._vmlEl=n),Df(n,"fill",t,this),Df(n,"stroke",t,this);var i=this.transform,o=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var s=t.lineWidth;o&&!t.strokeNoScale&&(s*=Uc(PD(i[0]*i[3]-i[1]*i[2]))),a.weight=s+"px"}var u=this.path||(this.path=new Xr);this.__dirtyPath&&(u.beginPath(),u.subPixelOptimize=!1,this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=function(c,d){var h,f,p,m,S,x,V=il.M,Q=il.C,K=il.L,ce=il.A,ue=il.Q,de=[],ge=c.data,Ce=c.len();for(m=0;m<Ce;){switch(f="",h=0,p=ge[m++]){case V:f=" m ",h=1,S=ge[m++],x=ge[m++],co[0][0]=S,co[0][1]=x;break;case K:f=" l ",h=1,S=ge[m++],x=ge[m++],co[0][0]=S,co[0][1]=x;break;case ue:case Q:f=" c ",h=3;var Pe,Fe,Ge=ge[m++],Qe=ge[m++],et=ge[m++],ot=ge[m++];p===ue?(et=((Pe=et)+2*Ge)/3,ot=((Fe=ot)+2*Qe)/3,Ge=(S+2*Ge)/3,Qe=(x+2*Qe)/3):(Pe=ge[m++],Fe=ge[m++]),co[0][0]=Ge,co[0][1]=Qe,co[1][0]=et,co[1][1]=ot,S=co[2][0]=Pe,x=co[2][1]=Fe;break;case ce:var ht=0,pt=0,ut=1,At=1,Zt=0;d&&(ht=d[4],pt=d[5],ut=Uc(d[0]*d[0]+d[1]*d[1]),At=Uc(d[2]*d[2]+d[3]*d[3]),Zt=Math.atan2(-d[1]/At,d[0]/ut));var nn=ge[m++],jt=ge[m++],gn=ge[m++],Cn=ge[m++],Vn=ge[m++]+Zt,sn=ge[m++]+Vn+Zt;m++;var Bn=ge[m++],Hn=nn+b2(Vn)*gn,Xn=jt+_2(Vn)*Cn,Ii=(Ge=nn+b2(sn)*gn,Qe=jt+_2(sn)*Cn,Bn?" wa ":" at ");Math.abs(Hn-Ge)<1e-4&&(.01<Math.abs(sn-Vn)?Bn&&(Hn+=.0125):Math.abs(Xn-jt)<1e-4?Bn&&Hn<nn||!Bn&&nn<Hn?Qe-=.0125:Qe+=.0125:Bn&&Xn<jt||!Bn&&jt<Xn?Ge+=.0125:Ge-=.0125),de.push(Ii,Pi(((nn-gn)*ut+ht)*fr-Qr),ar,Pi(((jt-Cn)*At+pt)*fr-Qr),ar,Pi(((nn+gn)*ut+ht)*fr-Qr),ar,Pi(((jt+Cn)*At+pt)*fr-Qr),ar,Pi((Hn*ut+ht)*fr-Qr),ar,Pi((Xn*At+pt)*fr-Qr),ar,Pi((Ge*ut+ht)*fr-Qr),ar,Pi((Qe*At+pt)*fr-Qr)),S=Ge,x=Qe;break;case il.R:var xi=co[0],Li=co[1];xi[0]=ge[m++],xi[1]=ge[m++],Li[0]=xi[0]+ge[m++],Li[1]=xi[1]+ge[m++],d&&(li(xi,xi,d),li(Li,Li,d)),xi[0]=Pi(xi[0]*fr-Qr),Li[0]=Pi(Li[0]*fr-Qr),xi[1]=Pi(xi[1]*fr-Qr),Li[1]=Pi(Li[1]*fr-Qr),de.push(" m ",xi[0],ar,xi[1]," l ",Li[0],ar,xi[1]," l ",Li[0],ar,Li[1]," l ",xi[0],ar,Li[1]);break;case il.Z:de.push(" x ")}if(0<h){de.push(f);for(var Vr=0;Vr<h;Vr++){var Rr=co[Vr];d&&li(Rr,Rr,d),de.push(Pi(Rr[0]*fr-Qr),ar,Pi(Rr[1]*fr-Qr),Vr<h-1?ar:"")}}}return de.join("")}(u,this.transform),n.style.zIndex=u0(this.zlevel,this.z,this.z2),ia(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},mi.prototype.onRemove=function(e){jc(e,this._vmlEl),this.removeRectText(e)},mi.prototype.onAdd=function(e){ia(e,this._vmlEl),this.appendRectText(e)},gi.prototype.brushVML=function(e){var t,n,Cn,i=this.style,o=i.image;if("object"==typeof(Cn=o)&&Cn.tagName&&"IMG"===Cn.tagName.toUpperCase()){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,u=s.height;s.width="auto",s.height="auto",t=o.width,n=o.height,s.width=l,s.height=u,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var c=i.x||0,d=i.y||0,h=i.width,f=i.height,p=i.sWidth,m=i.sHeight,S=i.sx||0,x=i.sy||0,V=p&&m,Q=this._vmlEl;Q||(Q=uo.createElement("div"),l0(Q),this._vmlEl=Q);var K,ce=Q.style,ue=!1,de=1,ge=1;if(this.transform&&(de=Uc((K=this.transform)[0]*K[0]+K[1]*K[1]),ge=Uc(K[2]*K[2]+K[3]*K[3]),ue=K[1]||K[2]),ue){var Ce=[c,d],Pe=[c+h,d],Fe=[c,d+f],Ge=[c+h,d+f];li(Ce,Ce,K),li(Pe,Pe,K),li(Fe,Fe,K),li(Ge,Ge,K);var Qe=a0(Ce[0],Pe[0],Fe[0],Ge[0]),et=a0(Ce[1],Pe[1],Fe[1],Ge[1]),ot=[];ot.push("M11=",K[0]/de,ar,"M12=",K[2]/ge,ar,"M21=",K[1]/de,ar,"M22=",K[3]/ge,ar,"Dx=",Pi(c*de+K[4]),ar,"Dy=",Pi(d*ge+K[5])),ce.padding="0 "+Pi(Qe)+"px "+Pi(et)+"px 0",ce.filter=s0+".Matrix("+ot.join("")+", SizingMethod=clip)"}else K&&(c=c*de+K[4],d=d*ge+K[5]),ce.filter="",ce.left=Pi(c)+"px",ce.top=Pi(d)+"px";var ht=this._imageEl,pt=this._cropEl;ht||(ht=uo.createElement("div"),this._imageEl=ht);var ut=ht.style;if(V){if(t&&n)ut.width=Pi(de*t*h/p)+"px",ut.height=Pi(ge*n*f/m)+"px";else{var At=new Image,Zt=this;At.onload=function(){At.onload=null,n=At.height,ut.width=Pi(de*(t=At.width)*h/p)+"px",ut.height=Pi(ge*n*f/m)+"px",Zt._imageWidth=t,Zt._imageHeight=n,Zt._imageSrc=o},At.src=o}pt||((pt=uo.createElement("div")).style.overflow="hidden",this._cropEl=pt);var nn=pt.style;nn.width=Pi((h+S*h/p)*de),nn.height=Pi((f+x*f/m)*ge),nn.filter=s0+".Matrix(Dx="+-S*h/p*de+",Dy="+-x*f/m*ge+")",pt.parentNode||Q.appendChild(pt),ht.parentNode!==pt&&pt.appendChild(ht)}else ut.width=Pi(de*h)+"px",ut.height=Pi(ge*f)+"px",Q.appendChild(ht),pt&&pt.parentNode&&(Q.removeChild(pt),this._cropEl=null);var jt="",gn=i.opacity;gn<1&&(jt+=".Alpha(opacity="+Pi(100*gn)+") "),ut.filter=jt+=s0+".AlphaImageLoader(src="+o+", SizingMethod=scale)",Q.style.zIndex=u0(this.zlevel,this.z,this.z2),ia(e,Q),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},gi.prototype.onRemove=function(e){jc(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},gi.prototype.onAdd=function(e){ia(e,this._vmlEl),this.appendRectText(e)};var rl,c0="normal",d0={},h0=0,LD=document.createElement("div");x2=function(e,t){var n=uo;rl||((rl=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",uo.body.appendChild(rl));try{rl.style.font=t}catch{}return rl.innerHTML="",rl.appendChild(n.createTextNode(e)),{width:rl.offsetWidth}},ri.measureText=x2;for(var f0=new v,RD=function(e,t,n,i){var o=this.style;this.__dirty&&Je(o);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var s=wn(a,o);a=[];for(var l=0;l<s.lines.length;l++){for(var u=s.lines[l].tokens,c=[],d=0;d<u.length;d++)c.push(u[d].text);a.push(c.join(""))}a=a.join("\n")}var h,f,p=o.textAlign,m=o.textVerticalAlign,S=function(Ge){var Qe=d0[Ge];if(!Qe){100<h0&&(h0=0,d0={});var et,ot=LD.style;try{ot.font=Ge,et=ot.fontFamily.split(",")[0]}catch{}Qe={style:ot.fontStyle||c0,variant:ot.fontVariant||c0,weight:ot.fontWeight||c0,size:0|parseFloat(ot.fontSize||12),family:et||"Microsoft YaHei"},d0[Ge]=Qe,h0++}return Qe}(o.font),x=S.style+" "+S.variant+" "+S.weight+" "+S.size+'px "'+S.family+'"';n=n||ai(a,x,p,m,o.textPadding,o.textLineHeight);var V=this.transform;if(V&&!i&&(f0.copy(t),f0.applyTransform(V),t=f0),i)h=t.x,f=t.y;else{var Q=o.textPosition;if(Q instanceof Array)h=t.x+C2(Q[0],t.width),f=t.y+C2(Q[1],t.height),p=p||"left";else{var K=this.calculateTextPosition?this.calculateTextPosition({},o,t):wi({},o,t);h=K.x,f=K.y,p=p||K.textAlign,m=m||K.textVerticalAlign}}h=oi(h,n.width,p),f=ki(f,n.height,m),f+=n.height/2;var ce,ue,de,ge=o0,Ce=this._textVmlEl;Ce?ue=(ce=(de=Ce.firstChild).nextSibling).nextSibling:(Ce=ge("line"),ce=ge("path"),ue=ge("textpath"),de=ge("skew"),ue.style["v-text-align"]="left",l0(Ce),ce.textpathok=!0,ue.on=!0,Ce.from="0 0",Ce.to="1000 0.05",ia(Ce,de),ia(Ce,ce),ia(Ce,ue),this._textVmlEl=Ce);var Pe=[h,f],Fe=Ce.style;V&&i?(li(Pe,Pe,V),de.on=!0,de.matrix=V[0].toFixed(3)+ar+V[2].toFixed(3)+ar+V[1].toFixed(3)+ar+V[3].toFixed(3)+",0,0",de.offset=(Pi(Pe[0])||0)+","+(Pi(Pe[1])||0),de.origin="0 0",Fe.left="0px",Fe.top="0px"):(de.on=!1,Fe.left=Pi(h)+"px",Fe.top=Pi(f)+"px"),ue.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{ue.style.font=x}catch{}Df(Ce,"fill",{fill:o.textFill,opacity:o.opacity},this),Df(Ce,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash||null},this),Ce.style.zIndex=u0(this.zlevel,this.z,this.z2),ia(e,Ce)}},ED=function(e){jc(e,this._textVmlEl),this._textVmlEl=null},OD=function(e){ia(e,this._textVmlEl)},M2=[ci,ni,gi,mi,fi],p0=0;p0<M2.length;p0++){var g0=M2[p0].prototype;g0.drawRectText=RD,g0.removeRectText=ED,g0.appendRectText=OD}fi.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},fi.prototype.onRemove=function(e){this.removeRectText(e)},fi.prototype.onAdd=function(e){this.appendRectText(e)}}function uu(e){return parseInt(e,10)}function Nf(e,t){(function(){if(!y2&&uo){y2=!0;var s=uo.styleSheets;s.length<31?uo.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):s[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=t.delFromStorage,a=t.addToStorage;t.delFromStorage=function(s){o.call(t,s),s&&s.onRemove&&s.onRemove(i)},t.addToStorage=function(s){s.onAdd&&s.onAdd(i),a.call(t,s)},this._firstPaint=!0}function ra(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}Nf.prototype={constructor:Nf,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=e??this._getWidth(),t=t??this._getHeight(),this._width!==e||this._height!==t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||uu(t.width))-uu(t.paddingLeft)-uu(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||uu(t.height))-uu(t.paddingTop)-uu(t.paddingBottom)|0}},ee(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){Nf.prototype[e]=function(){}}),Yf("vml",Nf);var ol=Xr.CMD,BD=Array.prototype.join,cu="none",m0=Math.round,T2=Math.sin,A2=Math.cos,I2=Math.PI,ls=2*Math.PI,zD=180/I2,k2=1e-4;function Oo(e){return m0(1e4*e)/1e4}function D2(e){return e<k2&&-k2<e}function v0(e,t){t&&Zi(e,"transform","matrix("+BD.call(t,",")+")")}function Zi(e,t,n){n&&("linear"===n.type||"radial"===n.type)||e.setAttribute(t,n)}function N2(e,t,n,i){if(s=t,null!=(u=n?s.textFill:s.fill)&&u!==cu){var o=n?t.textFill:t.fill;Zi(e,"fill",o="transparent"===o?cu:o),Zi(e,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else Zi(e,"fill",cu);var s,u;if(function(s,l){var u=l?s.textStroke:s.stroke;return null!=u&&u!==cu}(t,n)){var a=n?t.textStroke:t.stroke;Zi(e,"stroke",a="transparent"===a?cu:a),Zi(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?i.getLineScale():1)),Zi(e,"paint-order",n?"stroke":"fill"),Zi(e,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity),t.lineDash?(Zi(e,"stroke-dasharray",t.lineDash.join(",")),Zi(e,"stroke-dashoffset",m0(t.lineDashOffset||0))):Zi(e,"stroke-dasharray",""),t.lineCap&&Zi(e,"stroke-linecap",t.lineCap),t.lineJoin&&Zi(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&Zi(e,"stroke-miterlimit",t.miterLimit)}else Zi(e,"stroke",cu)}var qc={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=ra("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),i.subPixelOptimize=!1,e.buildPath(i,e.shape),e.__dirtyPath=!1;var o=function(a){for(var s=[],l=a.data,u=a.len(),c=0;c<u;){var d="",h=0;switch(l[c++]){case ol.M:d="M",h=2;break;case ol.L:d="L",h=2;break;case ol.Q:d="Q",h=4;break;case ol.C:d="C",h=6;break;case ol.A:var f=l[c++],p=l[c++],m=l[c++],S=l[c++],x=l[c++],V=l[c++],Q=l[c++],K=l[c++],ce=Math.abs(V),ue=D2(ce-ls)||(K?ls<=V:ls<=-V),de=0<V?V%ls:V%ls+ls,ge=!1;ge=!!ue||!D2(ce)&&I2<=de==!!K;var Ce=Oo(f+m*A2(x)),Pe=Oo(p+S*T2(x));ue&&(V=K?ls-1e-4:1e-4-ls,ge=!0,9===c&&s.push("M",Ce,Pe));var Fe=Oo(f+m*A2(x+V)),Ge=Oo(p+S*T2(x+V));s.push("A",Oo(m),Oo(S),m0(Q*zD),+ge,+K,Fe,Ge);break;case ol.Z:d="Z";break;case ol.R:Fe=Oo(l[c++]),Ge=Oo(l[c++]);var Qe=Oo(l[c++]),et=Oo(l[c++]);s.push("M",Fe,Ge,"L",Fe+Qe,Ge,"L",Fe+Qe,Ge+et,"L",Fe,Ge+et,"L",Fe,Ge)}d&&s.push(d);for(var ot=0;ot<h;ot++)s.push(Oo(l[c++]))}return s.join(" ")}(i);o.indexOf("NaN")<0&&Zi(n,"d",o)}N2(n,t,!1,e),v0(n,e.transform),null!=t.text?Lf(e,e.getBoundingRect()):x0(e)}},P2={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement&&(n=n.src),n){var i=t.x||0,o=t.y||0,a=t.width,s=t.height,l=e.__svgEl;l||(l=ra("image"),e.__svgEl=l),n!==e.__imageSrc&&(l.setAttributeNS("http://www.w3.org/1999/xlink","href",n),e.__imageSrc=n),Zi(l,"width",a),Zi(l,"height",s),Zi(l,"x",i),Zi(l,"y",o),v0(l,e.transform),null!=t.text?Lf(e,e.getBoundingRect()):x0(e)}}},Pf={},y0=new v,Yc={},Ia=[],FD={left:"start",right:"end",center:"middle",middle:"middle"},Lf=function(e,t){var n=e.style,i=e.transform,o=e instanceof fi||n.transformText;e.__dirty&&Je(n);var et,ot,ht,a=n.text;if(null!=a&&(a+=""),On(a,n)){null==a&&(a=""),!o&&i&&(y0.copy(t),y0.applyTransform(i),t=y0);var s=e.__textSvgEl;s||(s=ra("text"),e.__textSvgEl=s);var l=s.style,u=n.font||qn,c=s.__computedFont;u!==s.__styleFont&&(l.font=s.__styleFont=u,c=s.__computedFont=l.font);var d=n.textPadding,f=e.__textCotentBlock;f&&!e.__dirtyText||(f=e.__textCotentBlock=Ln(a,c,d,n.textLineHeight,n.truncate));var p=f.outerHeight,m=f.lineHeight;rn(Yc,e,n,t);var S=Yc.baseX,x=Yc.baseY,V=Yc.textAlign||"left",Q=Yc.textVerticalAlign;!function(et,ot,ht,pt,ut,At,Zt){Bo(Ia),ot&&ht&&sa(Ia,ht);var nn=pt.textRotation;if(ut&&nn){var jt=pt.textOrigin;"center"===jt?(At=ut.width/2+ut.x,Zt=ut.height/2+ut.y):jt&&(At=jt[0]+ut.x,Zt=jt[1]+ut.y),Ia[4]-=At,Ia[5]-=Zt,Ao(Ia,Ia,nn),Ia[4]+=At,Ia[5]+=Zt}v0(et,Ia)}(s,o,i,n,t,S,x);var K=S,ce=ki(x,p,Q);d&&(et=S,ht=d,K="right"===(ot=V)?et-ht[1]:"center"===ot?et+ht[3]/2-ht[1]/2:et+ht[3],ce+=d[0]),ce+=m/2,N2(s,n,!0,e);var ue=f.canCacheByTextString,de=e.__tspanList||(e.__tspanList=[]),ge=de.length;if(ue&&e.__canCacheByTextString&&e.__text===a){if(e.__dirtyText&&ge)for(var Ce=0;Ce<ge;++Ce)L2(de[Ce],V,K,ce+Ce*m)}else{e.__text=a,e.__canCacheByTextString=ue;var Pe=f.lines,Fe=Pe.length;for(Ce=0;Ce<Fe;Ce++){var Ge=de[Ce],Qe=Pe[Ce];Ge?Ge.__zrText!==Qe&&(Ge.innerHTML="",Ge.appendChild(document.createTextNode(Qe))):(Ge=de[Ce]=ra("tspan"),s.appendChild(Ge),Ge.appendChild(document.createTextNode(Qe))),L2(Ge,V,K,ce+Ce*m)}if(Fe<ge){for(;Ce<ge;Ce++)s.removeChild(de[Ce]);de.length=Fe}}}};function L2(e,t,n,i){Zi(e,"dominant-baseline","middle"),Zi(e,"text-anchor",FD[t]),Zi(e,"x",n),Zi(e,"y",i)}function x0(e){e&&e.__textSvgEl&&(e.__textSvgEl.parentNode&&e.__textSvgEl.parentNode.removeChild(e.__textSvgEl),e.__textSvgEl=null,e.__tspanList=[],e.__text=null)}function R2(){}function VD(e,t){for(var n=0,i=t.length,o=0,a=0;n<i;n++){var s=t[n];if(s.removed){for(l=[],u=a;u<a+s.count;u++)l.push(u);s.indices=l,a+=s.count}else{for(var l=[],u=o;u<o+s.count;u++)l.push(u);s.indices=l,o+=s.count,s.added||(a+=s.count)}}return t}Pf.drawRectText=Lf,Pf.brush=function(e){null!=e.style.text?Lf(e,!1):x0(e)},R2.prototype={diff:function(e,t,n){this.equals=n=n||function(m,S){return m===S};var i=this;e=e.slice();var o=(t=t.slice()).length,a=e.length,s=1,l=o+a,u=[{newPos:-1,components:[]}],c=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=o&&a<=c+1){for(var d=[],h=0;h<t.length;h++)d.push(h);return[{indices:d,count:t.length}]}function f(){for(var m=-1*s;m<=s;m+=2){var S,x=u[m-1],V=u[m+1],Q=(V?V.newPos:0)-m;x&&(u[m-1]=void 0);var K=x&&x.newPos+1<o,ce=V&&0<=Q&&Q<a;if(K||ce){if(!K||ce&&x.newPos<V.newPos?(S={newPos:(ue=V).newPos,components:ue.components.slice(0)},i.pushComponent(S.components,void 0,!0)):((S=x).newPos++,i.pushComponent(S.components,!0,void 0)),Q=i.extractCommon(S,t,e,m),S.newPos+1>=o&&a<=Q+1)return VD(0,S.components);u[m]=S}else u[m]=void 0}var ue;s++}for(;s<=l;){var p=f();if(p)return p}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,a=n.length,s=e.newPos,l=s-i,u=0;s+1<o&&l+1<a&&this.equals(t[s+1],n[l+1]);)s++,l++,u++;return u&&e.components.push({count:u}),e.newPos=s,l},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var HD=new R2;function Gi(e,t,n,i,o){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=o||"_dom",this.nextId=0}function al(e,t){Gi.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function Xc(e,t){Gi.call(this,e,t,"clipPath","__clippath_in_use__")}function us(e,t){Gi.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function E2(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Rf(e){return parseInt(e,10)}function O2(e,t){return t&&e&&t.parentNode!==e}function Zc(e,t,n){if(O2(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function B2(e,t){if(O2(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function z2(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function $c(e){return e.__textSvgEl}function Kc(e){return e.__svgEl}function Ef(e,t,n,i){this.root=e,this.storage=t,this._opts=n=ne({},n||{});var o=ra("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=ra("g");o.appendChild(a);var s=ra("g");o.appendChild(s),this.gradientManager=new al(i,s),this.clipPathManager=new Xc(i,s),this.shadowManager=new us(i,s);var l=document.createElement("div");l.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=s,this._backgroundRoot=a,this._viewport=l,e.appendChild(l),l.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}Gi.prototype.createElement=ra,Gi.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(i){var o=n.children;if(!o)return!1;for(var a=o.length-1;0<=a;--a)if(o[a]===i)return!0;return!1}),n):null:n[0]},Gi.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},Gi.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},Gi.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},Gi.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return ee(this._tagNames,function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))}),t},Gi.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;ee(e,function(n){n[t._markLabel]="0"})},Gi.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},Gi.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),n=this;ee(t,function(i){"1"!==i[n._markLabel]&&e.removeChild(i)})}},Gi.prototype.getSvgProxy=function(e){return e instanceof mi?qc:e instanceof gi?P2:e instanceof fi?Pf:qc},Gi.prototype.getTextSvgElement=function(e){return e.__textSvgEl},Gi.prototype.getSvgElement=function(e){return e.__svgEl},he(al,Gi),al.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;ee(["fill","stroke"],function(i){if(t.style[i]&&("linear"===t.style[i].type||"radial"===t.style[i].type)){var o,a=t.style[i],s=n.getDefs(!0);a._dom?(o=a._dom,s.contains(a._dom)||n.addDom(o)):o=n.add(a),n.markUsed(t);var l=o.getAttribute("id");e.setAttribute(i,"url(#"+l+")")}})}},al.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},al.prototype.update=function(e){var t=this;Gi.prototype.update.call(this,e,function(){var n=e.type,i=e._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},al.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return;t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}t.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,o=n.length;i<o;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%");var s=n[i].color;if(-1<s.indexOf("rgba")){var l=Ar(s)[3],u=ms(s);a.setAttribute("stop-color","#"+u),a.setAttribute("stop-opacity",l)}else a.setAttribute("stop-color",n[i].color);t.appendChild(a)}e._dom=t},al.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&Gi.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&Gi.prototype.markUsed.call(this,t._dom)}},he(Xc,Gi),Xc.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},Xc.prototype.updateDom=function(e,t,n){if(t&&0<t.length){var i,o,a=this.getDefs(!0),s=t[0],l=n?"_textDom":"_dom";s[l]?(o=s[l].getAttribute("id"),a.contains(i=s[l])||a.appendChild(i)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",o),a.appendChild(i),s[l]=i);var u=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!n){var c=Array.prototype.slice.call(s.transform);ho(s.transform,s.parent.invTransform,s.transform),u.brush(s),s.transform=c}else u.brush(s);var d=this.getSvgElement(s);i.innerHTML="",i.appendChild(d.cloneNode()),e.setAttribute("clip-path","url(#"+o+")"),1<t.length&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},Xc.prototype.markUsed=function(e){var t=this;e.__clipPaths&&ee(e.__clipPaths,function(n){n._dom&&Gi.prototype.markUsed.call(t,n._dom),n._textDom&&Gi.prototype.markUsed.call(t,n._textDom)})},he(us,Gi),us.prototype.addWithoutUpdate=function(e,t){if(t&&E2(t.style)){var n;t._shadowDom?(n=t._shadowDom,this.getDefs(!0).contains(t._shadowDom)||this.addDom(n)):n=this.add(t),this.markUsed(t);var i=n.getAttribute("id");e.style.filter="url(#"+i+")"}},us.prototype.add=function(e){var t=this.createElement("filter");return e._shadowDomId=e._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId),this.updateDom(e,t),this.addDom(t),t},us.prototype.update=function(e,t){if(E2(t.style)){var n=this;Gi.prototype.update.call(this,t,function(){n.updateDom(t,t._shadowDom)})}else this.remove(e,t)},us.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(e),e.style.filter="")},us.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,o,a,s,l=e.style,u=e.scale&&e.scale[0]||1,c=e.scale&&e.scale[1]||1;if(l.shadowBlur||l.shadowOffsetX||l.shadowOffsetY)i=l.shadowOffsetX||0,o=l.shadowOffsetY||0,a=l.shadowBlur,s=l.shadowColor;else{if(!l.textShadowBlur)return void this.removeDom(t,l);i=l.textShadowOffsetX||0,o=l.textShadowOffsetY||0,a=l.textShadowBlur,s=l.textShadowColor}n.setAttribute("dx",i/u),n.setAttribute("dy",o/c),n.setAttribute("flood-color",s),n.setAttribute("stdDeviation",a/2/u+" "+a/2/c),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(a/2*200)+"%"),t.setAttribute("height",Math.ceil(a/2*200)+"%"),t.appendChild(n),e._shadowDom=t},us.prototype.markUsed=function(e){e._shadowDom&&Gi.prototype.markUsed.call(this,e._shadowDom)},Ef.prototype={constructor:Ef,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=ra("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n,i=this._svgRoot,o=this._visibleList,a=e.length,s=[];for(t=0;t<a;t++){var l=e[t],u=(n=l)instanceof mi?qc:n instanceof gi?P2:n instanceof fi?Pf:qc,c=Kc(l)||$c(l);l.invisible||(l.__dirty&&(u&&u.brush(l),this.clipPathManager.update(l),l.style&&(this.gradientManager.update(l.style.fill),this.gradientManager.update(l.style.stroke),this.shadowManager.update(c,l)),l.__dirty=!1),s.push(l))}var d,h=HD.diff(o,s,void 0);for(t=0;t<h.length;t++)if((m=h[t]).removed)for(var f=0;f<m.count;f++){c=Kc(l=o[m.indices[f]]);var p=$c(l);z2(i,c),z2(i,p)}for(t=0;t<h.length;t++){var m;if((m=h[t]).added)for(f=0;f<m.count;f++)c=Kc(l=s[m.indices[f]]),p=$c(l),d?Zc(i,c,d):B2(i,c),c?Zc(i,p,c):d?Zc(i,p,d):B2(i,p),Zc(i,p,c),d=p||c||d,this.gradientManager.addWithoutUpdate(c||p,l),this.shadowManager.addWithoutUpdate(c||p,l),this.clipPathManager.markUsed(l);else if(!m.removed)for(f=0;f<m.count;f++)c=Kc(l=s[m.indices[f]]),p=$c(l),c=Kc(l),p=$c(l),this.gradientManager.markUsed(l),this.gradientManager.addWithoutUpdate(c||p,l),this.shadowManager.markUsed(l),this.shadowManager.addWithoutUpdate(c||p,l),this.clipPathManager.markUsed(l),p&&Zc(i,p,c),d=c||p||d}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=s},_getDefs:function(e){var t,n=this._svgDom;return 0!==(t=n.getElementsByTagName("defs")).length?t[0]:e?((t=n.insertBefore(ra("defs"),n.firstChild)).contains||(t.contains=function(i){var o=t.children;if(!o)return!1;for(var a=o.length-1;0<=a;--a)if(o[a]===i)return!0;return!1}),t):null},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=n.style;o.width=e+"px",o.height=t+"px";var a=this._svgDom;a.setAttribute("width",e),a.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[i]||Rf(l[n])||Rf(s.style[n]))-(Rf(l[o])||0)-(Rf(l[a])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},ee(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){Ef.prototype[e]=function(){}}),Yf("svg",Ef),Ze.version="4.9.0",Ze.dependencies={zrender:"4.3.2"},Ze.PRIORITY=Zo,Ze.init=function(e,t,n){var i=ag(e);if(i)return i;var o=new $u(e,t,n);return o.id="ec_"+vT++,Rs[o.id]=o,R0(e,og,o.id),function(a){var s="__connectUpdateStatus";function l(u,c){for(var d=0;d<u.length;d++)u[d][s]=c}cr(ah,function(u,c){a._messageCenter.on(c,function(d){if(lh[a.group]&&0!==a[s]){if(d&&d.escapeConnect)return;var h=a.makeActionFromEvent(d),f=[];cr(Rs,function(p){p!==a&&p.group===a.group&&f.push(p)}),l(f,0),cr(f,function(p){1!==p[s]&&p.dispatchAction(h)}),l(f,2)}})})}(o),o},Ze.connect=function(e){if(it(e)){var t=e;e=null,cr(t,function(n){null!=n.group&&(e=n.group)}),e=e||"g_"+yT++,cr(t,function(n){n.group=e})}return lh[e]=!0,e},Ze.disConnect=q1,Ze.disconnect=xT,Ze.dispose=function(e){"string"==typeof e?e=Rs[e]:e instanceof $u||(e=ag(e)),e instanceof $u&&!e.isDisposed()&&e.dispose()},Ze.getInstanceByDom=ag,Ze.getInstanceById=function(e){return Rs[e]},Ze.registerTheme=sg,Ze.registerPreprocessor=Cr,Ze.registerProcessor=ro,Ze.registerPostUpdate=function(e){U1.push(e)},Ze.registerAction=yi,Ze.registerCoordinateSystem=lg,Ze.getCoordinateSystemDimensions=function(e){var t=Nr.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},Ze.registerLayout=Xi,Ze.registerVisual=zi,Ze.registerLoading=Y1,Ze.extendComponentModel=oo,Ze.extendComponentView=dr,Ze.extendSeriesModel=uh,Ze.extendChartView=Kr,Ze.setCanvasCreator=function(e){B("createCanvas",e)},Ze.registerMap=function(e,t,n){nh.registerMap(e,t,n)},Ze.getMap=function(e){var t=nh.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},Ze.dataTool={},Ze.zrender=G2,Ze.number=MM,Ze.format=IM,Ze.throttle=Zd,Ze.helper=jT,Ze.matrix=nd,Ze.vector=vr,Ze.color=id,Ze.parseGeoJSON=Mg,Ze.parseGeoJson=ZT,Ze.util=Rx,Ze.graphic=Ex,Ze.List=hr,Ze.Model=vi,Ze.Axis=or,Ze.env=xe}),function(Ze,St){"object"==typeof exports&&typeof module<"u"?St(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],St):St(Ze.bmap={},Ze.echarts)}(this,function(Ze,St){"use strict";function In(le,W){this._bmap=le,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=W,this._projection=new BMap.MercatorProjection}function xe(le,W){return W=W||[0,0],St.util.map([0,1],function(L){var k=W[L],I=le[L]/2,G=[],X=[];return G[L]=k-I,X[L]=k+I,G[1-L]=X[1-L]=W[1-L],Math.abs(this.dataToPoint(G)[L]-this.dataToPoint(X)[L])},this)}var qe;function te(le){for(var W in le)if(le.hasOwnProperty(W))return!1;return!0}In.prototype.dimensions=["lng","lat"],In.prototype.setZoom=function(le){this._zoom=le},In.prototype.setCenter=function(le){this._center=this._projection.lngLatToPoint(new BMap.Point(le[0],le[1]))},In.prototype.setMapOffset=function(le){this._mapOffset=le},In.prototype.getBMap=function(){return this._bmap},In.prototype.dataToPoint=function(le){var W=new BMap.Point(le[0],le[1]),L=this._bmap.pointToOverlayPixel(W),k=this._mapOffset;return[L.x-k[0],L.y-k[1]]},In.prototype.pointToData=function(le){var W=this._mapOffset;return[(le=this._bmap.overlayPixelToPoint({x:le[0]+W[0],y:le[1]+W[1]})).lng,le.lat]},In.prototype.getViewRect=function(){var le=this._api;return new St.graphic.BoundingRect(0,0,le.getWidth(),le.getHeight())},In.prototype.getRoamTransform=function(){return St.matrix.create()},In.prototype.prepareCustoms=function(le){var W=this.getViewRect();return{coordSys:{type:"bmap",x:W.x,y:W.y,width:W.width,height:W.height},api:{coord:St.util.bind(this.dataToPoint,this),size:St.util.bind(xe,this)}}},In.dimensions=In.prototype.dimensions,In.create=function(le,W){var L,k=W.getDom();le.eachComponent("bmap",function(I){var G=W.getZr().painter,X=G.getViewportRoot();if(typeof BMap>"u")throw new Error("BMap api is not loaded");if(qe=qe||function(){function ve(De){this._root=De}return(ve.prototype=new BMap.Overlay).initialize=function(De){return De.getPanes().labelPane.appendChild(this._root),this._root},ve.prototype.draw=function(){},ve}(),L)throw new Error("Only one bmap component can exist");if(!I.__bmap){var T=k.querySelector(".ec-extension-bmap");T&&(X.style.left="0px",X.style.top="0px",k.removeChild(T)),(T=document.createElement("div")).style.cssText="width:100%;height:100%",T.classList.add("ec-extension-bmap"),k.appendChild(T);var B=I.get("mapOptions")||{};delete B.mapType;var Y=I.__bmap=new BMap.Map(T,B),ae=new qe(X);Y.addOverlay(ae),G.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}Y=I.__bmap;var se=I.get("center"),ne=I.get("zoom");if(se&&ne){var pe=Y.getCenter(),we=Y.getZoom();if(I.centerOrZoomChanged([pe.lng,pe.lat],we)){var Le=new BMap.Point(se[0],se[1]);Y.centerAndZoom(Le,ne)}}(L=new In(Y,W)).setMapOffset(I.__mapOffset||[0,0]),L.setZoom(ne),L.setCenter(se),I.coordinateSystem=L}),le.eachSeries(function(I){"bmap"===I.get("coordinateSystem")&&(I.coordinateSystem=L)})},St.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(le,W){this.option.center=le,this.option.zoom=W},centerOrZoomChanged:function(le,W){var k,I,L=this.option;return I=L.center,!((k=le)&&I&&k[0]===I[0]&&k[1]===I[1]&&W===L.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}}),St.extendComponentView({type:"bmap",render:function(le,W,L){function k(ve,De){if(!I){var he=X.parentNode.parentNode.parentNode,be=[-parseInt(he.style.left,10)||0,-parseInt(he.style.top,10)||0];X.style.left=be[0]+"px",X.style.top=be[1]+"px",T.setMapOffset(be),le.__mapOffset=be,L.dispatchAction({type:"bmapRoam"})}}var I=!0,G=le.getBMap(),X=L.getZr().painter.getViewportRoot(),T=le.coordinateSystem;function B(){I||L.dispatchAction({type:"bmapRoam"})}G.removeEventListener("moving",this._oldMoveHandler),G.removeEventListener("moveend",this._oldMoveHandler),G.removeEventListener("zoomend",this._oldZoomEndHandler),G.addEventListener("moving",k),G.addEventListener("moveend",k),G.addEventListener("zoomend",B),this._oldMoveHandler=k,this._oldZoomEndHandler=B;var Y=le.get("roam");Y&&"scale"!==Y?G.enableDragging():G.disableDragging(),Y&&"move"!==Y?(G.enableScrollWheelZoom(),G.enableDoubleClickZoom(),G.enablePinchToZoom()):(G.disableScrollWheelZoom(),G.disableDoubleClickZoom(),G.disablePinchToZoom());var ae=le.__mapStyle,se=le.get("mapStyle")||{},ne=JSON.stringify(se);JSON.stringify(ae)!==ne&&(te(we)||G.setMapStyle(St.util.clone(se)),le.__mapStyle=JSON.parse(ne));var pe=le.__mapStyle2,we=le.get("mapStyleV2")||{},Le=JSON.stringify(we);JSON.stringify(pe)!==Le&&(te(we)||G.setMapStyleV2(St.util.clone(we)),le.__mapStyle2=JSON.parse(Le)),I=!1}}),St.registerCoordinateSystem("bmap",In),St.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(le,W){W.eachComponent("bmap",function(L){var k=L.getBMap(),I=k.getCenter();L.setCenterAndZoom([I.lng,I.lat],k.getZoom())})}),Ze.version="1.0.0"}),function(Ze){"object"==typeof exports&&typeof module<"u"?module.exports=Ze():"function"==typeof define&&define.amd?define([],Ze):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).Chart=Ze()}(function(){return function Ze(St,In,xe){function qe(W,L){if(!In[W]){if(!St[W]){var k="function"==typeof require&&require;if(!L&&k)return k(W,!0);if(te)return te(W,!0);var I=new Error("Cannot find module '"+W+"'");throw I.code="MODULE_NOT_FOUND",I}var G=In[W]={exports:{}};St[W][0].call(G.exports,function(X){return qe(St[W][1][X]||X)},G,G.exports,Ze,St,In,xe)}return In[W].exports}for(var te="function"==typeof require&&require,le=0;le<xe.length;le++)qe(xe[le]);return qe}({1:[function(Ze,St,In){},{}],2:[function(Ze,St,In){function xe(B){if(B){var Y=[0,0,0],ae=1,se=B.match(/^#([a-fA-F0-9]{3})$/i);if(se)for(se=se[1],ne=0;ne<Y.length;ne++)Y[ne]=parseInt(se[ne]+se[ne],16);else if(se=B.match(/^#([a-fA-F0-9]{6})$/i))for(se=se[1],ne=0;ne<Y.length;ne++)Y[ne]=parseInt(se.slice(2*ne,2*ne+2),16);else if(se=B.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(ne=0;ne<Y.length;ne++)Y[ne]=parseInt(se[ne+1]);ae=parseFloat(se[4])}else if(se=B.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(ne=0;ne<Y.length;ne++)Y[ne]=Math.round(2.55*parseFloat(se[ne+1]));ae=parseFloat(se[4])}else if(se=B.match(/(\w+)/)){if("transparent"==se[1])return[0,0,0,0];if(!(Y=G[se[1]]))return}for(var ne=0;ne<Y.length;ne++)Y[ne]=k(Y[ne],0,255);return ae=ae||0==ae?k(ae,0,1):1,Y[3]=ae,Y}}function qe(B){if(B){var Y=B.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(Y){var ae=parseFloat(Y[4]);return[k(parseInt(Y[1]),0,360),k(parseFloat(Y[2]),0,100),k(parseFloat(Y[3]),0,100),k(isNaN(ae)?1:ae,0,1)]}}}function te(B){if(B){var Y=B.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(Y){var ae=parseFloat(Y[4]);return[k(parseInt(Y[1]),0,360),k(parseFloat(Y[2]),0,100),k(parseFloat(Y[3]),0,100),k(isNaN(ae)?1:ae,0,1)]}}}function le(B,Y){return void 0===Y&&(Y=void 0!==B[3]?B[3]:1),"rgba("+B[0]+", "+B[1]+", "+B[2]+", "+Y+")"}function W(B,Y){return"rgba("+Math.round(B[0]/255*100)+"%, "+Math.round(B[1]/255*100)+"%, "+Math.round(B[2]/255*100)+"%, "+(Y||B[3]||1)+")"}function L(B,Y){return void 0===Y&&(Y=void 0!==B[3]?B[3]:1),"hsla("+B[0]+", "+B[1]+"%, "+B[2]+"%, "+Y+")"}function k(B,Y,ae){return Math.min(Math.max(Y,B),ae)}function I(B){var Y=B.toString(16).toUpperCase();return Y.length<2?"0"+Y:Y}var G=Ze(6);St.exports={getRgba:xe,getHsla:qe,getRgb:function(B){var Y=xe(B);return Y&&Y.slice(0,3)},getHsl:function(B){var Y=qe(B);return Y&&Y.slice(0,3)},getHwb:te,getAlpha:function(B){var Y=xe(B);return Y||(Y=qe(B))||(Y=te(B))?Y[3]:void 0},hexString:function(B){return"#"+I(B[0])+I(B[1])+I(B[2])},rgbString:function(B,Y){return Y<1||B[3]&&B[3]<1?le(B,Y):"rgb("+B[0]+", "+B[1]+", "+B[2]+")"},rgbaString:le,percentString:function(B,Y){return Y<1||B[3]&&B[3]<1?W(B,Y):"rgb("+Math.round(B[0]/255*100)+"%, "+Math.round(B[1]/255*100)+"%, "+Math.round(B[2]/255*100)+"%)"},percentaString:W,hslString:function(B,Y){return Y<1||B[3]&&B[3]<1?L(B,Y):"hsl("+B[0]+", "+B[1]+"%, "+B[2]+"%)"},hslaString:L,hwbString:function(B,Y){return void 0===Y&&(Y=void 0!==B[3]?B[3]:1),"hwb("+B[0]+", "+B[1]+"%, "+B[2]+"%"+(void 0!==Y&&1!==Y?", "+Y:"")+")"},keyword:function(B){return X[B.slice(0,3)]}};var X={};for(var T in G)X[G[T]]=T},{6:6}],3:[function(Ze,St,In){var xe=Ze(5),qe=Ze(2),te=function(le){return le instanceof te?le:this instanceof te?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof le?(W=qe.getRgba(le))?this.setValues("rgb",W):(W=qe.getHsla(le))?this.setValues("hsl",W):(W=qe.getHwb(le))&&this.setValues("hwb",W):"object"==typeof le&&(void 0!==(W=le).r||void 0!==W.red?this.setValues("rgb",W):void 0!==W.l||void 0!==W.lightness?this.setValues("hsl",W):void 0!==W.v||void 0!==W.value?this.setValues("hsv",W):void 0!==W.w||void 0!==W.whiteness?this.setValues("hwb",W):void 0===W.c&&void 0===W.cyan||this.setValues("cmyk",W)))):new te(le);var W};te.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var le=this.values;return 1!==le.alpha?le.hwb.concat([le.alpha]):le.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var le=this.values;return le.rgb.concat([le.alpha])},hslaArray:function(){var le=this.values;return le.hsl.concat([le.alpha])},alpha:function(le){return void 0===le?this.values.alpha:(this.setValues("alpha",le),this)},red:function(le){return this.setChannel("rgb",0,le)},green:function(le){return this.setChannel("rgb",1,le)},blue:function(le){return this.setChannel("rgb",2,le)},hue:function(le){return le&&(le=(le%=360)<0?360+le:le),this.setChannel("hsl",0,le)},saturation:function(le){return this.setChannel("hsl",1,le)},lightness:function(le){return this.setChannel("hsl",2,le)},saturationv:function(le){return this.setChannel("hsv",1,le)},whiteness:function(le){return this.setChannel("hwb",1,le)},blackness:function(le){return this.setChannel("hwb",2,le)},value:function(le){return this.setChannel("hsv",2,le)},cyan:function(le){return this.setChannel("cmyk",0,le)},magenta:function(le){return this.setChannel("cmyk",1,le)},yellow:function(le){return this.setChannel("cmyk",2,le)},black:function(le){return this.setChannel("cmyk",3,le)},hexString:function(){return qe.hexString(this.values.rgb)},rgbString:function(){return qe.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return qe.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return qe.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return qe.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return qe.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return qe.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return qe.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var le=this.values.rgb;return le[0]<<16|le[1]<<8|le[2]},luminosity:function(){for(var le=this.values.rgb,W=[],L=0;L<le.length;L++){var k=le[L]/255;W[L]=k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4)}return.2126*W[0]+.7152*W[1]+.0722*W[2]},contrast:function(le){var W=this.luminosity(),L=le.luminosity();return W>L?(W+.05)/(L+.05):(L+.05)/(W+.05)},level:function(le){var W=this.contrast(le);return W>=7.1?"AAA":W>=4.5?"AA":""},dark:function(){var le=this.values.rgb;return(299*le[0]+587*le[1]+114*le[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var le=[],W=0;W<3;W++)le[W]=255-this.values.rgb[W];return this.setValues("rgb",le),this},lighten:function(le){var W=this.values.hsl;return W[2]+=W[2]*le,this.setValues("hsl",W),this},darken:function(le){var W=this.values.hsl;return W[2]-=W[2]*le,this.setValues("hsl",W),this},saturate:function(le){var W=this.values.hsl;return W[1]+=W[1]*le,this.setValues("hsl",W),this},desaturate:function(le){var W=this.values.hsl;return W[1]-=W[1]*le,this.setValues("hsl",W),this},whiten:function(le){var W=this.values.hwb;return W[1]+=W[1]*le,this.setValues("hwb",W),this},blacken:function(le){var W=this.values.hwb;return W[2]+=W[2]*le,this.setValues("hwb",W),this},greyscale:function(){var le=this.values.rgb,W=.3*le[0]+.59*le[1]+.11*le[2];return this.setValues("rgb",[W,W,W]),this},clearer:function(le){var W=this.values.alpha;return this.setValues("alpha",W-W*le),this},opaquer:function(le){var W=this.values.alpha;return this.setValues("alpha",W+W*le),this},rotate:function(le){var W=this.values.hsl,L=(W[0]+le)%360;return W[0]=L<0?360+L:L,this.setValues("hsl",W),this},mix:function(le,W){var L=this,k=le,I=void 0===W?.5:W,G=2*I-1,X=L.alpha()-k.alpha(),T=((G*X==-1?G:(G+X)/(1+G*X))+1)/2,B=1-T;return this.rgb(T*L.red()+B*k.red(),T*L.green()+B*k.green(),T*L.blue()+B*k.blue()).alpha(L.alpha()*I+k.alpha()*(1-I))},toJSON:function(){return this.rgb()},clone:function(){var le,W,L=new te,k=this.values,I=L.values;for(var G in k)k.hasOwnProperty(G)&&("[object Array]"===(W={}.toString.call(le=k[G]))?I[G]=le.slice(0):"[object Number]"===W?I[G]=le:console.error("unexpected color value:",le));return L}},te.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},te.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},te.prototype.getValues=function(le){for(var W=this.values,L={},k=0;k<le.length;k++)L[le.charAt(k)]=W[le][k];return 1!==W.alpha&&(L.a=W.alpha),L},te.prototype.setValues=function(le,W){var L,B,k=this.values,I=this.spaces,G=this.maxes,X=1;if(this.valid=!0,"alpha"===le)X=W;else if(W.length)k[le]=W.slice(0,le.length),X=W[le.length];else if(void 0!==W[le.charAt(0)]){for(L=0;L<le.length;L++)k[le][L]=W[le.charAt(L)];X=W.a}else if(void 0!==W[I[le][0]]){var T=I[le];for(L=0;L<le.length;L++)k[le][L]=W[T[L]];X=W.alpha}if(k.alpha=Math.max(0,Math.min(1,void 0===X?k.alpha:X)),"alpha"===le)return!1;for(L=0;L<le.length;L++)B=Math.max(0,Math.min(G[le][L],k[le][L])),k[le][L]=Math.round(B);for(var Y in I)Y!==le&&(k[Y]=xe[le][Y](k[le]));return!0},te.prototype.setSpace=function(le,W){var L=W[0];return void 0===L?this.getValues(le):("number"==typeof L&&(L=Array.prototype.slice.call(W)),this.setValues(le,L),this)},te.prototype.setChannel=function(le,W,L){var k=this.values[le];return void 0===L?k[W]:(L===k[W]||(k[W]=L,this.setValues(le,k)),this)},typeof window<"u"&&(window.Color=te),St.exports=te},{2:2,5:5}],4:[function(Ze,St,In){function xe(he){var be,ee,Me=he[0]/255,Ne=he[1]/255,Be=he[2]/255,$e=Math.min(Me,Ne,Be),Ke=Math.max(Me,Ne,Be),gt=Ke-$e;return Ke==$e?be=0:Me==Ke?be=(Ne-Be)/gt:Ne==Ke?be=2+(Be-Me)/gt:Be==Ke&&(be=4+(Me-Ne)/gt),(be=Math.min(60*be,360))<0&&(be+=360),ee=($e+Ke)/2,[be,100*(Ke==$e?0:ee<=.5?gt/(Ke+$e):gt/(2-Ke-$e)),100*ee]}function qe(he){var be,ke,Me=he[0],Ne=he[1],Be=he[2],$e=Math.min(Me,Ne,Be),Ke=Math.max(Me,Ne,Be),gt=Ke-$e;return ke=0==Ke?0:gt/Ke*1e3/10,Ke==$e?be=0:Me==Ke?be=(Ne-Be)/gt:Ne==Ke?be=2+(Be-Me)/gt:Be==Ke&&(be=4+(Me-Ne)/gt),(be=Math.min(60*be,360))<0&&(be+=360),[be,ke,Ke/255*1e3/10]}function te(he){var be=he[0],ke=he[1],ee=he[2];return[xe(he)[0],1/255*Math.min(be,Math.min(ke,ee))*100,100*(ee=1-1/255*Math.max(be,Math.max(ke,ee)))]}function le(he){var Me,Ne=he[0]/255,Be=he[1]/255,$e=he[2]/255;return[100*((1-Ne-(Me=Math.min(1-Ne,1-Be,1-$e)))/(1-Me)||0),100*((1-Be-Me)/(1-Me)||0),100*((1-$e-Me)/(1-Me)||0),100*Me]}function W(he){return ve[JSON.stringify(he)]}function L(he){var be=he[0]/255,ke=he[1]/255,ee=he[2]/255;return[100*(.4124*(be=be>.04045?Math.pow((be+.055)/1.055,2.4):be/12.92)+.3576*(ke=ke>.04045?Math.pow((ke+.055)/1.055,2.4):ke/12.92)+.1805*(ee=ee>.04045?Math.pow((ee+.055)/1.055,2.4):ee/12.92)),100*(.2126*be+.7152*ke+.0722*ee),100*(.0193*be+.1192*ke+.9505*ee)]}function k(he){var Me=L(he),Ne=Me[0],Be=Me[1],$e=Me[2];return Be/=100,$e/=108.883,Ne=(Ne/=95.047)>.008856?Math.pow(Ne,1/3):7.787*Ne+16/116,[116*(Be=Be>.008856?Math.pow(Be,1/3):7.787*Be+16/116)-16,500*(Ne-Be),200*(Be-($e=$e>.008856?Math.pow($e,1/3):7.787*$e+16/116))]}function I(he){var be,ke,ee,Me,Ne,Be=he[0]/360,$e=he[1]/100,Ke=he[2]/100;if(0==$e)return[Ne=255*Ke,Ne,Ne];be=2*Ke-(ke=Ke<.5?Ke*(1+$e):Ke+$e-Ke*$e),Me=[0,0,0];for(var gt=0;gt<3;gt++)(ee=Be+1/3*-(gt-1))<0&&ee++,ee>1&&ee--,Me[gt]=255*(Ne=6*ee<1?be+6*(ke-be)*ee:2*ee<1?ke:3*ee<2?be+(ke-be)*(2/3-ee)*6:be);return Me}function G(he){var be=he[0]/60,ke=he[1]/100,Ke=he[2]/100,ee=Math.floor(be)%6,Me=be-Math.floor(be),Ne=255*Ke*(1-ke),Be=255*Ke*(1-ke*Me),$e=255*Ke*(1-ke*(1-Me));switch(Ke*=255,ee){case 0:return[Ke,$e,Ne];case 1:return[Be,Ke,Ne];case 2:return[Ne,Ke,$e];case 3:return[Ne,Be,Ke];case 4:return[$e,Ne,Ke];case 5:return[Ke,Ne,Be]}}function X(he){var be,ke,ee,Me,Ne=he[0]/360,Be=he[1]/100,$e=he[2]/100,Ke=Be+$e;switch(Ke>1&&(Be/=Ke,$e/=Ke),ee=6*Ne-(be=Math.floor(6*Ne)),1&be&&(ee=1-ee),Me=Be+ee*((ke=1-$e)-Be),be){default:case 6:case 0:r=ke,g=Me,b=Be;break;case 1:r=Me,g=ke,b=Be;break;case 2:r=Be,g=ke,b=Me;break;case 3:r=Be,g=Me,b=ke;break;case 4:r=Me,g=Be,b=ke;break;case 5:r=ke,g=Be,b=Me}return[255*r,255*g,255*b]}function T(he){var Ne=he[1]/100,Be=he[2]/100,$e=he[3]/100;return[255*(1-Math.min(1,he[0]/100*(1-$e)+$e)),255*(1-Math.min(1,Ne*(1-$e)+$e)),255*(1-Math.min(1,Be*(1-$e)+$e))]}function B(he){var be,ke,ee,Me=he[0]/100,Ne=he[1]/100,Be=he[2]/100;return ke=-.9689*Me+1.8758*Ne+.0415*Be,ee=.0557*Me+-.204*Ne+1.057*Be,be=(be=3.2406*Me+-1.5372*Ne+-.4986*Be)>.0031308?1.055*Math.pow(be,1/2.4)-.055:be*=12.92,ke=ke>.0031308?1.055*Math.pow(ke,1/2.4)-.055:ke*=12.92,ee=ee>.0031308?1.055*Math.pow(ee,1/2.4)-.055:ee*=12.92,[255*(be=Math.min(Math.max(0,be),1)),255*(ke=Math.min(Math.max(0,ke),1)),255*(ee=Math.min(Math.max(0,ee),1))]}function Y(he){var Me=he[0],Ne=he[1],Be=he[2];return Ne/=100,Be/=108.883,Me=(Me/=95.047)>.008856?Math.pow(Me,1/3):7.787*Me+16/116,[116*(Ne=Ne>.008856?Math.pow(Ne,1/3):7.787*Ne+16/116)-16,500*(Me-Ne),200*(Ne-(Be=Be>.008856?Math.pow(Be,1/3):7.787*Be+16/116))]}function ae(he){var be,ke,ee,Me,Ne=he[0],Be=he[1],$e=he[2];return Ne<=8?Me=(ke=100*Ne/903.3)/100*7.787+16/116:(ke=100*Math.pow((Ne+16)/116,3),Me=Math.pow(ke/100,1/3)),[be=be/95.047<=.008856?be=95.047*(Be/500+Me-16/116)/7.787:95.047*Math.pow(Be/500+Me,3),ke,ee=ee/108.883<=.008859?ee=108.883*(Me-$e/200-16/116)/7.787:108.883*Math.pow(Me-$e/200,3)]}function se(he){var ke,Me=he[0],Ne=he[1],Be=he[2];return(ke=360*Math.atan2(Be,Ne)/2/Math.PI)<0&&(ke+=360),[Me,Math.sqrt(Ne*Ne+Be*Be),ke]}function ne(he){return B(ae(he))}function pe(he){var ee,Ne=he[1];return ee=he[2]/360*2*Math.PI,[he[0],Ne*Math.cos(ee),Ne*Math.sin(ee)]}function we(he){return Le[he]}St.exports={rgb2hsl:xe,rgb2hsv:qe,rgb2hwb:te,rgb2cmyk:le,rgb2keyword:W,rgb2xyz:L,rgb2lab:k,rgb2lch:function(he){return se(k(he))},hsl2rgb:I,hsl2hsv:function(he){var Me=he[1]/100,Ne=he[2]/100;return 0===Ne?[0,0,0]:[he[0],2*(Me*=(Ne*=2)<=1?Ne:2-Ne)/(Ne+Me)*100,(Ne+Me)/2*100]},hsl2hwb:function(he){return te(I(he))},hsl2cmyk:function(he){return le(I(he))},hsl2keyword:function(he){return W(I(he))},hsv2rgb:G,hsv2hsl:function(he){var be,ke,Me=he[1]/100,Ne=he[2]/100;return be=Me*Ne,[he[0],100*(be=(be/=(ke=(2-Me)*Ne)<=1?ke:2-ke)||0),100*(ke/=2)]},hsv2hwb:function(he){return te(G(he))},hsv2cmyk:function(he){return le(G(he))},hsv2keyword:function(he){return W(G(he))},hwb2rgb:X,hwb2hsl:function(he){return xe(X(he))},hwb2hsv:function(he){return qe(X(he))},hwb2cmyk:function(he){return le(X(he))},hwb2keyword:function(he){return W(X(he))},cmyk2rgb:T,cmyk2hsl:function(he){return xe(T(he))},cmyk2hsv:function(he){return qe(T(he))},cmyk2hwb:function(he){return te(T(he))},cmyk2keyword:function(he){return W(T(he))},keyword2rgb:we,keyword2hsl:function(he){return xe(we(he))},keyword2hsv:function(he){return qe(we(he))},keyword2hwb:function(he){return te(we(he))},keyword2cmyk:function(he){return le(we(he))},keyword2lab:function(he){return k(we(he))},keyword2xyz:function(he){return L(we(he))},xyz2rgb:B,xyz2lab:Y,xyz2lch:function(he){return se(Y(he))},lab2xyz:ae,lab2rgb:ne,lab2lch:se,lch2lab:pe,lch2xyz:function(he){return ae(pe(he))},lch2rgb:function(he){return ne(pe(he))}};var Le={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ve={};for(var De in Le)ve[JSON.stringify(Le[De])]=De},{}],5:[function(Ze,St,In){var xe=Ze(4),qe=function(){return new k};for(var te in xe){qe[te+"Raw"]=function(I){return function(G){return"number"==typeof G&&(G=Array.prototype.slice.call(arguments)),xe[I](G)}}(te);var le=/(\w+)2(\w+)/.exec(te),W=le[1],L=le[2];(qe[W]=qe[W]||{})[L]=qe[te]=function(I){return function(G){"number"==typeof G&&(G=Array.prototype.slice.call(arguments));var X=xe[I](G);if("string"==typeof X||void 0===X)return X;for(var T=0;T<X.length;T++)X[T]=Math.round(X[T]);return X}}(te)}var k=function(){this.convs={}};k.prototype.routeSpace=function(I,G){var X=G[0];return void 0===X?this.getValues(I):("number"==typeof X&&(X=Array.prototype.slice.call(G)),this.setValues(I,X))},k.prototype.setValues=function(I,G){return this.space=I,this.convs={},this.convs[I]=G,this},k.prototype.getValues=function(I){var G=this.convs[I];if(!G){var X=this.space;G=qe[X][I](this.convs[X]),this.convs[I]=G}return G},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(I){k.prototype[I]=function(G){return this.routeSpace(I,arguments)}}),St.exports=qe},{4:4}],6:[function(Ze,St,In){"use strict";St.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(Ze,St,In){var xe=Ze(29)();xe.helpers=Ze(45),Ze(27)(xe),xe.defaults=Ze(25),xe.Element=Ze(26),xe.elements=Ze(40),xe.Interaction=Ze(28),xe.platform=Ze(48),Ze(31)(xe),Ze(22)(xe),Ze(23)(xe),Ze(24)(xe),Ze(30)(xe),Ze(33)(xe),Ze(32)(xe),Ze(35)(xe),Ze(54)(xe),Ze(52)(xe),Ze(53)(xe),Ze(55)(xe),Ze(56)(xe),Ze(57)(xe),Ze(15)(xe),Ze(16)(xe),Ze(17)(xe),Ze(18)(xe),Ze(19)(xe),Ze(20)(xe),Ze(21)(xe),Ze(8)(xe),Ze(9)(xe),Ze(10)(xe),Ze(11)(xe),Ze(12)(xe),Ze(13)(xe),Ze(14)(xe);var qe=[];qe.push(Ze(49)(xe),Ze(50)(xe),Ze(51)(xe)),xe.plugins.register(qe),xe.platform.initialize(),St.exports=xe,typeof window<"u"&&(window.Chart=xe),xe.canvasHelpers=xe.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.Bar=function(qe,te){return te.type="bar",new xe(qe,te)}}},{}],9:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.Bubble=function(qe,te){return te.type="bubble",new xe(qe,te)}}},{}],10:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.Doughnut=function(qe,te){return te.type="doughnut",new xe(qe,te)}}},{}],11:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.Line=function(qe,te){return te.type="line",new xe(qe,te)}}},{}],12:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.PolarArea=function(qe,te){return te.type="polarArea",new xe(qe,te)}}},{}],13:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.Radar=function(qe,te){return te.type="radar",new xe(qe,te)}}},{}],14:[function(Ze,St,In){"use strict";St.exports=function(xe){xe.Scatter=function(qe,te){return te.type="scatter",new xe(qe,te)}}},{}],15:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),xe._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(le,W){var L="";return le.length>0&&(le[0].yLabel?L=le[0].yLabel:W.labels.length>0&&le[0].index<W.labels.length&&(L=W.labels[le[0].index])),L},label:function(le,W){return(W.datasets[le.datasetIndex].label||"")+": "+le.xLabel}},mode:"index",axis:"y"}}),St.exports=function(le){le.controllers.bar=le.DatasetController.extend({dataElementType:qe.Rectangle,initialize:function(){var W,L=this;le.DatasetController.prototype.initialize.apply(L,arguments),(W=L.getMeta()).stack=L.getDataset().stack,W.bar=!0},update:function(W){var L,k,I=this,G=I.getMeta().data;for(I._ruler=I.getRuler(),L=0,k=G.length;L<k;++L)I.updateElement(G[L],L,W)},updateElement:function(W,L,k){var I=this,G=I.chart,X=I.getMeta(),T=I.getDataset(),B=W.custom||{},Y=G.options.elements.rectangle;W._xScale=I.getScaleForId(X.xAxisID),W._yScale=I.getScaleForId(X.yAxisID),W._datasetIndex=I.index,W._index=L,W._model={datasetLabel:T.label,label:G.data.labels[L],borderSkipped:B.borderSkipped?B.borderSkipped:Y.borderSkipped,backgroundColor:B.backgroundColor?B.backgroundColor:te.valueAtIndexOrDefault(T.backgroundColor,L,Y.backgroundColor),borderColor:B.borderColor?B.borderColor:te.valueAtIndexOrDefault(T.borderColor,L,Y.borderColor),borderWidth:B.borderWidth?B.borderWidth:te.valueAtIndexOrDefault(T.borderWidth,L,Y.borderWidth)},I.updateElementGeometry(W,L,k),W.pivot()},updateElementGeometry:function(W,L,k){var I=this,G=W._model,X=I.getValueScale(),T=X.getBasePixel(),B=X.isHorizontal(),Y=I._ruler||I.getRuler(),ae=I.calculateBarValuePixels(I.index,L),se=I.calculateBarIndexPixels(I.index,L,Y);G.horizontal=B,G.base=k?T:ae.base,G.x=B?k?T:ae.head:se.center,G.y=B?se.center:k?T:ae.head,G.height=B?se.size:void 0,G.width=B?void 0:se.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(W){var L,k,G=this.chart,X=this.getIndexScale().options.stacked,T=void 0===W?G.data.datasets.length:W+1,B=[];for(L=0;L<T;++L)(k=G.getDatasetMeta(L)).bar&&G.isDatasetVisible(L)&&(!1===X||!0===X&&-1===B.indexOf(k.stack)||void 0===X&&(void 0===k.stack||-1===B.indexOf(k.stack)))&&B.push(k.stack);return B.length},getStackIndex:function(W){return this.getStackCount(W)-1},getRuler:function(){var W,L,k=this,I=k.getIndexScale(),G=k.getStackCount(),X=k.index,T=[],B=I.isHorizontal(),Y=B?I.left:I.top,ae=Y+(B?I.width:I.height);for(W=0,L=k.getMeta().data.length;W<L;++W)T.push(I.getPixelForValue(null,W,X));return{pixels:T,start:Y,end:ae,stackCount:G,scale:I}},calculateBarValuePixels:function(W,L){var k,I,G,X,T,B,Y=this,ae=Y.chart,se=Y.getMeta(),ne=Y.getValueScale(),pe=ae.data.datasets,we=ne.getRightValue(pe[W].data[L]),Le=ne.options.stacked,ve=se.stack,De=0;if(Le||void 0===Le&&void 0!==ve)for(k=0;k<W;++k)(I=ae.getDatasetMeta(k)).bar&&I.stack===ve&&I.controller.getValueScaleId()===ne.id&&ae.isDatasetVisible(k)&&(G=ne.getRightValue(pe[k].data[L]),(we<0&&G<0||we>=0&&G>0)&&(De+=G));return X=ne.getPixelForValue(De),{size:B=((T=ne.getPixelForValue(De+we))-X)/2,base:X,head:T,center:T+B/2}},calculateBarIndexPixels:function(W,L,k){var I,G,X,B,Y,se=k.scale.options,ne=this.getStackIndex(W),pe=k.pixels,we=pe[L],Le=pe.length,ve=k.start,De=k.end;return 1===Le?(I=we>ve?we-ve:De-we,G=we<De?De-we:we-ve):(L>0&&(I=(we-pe[L-1])/2,L===Le-1&&(G=I)),L<Le-1&&(G=(pe[L+1]-we)/2,0===L&&(I=G))),Y=(B=((X=I*se.categoryPercentage)+G*se.categoryPercentage)/k.stackCount)*se.barPercentage,we-=X,we+=B*ne,{size:Y=Math.min(te.valueOrDefault(se.barThickness,Y),te.valueOrDefault(se.maxBarThickness,1/0)),base:we+=(B-Y)/2,head:we+Y,center:we+Y/2}},draw:function(){var W=this,L=W.chart,k=W.getValueScale(),I=W.getMeta().data,G=W.getDataset(),X=I.length,T=0;for(te.canvas.clipArea(L.ctx,L.chartArea);T<X;++T)isNaN(k.getRightValue(G.data[T]))||I[T].draw();te.canvas.unclipArea(L.ctx)},setHoverStyle:function(W){var L=this.chart.data.datasets[W._datasetIndex],k=W._index,I=W.custom||{},G=W._model;G.backgroundColor=I.hoverBackgroundColor?I.hoverBackgroundColor:te.valueAtIndexOrDefault(L.hoverBackgroundColor,k,te.getHoverColor(G.backgroundColor)),G.borderColor=I.hoverBorderColor?I.hoverBorderColor:te.valueAtIndexOrDefault(L.hoverBorderColor,k,te.getHoverColor(G.borderColor)),G.borderWidth=I.hoverBorderWidth?I.hoverBorderWidth:te.valueAtIndexOrDefault(L.hoverBorderWidth,k,G.borderWidth)},removeHoverStyle:function(W){var L=this.chart.data.datasets[W._datasetIndex],k=W._index,I=W.custom||{},G=W._model,X=this.chart.options.elements.rectangle;G.backgroundColor=I.backgroundColor?I.backgroundColor:te.valueAtIndexOrDefault(L.backgroundColor,k,X.backgroundColor),G.borderColor=I.borderColor?I.borderColor:te.valueAtIndexOrDefault(L.borderColor,k,X.borderColor),G.borderWidth=I.borderWidth?I.borderWidth:te.valueAtIndexOrDefault(L.borderWidth,k,X.borderWidth)}}),le.controllers.horizontalBar=le.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(le,W){return(W.datasets[le.datasetIndex].label||"")+": ("+le.xLabel+", "+le.yLabel+", "+W.datasets[le.datasetIndex].data[le.index].r+")"}}}}),St.exports=function(le){le.controllers.bubble=le.DatasetController.extend({dataElementType:qe.Point,update:function(W){var L=this,k=L.getMeta().data;te.each(k,function(I,G){L.updateElement(I,G,W)})},updateElement:function(W,L,k){var I=this,G=I.getMeta(),X=W.custom||{},T=I.getScaleForId(G.xAxisID),B=I.getScaleForId(G.yAxisID),Y=I._resolveElementOptions(W,L),ae=I.getDataset().data[L],se=I.index,ne=k?T.getPixelForDecimal(.5):T.getPixelForValue("object"==typeof ae?ae:NaN,L,se),pe=k?B.getBasePixel():B.getPixelForValue(ae,L,se);W._xScale=T,W._yScale=B,W._options=Y,W._datasetIndex=se,W._index=L,W._model={backgroundColor:Y.backgroundColor,borderColor:Y.borderColor,borderWidth:Y.borderWidth,hitRadius:Y.hitRadius,pointStyle:Y.pointStyle,radius:k?0:Y.radius,skip:X.skip||isNaN(ne)||isNaN(pe),x:ne,y:pe},W.pivot()},setHoverStyle:function(W){var L=W._model,k=W._options;L.backgroundColor=te.valueOrDefault(k.hoverBackgroundColor,te.getHoverColor(k.backgroundColor)),L.borderColor=te.valueOrDefault(k.hoverBorderColor,te.getHoverColor(k.borderColor)),L.borderWidth=te.valueOrDefault(k.hoverBorderWidth,k.borderWidth),L.radius=k.radius+k.hoverRadius},removeHoverStyle:function(W){var L=W._model,k=W._options;L.backgroundColor=k.backgroundColor,L.borderColor=k.borderColor,L.borderWidth=k.borderWidth,L.radius=k.radius},_resolveElementOptions:function(W,L){var k,I,G,X=this,T=X.chart,B=T.data.datasets[X.index],Y=W.custom||{},ae=T.options.elements.point,se=te.options.resolve,ne=B.data[L],pe={},we={chart:T,dataIndex:L,dataset:B,datasetIndex:X.index},Le=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(k=0,I=Le.length;k<I;++k)pe[G=Le[k]]=se([Y[G],B[G],ae[G]],we,L);return pe.radius=se([Y.radius,ne?ne.r:void 0,B.radius,ae.radius],we,L),pe}})}},{25:25,40:40,45:45}],17:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(le){var W=[];W.push('<ul class="'+le.id+'-legend">');var L=le.data,k=L.datasets,I=L.labels;if(k.length)for(var G=0;G<k[0].data.length;++G)W.push('<li><span style="background-color:'+k[0].backgroundColor[G]+'"></span>'),I[G]&&W.push(I[G]),W.push("</li>");return W.push("</ul>"),W.join("")},legend:{labels:{generateLabels:function(le){var W=le.data;return W.labels.length&&W.datasets.length?W.labels.map(function(L,k){var I=le.getDatasetMeta(0),G=W.datasets[0],X=I.data[k],T=X&&X.custom||{},B=te.valueAtIndexOrDefault,Y=le.options.elements.arc;return{text:L,fillStyle:T.backgroundColor?T.backgroundColor:B(G.backgroundColor,k,Y.backgroundColor),strokeStyle:T.borderColor?T.borderColor:B(G.borderColor,k,Y.borderColor),lineWidth:T.borderWidth?T.borderWidth:B(G.borderWidth,k,Y.borderWidth),hidden:isNaN(G.data[k])||I.data[k].hidden,index:k}}):[]}},onClick:function(le,W){var L,k,I,G=W.index,X=this.chart;for(L=0,k=(X.data.datasets||[]).length;L<k;++L)(I=X.getDatasetMeta(L)).data[G]&&(I.data[G].hidden=!I.data[G].hidden);X.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(le,W){var L=W.labels[le.index],k=": "+W.datasets[le.datasetIndex].data[le.index];return te.isArray(L)?(L=L.slice())[0]+=k:L+=k,L}}}}),xe._set("pie",te.clone(xe.doughnut)),xe._set("pie",{cutoutPercentage:0}),St.exports=function(le){le.controllers.doughnut=le.controllers.pie=le.DatasetController.extend({dataElementType:qe.Arc,linkScales:te.noop,getRingIndex:function(W){for(var L=0,k=0;k<W;++k)this.chart.isDatasetVisible(k)&&++L;return L},update:function(W){var L=this,k=L.chart,I=k.chartArea,G=k.options,X=G.elements.arc,T=I.right-I.left-X.borderWidth,B=I.bottom-I.top-X.borderWidth,Y=Math.min(T,B),ae={x:0,y:0},se=L.getMeta(),ne=G.cutoutPercentage,pe=G.circumference;if(pe<2*Math.PI){var we=G.rotation%(2*Math.PI),Le=(we+=2*Math.PI*(we>=Math.PI?-1:we<-Math.PI?1:0))+pe,ve={x:Math.cos(we),y:Math.sin(we)},De={x:Math.cos(Le),y:Math.sin(Le)},he=we<=0&&Le>=0||we<=2*Math.PI&&2*Math.PI<=Le,be=we<=.5*Math.PI&&.5*Math.PI<=Le||we<=2.5*Math.PI&&2.5*Math.PI<=Le,ke=we<=-Math.PI&&-Math.PI<=Le||we<=Math.PI&&Math.PI<=Le,ee=we<=.5*-Math.PI&&.5*-Math.PI<=Le||we<=1.5*Math.PI&&1.5*Math.PI<=Le,Me=ne/100,Ne={x:ke?-1:Math.min(ve.x*(ve.x<0?1:Me),De.x*(De.x<0?1:Me)),y:ee?-1:Math.min(ve.y*(ve.y<0?1:Me),De.y*(De.y<0?1:Me))},Be={x:he?1:Math.max(ve.x*(ve.x>0?1:Me),De.x*(De.x>0?1:Me)),y:be?1:Math.max(ve.y*(ve.y>0?1:Me),De.y*(De.y>0?1:Me))},$e={width:.5*(Be.x-Ne.x),height:.5*(Be.y-Ne.y)};Y=Math.min(T/$e.width,B/$e.height),ae={x:-.5*(Be.x+Ne.x),y:-.5*(Be.y+Ne.y)}}k.borderWidth=L.getMaxBorderWidth(se.data),k.outerRadius=Math.max((Y-k.borderWidth)/2,0),k.innerRadius=Math.max(ne?k.outerRadius/100*ne:0,0),k.radiusLength=(k.outerRadius-k.innerRadius)/k.getVisibleDatasetCount(),k.offsetX=ae.x*k.outerRadius,k.offsetY=ae.y*k.outerRadius,se.total=L.calculateTotal(),L.outerRadius=k.outerRadius-k.radiusLength*L.getRingIndex(L.index),L.innerRadius=Math.max(L.outerRadius-k.radiusLength,0),te.each(se.data,function(Ke,gt){L.updateElement(Ke,gt,W)})},updateElement:function(W,L,k){var I=this,G=I.chart,X=G.chartArea,T=G.options,B=T.animation,Y=(X.left+X.right)/2,ae=(X.top+X.bottom)/2,se=T.rotation,ne=T.rotation,pe=I.getDataset(),we=k&&B.animateRotate||W.hidden?0:I.calculateCircumference(pe.data[L])*(T.circumference/(2*Math.PI));te.extend(W,{_datasetIndex:I.index,_index:L,_model:{x:Y+G.offsetX,y:ae+G.offsetY,startAngle:se,endAngle:ne,circumference:we,outerRadius:k&&B.animateScale?0:I.outerRadius,innerRadius:k&&B.animateScale?0:I.innerRadius,label:(0,te.valueAtIndexOrDefault)(pe.label,L,G.data.labels[L])}});var he=W._model;this.removeHoverStyle(W),k&&B.animateRotate||(he.startAngle=0===L?T.rotation:I.getMeta().data[L-1]._model.endAngle,he.endAngle=he.startAngle+he.circumference),W.pivot()},removeHoverStyle:function(W){le.DatasetController.prototype.removeHoverStyle.call(this,W,this.chart.options.elements.arc)},calculateTotal:function(){var W,L=this.getDataset(),k=this.getMeta(),I=0;return te.each(k.data,function(G,X){W=L.data[X],isNaN(W)||G.hidden||(I+=Math.abs(W))}),I},calculateCircumference:function(W){var L=this.getMeta().total;return L>0&&!isNaN(W)?2*Math.PI*(W/L):0},getMaxBorderWidth:function(W){for(var L,k,I=0,G=this.index,X=W.length,T=0;T<X;T++)I=(k=W[T]._chart?W[T]._chart.config.data.datasets[G].hoverBorderWidth:0)>(I=(L=W[T]._model?W[T]._model.borderWidth:0)>I?L:I)?k:I;return I}})}},{25:25,40:40,45:45}],18:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),St.exports=function(le){function W(L,k){return te.valueOrDefault(L.showLine,k.showLines)}le.controllers.line=le.DatasetController.extend({datasetElementType:qe.Line,dataElementType:qe.Point,update:function(L){var k,I,G,X=this,T=X.getMeta(),B=T.dataset,Y=T.data||[],ae=X.chart.options,se=ae.elements.line,ne=X.getScaleForId(T.yAxisID),pe=X.getDataset(),we=W(pe,ae);for(we&&(G=B.custom||{},void 0!==pe.tension&&void 0===pe.lineTension&&(pe.lineTension=pe.tension),B._scale=ne,B._datasetIndex=X.index,B._children=Y,B._model={spanGaps:pe.spanGaps?pe.spanGaps:ae.spanGaps,tension:G.tension?G.tension:te.valueOrDefault(pe.lineTension,se.tension),backgroundColor:G.backgroundColor?G.backgroundColor:pe.backgroundColor||se.backgroundColor,borderWidth:G.borderWidth?G.borderWidth:pe.borderWidth||se.borderWidth,borderColor:G.borderColor?G.borderColor:pe.borderColor||se.borderColor,borderCapStyle:G.borderCapStyle?G.borderCapStyle:pe.borderCapStyle||se.borderCapStyle,borderDash:G.borderDash?G.borderDash:pe.borderDash||se.borderDash,borderDashOffset:G.borderDashOffset?G.borderDashOffset:pe.borderDashOffset||se.borderDashOffset,borderJoinStyle:G.borderJoinStyle?G.borderJoinStyle:pe.borderJoinStyle||se.borderJoinStyle,fill:G.fill?G.fill:void 0!==pe.fill?pe.fill:se.fill,steppedLine:G.steppedLine?G.steppedLine:te.valueOrDefault(pe.steppedLine,se.stepped),cubicInterpolationMode:G.cubicInterpolationMode?G.cubicInterpolationMode:te.valueOrDefault(pe.cubicInterpolationMode,se.cubicInterpolationMode)},B.pivot()),k=0,I=Y.length;k<I;++k)X.updateElement(Y[k],k,L);for(we&&0!==B._model.tension&&X.updateBezierControlPoints(),k=0,I=Y.length;k<I;++k)Y[k].pivot()},getPointBackgroundColor:function(L,k){var I=this.chart.options.elements.point.backgroundColor,G=this.getDataset(),X=L.custom||{};return X.backgroundColor?I=X.backgroundColor:G.pointBackgroundColor?I=te.valueAtIndexOrDefault(G.pointBackgroundColor,k,I):G.backgroundColor&&(I=G.backgroundColor),I},getPointBorderColor:function(L,k){var I=this.chart.options.elements.point.borderColor,G=this.getDataset(),X=L.custom||{};return X.borderColor?I=X.borderColor:G.pointBorderColor?I=te.valueAtIndexOrDefault(G.pointBorderColor,k,I):G.borderColor&&(I=G.borderColor),I},getPointBorderWidth:function(L,k){var I=this.chart.options.elements.point.borderWidth,G=this.getDataset(),X=L.custom||{};return isNaN(X.borderWidth)?!isNaN(G.pointBorderWidth)||te.isArray(G.pointBorderWidth)?I=te.valueAtIndexOrDefault(G.pointBorderWidth,k,I):isNaN(G.borderWidth)||(I=G.borderWidth):I=X.borderWidth,I},updateElement:function(L,k,I){var G,X,T=this,B=T.getMeta(),Y=L.custom||{},ae=T.getDataset(),se=T.index,ne=ae.data[k],pe=T.getScaleForId(B.yAxisID),we=T.getScaleForId(B.xAxisID),Le=T.chart.options.elements.point;void 0!==ae.radius&&void 0===ae.pointRadius&&(ae.pointRadius=ae.radius),void 0!==ae.hitRadius&&void 0===ae.pointHitRadius&&(ae.pointHitRadius=ae.hitRadius),G=we.getPixelForValue("object"==typeof ne?ne:NaN,k,se),X=I?pe.getBasePixel():T.calculatePointY(ne,k,se),L._xScale=we,L._yScale=pe,L._datasetIndex=se,L._index=k,L._model={x:G,y:X,skip:Y.skip||isNaN(G)||isNaN(X),radius:Y.radius||te.valueAtIndexOrDefault(ae.pointRadius,k,Le.radius),pointStyle:Y.pointStyle||te.valueAtIndexOrDefault(ae.pointStyle,k,Le.pointStyle),backgroundColor:T.getPointBackgroundColor(L,k),borderColor:T.getPointBorderColor(L,k),borderWidth:T.getPointBorderWidth(L,k),tension:B.dataset._model?B.dataset._model.tension:0,steppedLine:!!B.dataset._model&&B.dataset._model.steppedLine,hitRadius:Y.hitRadius||te.valueAtIndexOrDefault(ae.pointHitRadius,k,Le.hitRadius)}},calculatePointY:function(L,k,I){var G,X,T,B=this,Y=B.chart,ae=B.getMeta(),se=B.getScaleForId(ae.yAxisID),ne=0,pe=0;if(se.options.stacked){for(G=0;G<I;G++)if(X=Y.data.datasets[G],"line"===(T=Y.getDatasetMeta(G)).type&&T.yAxisID===se.id&&Y.isDatasetVisible(G)){var we=Number(se.getRightValue(X.data[k]));we<0?pe+=we||0:ne+=we||0}var Le=Number(se.getRightValue(L));return se.getPixelForValue(Le<0?pe+Le:ne+Le)}return se.getPixelForValue(L)},updateBezierControlPoints:function(){function L(se,ne,pe){return Math.max(Math.min(se,pe),ne)}var k,I,G,X,T=this,B=T.getMeta(),Y=T.chart.chartArea,ae=B.data||[];if(B.dataset._model.spanGaps&&(ae=ae.filter(function(se){return!se._model.skip})),"monotone"===B.dataset._model.cubicInterpolationMode)te.splineCurveMonotone(ae);else for(k=0,I=ae.length;k<I;++k)G=ae[k]._model,X=te.splineCurve(te.previousItem(ae,k)._model,G,te.nextItem(ae,k)._model,B.dataset._model.tension),G.controlPointPreviousX=X.previous.x,G.controlPointPreviousY=X.previous.y,G.controlPointNextX=X.next.x,G.controlPointNextY=X.next.y;if(T.chart.options.elements.line.capBezierPoints)for(k=0,I=ae.length;k<I;++k)(G=ae[k]._model).controlPointPreviousX=L(G.controlPointPreviousX,Y.left,Y.right),G.controlPointPreviousY=L(G.controlPointPreviousY,Y.top,Y.bottom),G.controlPointNextX=L(G.controlPointNextX,Y.left,Y.right),G.controlPointNextY=L(G.controlPointNextY,Y.top,Y.bottom)},draw:function(){var L=this,k=L.chart,I=L.getMeta(),G=I.data||[],X=k.chartArea,T=G.length,B=0;for(te.canvas.clipArea(k.ctx,X),W(L.getDataset(),k.options)&&I.dataset.draw(),te.canvas.unclipArea(k.ctx);B<T;++B)G[B].draw(X)},setHoverStyle:function(L){var k=this.chart.data.datasets[L._datasetIndex],I=L._index,G=L.custom||{},X=L._model;X.radius=G.hoverRadius||te.valueAtIndexOrDefault(k.pointHoverRadius,I,this.chart.options.elements.point.hoverRadius),X.backgroundColor=G.hoverBackgroundColor||te.valueAtIndexOrDefault(k.pointHoverBackgroundColor,I,te.getHoverColor(X.backgroundColor)),X.borderColor=G.hoverBorderColor||te.valueAtIndexOrDefault(k.pointHoverBorderColor,I,te.getHoverColor(X.borderColor)),X.borderWidth=G.hoverBorderWidth||te.valueAtIndexOrDefault(k.pointHoverBorderWidth,I,X.borderWidth)},removeHoverStyle:function(L){var k=this,I=k.chart.data.datasets[L._datasetIndex],G=L._index,X=L.custom||{},T=L._model;void 0!==I.radius&&void 0===I.pointRadius&&(I.pointRadius=I.radius),T.radius=X.radius||te.valueAtIndexOrDefault(I.pointRadius,G,k.chart.options.elements.point.radius),T.backgroundColor=k.getPointBackgroundColor(L,G),T.borderColor=k.getPointBorderColor(L,G),T.borderWidth=k.getPointBorderWidth(L,G)}})}},{25:25,40:40,45:45}],19:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(le){var W=[];W.push('<ul class="'+le.id+'-legend">');var L=le.data,k=L.datasets,I=L.labels;if(k.length)for(var G=0;G<k[0].data.length;++G)W.push('<li><span style="background-color:'+k[0].backgroundColor[G]+'"></span>'),I[G]&&W.push(I[G]),W.push("</li>");return W.push("</ul>"),W.join("")},legend:{labels:{generateLabels:function(le){var W=le.data;return W.labels.length&&W.datasets.length?W.labels.map(function(L,k){var I=le.getDatasetMeta(0),G=W.datasets[0],X=I.data[k].custom||{},T=te.valueAtIndexOrDefault,B=le.options.elements.arc;return{text:L,fillStyle:X.backgroundColor?X.backgroundColor:T(G.backgroundColor,k,B.backgroundColor),strokeStyle:X.borderColor?X.borderColor:T(G.borderColor,k,B.borderColor),lineWidth:X.borderWidth?X.borderWidth:T(G.borderWidth,k,B.borderWidth),hidden:isNaN(G.data[k])||I.data[k].hidden,index:k}}):[]}},onClick:function(le,W){var L,k,I,G=W.index,X=this.chart;for(L=0,k=(X.data.datasets||[]).length;L<k;++L)(I=X.getDatasetMeta(L)).data[G].hidden=!I.data[G].hidden;X.update()}},tooltips:{callbacks:{title:function(){return""},label:function(le,W){return W.labels[le.index]+": "+le.yLabel}}}}),St.exports=function(le){le.controllers.polarArea=le.DatasetController.extend({dataElementType:qe.Arc,linkScales:te.noop,update:function(W){var L=this,k=L.chart,I=k.chartArea,G=L.getMeta(),X=k.options,T=X.elements.arc,B=Math.min(I.right-I.left,I.bottom-I.top);k.outerRadius=Math.max((B-T.borderWidth/2)/2,0),k.innerRadius=Math.max(X.cutoutPercentage?k.outerRadius/100*X.cutoutPercentage:1,0),k.radiusLength=(k.outerRadius-k.innerRadius)/k.getVisibleDatasetCount(),L.outerRadius=k.outerRadius-k.radiusLength*L.index,L.innerRadius=L.outerRadius-k.radiusLength,G.count=L.countVisibleElements(),te.each(G.data,function(Y,ae){L.updateElement(Y,ae,W)})},updateElement:function(W,L,k){for(var I=this,G=I.chart,X=I.getDataset(),T=G.options,B=T.animation,Y=G.scale,ae=G.data.labels,se=I.calculateCircumference(X.data[L]),ne=Y.xCenter,pe=Y.yCenter,we=0,Le=I.getMeta(),ve=0;ve<L;++ve)isNaN(X.data[ve])||Le.data[ve].hidden||++we;var De=T.startAngle,he=W.hidden?0:Y.getDistanceFromCenterForValue(X.data[L]),be=De+se*we,ke=be+(W.hidden?0:se),ee=B.animateScale?0:Y.getDistanceFromCenterForValue(X.data[L]);te.extend(W,{_datasetIndex:I.index,_index:L,_scale:Y,_model:{x:ne,y:pe,innerRadius:0,outerRadius:k?ee:he,startAngle:k&&B.animateRotate?De:be,endAngle:k&&B.animateRotate?De:ke,label:te.valueAtIndexOrDefault(ae,L,ae[L])}}),I.removeHoverStyle(W),W.pivot()},removeHoverStyle:function(W){le.DatasetController.prototype.removeHoverStyle.call(this,W,this.chart.options.elements.arc)},countVisibleElements:function(){var W=this.getDataset(),L=this.getMeta(),k=0;return te.each(L.data,function(I,G){isNaN(W.data[G])||I.hidden||k++}),k},calculateCircumference:function(W){var L=this.getMeta().count;return L>0&&!isNaN(W)?2*Math.PI/L:0}})}},{25:25,40:40,45:45}],20:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),St.exports=function(le){le.controllers.radar=le.DatasetController.extend({datasetElementType:qe.Line,dataElementType:qe.Point,linkScales:te.noop,update:function(W){var L=this,k=L.getMeta(),G=k.data,X=k.dataset.custom||{},T=L.getDataset(),B=L.chart.options.elements.line,Y=L.chart.scale;void 0!==T.tension&&void 0===T.lineTension&&(T.lineTension=T.tension),te.extend(k.dataset,{_datasetIndex:L.index,_scale:Y,_children:G,_loop:!0,_model:{tension:X.tension?X.tension:te.valueOrDefault(T.lineTension,B.tension),backgroundColor:X.backgroundColor?X.backgroundColor:T.backgroundColor||B.backgroundColor,borderWidth:X.borderWidth?X.borderWidth:T.borderWidth||B.borderWidth,borderColor:X.borderColor?X.borderColor:T.borderColor||B.borderColor,fill:X.fill?X.fill:void 0!==T.fill?T.fill:B.fill,borderCapStyle:X.borderCapStyle?X.borderCapStyle:T.borderCapStyle||B.borderCapStyle,borderDash:X.borderDash?X.borderDash:T.borderDash||B.borderDash,borderDashOffset:X.borderDashOffset?X.borderDashOffset:T.borderDashOffset||B.borderDashOffset,borderJoinStyle:X.borderJoinStyle?X.borderJoinStyle:T.borderJoinStyle||B.borderJoinStyle}}),k.dataset.pivot(),te.each(G,function(ae,se){L.updateElement(ae,se,W)},L),L.updateBezierControlPoints()},updateElement:function(W,L,k){var I=this,G=W.custom||{},X=I.getDataset(),T=I.chart.scale,B=I.chart.options.elements.point,Y=T.getPointPositionForValue(L,X.data[L]);void 0!==X.radius&&void 0===X.pointRadius&&(X.pointRadius=X.radius),void 0!==X.hitRadius&&void 0===X.pointHitRadius&&(X.pointHitRadius=X.hitRadius),te.extend(W,{_datasetIndex:I.index,_index:L,_scale:T,_model:{x:k?T.xCenter:Y.x,y:k?T.yCenter:Y.y,tension:G.tension?G.tension:te.valueOrDefault(X.lineTension,I.chart.options.elements.line.tension),radius:G.radius?G.radius:te.valueAtIndexOrDefault(X.pointRadius,L,B.radius),backgroundColor:G.backgroundColor?G.backgroundColor:te.valueAtIndexOrDefault(X.pointBackgroundColor,L,B.backgroundColor),borderColor:G.borderColor?G.borderColor:te.valueAtIndexOrDefault(X.pointBorderColor,L,B.borderColor),borderWidth:G.borderWidth?G.borderWidth:te.valueAtIndexOrDefault(X.pointBorderWidth,L,B.borderWidth),pointStyle:G.pointStyle?G.pointStyle:te.valueAtIndexOrDefault(X.pointStyle,L,B.pointStyle),hitRadius:G.hitRadius?G.hitRadius:te.valueAtIndexOrDefault(X.pointHitRadius,L,B.hitRadius)}}),W._model.skip=G.skip?G.skip:isNaN(W._model.x)||isNaN(W._model.y)},updateBezierControlPoints:function(){var W=this.chart.chartArea,L=this.getMeta();te.each(L.data,function(k,I){var G=k._model,X=te.splineCurve(te.previousItem(L.data,I,!0)._model,G,te.nextItem(L.data,I,!0)._model,G.tension);G.controlPointPreviousX=Math.max(Math.min(X.previous.x,W.right),W.left),G.controlPointPreviousY=Math.max(Math.min(X.previous.y,W.bottom),W.top),G.controlPointNextX=Math.max(Math.min(X.next.x,W.right),W.left),G.controlPointNextY=Math.max(Math.min(X.next.y,W.bottom),W.top),k.pivot()})},setHoverStyle:function(W){var L=this.chart.data.datasets[W._datasetIndex],k=W.custom||{},I=W._index,G=W._model;G.radius=k.hoverRadius?k.hoverRadius:te.valueAtIndexOrDefault(L.pointHoverRadius,I,this.chart.options.elements.point.hoverRadius),G.backgroundColor=k.hoverBackgroundColor?k.hoverBackgroundColor:te.valueAtIndexOrDefault(L.pointHoverBackgroundColor,I,te.getHoverColor(G.backgroundColor)),G.borderColor=k.hoverBorderColor?k.hoverBorderColor:te.valueAtIndexOrDefault(L.pointHoverBorderColor,I,te.getHoverColor(G.borderColor)),G.borderWidth=k.hoverBorderWidth?k.hoverBorderWidth:te.valueAtIndexOrDefault(L.pointHoverBorderWidth,I,G.borderWidth)},removeHoverStyle:function(W){var L=this.chart.data.datasets[W._datasetIndex],k=W.custom||{},I=W._index,G=W._model,X=this.chart.options.elements.point;G.radius=k.radius?k.radius:te.valueAtIndexOrDefault(L.pointRadius,I,X.radius),G.backgroundColor=k.backgroundColor?k.backgroundColor:te.valueAtIndexOrDefault(L.pointBackgroundColor,I,X.backgroundColor),G.borderColor=k.borderColor?k.borderColor:te.valueAtIndexOrDefault(L.pointBorderColor,I,X.borderColor),G.borderWidth=k.borderWidth?k.borderWidth:te.valueAtIndexOrDefault(L.pointBorderWidth,I,X.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(Ze,St,In){"use strict";Ze(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(xe){return"("+xe.xLabel+", "+xe.yLabel+")"}}}}),St.exports=function(xe){xe.controllers.scatter=xe.controllers.line}},{25:25}],22:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45);xe._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:te.noop,onComplete:te.noop}}),St.exports=function(le){le.Animation=qe.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),le.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(W,L,k,I){var G,X,T=this.animations;for(L.chart=W,I||(W.animating=!0),G=0,X=T.length;G<X;++G)if(T[G].chart===W)return void(T[G]=L);T.push(L),1===T.length&&this.requestAnimationFrame()},cancelAnimation:function(W){var L=te.findIndex(this.animations,function(k){return k.chart===W});-1!==L&&(this.animations.splice(L,1),W.animating=!1)},requestAnimationFrame:function(){var W=this;null===W.request&&(W.request=te.requestAnimFrame.call(window,function(){W.request=null,W.startDigest()}))},startDigest:function(){var W=this,L=Date.now(),k=0;W.dropFrames>1&&(k=Math.floor(W.dropFrames),W.dropFrames=W.dropFrames%1),W.advance(1+k);var I=Date.now();W.dropFrames+=(I-L)/W.frameDuration,W.animations.length>0&&W.requestAnimationFrame()},advance:function(W){for(var L,k,I=this.animations,G=0;G<I.length;)k=(L=I[G]).chart,L.currentStep=(L.currentStep||0)+W,L.currentStep=Math.min(L.currentStep,L.numSteps),te.callback(L.render,[k,L],k),te.callback(L.onAnimationProgress,[L],k),L.currentStep>=L.numSteps?(te.callback(L.onAnimationComplete,[L],k),k.animating=!1,I.splice(G,1)):++G}},Object.defineProperty(le.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(le.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(W){this.chart=W}})}},{25:25,26:26,45:45}],23:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(45),te=Ze(28),le=Ze(48);St.exports=function(W){function I(X){return"top"===X||"bottom"===X}var G=W.plugins;W.types={},W.instances={},W.controllers={},qe.extend(W.prototype,{construct:function(X,T){var B=this;T=function L(X){var T=(X=X||{}).data=X.data||{};return T.datasets=T.datasets||[],T.labels=T.labels||[],X.options=qe.configMerge(xe.global,xe[X.type],X.options||{}),X}(T);var Y=le.acquireContext(X,T),ae=Y&&Y.canvas,se=ae&&ae.height,ne=ae&&ae.width;B.id=qe.uid(),B.ctx=Y,B.canvas=ae,B.config=T,B.width=ne,B.height=se,B.aspectRatio=se?ne/se:null,B.options=T.options,B._bufferedRender=!1,B.chart=B,B.controller=B,W.instances[B.id]=B,Object.defineProperty(B,"data",{get:function(){return B.config.data},set:function(pe){B.config.data=pe}}),Y&&ae?(B.initialize(),B.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var X=this;return G.notify(X,"beforeInit"),qe.retinaScale(X,X.options.devicePixelRatio),X.bindEvents(),X.options.responsive&&X.resize(!0),X.ensureScalesHaveIDs(),X.buildScales(),X.initToolTip(),G.notify(X,"afterInit"),X},clear:function(){return qe.canvas.clear(this),this},stop:function(){return W.animationService.cancelAnimation(this),this},resize:function(X){var T=this,B=T.options,Y=T.canvas,ae=B.maintainAspectRatio&&T.aspectRatio||null,se=Math.max(0,Math.floor(qe.getMaximumWidth(Y))),ne=Math.max(0,Math.floor(ae?se/ae:qe.getMaximumHeight(Y)));if((T.width!==se||T.height!==ne)&&(Y.width=T.width=se,Y.height=T.height=ne,Y.style.width=se+"px",Y.style.height=ne+"px",qe.retinaScale(T,B.devicePixelRatio),!X)){var pe={width:se,height:ne};G.notify(T,"resize",[pe]),T.options.onResize&&T.options.onResize(T,pe),T.stop(),T.update(T.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var X=this.options,T=X.scales||{},B=X.scale;qe.each(T.xAxes,function(Y,ae){Y.id=Y.id||"x-axis-"+ae}),qe.each(T.yAxes,function(Y,ae){Y.id=Y.id||"y-axis-"+ae}),B&&(B.id=B.id||"scale")},buildScales:function(){var X=this,T=X.options,B=X.scales={},Y=[];T.scales&&(Y=Y.concat((T.scales.xAxes||[]).map(function(ae){return{options:ae,dtype:"category",dposition:"bottom"}}),(T.scales.yAxes||[]).map(function(ae){return{options:ae,dtype:"linear",dposition:"left"}}))),T.scale&&Y.push({options:T.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),qe.each(Y,function(ae){var se=ae.options,ne=qe.valueOrDefault(se.type,ae.dtype),pe=W.scaleService.getScaleConstructor(ne);if(pe){I(se.position)!==I(ae.dposition)&&(se.position=ae.dposition);var we=new pe({id:se.id,options:se,ctx:X.ctx,chart:X});B[we.id]=we,we.mergeTicksOptions(),ae.isDefault&&(X.scale=we)}}),W.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var X=this,T=[],B=[];return qe.each(X.data.datasets,function(Y,ae){var se=X.getDatasetMeta(ae),ne=Y.type||X.config.type;if(se.type&&se.type!==ne&&(X.destroyDatasetMeta(ae),se=X.getDatasetMeta(ae)),se.type=ne,T.push(se.type),se.controller)se.controller.updateIndex(ae);else{var pe=W.controllers[se.type];if(void 0===pe)throw new Error('"'+se.type+'" is not a chart type.');se.controller=new pe(X,ae),B.push(se.controller)}},X),B},resetElements:function(){var X=this;qe.each(X.data.datasets,function(T,B){X.getDatasetMeta(B).controller.reset()},X)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(X){var T=this;if(X&&"object"==typeof X||(X={duration:X,lazy:arguments[1]}),function k(X){var T=X.options;T.scale?X.scale.options=T.scale:T.scales&&T.scales.xAxes.concat(T.scales.yAxes).forEach(function(B){X.scales[B.id].options=B}),X.tooltip._options=T.tooltips}(T),!1!==G.notify(T,"beforeUpdate")){T.tooltip._data=T.data;var B=T.buildOrUpdateControllers();qe.each(T.data.datasets,function(Y,ae){T.getDatasetMeta(ae).controller.buildOrUpdateElements()},T),T.updateLayout(),qe.each(B,function(Y){Y.reset()}),T.updateDatasets(),T.tooltip.initialize(),T.lastActive=[],G.notify(T,"afterUpdate"),T._bufferedRender?T._bufferedRequest={duration:X.duration,easing:X.easing,lazy:X.lazy}:T.render(X)}},updateLayout:function(){var X=this;!1!==G.notify(X,"beforeLayout")&&(W.layoutService.update(this,this.width,this.height),G.notify(X,"afterScaleUpdate"),G.notify(X,"afterLayout"))},updateDatasets:function(){var X=this;if(!1!==G.notify(X,"beforeDatasetsUpdate")){for(var T=0,B=X.data.datasets.length;T<B;++T)X.updateDataset(T);G.notify(X,"afterDatasetsUpdate")}},updateDataset:function(X){var T=this,B=T.getDatasetMeta(X),Y={meta:B,index:X};!1!==G.notify(T,"beforeDatasetUpdate",[Y])&&(B.controller.update(),G.notify(T,"afterDatasetUpdate",[Y]))},render:function(X){var T=this;X&&"object"==typeof X||(X={duration:X,lazy:arguments[1]});var B=X.duration,Y=X.lazy;if(!1!==G.notify(T,"beforeRender")){var ae=T.options.animation,se=function(pe){G.notify(T,"afterRender"),qe.callback(ae&&ae.onComplete,[pe],T)};if(ae&&(void 0!==B&&0!==B||void 0===B&&0!==ae.duration)){var ne=new W.Animation({numSteps:(B||ae.duration)/16.66,easing:X.easing||ae.easing,render:function(pe,we){var ve=we.currentStep,De=ve/we.numSteps;pe.draw((0,qe.easing.effects[we.easing])(De),De,ve)},onAnimationProgress:ae.onProgress,onAnimationComplete:se});W.animationService.addAnimation(T,ne,B,Y)}else T.draw(),se(new W.Animation({numSteps:0,chart:T}));return T}},draw:function(X){var T=this;T.clear(),qe.isNullOrUndef(X)&&(X=1),T.transition(X),!1!==G.notify(T,"beforeDraw",[X])&&(qe.each(T.boxes,function(B){B.draw(T.chartArea)},T),T.scale&&T.scale.draw(),T.drawDatasets(X),T._drawTooltip(X),G.notify(T,"afterDraw",[X]))},transition:function(X){for(var T=this,B=0,Y=(T.data.datasets||[]).length;B<Y;++B)T.isDatasetVisible(B)&&T.getDatasetMeta(B).controller.transition(X);T.tooltip.transition(X)},drawDatasets:function(X){var T=this;if(!1!==G.notify(T,"beforeDatasetsDraw",[X])){for(var B=(T.data.datasets||[]).length-1;B>=0;--B)T.isDatasetVisible(B)&&T.drawDataset(B,X);G.notify(T,"afterDatasetsDraw",[X])}},drawDataset:function(X,T){var B=this,Y=B.getDatasetMeta(X),ae={meta:Y,index:X,easingValue:T};!1!==G.notify(B,"beforeDatasetDraw",[ae])&&(Y.controller.draw(T),G.notify(B,"afterDatasetDraw",[ae]))},_drawTooltip:function(X){var T=this,B=T.tooltip,Y={tooltip:B,easingValue:X};!1!==G.notify(T,"beforeTooltipDraw",[Y])&&(B.draw(),G.notify(T,"afterTooltipDraw",[Y]))},getElementAtEvent:function(X){return te.modes.single(this,X)},getElementsAtEvent:function(X){return te.modes.label(this,X,{intersect:!0})},getElementsAtXAxis:function(X){return te.modes["x-axis"](this,X,{intersect:!0})},getElementsAtEventForMode:function(X,T,B){var Y=te.modes[T];return"function"==typeof Y?Y(this,X,B):[]},getDatasetAtEvent:function(X){return te.modes.dataset(this,X,{intersect:!0})},getDatasetMeta:function(X){var T=this,B=T.data.datasets[X];B._meta||(B._meta={});var Y=B._meta[T.id];return Y||(Y=B._meta[T.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),Y},getVisibleDatasetCount:function(){for(var X=0,T=0,B=this.data.datasets.length;T<B;++T)this.isDatasetVisible(T)&&X++;return X},isDatasetVisible:function(X){var T=this.getDatasetMeta(X);return"boolean"==typeof T.hidden?!T.hidden:!this.data.datasets[X].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(X){var T=this.id,B=this.data.datasets[X],Y=B._meta&&B._meta[T];Y&&(Y.controller.destroy(),delete B._meta[T])},destroy:function(){var X,T,B=this,Y=B.canvas;for(B.stop(),X=0,T=B.data.datasets.length;X<T;++X)B.destroyDatasetMeta(X);Y&&(B.unbindEvents(),qe.canvas.clear(B),le.releaseContext(B.ctx),B.canvas=null,B.ctx=null),G.notify(B,"destroy"),delete W.instances[B.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var X=this;X.tooltip=new W.Tooltip({_chart:X,_chartInstance:X,_data:X.data,_options:X.options.tooltips},X)},bindEvents:function(){var X=this,T=X._listeners={},B=function(){X.eventHandler.apply(X,arguments)};qe.each(X.options.events,function(Y){le.addEventListener(X,Y,B),T[Y]=B}),X.options.responsive&&(B=function(){X.resize()},le.addEventListener(X,"resize",B),T.resize=B)},unbindEvents:function(){var X=this,T=X._listeners;T&&(delete X._listeners,qe.each(T,function(B,Y){le.removeEventListener(X,Y,B)}))},updateHoverStyle:function(X,T,B){var Y,ae,se,ne=B?"setHoverStyle":"removeHoverStyle";for(ae=0,se=X.length;ae<se;++ae)(Y=X[ae])&&this.getDatasetMeta(Y._datasetIndex).controller[ne](Y)},eventHandler:function(X){var T=this,B=T.tooltip;if(!1!==G.notify(T,"beforeEvent",[X])){T._bufferedRender=!0,T._bufferedRequest=null;var Y=T.handleEvent(X);Y|=B&&B.handleEvent(X),G.notify(T,"afterEvent",[X]);var ae=T._bufferedRequest;return ae?T.render(ae):Y&&!T.animating&&(T.stop(),T.render(T.options.hover.animationDuration,!0)),T._bufferedRender=!1,T._bufferedRequest=null,T}},handleEvent:function(X){var ae,T=this,B=T.options||{},Y=B.hover;return T.lastActive=T.lastActive||[],T.active="mouseout"===X.type?[]:T.getElementsAtEventForMode(X,Y.mode,Y),qe.callback(B.onHover||B.hover.onHover,[X.native,T.active],T),"mouseup"!==X.type&&"click"!==X.type||B.onClick&&B.onClick.call(T,X.native,T.active),T.lastActive.length&&T.updateHoverStyle(T.lastActive,Y.mode,!1),T.active.length&&Y.mode&&T.updateHoverStyle(T.active,Y.mode,!0),ae=!qe.arrayEquals(T.active,T.lastActive),T.lastActive=T.active,ae}}),W.Controller=W}},{25:25,28:28,45:45,48:48}],24:[function(Ze,St,In){"use strict";var xe=Ze(45);St.exports=function(qe){function le(L,k){var I=L._chartjs;if(I){var G=I.listeners,X=G.indexOf(k);-1!==X&&G.splice(X,1),G.length>0||(W.forEach(function(T){delete L[T]}),delete L._chartjs)}}var W=["push","pop","shift","splice","unshift"];qe.DatasetController=function(L,k){this.initialize(L,k)},xe.extend(qe.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(L,k){var I=this;I.chart=L,I.index=k,I.linkScales(),I.addElements()},updateIndex:function(L){this.index=L},linkScales:function(){var L=this,k=L.getMeta(),I=L.getDataset();null===k.xAxisID&&(k.xAxisID=I.xAxisID||L.chart.options.scales.xAxes[0].id),null===k.yAxisID&&(k.yAxisID=I.yAxisID||L.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(L){return this.chart.scales[L]},reset:function(){this.update(!0)},destroy:function(){this._data&&le(this._data,this)},createMetaDataset:function(){var L=this,k=L.datasetElementType;return k&&new k({_chart:L.chart,_datasetIndex:L.index})},createMetaData:function(L){var k=this,I=k.dataElementType;return I&&new I({_chart:k.chart,_datasetIndex:k.index,_index:L})},addElements:function(){var L,k,I=this,G=I.getMeta(),X=I.getDataset().data||[],T=G.data;for(L=0,k=X.length;L<k;++L)T[L]=T[L]||I.createMetaData(L);G.dataset=G.dataset||I.createMetaDataset()},addElementAndReset:function(L){var k=this.createMetaData(L);this.getMeta().data.splice(L,0,k),this.updateElement(k,L,!0)},buildOrUpdateElements:function(){var L=this,k=L.getDataset(),I=k.data||(k.data=[]);L._data!==I&&(L._data&&le(L._data,L),function te(L,k){L._chartjs?L._chartjs.listeners.push(k):(Object.defineProperty(L,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[k]}}),W.forEach(function(I){var G="onData"+I.charAt(0).toUpperCase()+I.slice(1),X=L[I];Object.defineProperty(L,I,{configurable:!0,enumerable:!1,value:function(){var T=Array.prototype.slice.call(arguments),B=X.apply(this,T);return xe.each(L._chartjs.listeners,function(Y){"function"==typeof Y[G]&&Y[G].apply(Y,T)}),B}})}))}(I,L),L._data=I),L.resyncElements()},update:xe.noop,transition:function(L){for(var k=this.getMeta(),I=k.data||[],G=I.length,X=0;X<G;++X)I[X].transition(L);k.dataset&&k.dataset.transition(L)},draw:function(){var L=this.getMeta(),k=L.data||[],I=k.length,G=0;for(L.dataset&&L.dataset.draw();G<I;++G)k[G].draw()},removeHoverStyle:function(L,k){var I=this.chart.data.datasets[L._datasetIndex],G=L._index,X=L.custom||{},T=xe.valueAtIndexOrDefault,B=L._model;B.backgroundColor=X.backgroundColor?X.backgroundColor:T(I.backgroundColor,G,k.backgroundColor),B.borderColor=X.borderColor?X.borderColor:T(I.borderColor,G,k.borderColor),B.borderWidth=X.borderWidth?X.borderWidth:T(I.borderWidth,G,k.borderWidth)},setHoverStyle:function(L){var k=this.chart.data.datasets[L._datasetIndex],I=L._index,G=L.custom||{},X=xe.valueAtIndexOrDefault,T=xe.getHoverColor,B=L._model;B.backgroundColor=G.hoverBackgroundColor?G.hoverBackgroundColor:X(k.hoverBackgroundColor,I,T(B.backgroundColor)),B.borderColor=G.hoverBorderColor?G.hoverBorderColor:X(k.hoverBorderColor,I,T(B.borderColor)),B.borderWidth=G.hoverBorderWidth?G.hoverBorderWidth:X(k.hoverBorderWidth,I,B.borderWidth)},resyncElements:function(){var L=this,k=L.getMeta(),I=L.getDataset().data,G=k.data.length,X=I.length;X<G?k.data.splice(X,G-X):X>G&&L.insertElements(G,X-G)},insertElements:function(L,k){for(var I=0;I<k;++I)this.addElementAndReset(L+I)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(L,k){this.getMeta().data.splice(L,k),this.insertElements(L,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),qe.DatasetController.extend=xe.inherits}},{45:45}],25:[function(Ze,St,In){"use strict";var xe=Ze(45);St.exports={_set:function(qe,te){return xe.merge(this[qe]||(this[qe]={}),te)}}},{45:45}],26:[function(Ze,St,In){"use strict";var qe=Ze(3),te=Ze(45),le=function(W){te.extend(this,W),this.initialize.apply(this,arguments)};te.extend(le.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var W=this;return W._view||(W._view=te.clone(W._model)),W._start={},W},transition:function(W){var L=this,k=L._model,I=L._start,G=L._view;return k&&1!==W?(G||(G=L._view={}),I||(I=L._start={}),function xe(W,L,k,I){var G,X,T,B,Y,ae,se,ne,pe,we=Object.keys(k);for(G=0,X=we.length;G<X;++G)if(ae=k[T=we[G]],L.hasOwnProperty(T)||(L[T]=ae),(B=L[T])!==ae&&"_"!==T[0]){if(W.hasOwnProperty(T)||(W[T]=B),(se=typeof ae)==typeof(Y=W[T]))if("string"===se){if((ne=qe(Y)).valid&&(pe=qe(ae)).valid){L[T]=pe.mix(ne,I).rgbString();continue}}else if("number"===se&&isFinite(Y)&&isFinite(ae)){L[T]=Y+(ae-Y)*I;continue}L[T]=ae}}(I,G,k,W),L):(L._view=k,L._start=null,L)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return te.isNumber(this._model.x)&&te.isNumber(this._model.y)}}),le.extend=te.inherits,St.exports=le},{3:3,45:45}],27:[function(Ze,St,In){"use strict";var xe=Ze(3),qe=Ze(25),te=Ze(45);St.exports=function(le){function W(I,G,X){var T;return"string"==typeof I?(T=parseInt(I,10),-1!==I.indexOf("%")&&(T=T/100*G.parentNode[X])):T=I,T}function L(I){return null!=I&&"none"!==I}function k(I,G,X){var T=document.defaultView,B=I.parentNode,Y=T.getComputedStyle(I)[G],ae=T.getComputedStyle(B)[G],se=L(Y),ne=L(ae),pe=Number.POSITIVE_INFINITY;return se||ne?Math.min(se?W(Y,I,X):pe,ne?W(ae,B,X):pe):"none"}te.configMerge=function(){return te.merge(te.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(I,G,X,T){var B=G[I]||{},Y=X[I];"scales"===I?G[I]=te.scaleMerge(B,Y):"scale"===I?G[I]=te.merge(B,[le.scaleService.getScaleDefaults(Y.type),Y]):te._merger(I,G,X,T)}})},te.scaleMerge=function(){return te.merge(te.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(I,G,X,T){if("xAxes"===I||"yAxes"===I){var B,Y,ae,se=X[I].length;for(G[I]||(G[I]=[]),B=0;B<se;++B)Y=te.valueOrDefault((ae=X[I][B]).type,"xAxes"===I?"category":"linear"),B>=G[I].length&&G[I].push({}),te.merge(G[I][B],!G[I][B].type||ae.type&&ae.type!==G[I][B].type?[le.scaleService.getScaleDefaults(Y),ae]:ae)}else te._merger(I,G,X,T)}})},te.where=function(I,G){if(te.isArray(I)&&Array.prototype.filter)return I.filter(G);var X=[];return te.each(I,function(T){G(T)&&X.push(T)}),X},te.findIndex=Array.prototype.findIndex?function(I,G,X){return I.findIndex(G,X)}:function(I,G,X){X=void 0===X?I:X;for(var T=0,B=I.length;T<B;++T)if(G.call(X,I[T],T,I))return T;return-1},te.findNextWhere=function(I,G,X){te.isNullOrUndef(X)&&(X=-1);for(var T=X+1;T<I.length;T++){var B=I[T];if(G(B))return B}},te.findPreviousWhere=function(I,G,X){te.isNullOrUndef(X)&&(X=I.length);for(var T=X-1;T>=0;T--){var B=I[T];if(G(B))return B}},te.isNumber=function(I){return!isNaN(parseFloat(I))&&isFinite(I)},te.almostEquals=function(I,G,X){return Math.abs(I-G)<X},te.almostWhole=function(I,G){var X=Math.round(I);return X-G<I&&X+G>I},te.max=function(I){return I.reduce(function(G,X){return isNaN(X)?G:Math.max(G,X)},Number.NEGATIVE_INFINITY)},te.min=function(I){return I.reduce(function(G,X){return isNaN(X)?G:Math.min(G,X)},Number.POSITIVE_INFINITY)},te.sign=Math.sign?function(I){return Math.sign(I)}:function(I){return 0==(I=+I)||isNaN(I)?I:I>0?1:-1},te.log10=Math.log10?function(I){return Math.log10(I)}:function(I){return Math.log(I)/Math.LN10},te.toRadians=function(I){return I*(Math.PI/180)},te.toDegrees=function(I){return I*(180/Math.PI)},te.getAngleFromPoint=function(I,G){var X=G.x-I.x,T=G.y-I.y,B=Math.sqrt(X*X+T*T),Y=Math.atan2(T,X);return Y<-.5*Math.PI&&(Y+=2*Math.PI),{angle:Y,distance:B}},te.distanceBetweenPoints=function(I,G){return Math.sqrt(Math.pow(G.x-I.x,2)+Math.pow(G.y-I.y,2))},te.aliasPixel=function(I){return I%2==0?0:.5},te.splineCurve=function(I,G,X,T){var B=I.skip?G:I,Y=G,ae=X.skip?G:X,se=Math.sqrt(Math.pow(Y.x-B.x,2)+Math.pow(Y.y-B.y,2)),ne=Math.sqrt(Math.pow(ae.x-Y.x,2)+Math.pow(ae.y-Y.y,2)),pe=se/(se+ne),we=ne/(se+ne),Le=T*(pe=isNaN(pe)?0:pe),ve=T*(we=isNaN(we)?0:we);return{previous:{x:Y.x-Le*(ae.x-B.x),y:Y.y-Le*(ae.y-B.y)},next:{x:Y.x+ve*(ae.x-B.x),y:Y.y+ve*(ae.y-B.y)}}},te.EPSILON=Number.EPSILON||1e-14,te.splineCurveMonotone=function(I){var G,X,T,B,ne,pe,we,Le,ve,Y=(I||[]).map(function(De){return{model:De._model,deltaK:0,mK:0}}),ae=Y.length;for(G=0;G<ae;++G)if(!(T=Y[G]).model.skip){if(X=G>0?Y[G-1]:null,(B=G<ae-1?Y[G+1]:null)&&!B.model.skip){var se=B.model.x-T.model.x;T.deltaK=0!==se?(B.model.y-T.model.y)/se:0}T.mK=!X||X.model.skip?T.deltaK:!B||B.model.skip?X.deltaK:this.sign(X.deltaK)!==this.sign(T.deltaK)?0:(X.deltaK+T.deltaK)/2}for(G=0;G<ae-1;++G)B=Y[G+1],(T=Y[G]).model.skip||B.model.skip||(te.almostEquals(T.deltaK,0,this.EPSILON)?T.mK=B.mK=0:(ne=T.mK/T.deltaK,pe=B.mK/T.deltaK,(Le=Math.pow(ne,2)+Math.pow(pe,2))<=9||(we=3/Math.sqrt(Le),T.mK=ne*we*T.deltaK,B.mK=pe*we*T.deltaK)));for(G=0;G<ae;++G)(T=Y[G]).model.skip||(B=G<ae-1?Y[G+1]:null,(X=G>0?Y[G-1]:null)&&!X.model.skip&&(T.model.controlPointPreviousX=T.model.x-(ve=(T.model.x-X.model.x)/3),T.model.controlPointPreviousY=T.model.y-ve*T.mK),B&&!B.model.skip&&(T.model.controlPointNextX=T.model.x+(ve=(B.model.x-T.model.x)/3),T.model.controlPointNextY=T.model.y+ve*T.mK))},te.nextItem=function(I,G,X){return X?G>=I.length-1?I[0]:I[G+1]:G>=I.length-1?I[I.length-1]:I[G+1]},te.previousItem=function(I,G,X){return X?G<=0?I[I.length-1]:I[G-1]:G<=0?I[0]:I[G-1]},te.niceNum=function(I,G){var X=Math.floor(te.log10(I)),T=I/Math.pow(10,X);return(G?T<1.5?1:T<3?2:T<7?5:10:T<=1?1:T<=2?2:T<=5?5:10)*Math.pow(10,X)},te.requestAnimFrame=typeof window>"u"?function(I){I()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return window.setTimeout(I,1e3/60)},te.getRelativePosition=function(I,G){var X,T,B=I.originalEvent||I,Y=I.currentTarget||I.srcElement,ae=Y.getBoundingClientRect(),se=B.touches;se&&se.length>0?(X=se[0].clientX,T=se[0].clientY):(X=B.clientX,T=B.clientY);var ne=parseFloat(te.getStyle(Y,"padding-left")),pe=parseFloat(te.getStyle(Y,"padding-top")),we=parseFloat(te.getStyle(Y,"padding-right")),Le=parseFloat(te.getStyle(Y,"padding-bottom")),De=ae.bottom-ae.top-pe-Le;return{x:X=Math.round((X-ae.left-ne)/(ae.right-ae.left-ne-we)*Y.width/G.currentDevicePixelRatio),y:T=Math.round((T-ae.top-pe)/De*Y.height/G.currentDevicePixelRatio)}},te.getConstraintWidth=function(I){return k(I,"max-width","clientWidth")},te.getConstraintHeight=function(I){return k(I,"max-height","clientHeight")},te.getMaximumWidth=function(I){var G=I.parentNode;if(!G)return I.clientWidth;var X=parseInt(te.getStyle(G,"padding-left"),10),T=parseInt(te.getStyle(G,"padding-right"),10),B=G.clientWidth-X-T,Y=te.getConstraintWidth(I);return isNaN(Y)?B:Math.min(B,Y)},te.getMaximumHeight=function(I){var G=I.parentNode;if(!G)return I.clientHeight;var X=parseInt(te.getStyle(G,"padding-top"),10),T=parseInt(te.getStyle(G,"padding-bottom"),10),B=G.clientHeight-X-T,Y=te.getConstraintHeight(I);return isNaN(Y)?B:Math.min(B,Y)},te.getStyle=function(I,G){return I.currentStyle?I.currentStyle[G]:document.defaultView.getComputedStyle(I,null).getPropertyValue(G)},te.retinaScale=function(I,G){var X=I.currentDevicePixelRatio=G||window.devicePixelRatio||1;if(1!==X){var T=I.canvas,B=I.height,Y=I.width;T.height=B*X,T.width=Y*X,I.ctx.scale(X,X),T.style.height=B+"px",T.style.width=Y+"px"}},te.fontString=function(I,G,X){return G+" "+I+"px "+X},te.longestText=function(I,G,X,T){var B=(T=T||{}).data=T.data||{},Y=T.garbageCollect=T.garbageCollect||[];T.font!==G&&(B=T.data={},Y=T.garbageCollect=[],T.font=G),I.font=G;var ae=0;te.each(X,function(pe){null!=pe&&!0!==te.isArray(pe)?ae=te.measureText(I,B,Y,ae,pe):te.isArray(pe)&&te.each(pe,function(we){null==we||te.isArray(we)||(ae=te.measureText(I,B,Y,ae,we))})});var se=Y.length/2;if(se>X.length){for(var ne=0;ne<se;ne++)delete B[Y[ne]];Y.splice(0,se)}return ae},te.measureText=function(I,G,X,T,B){var Y=G[B];return Y||(Y=G[B]=I.measureText(B).width,X.push(B)),Y>T&&(T=Y),T},te.numberOfLabelLines=function(I){var G=1;return te.each(I,function(X){te.isArray(X)&&X.length>G&&(G=X.length)}),G},te.color=xe?function(I){return I instanceof CanvasGradient&&(I=qe.global.defaultColor),xe(I)}:function(I){return console.error("Color.js not found!"),I},te.getHoverColor=function(I){return I instanceof CanvasPattern?I:te.color(I).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(Ze,St,In){"use strict";function xe(I,G){return I.native?{x:I.x,y:I.y}:k.getRelativePosition(I,G)}function qe(I,G){var X,T,B,Y,ae;for(T=0,Y=I.data.datasets.length;T<Y;++T)if(I.isDatasetVisible(T))for(B=0,ae=(X=I.getDatasetMeta(T)).data.length;B<ae;++B){var se=X.data[B];se._view.skip||G(se)}}function te(I,G){var X=[];return qe(I,function(T){T.inRange(G.x,G.y)&&X.push(T)}),X}function le(I,G,X,T){var B=Number.POSITIVE_INFINITY,Y=[];return qe(I,function(ae){if(!X||ae.inRange(G.x,G.y)){var se=ae.getCenterPoint(),ne=T(G,se);ne<B?(Y=[ae],B=ne):ne===B&&Y.push(ae)}}),Y}function W(I){var G=-1!==I.indexOf("x"),X=-1!==I.indexOf("y");return function(T,B){var Y=G?Math.abs(T.x-B.x):0,ae=X?Math.abs(T.y-B.y):0;return Math.sqrt(Math.pow(Y,2)+Math.pow(ae,2))}}function L(I,G,X){var T=xe(G,I);X.axis=X.axis||"x";var B=W(X.axis),Y=X.intersect?te(I,T):le(I,T,!1,B),ae=[];return Y.length?(I.data.datasets.forEach(function(se,ne){if(I.isDatasetVisible(ne)){var pe=I.getDatasetMeta(ne).data[Y[0]._index];pe&&!pe._view.skip&&ae.push(pe)}}),ae):[]}var k=Ze(45);St.exports={modes:{single:function(I,G){var X=xe(G,I),T=[];return qe(I,function(B){if(B.inRange(X.x,X.y))return T.push(B),T}),T.slice(0,1)},label:L,index:L,dataset:function(I,G,X){var T=xe(G,I);X.axis=X.axis||"xy";var B=W(X.axis),Y=X.intersect?te(I,T):le(I,T,!1,B);return Y.length>0&&(Y=I.getDatasetMeta(Y[0]._datasetIndex).data),Y},"x-axis":function(I,G){return L(I,G,{intersect:!1})},point:function(I,G){return te(I,xe(G,I))},nearest:function(I,G,X){var T=xe(G,I);X.axis=X.axis||"xy";var B=W(X.axis),Y=le(I,T,X.intersect,B);return Y.length>1&&Y.sort(function(ae,se){var ne=ae.getArea()-se.getArea();return 0===ne&&(ne=ae._datasetIndex-se._datasetIndex),ne}),Y.slice(0,1)},x:function(I,G,X){var T=xe(G,I),B=[],Y=!1;return qe(I,function(ae){ae.inXRange(T.x)&&B.push(ae),ae.inRange(T.x,T.y)&&(Y=!0)}),X.intersect&&!Y&&(B=[]),B},y:function(I,G,X){var T=xe(G,I),B=[],Y=!1;return qe(I,function(ae){ae.inYRange(T.y)&&B.push(ae),ae.inRange(T.x,T.y)&&(Y=!0)}),X.intersect&&!Y&&(B=[]),B}}}},{45:45}],29:[function(Ze,St,In){"use strict";Ze(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),St.exports=function(){var xe=function(qe,te){return this.construct(qe,te),this};return xe.Chart=xe,xe}},{25:25}],30:[function(Ze,St,In){"use strict";var xe=Ze(45);St.exports=function(qe){function te(W,L){return xe.where(W,function(k){return k.position===L})}function le(W,L){W.forEach(function(k,I){return k._tmpIndex_=I,k}),W.sort(function(k,I){var G=L?I:k,X=L?k:I;return G.weight===X.weight?G._tmpIndex_-X._tmpIndex_:G.weight-X.weight}),W.forEach(function(k){delete k._tmpIndex_})}qe.layoutService={defaults:{},addBox:function(W,L){W.boxes||(W.boxes=[]),L.fullWidth=L.fullWidth||!1,L.position=L.position||"top",L.weight=L.weight||0,W.boxes.push(L)},removeBox:function(W,L){var k=W.boxes?W.boxes.indexOf(L):-1;-1!==k&&W.boxes.splice(k,1)},configure:function(W,L,k){for(var I,G=["fullWidth","position","weight"],X=G.length,T=0;T<X;++T)k.hasOwnProperty(I=G[T])&&(L[I]=k[I])},update:function(W,L,k){function I(Gt){var Sn=xe.findNextWhere(Be,function(Un){return Un.box===Gt});if(Sn)if(Gt.isHorizontal()){var Kn={left:Math.max(Vt,$e),right:Math.max(dt,Ke),top:0,bottom:0};Gt.update(Gt.fullWidth?De:Me,he/2,Kn)}else Gt.update(Sn.minSize.width,Ne)}function G(Gt){Gt.isHorizontal()?(Gt.left=Gt.fullWidth?B:Vt,Gt.right=Gt.fullWidth?L-Y:Vt+Me,Gt.top=yn,Gt.bottom=yn+Gt.height,yn=Gt.bottom):(Gt.left=Pt,Gt.right=Pt+Gt.width,Gt.top=xt,Gt.bottom=xt+Ne,Pt=Gt.right)}if(W){var T=xe.options.toPadding((W.options.layout||{}).padding),B=T.left,Y=T.right,ae=T.top,se=T.bottom,ne=te(W.boxes,"left"),pe=te(W.boxes,"right"),we=te(W.boxes,"top"),Le=te(W.boxes,"bottom"),ve=te(W.boxes,"chartArea");le(ne,!0),le(pe,!1),le(we,!0),le(Le,!1);var De=L-B-Y,he=k-ae-se,be=he/2,ke=(L-De/2)/(ne.length+pe.length),ee=(k-be)/(we.length+Le.length),Me=De,Ne=he,Be=[];xe.each(ne.concat(pe,we,Le),function(Gt){var Sn,Kn=Gt.isHorizontal();Kn?(Sn=Gt.update(Gt.fullWidth?De:Me,ee),Ne-=Sn.height):(Sn=Gt.update(ke,be),Me-=Sn.width),Be.push({horizontal:Kn,minSize:Sn,box:Gt})});var $e=0,Ke=0,gt=0,it=0;xe.each(we.concat(Le),function(Gt){if(Gt.getPadding){var Sn=Gt.getPadding();$e=Math.max($e,Sn.left),Ke=Math.max(Ke,Sn.right)}}),xe.each(ne.concat(pe),function(Gt){if(Gt.getPadding){var Sn=Gt.getPadding();gt=Math.max(gt,Sn.top),it=Math.max(it,Sn.bottom)}});var Vt=B,dt=Y,xt=ae,Yt=se;xe.each(ne.concat(pe),I),xe.each(ne,function(Gt){Vt+=Gt.width}),xe.each(pe,function(Gt){dt+=Gt.width}),xe.each(we.concat(Le),I),xe.each(we,function(Gt){xt+=Gt.height}),xe.each(Le,function(Gt){Yt+=Gt.height}),xe.each(ne.concat(pe),function(Gt){var Sn=xe.findNextWhere(Be,function(Un){return Un.box===Gt});Sn&&Gt.update(Sn.minSize.width,Ne,{left:0,right:0,top:xt,bottom:Yt})}),Vt=B,dt=Y,xt=ae,Yt=se,xe.each(ne,function(Gt){Vt+=Gt.width}),xe.each(pe,function(Gt){dt+=Gt.width}),xe.each(we,function(Gt){xt+=Gt.height}),xe.each(Le,function(Gt){Yt+=Gt.height});var pn=Math.max($e-Vt,0);Vt+=pn,dt+=Math.max(Ke-dt,0);var Ct=Math.max(gt-xt,0);xt+=Ct,Yt+=Math.max(it-Yt,0);var qt=k-xt-Yt,dn=L-Vt-dt;dn===Me&&qt===Ne||(xe.each(ne,function(Gt){Gt.height=qt}),xe.each(pe,function(Gt){Gt.height=qt}),xe.each(we,function(Gt){Gt.fullWidth||(Gt.width=dn)}),xe.each(Le,function(Gt){Gt.fullWidth||(Gt.width=dn)}),Ne=qt,Me=dn);var Pt=B+pn,yn=ae+Ct;xe.each(ne.concat(we),G),Pt+=Me,yn+=Ne,xe.each(pe,G),xe.each(Le,G),W.chartArea={left:Vt,top:xt,right:Vt+Me,bottom:xt+Ne},xe.each(ve,function(Gt){Gt.left=W.chartArea.left,Gt.top=W.chartArea.top,Gt.right=W.chartArea.right,Gt.bottom=W.chartArea.bottom,Gt.update(Me,Ne)})}}}}},{45:45}],31:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45);xe._set("global",{plugins:{}}),St.exports=function(le){le.plugins={_plugins:[],_cacheId:0,register:function(W){var L=this._plugins;[].concat(W).forEach(function(k){-1===L.indexOf(k)&&L.push(k)}),this._cacheId++},unregister:function(W){var L=this._plugins;[].concat(W).forEach(function(k){var I=L.indexOf(k);-1!==I&&L.splice(I,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(W,L,k){var I,G,X,T,B,Y=this.descriptors(W),ae=Y.length;for(I=0;I<ae;++I)if("function"==typeof(B=(X=(G=Y[I]).plugin)[L])&&((T=[W].concat(k||[])).push(G.options),!1===B.apply(X,T)))return!1;return!0},descriptors:function(W){var L=W._plugins||(W._plugins={});if(L.id===this._cacheId)return L.descriptors;var k=[],I=[],G=W&&W.config||{},X=G.options&&G.options.plugins||{};return this._plugins.concat(G.plugins||[]).forEach(function(T){if(-1===k.indexOf(T)){var B=T.id,Y=X[B];!1!==Y&&(!0===Y&&(Y=te.clone(xe.global.plugins[B])),k.push(T),I.push({plugin:T,options:Y||{}}))}}),L.descriptors=I,L.id=this._cacheId,I}},le.pluginService=le.plugins,le.PluginBase=qe.extend({})}},{25:25,26:26,45:45}],32:[function(Ze,St,In){"use strict";function xe(k){var I,G,X=[];for(I=0,G=k.length;I<G;++I)X.push(k[I].label);return X}function qe(k,I,G){var X=k.getPixelForTick(I);return G&&(X-=0===I?(k.getPixelForTick(1)-X)/2:(X-k.getPixelForTick(I-1))/2),X}var te=Ze(25),le=Ze(26),W=Ze(45),L=Ze(34);te._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:L.formatters.values,minor:{},major:{}}}),St.exports=function(k){function I(T,B,Y){return W.isArray(B)?W.longestText(T,Y,B):T.measureText(B).width}function G(T){var B=W.valueOrDefault,Y=te.global,ae=B(T.fontSize,Y.defaultFontSize),se=B(T.fontStyle,Y.defaultFontStyle),ne=B(T.fontFamily,Y.defaultFontFamily);return{size:ae,style:se,family:ne,font:W.fontString(ae,se,ne)}}function X(T){return W.options.toLineHeight(W.valueOrDefault(T.lineHeight,1.2),W.valueOrDefault(T.fontSize,te.global.defaultFontSize))}k.Scale=le.extend({getPadding:function(){var T=this;return{left:T.paddingLeft||0,top:T.paddingTop||0,right:T.paddingRight||0,bottom:T.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var T=this.options.ticks;for(var B in!1===T.minor&&(T.minor={display:!1}),!1===T.major&&(T.major={display:!1}),T)"major"!==B&&"minor"!==B&&(void 0===T.minor[B]&&(T.minor[B]=T[B]),void 0===T.major[B]&&(T.major[B]=T[B]))},beforeUpdate:function(){W.callback(this.options.beforeUpdate,[this])},update:function(T,B,Y){var ae,se,ne,pe,we,Le,ve=this;for(ve.beforeUpdate(),ve.maxWidth=T,ve.maxHeight=B,ve.margins=W.extend({left:0,right:0,top:0,bottom:0},Y),ve.longestTextCache=ve.longestTextCache||{},ve.beforeSetDimensions(),ve.setDimensions(),ve.afterSetDimensions(),ve.beforeDataLimits(),ve.determineDataLimits(),ve.afterDataLimits(),ve.beforeBuildTicks(),we=ve.buildTicks()||[],ve.afterBuildTicks(),ve.beforeTickToLabelConversion(),ne=ve.convertTicksToLabels(we)||ve.ticks,ve.afterTickToLabelConversion(),ve.ticks=ne,ae=0,se=ne.length;ae<se;++ae)pe=ne[ae],(Le=we[ae])?Le.label=pe:we.push(Le={label:pe,major:!1});return ve._ticks=we,ve.beforeCalculateTickRotation(),ve.calculateTickRotation(),ve.afterCalculateTickRotation(),ve.beforeFit(),ve.fit(),ve.afterFit(),ve.afterUpdate(),ve.minSize},afterUpdate:function(){W.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){W.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var T=this;T.isHorizontal()?(T.width=T.maxWidth,T.left=0,T.right=T.width):(T.height=T.maxHeight,T.top=0,T.bottom=T.height),T.paddingLeft=0,T.paddingTop=0,T.paddingRight=0,T.paddingBottom=0},afterSetDimensions:function(){W.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){W.callback(this.options.beforeDataLimits,[this])},determineDataLimits:W.noop,afterDataLimits:function(){W.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){W.callback(this.options.beforeBuildTicks,[this])},buildTicks:W.noop,afterBuildTicks:function(){W.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){W.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var T=this,B=T.options.ticks;T.ticks=T.ticks.map(B.userCallback||B.callback,this)},afterTickToLabelConversion:function(){W.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){W.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var T=this,B=T.ctx,Y=T.options.ticks,ae=xe(T._ticks),se=G(Y);B.font=se.font;var ne=Y.minRotation||0;if(ae.length&&T.options.display&&T.isHorizontal())for(var pe,we=W.longestText(B,se.font,ae,T.longestTextCache),Le=we,ve=T.getPixelForTick(1)-T.getPixelForTick(0)-6;Le>ve&&ne<Y.maxRotation;){var De=W.toRadians(ne);if(pe=Math.cos(De),Math.sin(De)*we>T.maxHeight){ne--;break}ne++,Le=pe*we}T.labelRotation=ne},afterCalculateTickRotation:function(){W.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){W.callback(this.options.beforeFit,[this])},fit:function(){var T=this,B=T.minSize={width:0,height:0},Y=xe(T._ticks),ae=T.options,se=ae.ticks,ne=ae.scaleLabel,pe=ae.gridLines,we=ae.display,Le=T.isHorizontal(),ve=G(se),De=ae.gridLines.tickMarkLength;if(B.width=Le?T.isFullWidth()?T.maxWidth-T.margins.left-T.margins.right:T.maxWidth:we&&pe.drawTicks?De:0,B.height=Le?we&&pe.drawTicks?De:0:T.maxHeight,ne.display&&we){var he=X(ne)+W.options.toPadding(ne.padding).height;Le?B.height+=he:B.width+=he}if(se.display&&we){var be=W.longestText(T.ctx,ve.font,Y,T.longestTextCache),ke=W.numberOfLabelLines(Y),ee=.5*ve.size,Me=T.options.ticks.padding;if(Le){T.longestLabelWidth=be;var Ne=W.toRadians(T.labelRotation),Be=Math.cos(Ne),$e=Math.sin(Ne)*be+ve.size*ke+ee*(ke-1)+ee;B.height=Math.min(T.maxHeight,B.height+$e+Me),T.ctx.font=ve.font;var Ke=I(T.ctx,Y[0],ve.font),gt=I(T.ctx,Y[Y.length-1],ve.font);0!==T.labelRotation?(T.paddingLeft="bottom"===ae.position?Be*Ke+3:Be*ee+3,T.paddingRight="bottom"===ae.position?Be*ee+3:Be*gt+3):(T.paddingLeft=Ke/2+3,T.paddingRight=gt/2+3)}else se.mirror?be=0:be+=Me+ee,B.width=Math.min(T.maxWidth,B.width+be),T.paddingTop=ve.size/2,T.paddingBottom=ve.size/2}T.handleMargins(),T.width=B.width,T.height=B.height},handleMargins:function(){var T=this;T.margins&&(T.paddingLeft=Math.max(T.paddingLeft-T.margins.left,0),T.paddingTop=Math.max(T.paddingTop-T.margins.top,0),T.paddingRight=Math.max(T.paddingRight-T.margins.right,0),T.paddingBottom=Math.max(T.paddingBottom-T.margins.bottom,0))},afterFit:function(){W.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(T){if(W.isNullOrUndef(T))return NaN;if("number"==typeof T&&!isFinite(T))return NaN;if(T)if(this.isHorizontal()){if(void 0!==T.x)return this.getRightValue(T.x)}else if(void 0!==T.y)return this.getRightValue(T.y);return T},getLabelForIndex:W.noop,getPixelForValue:W.noop,getValueForPixel:W.noop,getPixelForTick:function(T){var B=this,Y=B.options.offset;if(B.isHorizontal()){var ae=(B.width-(B.paddingLeft+B.paddingRight))/Math.max(B._ticks.length-(Y?0:1),1),se=ae*T+B.paddingLeft;return Y&&(se+=ae/2),B.left+Math.round(se)+(B.isFullWidth()?B.margins.left:0)}return B.top+T*((B.height-(B.paddingTop+B.paddingBottom))/(B._ticks.length-1))},getPixelForDecimal:function(T){var B=this;return B.isHorizontal()?B.left+Math.round((B.width-(B.paddingLeft+B.paddingRight))*T+B.paddingLeft)+(B.isFullWidth()?B.margins.left:0):B.top+T*B.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var T=this,B=T.min,Y=T.max;return T.beginAtZero?0:B<0&&Y<0?Y:B>0&&Y>0?B:0},_autoSkip:function(T){var B,Y,ae,se,ne=this,pe=ne.isHorizontal(),we=ne.options.ticks.minor,Le=T.length,ve=W.toRadians(ne.labelRotation),De=Math.cos(ve),he=ne.longestLabelWidth*De,be=[];for(we.maxTicksLimit&&(se=we.maxTicksLimit),pe&&(B=!1,(he+we.autoSkipPadding)*Le>ne.width-(ne.paddingLeft+ne.paddingRight)&&(B=1+Math.floor((he+we.autoSkipPadding)*Le/(ne.width-(ne.paddingLeft+ne.paddingRight)))),se&&Le>se&&(B=Math.max(B,Math.floor(Le/se)))),Y=0;Y<Le;Y++)ae=T[Y],(B>1&&Y%B>0||Y%B==0&&Y+B>=Le)&&Y!==Le-1&&delete ae.label,be.push(ae);return be},draw:function(T){var B=this,Y=B.options;if(Y.display){var ae=B.ctx,se=te.global,ne=Y.ticks.minor,pe=Y.ticks.major||ne,we=Y.gridLines,Le=Y.scaleLabel,ve=0!==B.labelRotation,De=B.isHorizontal(),he=ne.autoSkip?B._autoSkip(B.getTicks()):B.getTicks(),be=W.valueOrDefault(ne.fontColor,se.defaultFontColor),ke=G(ne),ee=W.valueOrDefault(pe.fontColor,se.defaultFontColor),Me=G(pe),Ne=we.drawTicks?we.tickMarkLength:0,Be=W.valueOrDefault(Le.fontColor,se.defaultFontColor),$e=G(Le),Ke=W.options.toPadding(Le.padding),gt=W.toRadians(B.labelRotation),it=[],Vt="right"===Y.position?B.left:B.right-Ne,dt="right"===Y.position?B.left+Ne:B.right,xt="bottom"===Y.position?B.top:B.bottom-Ne,Yt="bottom"===Y.position?B.top+Ne:B.bottom;if(W.each(he,function(zn,bi){if(!W.isNullOrUndef(zn.label)){var Qn,Ti,zt,Et,cn=zn.label;bi===B.zeroLineIndex&&Y.offset===we.offsetGridLines?(Qn=we.zeroLineWidth,Ti=we.zeroLineColor,zt=we.zeroLineBorderDash,Et=we.zeroLineBorderDashOffset):(Qn=W.valueAtIndexOrDefault(we.lineWidth,bi),Ti=W.valueAtIndexOrDefault(we.color,bi),zt=W.valueOrDefault(we.borderDash,se.borderDash),Et=W.valueOrDefault(we.borderDashOffset,se.borderDashOffset));var xn,Jt,_n,Dn,Gn,di,jn,Ht,en,mn,Nn="middle",bn="middle",fn=ne.padding;if(De){var kn=Ne+fn;"bottom"===Y.position?(bn=ve?"middle":"top",Nn=ve?"right":"center",mn=B.top+kn):(bn=ve?"middle":"bottom",Nn=ve?"left":"center",mn=B.bottom-kn);var En=qe(B,bi,we.offsetGridLines&&he.length>1);En<B.left&&(Ti="rgba(0,0,0,0)"),En+=W.aliasPixel(Qn),en=B.getPixelForTick(bi)+ne.labelOffset,xn=_n=Gn=jn=En,Jt=xt,Dn=Yt,di=T.top,Ht=T.bottom}else{var Wn,Yn="left"===Y.position;ne.mirror?(Nn=Yn?"left":"right",Wn=fn):(Nn=Yn?"right":"left",Wn=Ne+fn),en=Yn?B.right-Wn:B.left+Wn;var hi=qe(B,bi,we.offsetGridLines&&he.length>1);hi<B.top&&(Ti="rgba(0,0,0,0)"),hi+=W.aliasPixel(Qn),mn=B.getPixelForTick(bi)+ne.labelOffset,xn=Vt,_n=dt,Gn=T.left,jn=T.right,Jt=Dn=di=Ht=hi}it.push({tx1:xn,ty1:Jt,tx2:_n,ty2:Dn,x1:Gn,y1:di,x2:jn,y2:Ht,labelX:en,labelY:mn,glWidth:Qn,glColor:Ti,glBorderDash:zt,glBorderDashOffset:Et,rotation:-1*gt,label:cn,major:zn.major,textBaseline:bn,textAlign:Nn})}}),W.each(it,function(zn){if(we.display&&(ae.save(),ae.lineWidth=zn.glWidth,ae.strokeStyle=zn.glColor,ae.setLineDash&&(ae.setLineDash(zn.glBorderDash),ae.lineDashOffset=zn.glBorderDashOffset),ae.beginPath(),we.drawTicks&&(ae.moveTo(zn.tx1,zn.ty1),ae.lineTo(zn.tx2,zn.ty2)),we.drawOnChartArea&&(ae.moveTo(zn.x1,zn.y1),ae.lineTo(zn.x2,zn.y2)),ae.stroke(),ae.restore()),ne.display){ae.save(),ae.translate(zn.labelX,zn.labelY),ae.rotate(zn.rotation),ae.font=zn.major?Me.font:ke.font,ae.fillStyle=zn.major?ee:be,ae.textBaseline=zn.textBaseline,ae.textAlign=zn.textAlign;var bi=zn.label;if(W.isArray(bi))for(var Qn=0,Ti=0;Qn<bi.length;++Qn)ae.fillText(""+bi[Qn],0,Ti),Ti+=1.5*ke.size;else ae.fillText(bi,0,0);ae.restore()}}),Le.display){var pn,Ct,qt=0,dn=X(Le)/2;if(De)pn=B.left+(B.right-B.left)/2,Ct="bottom"===Y.position?B.bottom-dn-Ke.bottom:B.top+dn+Ke.top;else{var Pt="left"===Y.position;pn=Pt?B.left+dn+Ke.top:B.right-dn-Ke.top,Ct=B.top+(B.bottom-B.top)/2,qt=Pt?-.5*Math.PI:.5*Math.PI}ae.save(),ae.translate(pn,Ct),ae.rotate(qt),ae.textAlign="center",ae.textBaseline="middle",ae.fillStyle=Be,ae.font=$e.font,ae.fillText(Le.labelString,0,0),ae.restore()}if(we.drawBorder){ae.lineWidth=W.valueAtIndexOrDefault(we.lineWidth,0),ae.strokeStyle=W.valueAtIndexOrDefault(we.color,0);var yn=B.left,Gt=B.right,Sn=B.top,Kn=B.bottom,Un=W.aliasPixel(ae.lineWidth);De?(Sn=Kn="top"===Y.position?B.bottom:B.top,Sn+=Un,Kn+=Un):(yn=Gt="left"===Y.position?B.right:B.left,yn+=Un,Gt+=Un),ae.beginPath(),ae.moveTo(yn,Sn),ae.lineTo(Gt,Kn),ae.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(45);St.exports=function(te){te.scaleService={constructors:{},defaults:{},registerScaleType:function(le,W,L){this.constructors[le]=W,this.defaults[le]=qe.clone(L)},getScaleConstructor:function(le){return this.constructors.hasOwnProperty(le)?this.constructors[le]:void 0},getScaleDefaults:function(le){return this.defaults.hasOwnProperty(le)?qe.merge({},[xe.scale,this.defaults[le]]):{}},updateScaleDefaults:function(le,W){var L=this;L.defaults.hasOwnProperty(le)&&(L.defaults[le]=qe.extend(L.defaults[le],W))},addScalesToLayout:function(le){qe.each(le.scales,function(W){W.fullWidth=W.options.fullWidth,W.position=W.options.position,W.weight=W.options.weight,te.layoutService.addBox(le,W)})}}}},{25:25,45:45}],34:[function(Ze,St,In){"use strict";var xe=Ze(45);St.exports={generators:{linear:function(qe,te){var le,W=[];if(qe.stepSize&&qe.stepSize>0)le=qe.stepSize;else{var L=xe.niceNum(te.max-te.min,!1);le=xe.niceNum(L/(qe.maxTicks-1),!0)}var k=Math.floor(te.min/le)*le,I=Math.ceil(te.max/le)*le;qe.min&&qe.max&&qe.stepSize&&xe.almostWhole((qe.max-qe.min)/qe.stepSize,le/1e3)&&(k=qe.min,I=qe.max);var G=(I-k)/le;G=xe.almostEquals(G,Math.round(G),le/1e3)?Math.round(G):Math.ceil(G),W.push(void 0!==qe.min?qe.min:k);for(var X=1;X<G;++X)W.push(k+X*le);return W.push(void 0!==qe.max?qe.max:I),W},logarithmic:function(qe,te){var le,W,L=[],k=xe.valueOrDefault,I=k(qe.min,Math.pow(10,Math.floor(xe.log10(te.min)))),G=Math.floor(xe.log10(te.max)),X=Math.ceil(te.max/Math.pow(10,G));0===I?(le=Math.floor(xe.log10(te.minNotZero)),W=Math.floor(te.minNotZero/Math.pow(10,le)),L.push(I),I=W*Math.pow(10,le)):(le=Math.floor(xe.log10(I)),W=Math.floor(I/Math.pow(10,le)));do{L.push(I),10==++W&&(W=1,++le),I=W*Math.pow(10,le)}while(le<G||le===G&&W<X);var T=k(qe.max,I);return L.push(T),L}},formatters:{values:function(qe){return xe.isArray(qe)?qe:""+qe},linear:function(qe,te,le){var W=le.length>3?le[2]-le[1]:le[1]-le[0];Math.abs(W)>1&&qe!==Math.floor(qe)&&(W=qe-Math.floor(qe));var L=xe.log10(Math.abs(W)),k="";if(0!==qe){var I=-1*Math.floor(L);I=Math.max(Math.min(I,20),0),k=qe.toFixed(I)}else k="0";return k},logarithmic:function(qe,te,le){var W=qe/Math.pow(10,Math.floor(xe.log10(qe)));return 0===qe?"0":1===W||2===W||5===W||0===te||te===le.length-1?qe.toExponential():""}}}},{45:45}],35:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45);xe._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:te.noop,title:function(le,W){var L="",k=W.labels,I=k?k.length:0;if(le.length>0){var G=le[0];G.xLabel?L=G.xLabel:I>0&&G.index<I&&(L=k[G.index])}return L},afterTitle:te.noop,beforeBody:te.noop,beforeLabel:te.noop,label:function(le,W){var L=W.datasets[le.datasetIndex].label||"";return L&&(L+=": "),L+le.yLabel},labelColor:function(le,W){var L=W.getDatasetMeta(le.datasetIndex).data[le.index]._view;return{borderColor:L.borderColor,backgroundColor:L.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:te.noop,afterBody:te.noop,beforeFooter:te.noop,footer:te.noop,afterFooter:te.noop}}}),St.exports=function(le){function W(B,Y){var ae=te.color(B);return ae.alpha(Y*ae.alpha()).rgbaString()}function L(B,Y){return Y&&(te.isArray(Y)?Array.prototype.push.apply(B,Y):B.push(Y)),B}function k(B){var Y=B._xScale,ae=B._yScale||B._scale,se=B._index,ne=B._datasetIndex;return{xLabel:Y?Y.getLabelForIndex(se,ne):"",yLabel:ae?ae.getLabelForIndex(se,ne):"",index:se,datasetIndex:ne,x:B._model.x,y:B._model.y}}function I(B){var Y=xe.global,ae=te.valueOrDefault;return{xPadding:B.xPadding,yPadding:B.yPadding,xAlign:B.xAlign,yAlign:B.yAlign,bodyFontColor:B.bodyFontColor,_bodyFontFamily:ae(B.bodyFontFamily,Y.defaultFontFamily),_bodyFontStyle:ae(B.bodyFontStyle,Y.defaultFontStyle),_bodyAlign:B.bodyAlign,bodyFontSize:ae(B.bodyFontSize,Y.defaultFontSize),bodySpacing:B.bodySpacing,titleFontColor:B.titleFontColor,_titleFontFamily:ae(B.titleFontFamily,Y.defaultFontFamily),_titleFontStyle:ae(B.titleFontStyle,Y.defaultFontStyle),titleFontSize:ae(B.titleFontSize,Y.defaultFontSize),_titleAlign:B.titleAlign,titleSpacing:B.titleSpacing,titleMarginBottom:B.titleMarginBottom,footerFontColor:B.footerFontColor,_footerFontFamily:ae(B.footerFontFamily,Y.defaultFontFamily),_footerFontStyle:ae(B.footerFontStyle,Y.defaultFontStyle),footerFontSize:ae(B.footerFontSize,Y.defaultFontSize),_footerAlign:B.footerAlign,footerSpacing:B.footerSpacing,footerMarginTop:B.footerMarginTop,caretSize:B.caretSize,cornerRadius:B.cornerRadius,backgroundColor:B.backgroundColor,opacity:0,legendColorBackground:B.multiKeyBackground,displayColors:B.displayColors,borderColor:B.borderColor,borderWidth:B.borderWidth}}le.Tooltip=qe.extend({initialize:function(){this._model=I(this._options),this._lastActive=[]},getTitle:function(){var B=this,Y=B._options.callbacks,ae=Y.beforeTitle.apply(B,arguments),se=Y.title.apply(B,arguments),ne=Y.afterTitle.apply(B,arguments),pe=[];return pe=L(pe,ae),pe=L(pe,se),L(pe,ne)},getBeforeBody:function(){var B=this._options.callbacks.beforeBody.apply(this,arguments);return te.isArray(B)?B:void 0!==B?[B]:[]},getBody:function(B,Y){var ae=this,se=ae._options.callbacks,ne=[];return te.each(B,function(pe){var we={before:[],lines:[],after:[]};L(we.before,se.beforeLabel.call(ae,pe,Y)),L(we.lines,se.label.call(ae,pe,Y)),L(we.after,se.afterLabel.call(ae,pe,Y)),ne.push(we)}),ne},getAfterBody:function(){var B=this._options.callbacks.afterBody.apply(this,arguments);return te.isArray(B)?B:void 0!==B?[B]:[]},getFooter:function(){var B=this,Y=B._options.callbacks,ae=Y.beforeFooter.apply(B,arguments),se=Y.footer.apply(B,arguments),ne=Y.afterFooter.apply(B,arguments),pe=[];return pe=L(pe,ae),pe=L(pe,se),L(pe,ne)},update:function(B){var Y,ae,se=this,ne=se._options,pe=se._model,we=se._model=I(ne),Le=se._active,ve=se._data,De={xAlign:pe.xAlign,yAlign:pe.yAlign},he={x:pe.x,y:pe.y},be={width:pe.width,height:pe.height},ke={x:pe.caretX,y:pe.caretY};if(Le.length){we.opacity=1;var ee=[],Me=[];ke=le.Tooltip.positioners[ne.position].call(se,Le,se._eventPosition);var Ne=[];for(Y=0,ae=Le.length;Y<ae;++Y)Ne.push(k(Le[Y]));ne.filter&&(Ne=Ne.filter(function(Be){return ne.filter(Be,ve)})),ne.itemSort&&(Ne=Ne.sort(function(Be,$e){return ne.itemSort(Be,$e,ve)})),te.each(Ne,function(Be){ee.push(ne.callbacks.labelColor.call(se,Be,se._chart)),Me.push(ne.callbacks.labelTextColor.call(se,Be,se._chart))}),we.title=se.getTitle(Ne,ve),we.beforeBody=se.getBeforeBody(Ne,ve),we.body=se.getBody(Ne,ve),we.afterBody=se.getAfterBody(Ne,ve),we.footer=se.getFooter(Ne,ve),we.x=Math.round(ke.x),we.y=Math.round(ke.y),we.caretPadding=ne.caretPadding,we.labelColors=ee,we.labelTextColors=Me,we.dataPoints=Ne,he=function T(B,Y,ae){var se=B.x,ne=B.y,we=B.caretPadding,ve=ae.xAlign,De=ae.yAlign,he=B.caretSize+we,be=B.cornerRadius+we;return"right"===ve?se-=Y.width:"center"===ve&&(se-=Y.width/2),"top"===De?ne+=he:ne-="bottom"===De?Y.height+he:Y.height/2,"center"===De?"left"===ve?se+=he:"right"===ve&&(se-=he):"left"===ve?se-=be:"right"===ve&&(se+=be),{x:se,y:ne}}(we,be=function G(B,Y){var ae=B._chart.ctx,se=2*Y.yPadding,ne=0,pe=Y.body,we=pe.reduce(function(Me,Ne){return Me+Ne.before.length+Ne.lines.length+Ne.after.length},0),Le=Y.title.length,ve=Y.footer.length,De=Y.titleFontSize,he=Y.bodyFontSize,be=Y.footerFontSize;se+=Le*De,se+=Le?(Le-1)*Y.titleSpacing:0,se+=Le?Y.titleMarginBottom:0,se+=(we+=Y.beforeBody.length+Y.afterBody.length)*he,se+=we?(we-1)*Y.bodySpacing:0,se+=ve?Y.footerMarginTop:0,se+=ve*be,se+=ve?(ve-1)*Y.footerSpacing:0;var ke=0,ee=function(Me){ne=Math.max(ne,ae.measureText(Me).width+ke)};return ae.font=te.fontString(De,Y._titleFontStyle,Y._titleFontFamily),te.each(Y.title,ee),ae.font=te.fontString(he,Y._bodyFontStyle,Y._bodyFontFamily),te.each(Y.beforeBody.concat(Y.afterBody),ee),ke=Y.displayColors?he+2:0,te.each(pe,function(Me){te.each(Me.before,ee),te.each(Me.lines,ee),te.each(Me.after,ee)}),ke=0,ae.font=te.fontString(be,Y._footerFontStyle,Y._footerFontFamily),te.each(Y.footer,ee),{width:ne+=2*Y.xPadding,height:se}}(this,we),De=function X(B,Y){var ae=B._model,se=B._chart,ne=B._chart.chartArea,pe="center",we="center";ae.y<Y.height?we="top":ae.y>se.height-Y.height&&(we="bottom");var Le,ve,De,he,be,ke=(ne.left+ne.right)/2,ee=(ne.top+ne.bottom)/2;"center"===we?(Le=function(Ne){return Ne<=ke},ve=function(Ne){return Ne>ke}):(Le=function(Ne){return Ne<=Y.width/2},ve=function(Ne){return Ne>=se.width-Y.width/2}),De=function(Ne){return Ne+Y.width>se.width},he=function(Ne){return Ne-Y.width<0},be=function(Ne){return Ne<=ee?"top":"bottom"},Le(ae.x)?(pe="left",De(ae.x)&&(pe="center",we=be(ae.y))):ve(ae.x)&&(pe="right",he(ae.x)&&(pe="center",we=be(ae.y)));var Me=B._options;return{xAlign:Me.xAlign?Me.xAlign:pe,yAlign:Me.yAlign?Me.yAlign:we}}(this,be))}else we.opacity=0;return we.xAlign=De.xAlign,we.yAlign=De.yAlign,we.x=he.x,we.y=he.y,we.width=be.width,we.height=be.height,we.caretX=ke.x,we.caretY=ke.y,se._model=we,B&&ne.custom&&ne.custom.call(se,we),se},drawCaret:function(B,Y){var ae=this._chart.ctx,ne=this.getCaretPosition(B,Y,this._view);ae.lineTo(ne.x1,ne.y1),ae.lineTo(ne.x2,ne.y2),ae.lineTo(ne.x3,ne.y3)},getCaretPosition:function(B,Y,ae){var se,ne,pe,we,Le,ve,De=ae.caretSize,he=ae.cornerRadius,be=ae.xAlign,ke=ae.yAlign,ee=B.x,Me=B.y,Ne=Y.width,Be=Y.height;if("center"===ke)Le=Me+Be/2,"left"===be?(ne=(se=ee)-De,pe=se,we=Le+De,ve=Le-De):(ne=(se=ee+Ne)+De,pe=se,we=Le-De,ve=Le+De);else if("left"===be?(se=(ne=ee+he+De)-De,pe=ne+De):"right"===be?(se=(ne=ee+Ne-he-De)-De,pe=ne+De):(se=(ne=ee+Ne/2)-De,pe=ne+De),"top"===ke)Le=(we=Me)-De,ve=we;else{Le=(we=Me+Be)+De,ve=we;var $e=pe;pe=se,se=$e}return{x1:se,x2:ne,x3:pe,y1:we,y2:Le,y3:ve}},drawTitle:function(B,Y,ae,se){var ne=Y.title;if(ne.length){ae.textAlign=Y._titleAlign,ae.textBaseline="top";var Le,ve,pe=Y.titleFontSize,we=Y.titleSpacing;for(ae.fillStyle=W(Y.titleFontColor,se),ae.font=te.fontString(pe,Y._titleFontStyle,Y._titleFontFamily),Le=0,ve=ne.length;Le<ve;++Le)ae.fillText(ne[Le],B.x,B.y),B.y+=pe+we,Le+1===ne.length&&(B.y+=Y.titleMarginBottom-we)}},drawBody:function(B,Y,ae,se){var ne=Y.bodyFontSize,pe=Y.bodySpacing,we=Y.body;ae.textAlign=Y._bodyAlign,ae.textBaseline="top",ae.font=te.fontString(ne,Y._bodyFontStyle,Y._bodyFontFamily);var Le=0,ve=function(he){ae.fillText(he,B.x+Le,B.y),B.y+=ne+pe};ae.fillStyle=W(Y.bodyFontColor,se),te.each(Y.beforeBody,ve);var De=Y.displayColors;Le=De?ne+2:0,te.each(we,function(he,be){var ke=W(Y.labelTextColors[be],se);ae.fillStyle=ke,te.each(he.before,ve),te.each(he.lines,function(ee){De&&(ae.fillStyle=W(Y.legendColorBackground,se),ae.fillRect(B.x,B.y,ne,ne),ae.lineWidth=1,ae.strokeStyle=W(Y.labelColors[be].borderColor,se),ae.strokeRect(B.x,B.y,ne,ne),ae.fillStyle=W(Y.labelColors[be].backgroundColor,se),ae.fillRect(B.x+1,B.y+1,ne-2,ne-2),ae.fillStyle=ke),ve(ee)}),te.each(he.after,ve)}),Le=0,te.each(Y.afterBody,ve),B.y-=pe},drawFooter:function(B,Y,ae,se){var ne=Y.footer;ne.length&&(B.y+=Y.footerMarginTop,ae.textAlign=Y._footerAlign,ae.textBaseline="top",ae.fillStyle=W(Y.footerFontColor,se),ae.font=te.fontString(Y.footerFontSize,Y._footerFontStyle,Y._footerFontFamily),te.each(ne,function(pe){ae.fillText(pe,B.x,B.y),B.y+=Y.footerFontSize+Y.footerSpacing}))},drawBackground:function(B,Y,ae,se,ne){ae.fillStyle=W(Y.backgroundColor,ne),ae.strokeStyle=W(Y.borderColor,ne),ae.lineWidth=Y.borderWidth;var pe=Y.xAlign,we=Y.yAlign,Le=B.x,ve=B.y,De=se.width,he=se.height,be=Y.cornerRadius;ae.beginPath(),ae.moveTo(Le+be,ve),"top"===we&&this.drawCaret(B,se),ae.lineTo(Le+De-be,ve),ae.quadraticCurveTo(Le+De,ve,Le+De,ve+be),"center"===we&&"right"===pe&&this.drawCaret(B,se),ae.lineTo(Le+De,ve+he-be),ae.quadraticCurveTo(Le+De,ve+he,Le+De-be,ve+he),"bottom"===we&&this.drawCaret(B,se),ae.lineTo(Le+be,ve+he),ae.quadraticCurveTo(Le,ve+he,Le,ve+he-be),"center"===we&&"left"===pe&&this.drawCaret(B,se),ae.lineTo(Le,ve+be),ae.quadraticCurveTo(Le,ve,Le+be,ve),ae.closePath(),ae.fill(),Y.borderWidth>0&&ae.stroke()},draw:function(){var B=this._chart.ctx,Y=this._view;if(0!==Y.opacity){var ae={width:Y.width,height:Y.height},se={x:Y.x,y:Y.y},ne=Math.abs(Y.opacity<.001)?0:Y.opacity;this._options.enabled&&(Y.title.length||Y.beforeBody.length||Y.body.length||Y.afterBody.length||Y.footer.length)&&(this.drawBackground(se,Y,B,ae,ne),se.x+=Y.xPadding,se.y+=Y.yPadding,this.drawTitle(se,Y,B,ne),this.drawBody(se,Y,B,ne),this.drawFooter(se,Y,B,ne))}},handleEvent:function(B){var Y=this,ae=Y._options,se=!1;if(Y._lastActive=Y._lastActive||[],Y._active="mouseout"===B.type?[]:Y._chart.getElementsAtEventForMode(B,ae.mode,ae),!(se=!te.arrayEquals(Y._active,Y._lastActive)))return!1;if(Y._lastActive=Y._active,ae.enabled||ae.custom){Y._eventPosition={x:B.x,y:B.y};var ne=Y._model;Y.update(!0),Y.pivot(),se|=ne.x!==Y._model.x||ne.y!==Y._model.y}return se}}),le.Tooltip.positioners={average:function(B){if(!B.length)return!1;var Y,ae,se=0,ne=0,pe=0;for(Y=0,ae=B.length;Y<ae;++Y){var we=B[Y];if(we&&we.hasValue()){var Le=we.tooltipPosition();se+=Le.x,ne+=Le.y,++pe}}return{x:Math.round(se/pe),y:Math.round(ne/pe)}},nearest:function(B,Y){var ae,se,ne,pe=Y.x,we=Y.y,Le=Number.POSITIVE_INFINITY;for(ae=0,se=B.length;ae<se;++ae){var ve=B[ae];if(ve&&ve.hasValue()){var De=ve.getCenterPoint(),he=te.distanceBetweenPoints(Y,De);he<Le&&(Le=he,ne=ve)}}if(ne){var be=ne.tooltipPosition();pe=be.x,we=be.y}return{x:pe,y:we}}}}},{25:25,26:26,45:45}],36:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45);xe._set("global",{elements:{arc:{backgroundColor:xe.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),St.exports=qe.extend({inLabelRange:function(le){var W=this._view;return!!W&&Math.pow(le-W.x,2)<Math.pow(W.radius+W.hoverRadius,2)},inRange:function(le,W){var L=this._view;if(L){for(var k=te.getAngleFromPoint(L,{x:le,y:W}),I=k.angle,G=k.distance,X=L.startAngle,T=L.endAngle;T<X;)T+=2*Math.PI;for(;I>T;)I-=2*Math.PI;for(;I<X;)I+=2*Math.PI;return I>=X&&I<=T&&G>=L.innerRadius&&G<=L.outerRadius}return!1},getCenterPoint:function(){var le=this._view,W=(le.startAngle+le.endAngle)/2,L=(le.innerRadius+le.outerRadius)/2;return{x:le.x+Math.cos(W)*L,y:le.y+Math.sin(W)*L}},getArea:function(){var le=this._view;return Math.PI*((le.endAngle-le.startAngle)/(2*Math.PI))*(Math.pow(le.outerRadius,2)-Math.pow(le.innerRadius,2))},tooltipPosition:function(){var le=this._view,W=le.startAngle+(le.endAngle-le.startAngle)/2,L=(le.outerRadius-le.innerRadius)/2+le.innerRadius;return{x:le.x+Math.cos(W)*L,y:le.y+Math.sin(W)*L}},draw:function(){var le=this._chart.ctx,W=this._view,L=W.startAngle,k=W.endAngle;le.beginPath(),le.arc(W.x,W.y,W.outerRadius,L,k),le.arc(W.x,W.y,W.innerRadius,k,L,!0),le.closePath(),le.strokeStyle=W.borderColor,le.lineWidth=W.borderWidth,le.fillStyle=W.backgroundColor,le.fill(),le.lineJoin="bevel",W.borderWidth&&le.stroke()}})},{25:25,26:26,45:45}],37:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45),le=xe.global;xe._set("global",{elements:{line:{tension:.4,backgroundColor:le.defaultColor,borderWidth:3,borderColor:le.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),St.exports=qe.extend({draw:function(){var W,L,k,I,G=this,X=G._view,T=G._chart.ctx,B=X.spanGaps,Y=G._children.slice(),ae=le.elements.line,se=-1;for(G._loop&&Y.length&&Y.push(Y[0]),T.save(),T.lineCap=X.borderCapStyle||ae.borderCapStyle,T.setLineDash&&T.setLineDash(X.borderDash||ae.borderDash),T.lineDashOffset=X.borderDashOffset||ae.borderDashOffset,T.lineJoin=X.borderJoinStyle||ae.borderJoinStyle,T.lineWidth=X.borderWidth||ae.borderWidth,T.strokeStyle=X.borderColor||le.defaultColor,T.beginPath(),se=-1,W=0;W<Y.length;++W)L=Y[W],k=te.previousItem(Y,W),I=L._view,0===W?I.skip||(T.moveTo(I.x,I.y),se=W):(k=-1===se?k:Y[se],I.skip||(se!==W-1&&!B||-1===se?T.moveTo(I.x,I.y):te.canvas.lineTo(T,k._view,L._view),se=W));T.stroke(),T.restore()}})},{25:25,26:26,45:45}],38:[function(Ze,St,In){"use strict";function xe(L){var k=this._view;return!!k&&Math.pow(L-k.x,2)<Math.pow(k.radius+k.hitRadius,2)}var qe=Ze(25),te=Ze(26),le=Ze(45),W=qe.global.defaultColor;qe._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:W,borderColor:W,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),St.exports=te.extend({inRange:function(L,k){var I=this._view;return!!I&&Math.pow(L-I.x,2)+Math.pow(k-I.y,2)<Math.pow(I.hitRadius+I.radius,2)},inLabelRange:xe,inXRange:xe,inYRange:function(L){var k=this._view;return!!k&&Math.pow(L-k.y,2)<Math.pow(k.radius+k.hitRadius,2)},getCenterPoint:function(){var L=this._view;return{x:L.x,y:L.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var L=this._view;return{x:L.x,y:L.y,padding:L.radius+L.borderWidth}},draw:function(L){var k=this._view,I=this._model,G=this._chart.ctx,X=k.pointStyle,T=k.radius,B=k.x,Y=k.y,ae=le.color,se=0;k.skip||(G.strokeStyle=k.borderColor||W,G.lineWidth=le.valueOrDefault(k.borderWidth,qe.global.elements.point.borderWidth),G.fillStyle=k.backgroundColor||W,void 0!==L&&(I.x<L.left||1.01*L.right<I.x||I.y<L.top||1.01*L.bottom<I.y)&&(I.x<L.left?se=(B-I.x)/(L.left-I.x):1.01*L.right<I.x?se=(I.x-B)/(I.x-L.right):I.y<L.top?se=(Y-I.y)/(L.top-I.y):1.01*L.bottom<I.y&&(se=(I.y-Y)/(I.y-L.bottom)),se=Math.round(100*se)/100,G.strokeStyle=ae(G.strokeStyle).alpha(se).rgbString(),G.fillStyle=ae(G.fillStyle).alpha(se).rgbString()),le.canvas.drawPoint(G,X,T,B,Y))}})},{25:25,26:26,45:45}],39:[function(Ze,St,In){"use strict";function xe(W){return void 0!==W._view.width}function qe(W){var L,k,I,G,X=W._view;if(xe(W)){var T=X.width/2;L=X.x-T,k=X.x+T,I=Math.min(X.y,X.base),G=Math.max(X.y,X.base)}else{var B=X.height/2;L=Math.min(X.x,X.base),k=Math.max(X.x,X.base),I=X.y-B,G=X.y+B}return{left:L,top:I,right:k,bottom:G}}var te=Ze(25),le=Ze(26);te._set("global",{elements:{rectangle:{backgroundColor:te.global.defaultColor,borderColor:te.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),St.exports=le.extend({draw:function(){function W(Me){return he[(be+Me)%4]}var L,k,I,G,X,T,B,Y=this._chart.ctx,ae=this._view,se=ae.borderWidth;if(ae.horizontal?(I=ae.y-ae.height/2,G=ae.y+ae.height/2,X=(k=ae.x)>(L=ae.base)?1:-1,T=1,B=ae.borderSkipped||"left"):(L=ae.x-ae.width/2,k=ae.x+ae.width/2,X=1,T=(G=ae.base)>(I=ae.y)?1:-1,B=ae.borderSkipped||"bottom"),se){var ne=Math.min(Math.abs(L-k),Math.abs(I-G)),pe=(se=se>ne?ne:se)/2,we=L+("left"!==B?pe*X:0),Le=k+("right"!==B?-pe*X:0),ve=I+("top"!==B?pe*T:0),De=G+("bottom"!==B?-pe*T:0);we!==Le&&(I=ve,G=De),ve!==De&&(L=we,k=Le)}Y.beginPath(),Y.fillStyle=ae.backgroundColor,Y.strokeStyle=ae.borderColor,Y.lineWidth=se;var he=[[L,G],[L,I],[k,I],[k,G]],be=["bottom","left","top","right"].indexOf(B,0);-1===be&&(be=0);var ke=W(0);Y.moveTo(ke[0],ke[1]);for(var ee=1;ee<4;ee++)ke=W(ee),Y.lineTo(ke[0],ke[1]);Y.fill(),se&&Y.stroke()},height:function(){var W=this._view;return W.base-W.y},inRange:function(W,L){var k=!1;if(this._view){var I=qe(this);k=W>=I.left&&W<=I.right&&L>=I.top&&L<=I.bottom}return k},inLabelRange:function(W,L){var k=this;if(!k._view)return!1;var I=qe(k);return xe(k)?W>=I.left&&W<=I.right:L>=I.top&&L<=I.bottom},inXRange:function(W){var L=qe(this);return W>=L.left&&W<=L.right},inYRange:function(W){var L=qe(this);return W>=L.top&&W<=L.bottom},getCenterPoint:function(){var W,L,k=this._view;return xe(this)?(W=k.x,L=(k.y+k.base)/2):(W=(k.x+k.base)/2,L=k.y),{x:W,y:L}},getArea:function(){var W=this._view;return W.width*Math.abs(W.y-W.base)},tooltipPosition:function(){var W=this._view;return{x:W.x,y:W.y}}})},{25:25,26:26}],40:[function(Ze,St,In){"use strict";St.exports={},St.exports.Arc=Ze(36),St.exports.Line=Ze(37),St.exports.Point=Ze(38),St.exports.Rectangle=Ze(39)},{36:36,37:37,38:38,39:39}],41:[function(Ze,St,qe){"use strict";var xe=Ze(42);qe=St.exports={clear:function(te){te.ctx.clearRect(0,0,te.width,te.height)},roundedRect:function(te,le,W,L,k,I){if(I){var G=Math.min(I,L/2),X=Math.min(I,k/2);te.moveTo(le+G,W),te.lineTo(le+L-G,W),te.quadraticCurveTo(le+L,W,le+L,W+X),te.lineTo(le+L,W+k-X),te.quadraticCurveTo(le+L,W+k,le+L-G,W+k),te.lineTo(le+G,W+k),te.quadraticCurveTo(le,W+k,le,W+k-X),te.lineTo(le,W+X),te.quadraticCurveTo(le,W,le+G,W)}else te.rect(le,W,L,k)},drawPoint:function(te,le,W,L,k){var I,G,X,T,B,Y;if(!le||"object"!=typeof le||"[object HTMLImageElement]"!==(I=le.toString())&&"[object HTMLCanvasElement]"!==I){if(!(isNaN(W)||W<=0)){switch(le){default:te.beginPath(),te.arc(L,k,W,0,2*Math.PI),te.closePath(),te.fill();break;case"triangle":te.beginPath(),B=(G=3*W/Math.sqrt(3))*Math.sqrt(3)/2,te.moveTo(L-G/2,k+B/3),te.lineTo(L+G/2,k+B/3),te.lineTo(L,k-2*B/3),te.closePath(),te.fill();break;case"rect":Y=1/Math.SQRT2*W,te.beginPath(),te.fillRect(L-Y,k-Y,2*Y,2*Y),te.strokeRect(L-Y,k-Y,2*Y,2*Y);break;case"rectRounded":var ae=W/Math.SQRT2,se=L-ae,ne=k-ae,pe=Math.SQRT2*W;te.beginPath(),this.roundedRect(te,se,ne,pe,pe,W/2),te.closePath(),te.fill();break;case"rectRot":Y=1/Math.SQRT2*W,te.beginPath(),te.moveTo(L-Y,k),te.lineTo(L,k+Y),te.lineTo(L+Y,k),te.lineTo(L,k-Y),te.closePath(),te.fill();break;case"cross":te.beginPath(),te.moveTo(L,k+W),te.lineTo(L,k-W),te.moveTo(L-W,k),te.lineTo(L+W,k),te.closePath();break;case"crossRot":te.beginPath(),X=Math.cos(Math.PI/4)*W,T=Math.sin(Math.PI/4)*W,te.moveTo(L-X,k-T),te.lineTo(L+X,k+T),te.moveTo(L-X,k+T),te.lineTo(L+X,k-T),te.closePath();break;case"star":te.beginPath(),te.moveTo(L,k+W),te.lineTo(L,k-W),te.moveTo(L-W,k),te.lineTo(L+W,k),X=Math.cos(Math.PI/4)*W,T=Math.sin(Math.PI/4)*W,te.moveTo(L-X,k-T),te.lineTo(L+X,k+T),te.moveTo(L-X,k+T),te.lineTo(L+X,k-T),te.closePath();break;case"line":te.beginPath(),te.moveTo(L-W,k),te.lineTo(L+W,k),te.closePath();break;case"dash":te.beginPath(),te.moveTo(L,k),te.lineTo(L+W,k),te.closePath()}te.stroke()}}else te.drawImage(le,L-le.width/2,k-le.height/2,le.width,le.height)},clipArea:function(te,le){te.save(),te.beginPath(),te.rect(le.left,le.top,le.right-le.left,le.bottom-le.top),te.clip()},unclipArea:function(te){te.restore()},lineTo:function(te,le,W,L){if(W.steppedLine)return"after"===W.steppedLine&&!L||"after"!==W.steppedLine&&L?te.lineTo(le.x,W.y):te.lineTo(W.x,le.y),void te.lineTo(W.x,W.y);W.tension?te.bezierCurveTo(L?le.controlPointPreviousX:le.controlPointNextX,L?le.controlPointPreviousY:le.controlPointNextY,L?W.controlPointNextX:W.controlPointPreviousX,L?W.controlPointNextY:W.controlPointPreviousY,W.x,W.y):te.lineTo(W.x,W.y)}},xe.clear=qe.clear,xe.drawRoundedRectangle=function(te){te.beginPath(),qe.roundedRect.apply(qe,arguments),te.closePath()}},{42:42}],42:[function(Ze,St,In){"use strict";var qe,xe={noop:function(){},uid:(qe=0,function(){return qe++}),isNullOrUndef:function(qe){return null==qe},isArray:Array.isArray?Array.isArray:function(qe){return"[object Array]"===Object.prototype.toString.call(qe)},isObject:function(qe){return null!==qe&&"[object Object]"===Object.prototype.toString.call(qe)},valueOrDefault:function(qe,te){return void 0===qe?te:qe},valueAtIndexOrDefault:function(qe,te,le){return xe.valueOrDefault(xe.isArray(qe)?qe[te]:qe,le)},callback:function(qe,te,le){if(qe&&"function"==typeof qe.call)return qe.apply(le,te)},each:function(qe,te,le,W){var L,k,I;if(xe.isArray(qe))if(k=qe.length,W)for(L=k-1;L>=0;L--)te.call(le,qe[L],L);else for(L=0;L<k;L++)te.call(le,qe[L],L);else if(xe.isObject(qe))for(k=(I=Object.keys(qe)).length,L=0;L<k;L++)te.call(le,qe[I[L]],I[L])},arrayEquals:function(qe,te){var le,W,L,k;if(!qe||!te||qe.length!==te.length)return!1;for(le=0,W=qe.length;le<W;++le)if(k=te[le],(L=qe[le])instanceof Array&&k instanceof Array){if(!xe.arrayEquals(L,k))return!1}else if(L!==k)return!1;return!0},clone:function(qe){if(xe.isArray(qe))return qe.map(xe.clone);if(xe.isObject(qe)){for(var te={},le=Object.keys(qe),W=le.length,L=0;L<W;++L)te[le[L]]=xe.clone(qe[le[L]]);return te}return qe},_merger:function(qe,te,le,W){var L=te[qe],k=le[qe];xe.isObject(L)&&xe.isObject(k)?xe.merge(L,k,W):te[qe]=xe.clone(k)},_mergerIf:function(qe,te,le){var W=te[qe],L=le[qe];xe.isObject(W)&&xe.isObject(L)?xe.mergeIf(W,L):te.hasOwnProperty(qe)||(te[qe]=xe.clone(L))},merge:function(qe,te,le){var W,L,k,I,G,X=xe.isArray(te)?te:[te],T=X.length;if(!xe.isObject(qe))return qe;for(W=(le=le||{}).merger||xe._merger,L=0;L<T;++L)if(xe.isObject(te=X[L]))for(G=0,I=(k=Object.keys(te)).length;G<I;++G)W(k[G],qe,te,le);return qe},mergeIf:function(qe,te){return xe.merge(qe,te,{merger:xe._mergerIf})},extend:function(qe){for(var te=1,le=arguments.length;te<le;++te)xe.each(arguments[te],function(W,L){qe[L]=W});return qe},inherits:function(qe){var te=this,le=qe&&qe.hasOwnProperty("constructor")?qe.constructor:function(){return te.apply(this,arguments)},W=function(){this.constructor=le};return W.prototype=te.prototype,le.prototype=new W,le.extend=xe.inherits,qe&&xe.extend(le.prototype,qe),le.__super__=te.prototype,le}};St.exports=xe,xe.callCallback=xe.callback,xe.indexOf=function(qe,te,le){return Array.prototype.indexOf.call(qe,te,le)},xe.getValueOrDefault=xe.valueOrDefault,xe.getValueAtIndexOrDefault=xe.valueAtIndexOrDefault},{}],43:[function(Ze,St,In){"use strict";var xe=Ze(42),qe={linear:function(te){return te},easeInQuad:function(te){return te*te},easeOutQuad:function(te){return-te*(te-2)},easeInOutQuad:function(te){return(te/=.5)<1?.5*te*te:-.5*(--te*(te-2)-1)},easeInCubic:function(te){return te*te*te},easeOutCubic:function(te){return(te-=1)*te*te+1},easeInOutCubic:function(te){return(te/=.5)<1?.5*te*te*te:.5*((te-=2)*te*te+2)},easeInQuart:function(te){return te*te*te*te},easeOutQuart:function(te){return-((te-=1)*te*te*te-1)},easeInOutQuart:function(te){return(te/=.5)<1?.5*te*te*te*te:-.5*((te-=2)*te*te*te-2)},easeInQuint:function(te){return te*te*te*te*te},easeOutQuint:function(te){return(te-=1)*te*te*te*te+1},easeInOutQuint:function(te){return(te/=.5)<1?.5*te*te*te*te*te:.5*((te-=2)*te*te*te*te+2)},easeInSine:function(te){return 1-Math.cos(te*(Math.PI/2))},easeOutSine:function(te){return Math.sin(te*(Math.PI/2))},easeInOutSine:function(te){return-.5*(Math.cos(Math.PI*te)-1)},easeInExpo:function(te){return 0===te?0:Math.pow(2,10*(te-1))},easeOutExpo:function(te){return 1===te?1:1-Math.pow(2,-10*te)},easeInOutExpo:function(te){return 0===te?0:1===te?1:(te/=.5)<1?.5*Math.pow(2,10*(te-1)):.5*(2-Math.pow(2,-10*--te))},easeInCirc:function(te){return te>=1?te:-(Math.sqrt(1-te*te)-1)},easeOutCirc:function(te){return Math.sqrt(1-(te-=1)*te)},easeInOutCirc:function(te){return(te/=.5)<1?-.5*(Math.sqrt(1-te*te)-1):.5*(Math.sqrt(1-(te-=2)*te)+1)},easeInElastic:function(te){var le=1.70158,W=0,L=1;return 0===te?0:1===te?1:(W||(W=.3),L<1?(L=1,le=W/4):le=W/(2*Math.PI)*Math.asin(1/L),-L*Math.pow(2,10*(te-=1))*Math.sin((te-le)*(2*Math.PI)/W))},easeOutElastic:function(te){var le=1.70158,W=0,L=1;return 0===te?0:1===te?1:(W||(W=.3),L<1?(L=1,le=W/4):le=W/(2*Math.PI)*Math.asin(1/L),L*Math.pow(2,-10*te)*Math.sin((te-le)*(2*Math.PI)/W)+1)},easeInOutElastic:function(te){var le=1.70158,W=0,L=1;return 0===te?0:2==(te/=.5)?1:(W||(W=.45),L<1?(L=1,le=W/4):le=W/(2*Math.PI)*Math.asin(1/L),te<1?L*Math.pow(2,10*(te-=1))*Math.sin((te-le)*(2*Math.PI)/W)*-.5:L*Math.pow(2,-10*(te-=1))*Math.sin((te-le)*(2*Math.PI)/W)*.5+1)},easeInBack:function(te){return te*te*(2.70158*te-1.70158)},easeOutBack:function(te){return(te-=1)*te*(2.70158*te+1.70158)+1},easeInOutBack:function(te){var le=1.70158;return(te/=.5)<1?te*te*((1+(le*=1.525))*te-le)*.5:.5*((te-=2)*te*((1+(le*=1.525))*te+le)+2)},easeInBounce:function(te){return 1-qe.easeOutBounce(1-te)},easeOutBounce:function(te){return te<1/2.75?7.5625*te*te:te<2/2.75?7.5625*(te-=1.5/2.75)*te+.75:te<2.5/2.75?7.5625*(te-=2.25/2.75)*te+.9375:7.5625*(te-=2.625/2.75)*te+.984375},easeInOutBounce:function(te){return te<.5?.5*qe.easeInBounce(2*te):.5*qe.easeOutBounce(2*te-1)+.5}};St.exports={effects:qe},xe.easingEffects=qe},{42:42}],44:[function(Ze,St,In){"use strict";var xe=Ze(42);St.exports={toLineHeight:function(qe,te){var le=(""+qe).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!le||"normal"===le[1])return 1.2*te;switch(qe=+le[2],le[3]){case"px":return qe;case"%":qe/=100}return te*qe},toPadding:function(qe){var te,le,W,L;return xe.isObject(qe)?(te=+qe.top||0,le=+qe.right||0,W=+qe.bottom||0,L=+qe.left||0):te=le=W=L=+qe||0,{top:te,right:le,bottom:W,left:L,height:te+W,width:L+le}},resolve:function(qe,te,le){var W,L,k;for(W=0,L=qe.length;W<L;++W)if(void 0!==(k=qe[W])&&(void 0!==te&&"function"==typeof k&&(k=k(te)),void 0!==le&&xe.isArray(k)&&(k=k[le]),void 0!==k))return k}}},{42:42}],45:[function(Ze,St,In){"use strict";St.exports=Ze(42),St.exports.easing=Ze(43),St.exports.canvas=Ze(41),St.exports.options=Ze(44)},{41:41,42:42,43:43,44:44}],46:[function(Ze,St,In){St.exports={acquireContext:function(xe){return xe&&xe.canvas&&(xe=xe.canvas),xe&&xe.getContext("2d")||null}}},{}],47:[function(Ze,St,In){"use strict";function xe(he,be){var ke=ae.getStyle(he,be),ee=ke&&ke.match(/^(\d+)(\.\d+)?px$/);return ee?Number(ee[1]):void 0}function te(he,be,ke){he.addEventListener(be,ke,De)}function le(he,be,ke){he.removeEventListener(be,ke,De)}function W(he,be,ke,ee,Me){return{type:he,chart:be,native:Me||null,x:void 0!==ke?ke:null,y:void 0!==ee?ee:null}}var ae=Ze(45),se="$chartjs",ne="chartjs-",pe=ne+"render-monitor",we=ne+"render-animation",Le=["animationstart","webkitAnimationStart"],ve={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},De=!!function(){var he=!1;try{var be=Object.defineProperty({},"passive",{get:function(){he=!0}});window.addEventListener("e",null,be)}catch{}return he}()&&{passive:!0};St.exports={_enabled:typeof window<"u"&&typeof document<"u",initialize:function(){var he="from{opacity:0.99}to{opacity:1}";!function Y(he,be){var ke=he._style||document.createElement("style");he._style||(he._style=ke,be="/* Chart.js */\n"+be,ke.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(ke)),ke.appendChild(document.createTextNode(be))}(this,"@-webkit-keyframes "+we+"{"+he+"}@keyframes "+we+"{"+he+"}."+pe+"{-webkit-animation:"+we+" 0.001s;animation:"+we+" 0.001s;}")},acquireContext:function(he,be){"string"==typeof he?he=document.getElementById(he):he.length&&(he=he[0]),he&&he.canvas&&(he=he.canvas);var ke=he&&he.getContext&&he.getContext("2d");return ke&&ke.canvas===he?(function qe(he,be){var ke=he.style,ee=he.getAttribute("height"),Me=he.getAttribute("width");if(he[se]={initial:{height:ee,width:Me,style:{display:ke.display,height:ke.height,width:ke.width}}},ke.display=ke.display||"block",null===Me||""===Me){var Ne=xe(he,"width");void 0!==Ne&&(he.width=Ne)}if(null===ee||""===ee)if(""===he.style.height)he.height=he.width/(be.options.aspectRatio||2);else{var Be=xe(he,"height");void 0!==Ne&&(he.height=Be)}}(he,be),ke):null},releaseContext:function(he){var be=he.canvas;if(be[se]){var ke=be[se].initial;["height","width"].forEach(function(ee){var Me=ke[ee];ae.isNullOrUndef(Me)?be.removeAttribute(ee):be.setAttribute(ee,Me)}),ae.each(ke.style||{},function(ee,Me){be.style[Me]=ee}),be.width=be.width,delete be[se]}},addEventListener:function(he,be,ke){var ee=he.canvas;if("resize"!==be){var Me=ke[se]||(ke[se]={});te(ee,be,(Me.proxies||(Me.proxies={}))[he.id+"_"+be]=function(Ne){ke(function L(he,be){var ke=ve[he.type]||he.type,ee=ae.getRelativePosition(he,be);return W(ke,be,ee.x,ee.y,he)}(Ne,he))})}else!function T(he,be,ke){var ee=he[se]||(he[se]={}),Me=ee.resizer=function I(he){var be=document.createElement("div"),ke=ne+"size-monitor",ee="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";be.style.cssText=ee,be.className=ke,be.innerHTML='<div class="'+ke+'-expand" style="'+ee+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+ke+'-shrink" style="'+ee+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var Me=be.childNodes[0],Ne=be.childNodes[1];be._reset=function(){Me.scrollLeft=1e6,Me.scrollTop=1e6,Ne.scrollLeft=1e6,Ne.scrollTop=1e6};var Be=function(){be._reset(),he()};return te(Me,"scroll",Be.bind(Me,"expand")),te(Ne,"scroll",Be.bind(Ne,"shrink")),be}(function k(he,be){var ke=!1,ee=[];return function(){ee=Array.prototype.slice.call(arguments),be=be||this,ke||(ke=!0,ae.requestAnimFrame.call(window,function(){ke=!1,he.apply(be,ee)}))}}(function(){if(ee.resizer)return be(W("resize",ke))}));!function G(he,be){var ke=he[se]||(he[se]={}),ee=ke.renderProxy=function(Me){Me.animationName===we&&be()};ae.each(Le,function(Me){te(he,Me,ee)}),ke.reflow=!!he.offsetParent,he.classList.add(pe)}(he,function(){if(ee.resizer){var Ne=he.parentNode;Ne&&Ne!==Me.parentNode&&Ne.insertBefore(Me,Ne.firstChild),Me._reset()}})}(ee,ke,he)},removeEventListener:function(he,be,ke){var ee=he.canvas;if("resize"!==be){var Me=((ke[se]||{}).proxies||{})[he.id+"_"+be];Me&&le(ee,be,Me)}else!function B(he){var be=he[se]||{},ke=be.resizer;delete be.resizer,function X(he){var be=he[se]||{},ke=be.renderProxy;ke&&(ae.each(Le,function(ee){le(he,ee,ke)}),delete be.renderProxy),he.classList.remove(pe)}(he),ke&&ke.parentNode&&ke.parentNode.removeChild(ke)}(ee)}},ae.addEvent=te,ae.removeEvent=le},{45:45}],48:[function(Ze,St,In){"use strict";var xe=Ze(45),qe=Ze(46),te=Ze(47);St.exports=xe.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},te._enabled?te:qe)},{45:45,46:46,47:47}],49:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(40),te=Ze(45);xe._set("global",{plugins:{filler:{propagate:!0}}}),St.exports=function(){function le(B,Y,ae){var se,ne=B._model||{},pe=ne.fill;if(void 0===pe&&(pe=!!ne.backgroundColor),!1===pe||null===pe)return!1;if(!0===pe)return"origin";if(se=parseFloat(pe,10),isFinite(se)&&Math.floor(se)===se)return"-"!==pe[0]&&"+"!==pe[0]||(se=Y+se),!(se===Y||se<0||se>=ae)&&se;switch(pe){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return pe;default:return!1}}function W(B){var Y,ae=B.el._model||{},se=B.el._scale||{},ne=B.fill,pe=null;if(isFinite(ne))return null;if("start"===ne?pe=void 0===ae.scaleBottom?se.bottom:ae.scaleBottom:"end"===ne?pe=void 0===ae.scaleTop?se.top:ae.scaleTop:void 0!==ae.scaleZero?pe=ae.scaleZero:se.getBasePosition?pe=se.getBasePosition():se.getBasePixel&&(pe=se.getBasePixel()),null!=pe){if(void 0!==pe.x&&void 0!==pe.y)return pe;if("number"==typeof pe&&isFinite(pe))return{x:(Y=se.isHorizontal())?pe:null,y:Y?null:pe}}return null}function L(B,Y,ae){var se,ne=B[Y].fill,pe=[Y];if(!ae)return ne;for(;!1!==ne&&-1===pe.indexOf(ne);){if(!isFinite(ne))return ne;if(!(se=B[ne]))return!1;if(se.visible)return ne;pe.push(ne),ne=se.fill}return!1}function k(B){var Y=B.fill,ae="dataset";return!1===Y?null:(isFinite(Y)||(ae="boundary"),T[ae](B))}function I(B){return B&&!B.skip}function G(B,Y,ae,se,ne){var pe;if(se&&ne){for(B.moveTo(Y[0].x,Y[0].y),pe=1;pe<se;++pe)te.canvas.lineTo(B,Y[pe-1],Y[pe]);for(B.lineTo(ae[ne-1].x,ae[ne-1].y),pe=ne-1;pe>0;--pe)te.canvas.lineTo(B,ae[pe],ae[pe-1],!0)}}var T={dataset:function(B){var Y=B.fill,ae=B.chart,se=ae.getDatasetMeta(Y),ne=se&&ae.isDatasetVisible(Y)&&se.dataset._children||[],pe=ne.length||0;return pe?function(we,Le){return Le<pe&&ne[Le]._view||null}:null},boundary:function(B){var Y=B.boundary,ae=Y?Y.x:null,se=Y?Y.y:null;return function(ne){return{x:null===ae?ne.x:ae,y:null===se?ne.y:se}}}};return{id:"filler",afterDatasetsUpdate:function(B,Y){var ae,se,ne,pe,we=(B.data.datasets||[]).length,Le=Y.propagate,ve=[];for(se=0;se<we;++se)pe=null,(ne=(ae=B.getDatasetMeta(se)).dataset)&&ne._model&&ne instanceof qe.Line&&(pe={visible:B.isDatasetVisible(se),fill:le(ne,se,we),chart:B,el:ne}),ae.$filler=pe,ve.push(pe);for(se=0;se<we;++se)(pe=ve[se])&&(pe.fill=L(ve,se,Le),pe.boundary=W(pe),pe.mapper=k(pe))},beforeDatasetDraw:function(B,Y){var ae=Y.meta.$filler;if(ae){var se=B.ctx,ne=ae.el,pe=ne._view,we=ne._children||[],Le=ae.mapper,ve=pe.backgroundColor||xe.global.defaultColor;Le&&ve&&we.length&&(te.canvas.clipArea(se,B.chartArea),function X(B,Y,ae,se,ne,pe){var we,Le,ve,De,he,be,ke,ee=Y.length,Me=se.spanGaps,Ne=[],Be=[],$e=0,Ke=0;for(B.beginPath(),we=0,Le=ee+!!pe;we<Le;++we)he=ae(De=Y[ve=we%ee]._view,ve,se),be=I(De),ke=I(he),be&&ke?($e=Ne.push(De),Ke=Be.push(he)):$e&&Ke&&(Me?(be&&Ne.push(De),ke&&Be.push(he)):(G(B,Ne,Be,$e,Ke),$e=Ke=0,Ne=[],Be=[]));G(B,Ne,Be,$e,Ke),B.closePath(),B.fillStyle=ne,B.fill()}(se,we,Le,pe,ve,ne._loop),te.canvas.unclipArea(se))}}}}},{25:25,40:40,45:45}],50:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45);xe._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(le,W){var L=W.datasetIndex,k=this.chart,I=k.getDatasetMeta(L);I.hidden=null===I.hidden?!k.data.datasets[L].hidden:null,k.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(le){var W=le.data;return te.isArray(W.datasets)?W.datasets.map(function(L,k){return{text:L.label,fillStyle:te.isArray(L.backgroundColor)?L.backgroundColor[0]:L.backgroundColor,hidden:!le.isDatasetVisible(k),lineCap:L.borderCapStyle,lineDash:L.borderDash,lineDashOffset:L.borderDashOffset,lineJoin:L.borderJoinStyle,lineWidth:L.borderWidth,strokeStyle:L.borderColor,pointStyle:L.pointStyle,datasetIndex:k}},this):[]}}},legendCallback:function(le){var W=[];W.push('<ul class="'+le.id+'-legend">');for(var L=0;L<le.data.datasets.length;L++)W.push('<li><span style="background-color:'+le.data.datasets[L].backgroundColor+'"></span>'),le.data.datasets[L].label&&W.push(le.data.datasets[L].label),W.push("</li>");return W.push("</ul>"),W.join("")}}),St.exports=function(le){function W(G,X){return G.usePointStyle?X*Math.SQRT2:G.boxWidth}function L(G,X){var T=new le.Legend({ctx:G.ctx,options:X,chart:G});k.configure(G,T,X),k.addBox(G,T),G.legend=T}var k=le.layoutService,I=te.noop;return le.Legend=qe.extend({initialize:function(G){te.extend(this,G),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:I,update:function(G,X,T){var B=this;return B.beforeUpdate(),B.maxWidth=G,B.maxHeight=X,B.margins=T,B.beforeSetDimensions(),B.setDimensions(),B.afterSetDimensions(),B.beforeBuildLabels(),B.buildLabels(),B.afterBuildLabels(),B.beforeFit(),B.fit(),B.afterFit(),B.afterUpdate(),B.minSize},afterUpdate:I,beforeSetDimensions:I,setDimensions:function(){var G=this;G.isHorizontal()?(G.width=G.maxWidth,G.left=0,G.right=G.width):(G.height=G.maxHeight,G.top=0,G.bottom=G.height),G.paddingLeft=0,G.paddingTop=0,G.paddingRight=0,G.paddingBottom=0,G.minSize={width:0,height:0}},afterSetDimensions:I,beforeBuildLabels:I,buildLabels:function(){var G=this,X=G.options.labels||{},T=te.callback(X.generateLabels,[G.chart],G)||[];X.filter&&(T=T.filter(function(B){return X.filter(B,G.chart.data)})),G.options.reverse&&T.reverse(),G.legendItems=T},afterBuildLabels:I,beforeFit:I,fit:function(){var G=this,X=G.options,T=X.labels,B=X.display,Y=G.ctx,ae=xe.global,se=te.valueOrDefault,ne=se(T.fontSize,ae.defaultFontSize),pe=se(T.fontStyle,ae.defaultFontStyle),we=se(T.fontFamily,ae.defaultFontFamily),Le=te.fontString(ne,pe,we),ve=G.legendHitBoxes=[],De=G.minSize,he=G.isHorizontal();if(he?(De.width=G.maxWidth,De.height=B?10:0):(De.width=B?10:0,De.height=G.maxHeight),B)if(Y.font=Le,he){var be=G.lineWidths=[0],ke=G.legendItems.length?ne+T.padding:0;Y.textAlign="left",Y.textBaseline="top",te.each(G.legendItems,function(gt,it){var Vt=W(T,ne)+ne/2+Y.measureText(gt.text).width;be[be.length-1]+Vt+T.padding>=G.width&&(ke+=ne+T.padding,be[be.length]=G.left),ve[it]={left:0,top:0,width:Vt,height:ne},be[be.length-1]+=Vt+T.padding}),De.height+=ke}else{var ee=T.padding,Me=G.columnWidths=[],Ne=T.padding,Be=0,$e=0,Ke=ne+ee;te.each(G.legendItems,function(gt,it){var Vt=W(T,ne)+ne/2+Y.measureText(gt.text).width;$e+Ke>De.height&&(Ne+=Be+T.padding,Me.push(Be),Be=0,$e=0),Be=Math.max(Be,Vt),$e+=Ke,ve[it]={left:0,top:0,width:Vt,height:ne}}),Ne+=Be,Me.push(Be),De.width+=Ne}G.width=De.width,G.height=De.height},afterFit:I,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var G=this,X=G.options,T=X.labels,B=xe.global,Y=B.elements.line,ae=G.width,se=G.lineWidths;if(X.display){var ne,pe=G.ctx,we=te.valueOrDefault,Le=we(T.fontColor,B.defaultFontColor),ve=we(T.fontSize,B.defaultFontSize),De=we(T.fontStyle,B.defaultFontStyle),he=we(T.fontFamily,B.defaultFontFamily),be=te.fontString(ve,De,he);pe.textAlign="left",pe.textBaseline="middle",pe.lineWidth=.5,pe.strokeStyle=Le,pe.fillStyle=Le,pe.font=be;var ke=W(T,ve),ee=G.legendHitBoxes,Be=G.isHorizontal();ne=Be?{x:G.left+(ae-se[0])/2,y:G.top+T.padding,line:0}:{x:G.left+T.padding,y:G.top+T.padding,line:0};var $e=ve+T.padding;te.each(G.legendItems,function(Ke,gt){var it=pe.measureText(Ke.text).width,Vt=ke+ve/2+it,dt=ne.x,xt=ne.y;Be?dt+Vt>=ae&&(xt=ne.y+=$e,ne.line++,dt=ne.x=G.left+(ae-se[ne.line])/2):xt+$e>G.bottom&&(dt=ne.x=dt+G.columnWidths[ne.line]+T.padding,xt=ne.y=G.top+T.padding,ne.line++),function(Ke,gt,it){if(!(isNaN(ke)||ke<=0)){pe.save(),pe.fillStyle=we(it.fillStyle,B.defaultColor),pe.lineCap=we(it.lineCap,Y.borderCapStyle),pe.lineDashOffset=we(it.lineDashOffset,Y.borderDashOffset),pe.lineJoin=we(it.lineJoin,Y.borderJoinStyle),pe.lineWidth=we(it.lineWidth,Y.borderWidth),pe.strokeStyle=we(it.strokeStyle,B.defaultColor);var Vt=0===we(it.lineWidth,Y.borderWidth);if(pe.setLineDash&&pe.setLineDash(we(it.lineDash,Y.borderDash)),X.labels&&X.labels.usePointStyle){var dt=ve*Math.SQRT2/2,xt=dt/Math.SQRT2;te.canvas.drawPoint(pe,it.pointStyle,dt,Ke+xt,gt+xt)}else Vt||pe.strokeRect(Ke,gt,ke,ve),pe.fillRect(Ke,gt,ke,ve);pe.restore()}}(dt,xt,Ke),ee[gt].left=dt,ee[gt].top=xt,function(Ke,gt,it,Vt){var dt=ve/2,xt=ke+dt+Ke,Yt=gt+dt;pe.fillText(it.text,xt,Yt),it.hidden&&(pe.beginPath(),pe.lineWidth=2,pe.moveTo(xt,Yt),pe.lineTo(xt+Vt,Yt),pe.stroke())}(dt,xt,Ke,it),Be?ne.x+=Vt+T.padding:ne.y+=$e})}},handleEvent:function(G){var X=this,T=X.options,B="mouseup"===G.type?"click":G.type,Y=!1;if("mousemove"===B){if(!T.onHover)return}else if("click"!==B||!T.onClick)return;var ae=G.x,se=G.y;if(ae>=X.left&&ae<=X.right&&se>=X.top&&se<=X.bottom)for(var ne=X.legendHitBoxes,pe=0;pe<ne.length;++pe){var we=ne[pe];if(ae>=we.left&&ae<=we.left+we.width&&se>=we.top&&se<=we.top+we.height){if("click"===B){T.onClick.call(X,G.native,X.legendItems[pe]),Y=!0;break}if("mousemove"===B){T.onHover.call(X,G.native,X.legendItems[pe]),Y=!0;break}}}return Y}}),{id:"legend",beforeInit:function(G){var X=G.options.legend;X&&L(G,X)},beforeUpdate:function(G){var X=G.options.legend,T=G.legend;X?(te.mergeIf(X,xe.global.legend),T?(k.configure(G,T,X),T.options=X):L(G,X)):T&&(k.removeBox(G,T),delete G.legend)},afterEvent:function(G,X){var T=G.legend;T&&T.handleEvent(X)}}}},{25:25,26:26,45:45}],51:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(26),te=Ze(45);xe._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),St.exports=function(le){function W(I,G){var X=new le.Title({ctx:I.ctx,options:G,chart:I});L.configure(I,X,G),L.addBox(I,X),I.titleBlock=X}var L=le.layoutService,k=te.noop;return le.Title=qe.extend({initialize:function(I){te.extend(this,I),this.legendHitBoxes=[]},beforeUpdate:k,update:function(I,G,X){var T=this;return T.beforeUpdate(),T.maxWidth=I,T.maxHeight=G,T.margins=X,T.beforeSetDimensions(),T.setDimensions(),T.afterSetDimensions(),T.beforeBuildLabels(),T.buildLabels(),T.afterBuildLabels(),T.beforeFit(),T.fit(),T.afterFit(),T.afterUpdate(),T.minSize},afterUpdate:k,beforeSetDimensions:k,setDimensions:function(){var I=this;I.isHorizontal()?(I.width=I.maxWidth,I.left=0,I.right=I.width):(I.height=I.maxHeight,I.top=0,I.bottom=I.height),I.paddingLeft=0,I.paddingTop=0,I.paddingRight=0,I.paddingBottom=0,I.minSize={width:0,height:0}},afterSetDimensions:k,beforeBuildLabels:k,buildLabels:k,afterBuildLabels:k,beforeFit:k,fit:function(){var I=this,X=I.options,T=X.display,B=(0,te.valueOrDefault)(X.fontSize,xe.global.defaultFontSize),Y=I.minSize,ae=te.isArray(X.text)?X.text.length:1,se=te.options.toLineHeight(X.lineHeight,B),ne=T?ae*se+2*X.padding:0;I.isHorizontal()?(Y.width=I.maxWidth,Y.height=ne):(Y.width=ne,Y.height=I.maxHeight),I.width=Y.width,I.height=Y.height},afterFit:k,isHorizontal:function(){var I=this.options.position;return"top"===I||"bottom"===I},draw:function(){var I=this,G=I.ctx,X=te.valueOrDefault,T=I.options,B=xe.global;if(T.display){var Y,ae,se,ne=X(T.fontSize,B.defaultFontSize),pe=X(T.fontStyle,B.defaultFontStyle),we=X(T.fontFamily,B.defaultFontFamily),Le=te.fontString(ne,pe,we),ve=te.options.toLineHeight(T.lineHeight,ne),De=ve/2+T.padding,he=0,be=I.top,ke=I.left,ee=I.bottom,Me=I.right;G.fillStyle=X(T.fontColor,B.defaultFontColor),G.font=Le,I.isHorizontal()?(ae=ke+(Me-ke)/2,se=be+De,Y=Me-ke):(ae="left"===T.position?ke+De:Me-De,se=be+(ee-be)/2,Y=ee-be,he=Math.PI*("left"===T.position?-.5:.5)),G.save(),G.translate(ae,se),G.rotate(he),G.textAlign="center",G.textBaseline="middle";var Ne=T.text;if(te.isArray(Ne))for(var Be=0,$e=0;$e<Ne.length;++$e)G.fillText(Ne[$e],0,Be,Y),Be+=ve;else G.fillText(Ne,0,0,Y);G.restore()}}}),{id:"title",beforeInit:function(I){var G=I.options.title;G&&W(I,G)},beforeUpdate:function(I){var G=I.options.title,X=I.titleBlock;G?(te.mergeIf(G,xe.global.title),X?(L.configure(I,X,G),X.options=G):W(I,G)):X&&(le.layoutService.removeBox(I,X),delete I.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(Ze,St,In){"use strict";St.exports=function(xe){var qe=xe.Scale.extend({getLabels:function(){var te=this.chart.data;return this.options.labels||(this.isHorizontal()?te.xLabels:te.yLabels)||te.labels},determineDataLimits:function(){var W,te=this,le=te.getLabels();te.minIndex=0,te.maxIndex=le.length-1,void 0!==te.options.ticks.min&&(W=le.indexOf(te.options.ticks.min),te.minIndex=-1!==W?W:te.minIndex),void 0!==te.options.ticks.max&&(W=le.indexOf(te.options.ticks.max),te.maxIndex=-1!==W?W:te.maxIndex),te.min=le[te.minIndex],te.max=le[te.maxIndex]},buildTicks:function(){var te=this,le=te.getLabels();te.ticks=0===te.minIndex&&te.maxIndex===le.length-1?le:le.slice(te.minIndex,te.maxIndex+1)},getLabelForIndex:function(te,le){var W=this,L=W.chart.data,k=W.isHorizontal();return L.yLabels&&!k?W.getRightValue(L.datasets[le].data[te]):W.ticks[te-W.minIndex]},getPixelForValue:function(te,le){var W,L=this,k=L.options.offset,I=Math.max(L.maxIndex+1-L.minIndex-(k?0:1),1);if(null!=te&&(W=L.isHorizontal()?te.x:te.y),void 0!==W||void 0!==te&&isNaN(le)){var X=L.getLabels().indexOf(te=W||te);le=-1!==X?X:le}if(L.isHorizontal()){var T=L.width/I,B=T*(le-L.minIndex);return k&&(B+=T/2),L.left+Math.round(B)}var Y=L.height/I,ae=Y*(le-L.minIndex);return k&&(ae+=Y/2),L.top+Math.round(ae)},getPixelForTick:function(te){return this.getPixelForValue(this.ticks[te],te+this.minIndex,null)},getValueForPixel:function(te){var le=this,W=le.options.offset,L=Math.max(le._ticks.length-(W?0:1),1),k=le.isHorizontal(),I=(k?le.width:le.height)/L;return te-=k?le.left:le.top,W&&(te-=I/2),(te<=0?0:Math.round(te/I))+le.minIndex},getBasePixel:function(){return this.bottom}});xe.scaleService.registerScaleType("category",qe,{position:"bottom"})}},{}],53:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(45),te=Ze(34);St.exports=function(le){var W={position:"left",ticks:{callback:te.formatters.linear}},L=le.LinearScaleBase.extend({determineDataLimits:function(){function k(se){return B?se.xAxisID===I.id:se.yAxisID===I.id}var I=this,G=I.options,X=I.chart,T=X.data.datasets,B=I.isHorizontal();I.min=null,I.max=null;var Y=G.stacked;if(void 0===Y&&qe.each(T,function(se,ne){if(!Y){var pe=X.getDatasetMeta(ne);X.isDatasetVisible(ne)&&k(pe)&&void 0!==pe.stack&&(Y=!0)}}),G.stacked||Y){var ae={};qe.each(T,function(se,ne){var pe=X.getDatasetMeta(ne),we=[pe.type,void 0===G.stacked&&void 0===pe.stack?ne:"",pe.stack].join(".");void 0===ae[we]&&(ae[we]={positiveValues:[],negativeValues:[]});var Le=ae[we].positiveValues,ve=ae[we].negativeValues;X.isDatasetVisible(ne)&&k(pe)&&qe.each(se.data,function(De,he){var be=+I.getRightValue(De);isNaN(be)||pe.data[he].hidden||(Le[he]=Le[he]||0,ve[he]=ve[he]||0,G.relativePoints?Le[he]=100:be<0?ve[he]+=be:Le[he]+=be)})}),qe.each(ae,function(se){var ne=se.positiveValues.concat(se.negativeValues),pe=qe.min(ne),we=qe.max(ne);I.min=null===I.min?pe:Math.min(I.min,pe),I.max=null===I.max?we:Math.max(I.max,we)})}else qe.each(T,function(se,ne){var pe=X.getDatasetMeta(ne);X.isDatasetVisible(ne)&&k(pe)&&qe.each(se.data,function(we,Le){var ve=+I.getRightValue(we);isNaN(ve)||pe.data[Le].hidden||((null===I.min||ve<I.min)&&(I.min=ve),(null===I.max||ve>I.max)&&(I.max=ve))})});I.min=isFinite(I.min)&&!isNaN(I.min)?I.min:0,I.max=isFinite(I.max)&&!isNaN(I.max)?I.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var k,I=this,G=I.options.ticks;if(I.isHorizontal())k=Math.min(G.maxTicksLimit?G.maxTicksLimit:11,Math.ceil(I.width/50));else{var X=qe.valueOrDefault(G.fontSize,xe.global.defaultFontSize);k=Math.min(G.maxTicksLimit?G.maxTicksLimit:11,Math.ceil(I.height/(2*X)))}return k},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(k,I){return+this.getRightValue(this.chart.data.datasets[I].data[k])},getPixelForValue:function(k){var I,G=this,X=G.start,T=+G.getRightValue(k),B=G.end-X;return G.isHorizontal()?(I=G.left+G.width/B*(T-X),Math.round(I)):(I=G.bottom-G.height/B*(T-X),Math.round(I))},getValueForPixel:function(k){var I=this,G=I.isHorizontal();return I.start+(G?k-I.left:I.bottom-k)/(G?I.width:I.height)*(I.end-I.start)},getPixelForTick:function(k){return this.getPixelForValue(this.ticksAsNumbers[k])}});le.scaleService.registerScaleType("linear",L,W)}},{25:25,34:34,45:45}],54:[function(Ze,St,In){"use strict";var xe=Ze(45),qe=Ze(34);St.exports=function(te){var le=xe.noop;te.LinearScaleBase=te.Scale.extend({getRightValue:function(W){return"string"==typeof W?+W:te.Scale.prototype.getRightValue.call(this,W)},handleTickRangeOptions:function(){var W=this,L=W.options.ticks;if(L.beginAtZero){var k=xe.sign(W.min),I=xe.sign(W.max);k<0&&I<0?W.max=0:k>0&&I>0&&(W.min=0)}var G=void 0!==L.min||void 0!==L.suggestedMin,X=void 0!==L.max||void 0!==L.suggestedMax;void 0!==L.min?W.min=L.min:void 0!==L.suggestedMin&&(W.min=null===W.min?L.suggestedMin:Math.min(W.min,L.suggestedMin)),void 0!==L.max?W.max=L.max:void 0!==L.suggestedMax&&(W.max=null===W.max?L.suggestedMax:Math.max(W.max,L.suggestedMax)),G!==X&&W.min>=W.max&&(G?W.max=W.min+1:W.min=W.max-1),W.min===W.max&&(W.max++,L.beginAtZero||W.min--)},getTickLimit:le,handleDirectionalChanges:le,buildTicks:function(){var W=this,L=W.options.ticks,k=W.getTickLimit(),I={maxTicks:k=Math.max(2,k),min:L.min,max:L.max,stepSize:xe.valueOrDefault(L.fixedStepSize,L.stepSize)},G=W.ticks=qe.generators.linear(I,W);W.handleDirectionalChanges(),W.max=xe.max(G),W.min=xe.min(G),L.reverse?(G.reverse(),W.start=W.max,W.end=W.min):(W.start=W.min,W.end=W.max)},convertTicksToLabels:function(){var W=this;W.ticksAsNumbers=W.ticks.slice(),W.zeroLineIndex=W.ticks.indexOf(0),te.Scale.prototype.convertTicksToLabels.call(W)}})}},{34:34,45:45}],55:[function(Ze,St,In){"use strict";var xe=Ze(45),qe=Ze(34);St.exports=function(te){var le={position:"left",ticks:{callback:qe.formatters.logarithmic}},W=te.Scale.extend({determineDataLimits:function(){function L(ne){return Y?ne.xAxisID===k.id:ne.yAxisID===k.id}var k=this,I=k.options,G=I.ticks,X=k.chart,T=X.data.datasets,B=xe.valueOrDefault,Y=k.isHorizontal();k.min=null,k.max=null,k.minNotZero=null;var ae=I.stacked;if(void 0===ae&&xe.each(T,function(ne,pe){if(!ae){var we=X.getDatasetMeta(pe);X.isDatasetVisible(pe)&&L(we)&&void 0!==we.stack&&(ae=!0)}}),I.stacked||ae){var se={};xe.each(T,function(ne,pe){var we=X.getDatasetMeta(pe),Le=[we.type,void 0===I.stacked&&void 0===we.stack?pe:"",we.stack].join(".");X.isDatasetVisible(pe)&&L(we)&&(void 0===se[Le]&&(se[Le]=[]),xe.each(ne.data,function(ve,De){var he=se[Le],be=+k.getRightValue(ve);isNaN(be)||we.data[De].hidden||(he[De]=he[De]||0,I.relativePoints?he[De]=100:he[De]+=be)}))}),xe.each(se,function(ne){var pe=xe.min(ne),we=xe.max(ne);k.min=null===k.min?pe:Math.min(k.min,pe),k.max=null===k.max?we:Math.max(k.max,we)})}else xe.each(T,function(ne,pe){var we=X.getDatasetMeta(pe);X.isDatasetVisible(pe)&&L(we)&&xe.each(ne.data,function(Le,ve){var De=+k.getRightValue(Le);isNaN(De)||we.data[ve].hidden||((null===k.min||De<k.min)&&(k.min=De),(null===k.max||De>k.max)&&(k.max=De),0!==De&&(null===k.minNotZero||De<k.minNotZero)&&(k.minNotZero=De))})});k.min=B(G.min,k.min),k.max=B(G.max,k.max),k.min===k.max&&(0!==k.min&&null!==k.min?(k.min=Math.pow(10,Math.floor(xe.log10(k.min))-1),k.max=Math.pow(10,Math.floor(xe.log10(k.max))+1)):(k.min=1,k.max=10))},buildTicks:function(){var L=this,k=L.options.ticks,G=L.ticks=qe.generators.logarithmic({min:k.min,max:k.max},L);L.isHorizontal()||G.reverse(),L.max=xe.max(G),L.min=xe.min(G),k.reverse?(G.reverse(),L.start=L.max,L.end=L.min):(L.start=L.min,L.end=L.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),te.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(L,k){return+this.getRightValue(this.chart.data.datasets[k].data[L])},getPixelForTick:function(L){return this.getPixelForValue(this.tickValues[L])},getPixelForValue:function(L){var k,I,G,X=this,T=X.start,B=+X.getRightValue(L),Y=X.options.ticks;return X.isHorizontal()?(G=xe.log10(X.end)-xe.log10(T),I=0===B?X.left:X.left+(k=X.width)/G*(xe.log10(B)-xe.log10(T))):(k=X.height,0!==T||Y.reverse?0===X.end&&Y.reverse?(G=xe.log10(X.start)-xe.log10(X.minNotZero),I=B===X.end?X.top:B===X.minNotZero?X.top+.02*k:X.top+.02*k+.98*k/G*(xe.log10(B)-xe.log10(X.minNotZero))):0===B?I=Y.reverse?X.top:X.bottom:(G=xe.log10(X.end)-xe.log10(T),I=X.bottom-(k=X.height)/G*(xe.log10(B)-xe.log10(T))):(G=xe.log10(X.end)-xe.log10(X.minNotZero),I=B===T?X.bottom:B===X.minNotZero?X.bottom-.02*k:X.bottom-.02*k-.98*k/G*(xe.log10(B)-xe.log10(X.minNotZero)))),I},getValueForPixel:function(L){var k,I,G=this,X=xe.log10(G.end)-xe.log10(G.start);return G.isHorizontal()?(I=G.width,k=G.start*Math.pow(10,(L-G.left)*X/I)):(I=G.height,k=Math.pow(10,(G.bottom-L)*X/I)/G.start),k}});te.scaleService.registerScaleType("logarithmic",W,le)}},{34:34,45:45}],56:[function(Ze,St,In){"use strict";var xe=Ze(25),qe=Ze(45),te=Ze(34);St.exports=function(le){function W(ve){var De=ve.options;return De.angleLines.display||De.pointLabels.display?ve.chart.data.labels.length:0}function L(ve){var De=ve.options.pointLabels,he=qe.valueOrDefault(De.fontSize,pe.defaultFontSize),be=qe.valueOrDefault(De.fontStyle,pe.defaultFontStyle),ke=qe.valueOrDefault(De.fontFamily,pe.defaultFontFamily);return{size:he,style:be,family:ke,font:qe.fontString(he,be,ke)}}function k(ve,De,he){return qe.isArray(he)?{w:qe.longestText(ve,ve.font,he),h:he.length*De+1.5*(he.length-1)*De}:{w:ve.measureText(he).width,h:De}}function I(ve,De,he,be,ke){return ve===be||ve===ke?{start:De-he/2,end:De+he/2}:ve<be||ve>ke?{start:De-he-5,end:De}:{start:De,end:De+he+5}}function T(ve){return 0===ve||180===ve?"center":ve<180?"left":"right"}function B(ve,De,he,be){if(qe.isArray(De))for(var ke=he.y,ee=1.5*be,Me=0;Me<De.length;++Me)ve.fillText(De[Me],he.x,ke),ke+=ee;else ve.fillText(De,he.x,he.y)}function Y(ve,De,he){90===ve||270===ve?he.y-=De.h/2:(ve>270||ve<90)&&(he.y-=De.h)}function ne(ve){return qe.isNumber(ve)?ve:0}var pe=xe.global,we={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:te.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(ve){return ve}}},Le=le.LinearScaleBase.extend({setDimensions:function(){var ve=this,De=ve.options,he=De.ticks;ve.width=ve.maxWidth,ve.height=ve.maxHeight,ve.xCenter=Math.round(ve.width/2),ve.yCenter=Math.round(ve.height/2);var be=qe.min([ve.height,ve.width]),ke=qe.valueOrDefault(he.fontSize,pe.defaultFontSize);ve.drawingArea=De.display?be/2-(ke/2+he.backdropPaddingY):be/2},determineDataLimits:function(){var ve=this,De=ve.chart,he=Number.POSITIVE_INFINITY,be=Number.NEGATIVE_INFINITY;qe.each(De.data.datasets,function(ke,ee){if(De.isDatasetVisible(ee)){var Me=De.getDatasetMeta(ee);qe.each(ke.data,function(Ne,Be){var $e=+ve.getRightValue(Ne);isNaN($e)||Me.data[Be].hidden||(he=Math.min($e,he),be=Math.max($e,be))})}}),ve.min=he===Number.POSITIVE_INFINITY?0:he,ve.max=be===Number.NEGATIVE_INFINITY?0:be,ve.handleTickRangeOptions()},getTickLimit:function(){var ve=this.options.ticks,De=qe.valueOrDefault(ve.fontSize,pe.defaultFontSize);return Math.min(ve.maxTicksLimit?ve.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*De)))},convertTicksToLabels:function(){var ve=this;le.LinearScaleBase.prototype.convertTicksToLabels.call(ve),ve.pointLabels=ve.chart.data.labels.map(ve.options.pointLabels.callback,ve)},getLabelForIndex:function(ve,De){return+this.getRightValue(this.chart.data.datasets[De].data[ve])},fit:function(){this.options.pointLabels.display?function G(ve){var De,he,be,ke=L(ve),ee=Math.min(ve.height/2,ve.width/2),Me={r:ve.width,l:0,t:ve.height,b:0},Ne={};ve.ctx.font=ke.font,ve._pointLabelSizes=[];var Be=W(ve);for(De=0;De<Be;De++){be=ve.getPointPosition(De,ee),he=k(ve.ctx,ke.size,ve.pointLabels[De]||""),ve._pointLabelSizes[De]=he;var $e=ve.getIndexAngle(De),Ke=qe.toDegrees($e)%360,gt=I(Ke,be.x,he.w,0,180),it=I(Ke,be.y,he.h,90,270);gt.start<Me.l&&(Me.l=gt.start,Ne.l=$e),gt.end>Me.r&&(Me.r=gt.end,Ne.r=$e),it.start<Me.t&&(Me.t=it.start,Ne.t=$e),it.end>Me.b&&(Me.b=it.end,Ne.b=$e)}ve.setReductions(ee,Me,Ne)}(this):function X(ve){var De=Math.min(ve.height/2,ve.width/2);ve.drawingArea=Math.round(De),ve.setCenterPoint(0,0,0,0)}(this)},setReductions:function(ve,De,he){var ke=De.l/Math.sin(he.l),ee=Math.max(De.r-this.width,0)/Math.sin(he.r),Me=-De.t/Math.cos(he.t),Ne=-Math.max(De.b-this.height,0)/Math.cos(he.b);ke=ne(ke),ee=ne(ee),Me=ne(Me),Ne=ne(Ne),this.drawingArea=Math.min(Math.round(ve-(ke+ee)/2),Math.round(ve-(Me+Ne)/2)),this.setCenterPoint(ke,ee,Me,Ne)},setCenterPoint:function(ve,De,he,be){var ke=this,Ne=he+ke.drawingArea,Be=ke.height-be-ke.drawingArea;ke.xCenter=Math.round((ve+ke.drawingArea+(ke.width-De-ke.drawingArea))/2+ke.left),ke.yCenter=Math.round((Ne+Be)/2+ke.top)},getIndexAngle:function(ve){return ve*(2*Math.PI/W(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(ve){var De=this;if(null===ve)return 0;var he=De.drawingArea/(De.max-De.min);return De.options.ticks.reverse?(De.max-ve)*he:(ve-De.min)*he},getPointPosition:function(ve,De){var be=this.getIndexAngle(ve)-Math.PI/2;return{x:Math.round(Math.cos(be)*De)+this.xCenter,y:Math.round(Math.sin(be)*De)+this.yCenter}},getPointPositionForValue:function(ve,De){return this.getPointPosition(ve,this.getDistanceFromCenterForValue(De))},getBasePosition:function(){var De=this.min,he=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:De<0&&he<0?he:De>0&&he>0?De:0)},draw:function(){var ve=this,De=ve.options,he=De.gridLines,be=De.ticks,ke=qe.valueOrDefault;if(De.display){var ee=ve.ctx,Me=this.getIndexAngle(0),Ne=ke(be.fontSize,pe.defaultFontSize),Be=ke(be.fontStyle,pe.defaultFontStyle),$e=ke(be.fontFamily,pe.defaultFontFamily),Ke=qe.fontString(Ne,Be,$e);qe.each(ve.ticks,function(gt,it){if(it>0||be.reverse){var Vt=ve.getDistanceFromCenterForValue(ve.ticksAsNumbers[it]);if(he.display&&0!==it&&function se(ve,De,he,be){var ke=ve.ctx;if(ke.strokeStyle=qe.valueAtIndexOrDefault(De.color,be-1),ke.lineWidth=qe.valueAtIndexOrDefault(De.lineWidth,be-1),ve.options.gridLines.circular)ke.beginPath(),ke.arc(ve.xCenter,ve.yCenter,he,0,2*Math.PI),ke.closePath(),ke.stroke();else{var ee=W(ve);if(0===ee)return;ke.beginPath();var Me=ve.getPointPosition(0,he);ke.moveTo(Me.x,Me.y);for(var Ne=1;Ne<ee;Ne++)Me=ve.getPointPosition(Ne,he),ke.lineTo(Me.x,Me.y);ke.closePath(),ke.stroke()}}(ve,he,Vt,it),be.display){var dt=ke(be.fontColor,pe.defaultFontColor);if(ee.font=Ke,ee.save(),ee.translate(ve.xCenter,ve.yCenter),ee.rotate(Me),be.showLabelBackdrop){var xt=ee.measureText(gt).width;ee.fillStyle=be.backdropColor,ee.fillRect(-xt/2-be.backdropPaddingX,-Vt-Ne/2-be.backdropPaddingY,xt+2*be.backdropPaddingX,Ne+2*be.backdropPaddingY)}ee.textAlign="center",ee.textBaseline="middle",ee.fillStyle=dt,ee.fillText(gt,0,-Vt),ee.restore()}}}),(De.angleLines.display||De.pointLabels.display)&&function ae(ve){var De=ve.ctx,he=qe.valueOrDefault,be=ve.options,ke=be.angleLines,ee=be.pointLabels;De.lineWidth=ke.lineWidth,De.strokeStyle=ke.color;var Me=ve.getDistanceFromCenterForValue(be.ticks.reverse?ve.min:ve.max),Ne=L(ve);De.textBaseline="top";for(var Be=W(ve)-1;Be>=0;Be--){if(ke.display){var $e=ve.getPointPosition(Be,Me);De.beginPath(),De.moveTo(ve.xCenter,ve.yCenter),De.lineTo($e.x,$e.y),De.stroke(),De.closePath()}if(ee.display){var Ke=ve.getPointPosition(Be,Me+5),gt=he(ee.fontColor,pe.defaultFontColor);De.font=Ne.font,De.fillStyle=gt;var it=ve.getIndexAngle(Be),Vt=qe.toDegrees(it);De.textAlign=T(Vt),Y(Vt,ve._pointLabelSizes[Be],Ke),B(De,ve.pointLabels[Be]||"",Ke,Ne.size)}}}(ve)}}});le.scaleService.registerScaleType("radialLinear",Le,we)}},{25:25,34:34,45:45}],57:[function(Ze,St,In){"use strict";function xe(he,be){return he-be}function qe(he){var be,ke,ee,Me={},Ne=[];for(be=0,ke=he.length;be<ke;++be)Me[ee=he[be]]||(Me[ee]=!0,Ne.push(ee));return Ne}function W(he,be,ke,ee){var Me=function le(he,be,ke){for(var ee,Me,Ne,Be=0,$e=he.length-1;Be>=0&&Be<=$e;){if(Ne=he[ee=Be+$e>>1],!(Me=he[ee-1]||null))return{lo:null,hi:Ne};if(Ne[be]<ke)Be=ee+1;else{if(!(Me[be]>ke))return{lo:Me,hi:Ne};$e=ee-1}}return{lo:Ne,hi:null}}(he,be,ke),Ne=Me.lo?Me.hi?Me.lo:he[he.length-2]:he[0],Be=Me.lo?Me.hi?Me.hi:he[he.length-1]:he[1],$e=Be[be]-Ne[be];return Ne[ee]+(Be[ee]-Ne[ee])*($e?(ke-Ne[be])/$e:0)}function L(he,be){var ke=be.parser,ee=be.parser||be.format;return"function"==typeof ke?ke(he):"string"==typeof he&&"string"==typeof ee?se(he,ee):(he instanceof se||(he=se(he)),he.isValid()?he:"function"==typeof ee?ee(he):he)}function k(he,be){if(pe.isNullOrUndef(he))return null;var ke=be.options.time,ee=L(be.getRightValue(he),ke);return ee.isValid()?(ke.round&&ee.startOf(ke.round),ee.valueOf()):null}function T(he){for(var be=De.indexOf(he)+1,ke=De.length;be<ke;++be)if(ve[De[be]].common)return De[be]}var se=Ze(1);se="function"==typeof se?se:window.moment;var ne=Ze(25),pe=Ze(45),we=Number.MIN_SAFE_INTEGER||-9007199254740991,Le=Number.MAX_SAFE_INTEGER||9007199254740991,ve={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},De=Object.keys(ve);St.exports=function(he){var be=he.Scale.extend({initialize:function(){if(!se)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),he.Scale.prototype.initialize.call(this)},update:function(){var ee=this.options;return ee.time&&ee.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),he.Scale.prototype.update.apply(this,arguments)},getRightValue:function(ke){return ke&&void 0!==ke.t&&(ke=ke.t),he.Scale.prototype.getRightValue.call(this,ke)},determineDataLimits:function(){var ke,ee,Me,Ne,Be,$e,Ke=this,gt=Ke.chart,it=Ke.options.time,Vt=Le,dt=we,xt=[],Yt=[],pn=[];for(ke=0,Me=gt.data.labels.length;ke<Me;++ke)pn.push(k(gt.data.labels[ke],Ke));for(ke=0,Me=(gt.data.datasets||[]).length;ke<Me;++ke)if(gt.isDatasetVisible(ke))if(pe.isObject((Be=gt.data.datasets[ke].data)[0]))for(Yt[ke]=[],ee=0,Ne=Be.length;ee<Ne;++ee)$e=k(Be[ee],Ke),xt.push($e),Yt[ke][ee]=$e;else xt.push.apply(xt,pn),Yt[ke]=pn.slice(0);else Yt[ke]=[];pn.length&&(pn=qe(pn).sort(xe),Vt=Math.min(Vt,pn[0]),dt=Math.max(dt,pn[pn.length-1])),xt.length&&(xt=qe(xt).sort(xe),Vt=Math.min(Vt,xt[0]),dt=Math.max(dt,xt[xt.length-1])),Vt=k(it.min,Ke)||Vt,dt=k(it.max,Ke)||dt,Vt=Vt===Le?+se().startOf("day"):Vt,dt=dt===we?+se().endOf("day")+1:dt,Ke.min=Math.min(Vt,dt),Ke.max=Math.max(Vt+1,dt),Ke._horizontal=Ke.isHorizontal(),Ke._table=[],Ke._timestamps={data:xt,datasets:Yt,labels:pn}},buildTicks:function(){var ke,ee,Me,Ne=this,Be=Ne.min,$e=Ne.max,Ke=Ne.options,gt=Ke.time,it=[],Vt=[];switch(Ke.ticks.source){case"data":it=Ne._timestamps.data;break;case"labels":it=Ne._timestamps.labels;break;default:it=function B(he,be,ke,ee){var Me,Ne=ee.time,Be=Ne.unit||function G(he,be,ke,ee){var Me,Ne,$e=De.length;for(Me=De.indexOf(he);Me<$e-1;++Me)if((Ne=ve[De[Me]]).common&&Math.ceil((ke-be)/((Ne.steps?Ne.steps[Ne.steps.length-1]:Le)*Ne.size))<=ee)return De[Me];return De[$e-1]}(Ne.minUnit,he,be,ke),$e=T(Be),Ke=pe.valueOrDefault(Ne.stepSize,Ne.unitStepSize),gt="week"===Be&&Ne.isoWeekday,it=ee.ticks.major.enabled,Vt=ve[Be],dt=se(he),xt=se(be),Yt=[];for(Ke||(Ke=function I(he,be,ke,ee){var Me,Ne,Be,$e=be-he,Ke=ve[ke],gt=Ke.size,it=Ke.steps;if(!it)return Math.ceil($e/((ee||1)*gt));for(Me=0,Ne=it.length;Me<Ne&&(Be=it[Me],!(Math.ceil($e/(gt*Be))<=ee));++Me);return Be}(he,be,Be,ke)),gt&&(dt=dt.isoWeekday(gt),xt=xt.isoWeekday(gt)),dt=dt.startOf(gt?"day":Be),(xt=xt.startOf(gt?"day":Be))<be&&xt.add(1,Be),Me=se(dt),it&&$e&&!gt&&!Ne.round&&(Me.startOf($e),Me.add(~~((dt-Me)/(Vt.size*Ke))*Ke,Be));Me<xt;Me.add(Ke,Be))Yt.push(+Me);return Yt.push(+Me),Yt}(Be,$e,Ne.getLabelCapacity(Be),Ke)}for("ticks"===Ke.bounds&&it.length&&(Be=it[0],$e=it[it.length-1]),Be=k(gt.min,Ne)||Be,$e=k(gt.max,Ne)||$e,ke=0,ee=it.length;ke<ee;++ke)(Me=it[ke])>=Be&&Me<=$e&&Vt.push(Me);return Ne.min=Be,Ne.max=$e,Ne._unit=gt.unit||function X(he,be,ke,ee){var Me,Ne,Be=se.duration(se(ee).diff(se(ke)));for(Me=De.length-1;Me>=De.indexOf(be);Me--)if(ve[Ne=De[Me]].common&&Be.as(Ne)>=he.length)return Ne;return De[be?De.indexOf(be):0]}(Vt,gt.minUnit,Ne.min,Ne.max),Ne._majorUnit=T(Ne._unit),Ne._table=function te(he,be,ke,ee){if("linear"===ee||!he.length)return[{time:be,pos:0},{time:ke,pos:1}];var Me,Ne,Be,$e,Ke,gt=[],it=[be];for(Me=0,Ne=he.length;Me<Ne;++Me)($e=he[Me])>be&&$e<ke&&it.push($e);for(it.push(ke),Me=0,Ne=it.length;Me<Ne;++Me)Ke=it[Me+1],$e=it[Me],void 0!==(Be=it[Me-1])&&void 0!==Ke&&Math.round((Ke+Be)/2)===$e||gt.push({time:$e,pos:Me/(Ne-1)});return gt}(Ne._timestamps.data,Be,$e,Ke.distribution),Ne._offsets=function Y(he,be,ke,ee,Me){var Be,$e=0,Ke=0;return Me.offset&&be.length&&(Me.time.min||(Be=be[0],$e=(W(he,"time",be.length>1?be[1]:ee,"pos")-W(he,"time",Be,"pos"))/2),Me.time.max||(Be=be.length>1?be[be.length-2]:ke,Ke=(W(he,"time",be[be.length-1],"pos")-W(he,"time",Be,"pos"))/2)),{left:$e,right:Ke}}(Ne._table,Vt,Be,$e,Ke),function ae(he,be){var ke,ee,Me,Ne,Be=[];for(ke=0,ee=he.length;ke<ee;++ke)Me=he[ke],Ne=!!be&&Me===+se(Me).startOf(be),Be.push({value:Me,major:Ne});return Be}(Vt,Ne._majorUnit)},getLabelForIndex:function(ke,ee){var Ne=this.chart.data,Be=this.options.time,$e=Ne.labels&&ke<Ne.labels.length?Ne.labels[ke]:"",Ke=Ne.datasets[ee].data[ke];return pe.isObject(Ke)&&($e=this.getRightValue(Ke)),Be.tooltipFormat&&($e=L($e,Be).format(Be.tooltipFormat)),$e},tickFormatFunction:function(ke,ee,Me,Ne){var $e=this.options,Ke=ke.valueOf(),gt=$e.time.displayFormats,it=gt[this._unit],Vt=this._majorUnit,dt=gt[Vt],xt=ke.clone().startOf(Vt).valueOf(),Yt=$e.ticks.major,pn=Yt.enabled&&Vt&&dt&&Ke===xt,Ct=ke.format(Ne||(pn?dt:it)),qt=pn?Yt:$e.ticks.minor,dn=pe.valueOrDefault(qt.callback,qt.userCallback);return dn?dn(Ct,ee,Me):Ct},convertTicksToLabels:function(ke){var ee,Me,Ne=[];for(ee=0,Me=ke.length;ee<Me;++ee)Ne.push(this.tickFormatFunction(se(ke[ee].value),ee,ke));return Ne},getPixelForOffset:function(ke){var ee=this,Me=ee._horizontal?ee.width:ee.height,Ne=ee._horizontal?ee.left:ee.top,Be=W(ee._table,"time",ke,"pos");return Ne+Me*(ee._offsets.left+Be)/(ee._offsets.left+1+ee._offsets.right)},getPixelForValue:function(ke,ee,Me){var Be=null;if(void 0!==ee&&void 0!==Me&&(Be=this._timestamps.datasets[Me][ee]),null===Be&&(Be=k(ke,this)),null!==Be)return this.getPixelForOffset(Be)},getPixelForTick:function(ke){var ee=this.getTicks();return ke>=0&&ke<ee.length?this.getPixelForOffset(ee[ke].value):null},getValueForPixel:function(ke){var ee=this,Me=ee._horizontal?ee.width:ee.height,$e=W(ee._table,"pos",(Me?(ke-(ee._horizontal?ee.left:ee.top))/Me:0)*(ee._offsets.left+1+ee._offsets.left)-ee._offsets.right,"time");return se($e)},getLabelWidth:function(ke){var Me=this.options.ticks,Ne=this.ctx.measureText(ke).width,Be=pe.toRadians(Me.maxRotation),$e=Math.cos(Be),Ke=Math.sin(Be);return Ne*$e+pe.valueOrDefault(Me.fontSize,ne.global.defaultFontSize)*Ke},getLabelCapacity:function(ke){var ee=this,Me=ee.options.time.displayFormats.millisecond,Ne=ee.tickFormatFunction(se(ke),0,[],Me),Be=ee.getLabelWidth(Ne),$e=ee.isHorizontal()?ee.width:ee.height;return Math.floor($e/Be)}});he.scaleService.registerScaleType("time",be,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});